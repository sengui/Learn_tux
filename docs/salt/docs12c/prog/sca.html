<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="22" />
<meta name="LOC_US_CHANGE" content="40977" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/salt11gr1/prog/fm/sca.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="05/09/11 20:14:10" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Oracle SALT SCA Programming</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Programming Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="plugin.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next_grey1.gif" border="0" alt="Next" />&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/prog.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1075273"> </a>
Oracle SALT SCA Programming
</h1>
<p class="pBody"><a name="wp1086561"> </a>
This chapter contains the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1078059"> </a><a href="sca.html#wp1078312">Overview</a></li>
<li><a name="wp1107305"> </a><a href="sca.html#wp1107531">SCA Utilities</a></li>
<li><a name="wp1076226"> </a><a href="sca.html#wp1107570">SCA Client Programming</a></li>
<li><a name="wp1075373"> </a><a href="sca.html#wp1094693">SCA Component Programming</a></li>
<li><a name="wp1108917"> </a><a href="sca.html#wp1108380">SCA Python, Ruby, and PHP Programming</a></li>
<li><a name="wp1111682"> </a><a href="sca.html#wp1111526">SCA Structure Support</a></li>
<li><a name="wp1111687"> </a><a href="sca.html#wp1114395">SCA Remote Protocol Support</a></li>
<li><a name="wp1108965"> </a><a href="sca.html#wp1109633">SCA Binding</a></li>
<li><a name="wp1110441"> </a><a href="sca.html#wp1085820">SCA Data Type Mapping</a></li>
<li><a name="wp1110712"> </a><a href="sca.html#wp1112199">SCA and Oracle Tuxedo Interoperability</a></li>
<li><a name="wp1110740"> </a><a href="sca.html#wp1110625">SCA Transactions</a></li>
<li><a name="wp1110752"> </a><a href="sca.html#wp1110638">SCA Security</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1078312"> </a>
Overview
</h2><p class="pBody"><a name="wp1089419"> </a>
One important aspect of Service Component Architecture (SCA) is the introduction of a new programming model. As part of the Oracle Tuxedo architecture, SCA allows you to better blend high-output, high-availability and scalable applications in an SOA environment.
</p>
<p class="pBody"><a name="wp1092960"> </a>
SCA components run on top of the Oracle Tuxedo infrastructure using ATMI binding. The ATMI binding implementation provides native Oracle Tuxedo communications between SCA components, as well as SCA components and Oracle Tuxedo programs (clients and servers).
</p>
<p class="pBody"><a name="wp1107529"> </a>
In addition to the programming model, the Service Component Definition Language (SCDL) describes what components can perform in terms of interactions between each other, and instructs the framework to set-up necessary links (wires).
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1107531"> </a>
SCA Utilities
</h2><p class="pBody"><a name="wp1107703"> </a>
The following utilities are used in conjunction with Oracle SALT SCA programming:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1114656"> </a><code class="cCode">buildscaclient</code>: Builds client processes that call SCA components.</li>
<li><a name="wp1114657"> </a><code class="cCode">buildscacomponent</code>: Builds SCA components.</li>
<li><a name="wp1114658"> </a><code class="cCode">buildscaserver:</code> Builds an Oracle Tuxedo server containing SCA components.</li>
<li><a name="wp1114665"> </a><code class="cCode">SCAHOST</code>: Generic server for Python, Ruby or PHP SCA components.</li>
<li><a name="wp1107532"> </a><code class="cCode">scatuxgen</code>: Generates Oracle Tuxedo Service Metadata Repository interface information from an SCA interface.</li>
<li><a name="wp1111034"> </a><code class="cCode">scastructc32,scastructc</code>: Structure description file compiler.</li>
<li><a name="wp1111047"> </a><code class="cCode">scastructdis32, scastructdis</code>: Binary structure and view files disassembler.</li>
<li><a name="wp1107446"> </a><code class="cCode">tuxscagen</code>: Generates SCA, SCDL, and server-side interface files for Oracle Tuxedo services.</li>
</ul></div>
<p class="pBody"><a name="wp1107619"> </a>
For more information, see the <span class="cHyperlink">
<a href="../ref/comref.html">Oracle SALT Command Reference</a></span>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1107570"> </a>
SCA Client Programming
</h2><p class="pBody"><a name="wp1089556"> </a>
The runtime reference binding extension is the implementation of the client-side aspect of the SCA container. It encapsulates the necessary code used to call other services, SCA components, Oracle Tuxedo servers or even Web services, transparently from an SCA-based component.
</p>
<h3 class="pHeading2"><a name="wp1092706"> </a>
SCA Client Programming Steps
</h3>
<p class="pBody"><a name="wp1089557"> </a>
Developing SCA client programs requires the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1089558"> </a><a href="sca.html#wp1076817">Setting Up the Client Directory Structure</a></li>
<li><a name="wp1089559"> </a><a href="sca.html#wp1089707">Developing the Client Application</a></li>
<li><a name="wp1089560"> </a><a href="sca.html#wp1090016">Composing the SCDL Descriptor</a></li>
<li><a name="wp1089561"> </a><a href="sca.html#wp1090122">Building the Client Application</a></li>
<li><a name="wp1092692"> </a><a href="sca.html#wp1090237">Running the Client Application</a></li>
<li><a name="wp1094280"> </a><a href="sca.html#wp1094274">Handling TPFAIL Data</a></li>
</ol></div>
<h4 class="pHeading3"><a name="wp1076817"> </a>
Setting Up the Client Directory Structure
</h4>
<p class="pBody"><a name="wp1089581"> </a>
You must define the applications physical representation. Strict SCA client applications are SCA component types. <a href="sca.html#wp1089632">Listing&#160;7-1</a>shows the directory structure used to place SCA components in an application.
</p>
<div class="pCodeTitle"><a name="wp1089632"> </a>
Listing&#160;7-1	   SCA Component Directory Structure
</div> <a name="wp1098407"> </a><div class="pPreformatted"><pre>myApplication/ (top-level directory, designated by the APPDIR environment variable)<br />&#160;&#160;&#160;&#160;root.composite (SCDL top-level composite, contains the list of components in this application)<br />&#160;&#160;&#160;&#160;myClient/ (directory containing actual client component described in this section)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;myClient.composite (SCDL for the client component)</pre></div><a name="wp1089643"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;myClient.cpp (client program source file)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TuxService.h (interface of component called by client program)</pre></div><p class="pBody"><a name="wp1089675"> </a>
<a href="sca.html#wp1089680">Listing&#160;7-2</a> shows an example of typical <code class="cCode">root.composite</code> content.
</p>
<div class="pCodeTitle"><a name="wp1089680"> </a>
Listing&#160;7-2	   root.composite Content
</div> <a name="wp1089686"> </a><div class="pPreformatted"><pre>&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;name=&quot;simple.app&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;component name=&quot;myClientComponent&quot;&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;implementation.composite name=&quot;myClient&quot;/&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/component&gt; <br />&lt;/composite&gt;</pre></div><p class="pBody"><a name="wp1089698"> </a>
The <code class="cCode">implementation.composite@name</code> parameter references the directory that contains the component named &#39;<code class="cCode">myClientComponent</code>&#39;. This value is required at runtime. For more information, see <a href="sca.html#wp1090237">Running the Client Application</a>.
</p>
<h4 class="pHeading3"><a name="wp1089707"> </a>
Developing the Client Application
</h4>
<p class="pBody"><a name="wp1089762"> </a>
Client programs are required to implement a call to a single API. This following call is required in order to set up the SCA runtime:
</p>
<p class="pBody"><a name="wp1089796"> </a>
...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CompositeContext theContext = CompositeContext::getCurrent();<br />...<br />Actual calls are based on an interface. This interface is usually developed along with the component being called. In the case of existing Oracle Tuxedo ATMI services, this interface can be generated by accessing the Oracle Tuxedo METADATA repository. For more information, see the <span class="cHyperlink">
<a href="../admin/index.html">Oracle SALT Administration Guide</a></span> and <span class="cHyperlink">
<a href="../ref/comref.html">tuxscagen</a></span>,<code class="cHyperlinkCode">
<a href="../ref/comref.html"> scatuxgen</a></code> in the Oracle SALT Reference Guide.
</p>
<p class="pBody"><a name="wp1093060"> </a>
In the case of calling external Web services, an interface matching the service WSDL must be provided. For more information, see <a href="sca.html#wp1085820">SCA Data Type Mapping</a> for the correspondence between WSDL types and C++ types. 
</p>
<p class="pBody"><a name="wp1093687"> </a>
<a href="sca.html#wp1089846">Listing&#160;7-3</a> shows an interface example.
</p>
<div class="pCodeTitle"><a name="wp1089846"> </a>
Listing&#160;7-3	   Interface Example
</div> <a name="wp1089881"> </a><div class="pPreformatted"><pre>#include &lt;string&gt; <br />/** <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;*  Tuxedo service business interface <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;*/ <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;class TuxService <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;{ <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;public: <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;virtual std::string TOUPPER(const std::string inputString) = 0;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;}; </pre></div><p class="pBody"><a name="wp1089922"> </a>
In the interface shown in <a href="sca.html#wp1089846">Listing&#160;7-3</a>, a single method <code class="cCode">TOUPPER</code> is defined. It takes a single parameter of type <code class="cCode">std::string</code>, and returns a value of type <code class="cCode">std::string</code>. This interface needs to be located in its own <code class="cCode">.h</code> file, and is referenced by the client program by including the <code class="cCode">.h</code> file.
</p>
<p class="pBody"><a name="wp1089924"> </a>
<a href="sca.html#wp1089905">Listing&#160;7-4</a> shows an example of a succession of calls required to perform an invocation.
</p>
<div class="pCodeTitle"><a name="wp1089905"> </a>
Listing&#160;7-4	   Invocation Call Example
</div> <a name="wp1089959"> </a><div class="pPreformatted"><pre>// SCA definitions<br />// These also include a Tuxedo-specific exception definition: ATMIBindingException<br />#include &quot;tuxsca.h&quot;<br />// Include interface<br />#include &quot;TuxService.h&quot;<br />...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;// A client program uses the CompositeContext class<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CompositeContext theContext = CompositeContext::getCurrent();<br />...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Locate Service<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;TuxService* toupperService = <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(TuxService *)theContext.locateService(&quot;TOUPPER&quot;); <br />...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Perform invocation<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;const std::string result = toupperService-&gt;TOUPPER(&quot;somestring&quot;); <br />...</pre></div><a name="wp1090011"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The invocation itself is equivalent to making a local call (as if the class were in another file linked in the program itself).</td></tr>
</table>

<a name="wp1093983"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>For detailed code examples, see the SCA samples located in following directories:</td>
</tr>
</table>
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1093991"> </a>UNIX samples: <code class="cCode">$TUXDIR/samples/salt/sca</code></li>
<li><a name="wp1093981"> </a>Windows samples: <code class="cCode">%TUXDIR%\samples\salt\sca</code></li>
</ul></div>
<h4 class="pHeading3"><a name="wp1090016"> </a>
Composing the SCDL Descriptor
</h4>
<p class="pBody"><a name="wp1099463"> </a>
The link between the local call and the actual component is made by defining a binding in the SCDL side-file. For example, <a href="sca.html#wp1089905">Listing&#160;7-4</a> shows a call to an existing Oracle Tuxedo ATMI service, the SCDL descriptor shown in <a href="sca.html#wp1092635">Listing&#160;7-5</a> should be used. This SCDL is contained in a file called <code class="cCode">&lt;componentname&gt;.composite</code>.
</p>
<div class="pCodeTitle"><a name="wp1092635"> </a>
Listing&#160;7-5	   SCDL Descriptor
</div> <a name="wp1090076"> </a><div class="pPreformatted"><pre>&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name=&quot;simpapp.client&quot;&gt; <br />&#160;&#160;&#160;&#160;&#160;&lt;reference name=&quot;TOUPPER&quot;&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;interface.cpp header=&quot;TuxService.h&quot;/&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;binding.atmi requires=&quot;legacy&quot;&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inputBufferType target=&quot;TOUPPER&quot;&gt;STRING&lt;/inputBufferType&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;outputBufferType target=&quot;TOUPPER&quot;&gt;STRING&lt;/outputBufferType&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/binding.atmi&gt;<br />&#160;&#160;&#160;&#160;&lt;/reference&gt;<br />&lt;/composite&gt;</pre></div><p class="pBody"><a name="wp1099480"> </a>
This composite file indicates that a client component may perform a call to the <code class="cCode">TOUPPER</code> reference, and that this call is performed using the ATMI binding. In effect, this results in a <code class="cCode">tpcall()</code> to the &quot;<code class="cCode">TOUPPER</code>&quot; Oracle Tuxedo service. This Oracle Tuxedo service may be an actual existing Oracle Tuxedo ATMI service, or another SCA component exposed using the ATMI binding. For more information, see <a href="sca.html#wp1094693">SCA Component Programming</a>.
</p>
<p class="pBody"><a name="wp1090125"> </a>
The<code class="cCode"> inputBufferType</code> and <code class="cCode">outputBufferType</code> elements are used to determine the type of Oracle Tuxedo buffer used to exchange data. For more information, see <a href="sca.html#wp1085820">SCA Data Type Mapping</a> and the<span class="cHyperlink">
<a href="../ref/sca_bindschema.html"> ATMI Binding Element Reference</a></span> for a description of all possible values that can be used in the <code class="cCode">binding.atmi</code> element.
</p>
<h4 class="pHeading3"><a name="wp1090122"> </a>
Building the Client Application 
</h4>
<p class="pBody"><a name="wp1090154"> </a>
Once all the elements are in place, the client program is built using the <a href="../ref/comref.html">buildscaclient</a> command. You must do the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1090156"> </a>Navigate to the directory containing the client source and SCDL composite files</li>
<li><a name="wp1090189"> </a>Execute the following command: </li>
<p class="pBodyRelative"><a name="wp1112238"> </a>
<code class="cCode">$ buildscaclient -c myClientComponent -s . -f myClient.cpp</code>
</p>
<p class="pBodyRelative"><a name="wp1090203"> </a>
This command verifies the SCDL code, and builds the following required elements:
</p>
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1090204"> </a>A shared library (or DLL on Windows) containing generated proxy code</li>
<li><a name="wp1090205"> </a>The client program itself</li>
</ul></div>
</ol></div>
<p class="pBody"><a name="wp1090236"> </a>
If no syntax or compilation error is found, the client program is ready to use.
</p>
<h4 class="pHeading3"><a name="wp1090237"> </a>
Running the Client Application
</h4>
<p class="pBody"><a name="wp1090287"> </a>
To execute the client program, the following environment variables are required:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1090288"> </a><code class="cCode">APPDIR</code> - designates the application directory; in the case of SCA this typically contains the top-level SCDL composite.</li>
<li><a name="wp1090289"> </a><code class="cCode">SCA_COMPONENT</code> - the default SCA component (the value &#39;<code class="cCode">myClientComponent</code>&#39; in the example shown in <a href="sca.html#wp1089680">Listing&#160;7-2</a>). It tells the SCA runtime where to start when looking for services in the <code class="cCode">locateService()</code> call.</li>
</ul></div>
<h5 class="pHeading4"><a name="wp1090252"> </a>
Invoking Existing Oracle Tuxedo Services
</h5>
<p class="pBody"><a name="wp1093398"> </a>
Access to existing Oracle Tuxedo ATMI services from an SCA client program can be simplified using the examples shown in <a href="sca.html#wp1090329">Listing&#160;7-6</a>, <a href="sca.html#wp1090369">Listing&#160;7-7</a>, and <a href="sca.html#wp1090406">Listing&#160;7-8</a>. 
</p>
<a name="wp1093438"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>These examples can also be used for server-side SCA components.</td>
</tr>
</table>

<p class="pBody"><a name="wp1093400"> </a>
Starting from a Oracle Tuxedo <code class="cCode">METADATA</code> repository entry as shown in <a href="sca.html#wp1090329">Listing&#160;7-6</a>, the<span class="cHyperlink">
 </span><a href="../ref/comref.html">tuxscagen</a> command can be used to generate interface and SCDL.
</p>
<div class="pCodeTitle"><a name="wp1090329"> </a>
Listing&#160;7-6	   SCA Components Calling an Existing Oracle Tuxedo Service
</div> <a name="wp1090330"> </a><div class="pPreformatted"><pre>service=TestString<br />tuxservice=ECHO<br />servicetype=service<br />inbuf=STRING<br />outbuf=STRING<br /><br />service=TestCarray<br />tuxservice=ECHO<br />servicetype=service<br />inbuf=CARRAY<br />outbuf=CARRAY</pre></div><div class="pCodeTitle"><a name="wp1090369"> </a>
Listing&#160;7-7	   Generated Header
</div> <p class="pBody"><a name="wp1090370"> </a>
<code class="cCode">#ifndef ECHO_h<br />#define ECHO_h<br />#include &lt;string&gt;<br />#include &lt;tuxsca.h&gt;<br />class ECHO<br />{<br />public:<br />&#160;&#160;&#160;&#160;virtual std::string TestString(const std::string arg) = 0;<br />&#160;&#160;&#160;&#160;virtual std::string TestCarray(const struct carray_t * arg) = 0; }; #endif /* ECHO_h */</code>
</p>
<div class="pCodeTitle"><a name="wp1090406"> </a>
Listing&#160;7-8	   Generated SCDL Reference
</div> <a name="wp1090407"> </a><div class="pPreformatted"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br />&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot;<br />name=&quot;ECHO&quot;&gt;<br />&#160;&#160;&lt;reference name=&quot;ECHO&quot;&gt;<br />&#160;&#160;&#160;&#160;&lt;interface.cpp header=&quot;ECHO.h&quot;/&gt;<br />&#160;&#160;&#160;&#160;&lt;binding.atmi requires=&quot;legacy&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;serviceType target=&quot;TestString&quot;&gt;RequestResponse&lt;/serviceType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;inputBufferType target=&quot;TestString&quot;&gt;STRING&lt;/inputBufferType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;outputBufferType target=&quot;TestString&quot;&gt;STRING&lt;/outputBufferType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;serviceType target=&quot;TestCarray&quot;&gt;RequestResponse&lt;/serviceType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;inputBufferType target=&quot;TestCarray&quot;&gt;CARRAY&lt;/inputBufferType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;outputBufferType target=&quot;TestCarray&quot;&gt;CARRAY&lt;/outputBufferType&gt;<br />&#160;&#160;&#160;&#160;&lt;/binding.atmi&gt;<br />&#160;&#160;&lt;/reference&gt;<br />&lt;/composite&gt;</pre></div><p class="pBody"><a name="wp1090457"> </a>
The steps used to invoke these services are identical to the examples shown in <a href="sca.html#wp1090329">Listing&#160;7-6</a> through <a href="sca.html#wp1090406">Listing&#160;7-8</a>.
</p>
<h4 class="pHeading3"><a name="wp1094274"> </a>
Handling TPFAIL Data
</h4>
<p class="pBody"><a name="wp1094291"> </a>
Invoking a non-SCA Oracle Tuxedo ATMI service may return an error, but still send back data by using <code class="cCode">tpreturn(TPFAIL, …)</code>. When this happens, an SCA client or component is interrupted by the <code class="cCode">ATMIBindingException</code> type.
</p>
<p class="pBody"><a name="wp1094328"> </a>
The data returned by the service, if present, can be obtained by using the <code class="cCode">ATMIBindingException.getData()</code>API. For more information see, <a href="sca.html#wp1112083">TPFAIL Return Data</a>.
</p>
<p class="pBody"><a name="wp1099231"> </a>
The example in <a href="sca.html#wp1094345">Listing&#160;7-9</a> corresponds to a <code class="cCode">binding.atmi </code>definition as shown in <a href="sca.html#wp1094454">Listing&#160;7-10</a>.
</p>
<div class="pCodeTitle"><a name="wp1094345"> </a>
Listing&#160;7-9	   Invocation Interruption Example
</div> <a name="wp1094771"> </a><div class="pPreformatted"><pre>...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const char* result = toupperService-&gt;charToup(&quot;someInput&quot;);<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} catch (tuscany::sca::atmi::ATMIBindingException&amp; abe) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Returns a pointer to data corresponding to<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// mapping defined in &lt;errorBufferType&gt; element<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// in SCDL<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const char* *result = (const char **)abe.getData();<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (abe.getData() == NULL) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// No data was returned<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} else {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Process data returned<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;} catch (tuscany::sca::ServiceInvocationException&amp; sie) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Other type of exception is returned<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}<br />...</pre></div><div class="pCodeTitle"><a name="wp1094454"> </a>
Listing&#160;7-10	   /binding.atmi Definition
</div> <a name="wp1096614"> </a><div class="pPreformatted"><pre>...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;binding.atmi requires=&quot;legacy&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inputBufferType target=&quot;charToup&quot;&gt;STRING&lt;/inputBufferType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;outputBufferType target=&quot;charToup&quot;&gt;STRING&lt;/outputBufferType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;errorBufferType target=&quot;charToup&quot;&gt;STRING&lt;/errorBufferType&gt;<br />&lt;binding.atmi/&gt;<br />...</pre></div><p class="pBody"><a name="wp1094609"> </a>
Other returned data types must be cast to the corresponding type. For example, an invocation returning a <code class="cCode">commonj::sdo::DataObjectPtr</code> as shown in <a href="sca.html#wp1094614">Listing&#160;7-11</a>.
</p>
<div class="pCodeTitle"><a name="wp1094614"> </a>
Listing&#160;7-11	   SCDL Invocation Example
</div> <a name="wp1094620"> </a><div class="pPreformatted"><pre>...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;errorBufferType target=&quot;myMethod&quot;&gt;FML32/myType&lt;/errorBufferType&gt;<br />...</pre></div><p class="pBody"><a name="wp1094690"> </a>
The <code class="cCode">ATMIBindingException.getData()</code> result is shown in <a href="sca.html#wp1094691">Listing&#160;7-12</a>.
</p>
<div class="pCodeTitle"><a name="wp1094691"> </a>
Listing&#160;7-12	   ATMIBindingException.getData() Results
</div> <a name="wp1094898"> </a><div class="pPreformatted"><pre>...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;catch (tuscany::sca::atmi::ATMIBindingException&amp; abe) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const commonj::sdo::DataObjectPtr *result = <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(const commonj::sdo::DataObjectPtr *)abe.getData();<br />...</pre></div><p class="pBody"><a name="wp1094828"> </a>
The rules for returning <code class="cCode">TPFAIL</code> data to the calling application are as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1094829"> </a>For each <code class="cCode">&lt;errorBufferType&gt;</code>, a canonical type is defined, where <code class="cCode">&lt;errorBufferType&gt;</code> is converted. When the <code class="cCode">&lt;errorBufferType&gt;</code> is equal to the <code class="cCode">&lt;outputBufferType&gt;</code>, the canonical type is the same C++ type that is returned in a successful service implementation.</li>
<li><a name="wp1094830"> </a>When the <code class="cCode">&lt;errorBufferType&gt;</code> is different from the <code class="cCode">&lt;outputBufferType&gt;</code>, the canonical type is as follows:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1094831"> </a>For <code class="cCode">STRING</code> buffers, a C++ <code class="cCode">char*</code> or <code class="cCode">char[ ]</code>data type.</li>
<li><a name="wp1094832"> </a>For <code class="cCode">MBSTRING</code> buffers, a C++ <code class="cCode">wchar_t*</code> or <code class="cCode">wchar_t[ ]</code>.</li>
<li><a name="wp1094833"> </a>For <code class="cCode">CARRAY</code> buffers, a C++ CARRAY_PTR.</li>
<li><a name="wp1094834"> </a>For <code class="cCode">X_OCTET</code> buffers, a C++ X_OCTET_PTR.</li>
<li><a name="wp1094835"> </a>For XML buffers, a C++ XML_PTR.</li>
<li><a name="wp1094836"> </a>For FML, FML32, VIEW, VIEW32, X_COMMON, and X_C_TYPE buffers, a C++ <code class="cCode">commonj::sdo::DataObjectPtr</code>.</li>
</ul></div>
<li><a name="wp1094837"> </a>In each case, the value returned by <code class="cCode">getData()</code> is a pointer to one of the types listed above. </li>
</ul></div>
<p class="pBody"><a name="wp1094838"> </a>
For more conversion rules between Oracle Tuxedo buffer types and C++ data information, see <a href="sca.html#wp1085820">SCA Data Type Mapping</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1094693"> </a>
SCA Component Programming
</h2><p class="pBody"><a name="wp1092104"> </a>
The SCA Component terminology designates SCA runtime artifacts that can be invoked by other SCA or non-SCA runtime components. In turn, these SCA Components can perform calls to other SCA or non-SCA components. This is different from strict SCA clients which can only make calls to other SCA or non-SCA components, but cannot be invoked.
</p>
<p class="pBody"><a name="wp1090471"> </a>
The Oracle SALT SCA container provides the capability of hosting SCA components in an Oracle Tuxedo server environment. This allows you to take full advantage of proven Oracle Tuxedo qualities: <span style="font-style: italic">reliability</span>, <span style="font-style: italic">scalability</span> and <span style="font-style: italic">performance</span>.
</p>
<p class="pBody"><a name="wp1077764"> </a>
<a href="sca.html#wp1076663">Figure&#160;7-1</a> summarizes SCA components and Oracle Tuxedo server mapping rules.
</p>
<div class="pFigureTitle"><a name="wp1076663"> </a>
Figure&#160;7-1  SCA Component and Oracle Tuxedo Server Mapping Rules
</div>

 
 <p class="pGraphic"><a name="wp1076667"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/scatuxmapping.gif" alt="SCA Component and Oracle Tuxedo Server Mapping Rules" id="wp1076665"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1076750"> </a>
While SCA components using Oracle Tuxedo references do not require special processing, SCA components offering services must still be handled in an Oracle Tuxedo environment.
</p>
<p class="pBody"><a name="wp1076751"> </a>
The mapping is as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1076752"> </a>An SCA composite declaring one or more services with a <code class="cCode">&lt;binding.atmi&gt;</code> definition maps to a single Oracle Tuxedo server advertising the same number of services as the SCA composite.</li>
<li><a name="wp1076753"> </a>There can be more than one composite.</li>
<li><a name="wp1076754"> </a>Composites can be nested.</li>
<li><a name="wp1076755"> </a>Promotion handling: </li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1077782"> </a>A composite promoting a service contained in a nested component results in the promoted service being advertised as an Oracle Tuxedo service. </li>
<li><a name="wp1078841"> </a>A service declared in a component, but not promoted, is not advertised.</li>
</ul></div>
<li><a name="wp1076756"> </a>The resulting Oracle Tuxedo server advertises as many services as there are <code class="cCode">binding.atmi</code> sections in the SCDL definition</li>
<li><a name="wp1076757"> </a>Interfaces may declare multiple methods. Each method is linked to an Oracle Tuxedo native service using the<code class="cCode"> /binding.atmi/@map</code> attribute. A method not declared via the <code class="cCode">/binding.atmi/@map </code>attribute is not accessible through Oracle Tuxedo. The use of duplicate service names are detected at server generation time, so that Oracle Tuxedo service names-to-interface method mapping in a single Oracle Tuxedo server instance is 1:1.</li>
<li><a name="wp1076758"> </a>A generated Oracle Tuxedo server acts as a proxy for SCA components. An instance of this generated server corresponds to an SCA composite as defined in the SCDL configuration. Such servers are deployed as necessary by the Oracle Tuxedo administrator.</li>
</ul></div>
<p class="pBody"><a name="wp1076759"> </a>
SCA composites are deployed in an Oracle Tuxedo application by configuring instances of generated SCA servers in the <code class="cCode">UBBCONFIG</code> file. Multiple instances are allowed. Multi-threading capabilities are also allowed and controllable using already-existing Oracle Tuxedo features.
</p>
<h3 class="pHeading2"><a name="wp1092702"> </a>
SCA Component Programming Steps
</h3>
<p class="pBody"><a name="wp1093545"> </a>
The steps required for developing SCA component programs are as follows:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1090493"> </a><a href="sca.html#wp1092235">Setting Up the Component Directory</a></li>
<li><a name="wp1090494"> </a><a href="sca.html#wp1090734">Developing the Component Implementation</a></li>
<li><a name="wp1090495"> </a><a href="sca.html#wp1091159">Composing the SCDL Descriptor</a></li>
<li><a name="wp1092233"> </a><a href="sca.html#wp1091292">Compiling and Linking the Components</a></li>
<li><a name="wp1092234"> </a><a href="sca.html#wp1091340">Building the Oracle Tuxedo Server Host</a></li>
</ol></div>
<h4 class="pHeading3"><a name="wp1092235"> </a>
Setting Up the Component Directory
</h4>
<p class="pBody"><a name="wp1090566"> </a>
You must first define the applications physical representation. <a href="sca.html#wp1090607">Listing&#160;7-13</a> shows the directory structure used to place SCA components in an application:
</p>
<div class="pCodeTitle"><a name="wp1090607"> </a>
Listing&#160;7-13	   SCA Component Directory Structure
</div> <a name="wp1098611"> </a><div class="pPreformatted"><pre>myApplication/ (top-level directory, designated by the APPDIR environment variable)<br />&#160;&#160;&#160;&#160;root.composite (SCDL top-level composite, contains the list of components in this application)<br />&#160;&#160;&#160;&#160;myComponent/ (directory containing actual component described in this section)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;myComponent.composite (SCDL for the component)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;myComponent.componentType<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;myComponentImpl.cpp (component implementation source file)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TuxService.h (interface of component being exposed)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TuxServiceImpl.h (component implementation definitions)</pre></div><p class="pBody"><a name="wp1090668"> </a>
<a href="sca.html#wp1090673">Listing&#160;7-14</a> shows typical <code class="cCode">root.composite</code> content.
</p>
<div class="pCodeTitle"><a name="wp1090673"> </a>
Listing&#160;7-14	   root.composite Content
</div> <a name="wp1090700"> </a><div class="pPreformatted"><pre>&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;name=&quot;simple.app&quot;&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;component name=&quot;myComponent&quot;&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;implementation.composite name=&quot;myComponent&quot;/&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/component&gt; <br />&lt;/composite&gt;</pre></div><p class="pBody"><a name="wp1090712"> </a>
The <code class="cCode">implementation.composite@name</code> parameter references the directory that contains the <code class="cCode">&#39;myComponent&#39;</code> component.
</p>
<h4 class="pHeading3"><a name="wp1090734"> </a>
Developing the Component Implementation
</h4>
<p class="pBody"><a name="wp1114966"> </a>
Components designed to be called by other components do not need to be aware of the SCA runtime. There are, however, limitations in terms of interface capabilities, such as:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1114967"> </a>C++ classes (other than <code class="cCode">std::string</code> and <code class="cCode">commonj::sdo::DataObjectPtr</code>) cannot be used as parameters or return values</li>
<li><a name="wp1090837"> </a>Parameter arrays are not supported</li>
<p class="pBodyRelative"><a name="wp1093562"> </a>
For more information, see <a href="sca.html#wp1085820">SCA Data Type Mapping</a>.
</p>
</ul></div>
<p class="pBody"><a name="wp1092300"> </a>
<a href="sca.html#wp1098616">Listing&#160;7-15</a> shows an example of an interface implemented for a client program.
</p>
<div class="pCodeTitle"><a name="wp1098616"> </a>
Listing&#160;7-15	   Component Implementation Interface
</div> <a name="wp1098617"> </a><div class="pPreformatted"><pre>#include &lt;string&gt; <br />/** <br />&#160;&#160;*  Tuxedo service business interface <br />&#160;&#160;*/ <br />&#160;&#160;class TuxService <br />&#160;&#160;{ <br />&#160;&#160;public: <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;virtual std::string TOUPPER(const std::string inputString) = 0;<br />&#160;&#160;}; </pre></div><p class="pBody"><a name="wp1090914"> </a>
The component implementation then generally consists of two source files (as shown <a href="sca.html#wp1101961">Listing&#160;7-16</a> and <a href="sca.html#wp1091002">Listing&#160;7-17</a> respectively):
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1090915"> </a>component implementation definitions, contained in a <code class="cCode">&lt;servicename&gt;Impl.h file</code>, and </li>
<li><a name="wp1101959"> </a>component implementation, contained in a <code class="cCode">&lt;servicename&gt;Impl.cpp file </code></li>
<div class="pCodeTitle"><a name="wp1101961"> </a>
Listing&#160;7-16	   Example (TuxServiceImpl.h):
</div> <a name="wp1101962"> </a><div class="pPreformatted"><pre>#include &quot;TuxService.h&quot; <br />&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;/** <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;* TuxServiceImpl component implementation class <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;*/ <br />&#160;&#160;&#160;&#160;&#160;&#160;class TuxServiceImpl:  public TuxService  <br />&#160;&#160;&#160;&#160;&#160;&#160;{ <br />&#160;&#160;&#160;&#160;&#160;&#160;public: <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;virtual std::string toupper(const std::string inputString); <br />&#160;&#160;&#160;&#160;&#160;&#160;}; </pre></div><div class="pCodeTitle"><a name="wp1091002"> </a>
Listing&#160;7-17	   Example (TuxServiceImpl.cpp):
</div> <a name="wp1091036"> </a><div class="pPreformatted"><pre>#include &quot;TuxServiceImpl.h&quot;  <br />&#160;#include &quot;tuxsca.h&quot; <br />&#160;<br />using namespace std; <br />using namespace osoa::sca; <br />&#160;<br />/** <br />* TuxServiceImpl component implementation <br />*/ <br />std::string TuxServiceImpl::toupper(const string inputString) <br />{ <br />&#160;&#160;&#160;&#160;string result = inputString; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;int len = inputString.size(); <br /><br />&#160;&#160;&#160;&#160;for (int i = 0; i &lt; len; i++) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;result[i] = std::toupper(inputString[i]); <br />&#160;&#160;&#160;&#160;} <br />&#160;<br />&#160;&#160;&#160;&#160;return result; <br />} </pre></div></ul></div>
<p class="pBody"><a name="wp1091092"> </a>
Additionally, a side-file (<code class="cCode">componentType)</code>, is required. It contains the necessary information for the SCA wrapper generation and possibly proxy code (if this component calls another component).
</p>
<p class="pBody"><a name="wp1091093"> </a>
This <code class="cCode">componentType</code> file (<code class="cCode">&lt;componentname&gt;Impl.componentType)</code>is an SCDL file type. <a href="sca.html#wp1091090">Listing&#160;7-18</a> shows an example of a <code class="cCode">componentType</code> file (<code class="cCode">TuxServiceImpl.componentType</code>).
</p>
<div class="pCodeTitle"><a name="wp1091090"> </a>
Listing&#160;7-18	   componentType File Example
</div> <a name="wp1091130"> </a><div class="pPreformatted"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; <br />&#160;&lt;componentType xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot; &gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;service name=&quot;TuxService&quot;&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;interface.cpp header=&quot;TuxService.h&quot;/&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/service&gt; <br />&#160;&lt;/componentType&gt; </pre></div><h4 class="pHeading3"><a name="wp1091159"> </a>
Composing the SCDL Descriptor
</h4>
<p class="pBody"><a name="wp1091191"> </a>
The link between the local implementation and the actual component is made by defining a binding in the SCDL side-file. For example, for the file type in <a href="sca.html#wp1091090">Listing&#160;7-18</a> to be exposed as an Oracle Tuxedo ATMI service, the SCDL in <a href="sca.html#wp1118664">Listing&#160;7-19</a> should be used. This SCDL is contained in a file called <code class="cCode">&lt;componentname&gt;.composite</code> (for example, <code class="cCode">myComponent.composite</code>).
</p>
<div class="pCodeTitle"><a name="wp1118664"> </a>
Listing&#160;7-19	   Example SCDL Descriptor
</div> <a name="wp1118665"> </a><div class="pPreformatted"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;     </pre></div><a name="wp1118666"> </a><div class="pPreformatted"><pre>&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot; name=&quot;myComponent&quot;&gt;  </pre></div><a name="wp1118667"> </a><div class="pPreformatted"><pre>  &lt;service name=&quot;TuxService&quot;&gt;                                        </pre></div><a name="wp1118668"> </a><div class="pPreformatted"><pre>     &lt;interface.cpp header=&quot;TuxService.h&quot;/&gt;                                                                  </pre></div><a name="wp1118669"> </a><div class="pPreformatted"><pre>        &lt;binding.atmi requires=&quot;legacy&quot;/&gt;                           </pre></div><a name="wp1118670"> </a><div class="pPreformatted"><pre>   &lt;map target=&quot;toupper&quot;&gt;TUXSVC&lt;/map&gt;   </pre></div><a name="wp1118671"> </a><div class="pPreformatted"><pre>   &lt;inputBufferType target=&quot;toupper&quot;&gt;STRING&lt;/inputBufferType&gt;</pre></div><a name="wp1118672"> </a><div class="pPreformatted"><pre>   &lt;outputBufferType target=&quot;toupper&quot;&gt;STRING&lt;/outputBufferType&gt;</pre></div><a name="wp1118673"> </a><div class="pPreformatted"><pre>          &lt;reference&gt;MYComponent&lt;/reference&gt;    </pre></div><a name="wp1118674"> </a><div class="pPreformatted"><pre>    &lt;/service&gt;   </pre></div><a name="wp1118675"> </a><div class="pPreformatted"><pre>    &lt;component name=&quot;MYComponent&quot;&gt;  </pre></div><a name="wp1118676"> </a><div class="pPreformatted"><pre>        &lt;implementation.cpp library=&quot;TuxService&quot; header=&quot;TuxServiceImpl.h&quot;/&gt; </pre></div><a name="wp1118677"> </a><div class="pPreformatted"><pre>    &lt;/component&gt;                                               </pre></div><a name="wp1100032"> </a><div class="pPreformatted"><pre>&lt;/composite&gt;</pre></div><p class="pBody"><a name="wp1091294"> </a>
This composite file indicates that the service, <code class="cCode">mySVC</code>, can be invoked via the Oracle Tuxedo infrastructure. It further indicates that the <code class="cCode">toupper()</code> method is advertised as the <code class="cCode">TUXSVC </code>service in the Oracle Tuxedo system. Once initialized, another SCA component may now call this service, as well as a non-SCA Oracle Tuxedo ATMI client.
</p>
<p class="pBody"><a name="wp1091296"> </a>
The <code class="cCode">inputBufferType</code> and <code class="cCode">outputBufferType</code> elements are used to determine the type of Oracle Tuxedo buffer used to exchange data. For more information, see <a href="sca.html#wp1085820">SCA Data Type Mapping</a> and the<span class="cHyperlink">
<a href="../ref/sca_bindschema.html"> ATMI Binding Element Reference</a></span> for a description of all possible values that can be used in the <code class="cCode">binding.atmi</code> element.
</p>
<a name="wp1118705"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The <code class="cCode">mycomponent.componentType</code> service name should be same as the composite file, otherwise an exception is thrown.</td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1091292"> </a>
Compiling and Linking the Components
</h4>
<p class="pBody"><a name="wp1091351"> </a>
Once all the elements are in place, the component is built using the <code class="cHyperlinkCode">
<a href="../ref/comref.html">buildscacomponent</a></code> command. The steps are as follows:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1093725"> </a>Navigate to the <code class="cCode">APPDIR</code> directory. The component and side files should be in its own directory one level down</li>
<li><a name="wp1093741"> </a>Execute the following command:<code class="cCode"> </code></li>
<p class="pBodyRelative"><a name="wp1112273"> </a>
<code class="cCode">$ buildscacomponent -c myComponent -s . -f TuxServiceImpl.cpp</code>
</p>
<p class="pBodyRelative"><a name="wp1093747"> </a>
This command verifies the SCDL code, and builds the following required elements:
</p>
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1093748"> </a>A shared library (or DLL on Windows) containing generated proxy code</li>
</ul></div>
</ol></div>
<h4 class="pHeading3"><a name="wp1091340"> </a>
Building the Oracle Tuxedo Server Host
</h4>
<p class="pBody"><a name="wp1091422"> </a>
In order for components to be supported in an Oracle Tuxedo environment, a host Oracle Tuxedo server must be built. This is achieved using the <code class="cHyperlinkCode">
<a href="../ref/comref.html">buildscaserver</a></code> command.
</p>
<p class="pBody"><a name="wp1091424"> </a>
For example:<code class="cCode"> $ buildscaserver -c myComponent -s . -o mySCAServer</code>
</p>
<p class="pBody"><a name="wp1091399"> </a>
When the command is executed, <code class="cCode">mySCAServer </code>is ready to be used. It automatically locates the component(s) to be deployed according to the SCDL, and performs the appropriate Oracle Tuxedo/SCA associations.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1108380"> </a>
SCA Python, Ruby, and PHP Programming
</h2><p class="pBody"><a name="wp1112283"> </a>
This section contains the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1108384"> </a><a href="sca.html#wp1108402">SCA Python, Ruby, and PHP Programming Overview</a></li>
<li><a name="wp1108388"> </a><a href="sca.html#wp1108430">Python, Ruby, and PHP Client Programming</a></li>
<li><a name="wp1108392"> </a><a href="sca.html#wp1108463">Python, Ruby, and PHP Component Programming</a></li>
<li><a name="wp1108396"> </a><a href="sca.html#wp1109115">Python, Ruby, and PHP Data Type Mapping</a></li>
<li><a name="wp1108400"> </a><a href="sca.html#wp1110208">Python, Ruby, and PHP Binding</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1108402"> </a>
SCA Python, Ruby, and PHP Programming Overview
</h3>
<p class="pBody"><a name="wp1108403"> </a>
Integration of Python, Ruby or PHP scripts in an environment such as Oracle Tuxedo via SALT, is intended for providing additional flexibility in terms of program development.
</p>
<p class="pBody"><a name="wp1108404"> </a>
Python, Ruby, and PHP are comparable object-oriented scripting languages that offer many advantages over C/C++:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1108405"> </a>No compilation</li>
<li><a name="wp1108406"> </a>Dynamic data typing</li>
<li><a name="wp1108407"> </a>Garbage collection</li>
<li><a name="wp1108408"> </a>Existing libraries of utility functions and objects</li>
</ul></div>
<p class="pBody"><a name="wp1108409"> </a>
SALT SCA Python, Ruby, and PHP support provides a set of APIs to perform SCA calls from Python, Ruby or PHP client programs, and language extensions to call Python, Ruby or PHP components. For more information, see <a href="sca.html#wp1108430">Python, Ruby, and PHP Client Programming</a> and <a href="sca.html#wp1108463">Python, Ruby, and PHP Component Programming</a>.
</p>
<p class="pBody"><a name="wp1108416"> </a>
The<code class="cCode"> buildscaclient</code>, <code class="cCode">buildscaserver</code> and <code class="cCode">buildscacomponent</code> commands do not need adapting for use with Python, Ruby or PHP programs, as they are not be required to produce executables or component libraries.
</p>
<a name="wp1120129"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>A system server, <code class="cCode">SCAHOST</code>, is provided to correctly marshal requests and responses to and from Python, Ruby or PHP scripts. It contains Python, Ruby, and PHP scripts exposed as SCA services (via the Oracle Tuxedo Metadata Repository). The definitions describe the parameters and return types of the corresponding exposed Python, Ruby or PHP functions. </td>
</tr>
</table>

<a name="wp1120356"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>For more information, see <a href="sca.html#wp1109115">Python, Ruby, and PHP Data Type Mapping</a>for Service Metadata Repository entry examples.</td>
</tr>
</table>
<p class="pBody"><a name="wp1108418"> </a>
Available bindings are used from Python, Ruby or PHP programs, or are used to invoke Python, Ruby or PHP components. Like C++, the Python, Ruby, and PHP language extension is binding-independent.
</p>
<p class="pBody"><a name="wp1112315"> </a>
<a href="sca.html#wp1112317">Figure&#160;7-2</a> provides an overview of the SALT SCA environment Python, Ruby, and PHP support architecture.
</p>
<div class="pFigureTitle"><a name="wp1112317"> </a>
Figure&#160;7-2  SALT SCA Python, Ruby, and PHP Programming Support Architecture
</div>

 
 <p class="pGraphic"><a name="wp1108428"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/python_ruby_php.png" alt="SALT SCA Python, Ruby, and PHP Programming Support Architecture" id="wp1108426" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1108430"> </a>
Python, Ruby, and PHP Client Programming
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1108434"> </a><a href="sca.html#wp1108444">SCDL Clients</a></li>
<li><a name="wp1108438"> </a><a href="sca.html#wp1108451">Python Clients</a></li>
<li><a name="wp1108442"> </a><a href="sca.html#wp1108457">Ruby Clients</a></li>
<li><a name="wp1123595"> </a><a href="sca.html#wp1122175">PHP Clients</a></li>
</ul></div>
<h4 class="pHeading3"><a name="wp1108444"> </a>
SCDL Clients
</h4>
<p class="pBody"><a name="wp1108445"> </a>
From a client component perspective, the SCDL code only has to mention the referenced component and possibly the binding used (that is, no interface element is required).
</p>
<p class="pBody"><a name="wp1108446"> </a>
For example, the following snippet allows a Python, Ruby or PHP client to make an invocation to an SCA component via ATMI binding, and using the default buffer type (STRING input, STRING output):
</p>
<a name="wp1108447"> </a><div class="pPreformatted"><pre>&lt;reference name=&quot;CalculatorComponent&quot;&gt;</pre></div><a name="wp1108448"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&lt;binding.atmi/&gt;</pre></div><a name="wp1108449"> </a><div class="pPreformatted"><pre>&lt;/reference&gt;</pre></div><h4 class="pHeading3"><a name="wp1108451"> </a>
Python Clients
</h4>
<p class="pBody"><a name="wp1108452"> </a>
To invoke an SCA component from a Python program, you must do the following:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1108453"> </a>Import the SCA library using the following command: </li>
<p class="pBodyRelative"><a name="wp1112347"> </a>
<code class="cCode">import sca</code>
</p>
<li><a name="wp1108454"> </a>Use the following API to locate the service: </li>
<p class="pBodyRelative"><a name="wp1112351"> </a>
<code class="cCode">calc = sca.locateservice(&quot;CalculatorComponent&quot;)</code>
</p>
<p class="pBodyRelative"><a name="wp1108455"> </a>
The <code class="cCode">calc</code> object is used to invoke the &#8220;add&#8221; operation (for example, <code class="cCode">result = calc.add(val1, val2)</code>).
</p>
</ol></div>
<h4 class="pHeading3"><a name="wp1108457"> </a>
Ruby Clients
</h4>
<p class="pBody"><a name="wp1108458"> </a>
To invoke an SCA component from a Ruby program, you must do the following:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1108459"> </a>Load the Ruby proxy extension: </li>
<p class="pBodyRelative"><a name="wp1112397"> </a>
<code class="cCode">require(&quot;sca_ruby&quot;)</code>
</p>
<li><a name="wp1108460"> </a>Use the following API to locate the service: </li>
<p class="pBodyRelative"><a name="wp1112401"> </a>
<code class="cCode">calculator = SCA::locateService(&quot;CalculatorComponent&quot;)</code>
</p>
<p class="pBodyRelative"><a name="wp1108461"> </a>
The calculator object is used to invoke the &#8220;add&#8221; operation (for example, <code class="cCode">x = calculator.add(3, 2)</code>).
</p>
</ol></div>
<h4 class="pHeading3"><a name="wp1122175"> </a>
PHP Clients
</h4>
<p class="pBody"><a name="wp1122172"> </a>
To invoke an SCA component from a PHP program, you must do the following:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1122260"> </a>users will have to first load the SCA library as follows:</li>
<p class="pBodyRelative"><a name="wp1122190"> </a>
<code class="cCode">&lt;?php</code>
</p>
<p class="pBodyRelative"><a name="wp1122191"> </a>
<code class="cCode">dl(&#39;sca.so&#39;);</code>
</p>
<li><a name="wp1122188"> </a>Use the following API to locate the service:</li>
<p class="pBodyRelative"><a name="wp1122244"> </a>
<code class="cCode">$svc = Sca::locateService(&quot;uBikeService&quot;);</code>
</p>
<p class="pBodyRelative"><a name="wp1122252"> </a>
At this point the svc object can be used to invoke the searchBike operation, for instance:
</p>
<p class="pBodyRelative"><a name="wp1122294"> </a>
<code class="cCode">$ret = $svc-&gt;searchBike(&#39;YELLOW&#39;)</code>;
</p>
</ol></div>
<h3 class="pHeading2"><a name="wp1108463"> </a>
Python, Ruby, and PHP Component Programming
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1108467"> </a><a href="sca.html#wp1108477">SCDL Components</a></li>
<li><a name="wp1108471"> </a><a href="sca.html#wp1108507">Python Components</a></li>
<li><a name="wp1108475"> </a><a href="sca.html#wp1108528">Ruby Components</a></li>
<li><a name="wp1122378"> </a><a href="sca.html#wp1122332">PHP Components</a></li>
</ul></div>
<h4 class="pHeading3"><a name="wp1108477"> </a>
SCDL Components
</h4>
<p class="pBody"><a name="wp1108478"> </a>
In order to use Python, Ruby or PHP scripts in SCA as components, you must use the <code class="cCode">implementation.python</code>, <code class="cCode">implementation.ruby</code> and <code class="cCode">implementation.php </code>parameters.
</p>
<a name="wp1108479"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">implementation.python</code> <code class="cCode">implementation.ruby</code> and <code class="cCode">implementation.php </code>usage is similar to the <code class="cCode">implementation.cpp</code> element (see <a href="sca.html#wp1118664">Listing&#160;7-19</a> and <a href="sca.html#wp1109652">Listing&#160;7-31</a>); the difference is that the <code class="cCode">interface.python</code> and <code class="cCode">interface.ruby</code> elements, or <code class="cCode">.componentType</code> are not required.</td>
</tr>
</table>

<p class="pBody"><a name="wp1108486"> </a>
Their syntax and attributes are as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1108487"> </a><code class="cCode">implementation.python</code></li>
<p class="pBodyRelative"><a name="wp1108488"> </a>
<code class="cCode">&lt;implementation.python <br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCode">module=&quot;string&quot; <br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCode">scope=&quot;scope&quot;? &gt;<br />&lt;implementation.python/&gt;</code>
</p>
<p class="pBodyRelative"><a name="wp1108489"> </a>
The <code class="cCode">implementation.python</code> element has the following attributes:
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1108490"> </a>module: string (1..1) </li>
<p class="pBodyRelative"><a name="wp1112412"> </a>
Name of the Python module (<code class="cCode">.py</code> file) containing the operation(s) that this component offers in the form of module-level function(s).
</p>
<li><a name="wp1108491"> </a>scope: PythonImplementationScope(0..1) </li>
<p class="pBodyRelative"><a name="wp1112418"> </a>
Identifies the scope of the component implementation. The default is stateless, indicating that there is no correlation between implementation instances used to dispatch service requests. A composite value indicates that all service requests are dispatched to the same implementation instance for the lifetime of the containing composite.
</p>
</ul></div>
<li><a name="wp1108492"> </a><code class="cCode">implementation.ruby</code></li>
<p class="pBodyRelative"><a name="wp1108493"> </a>
<code class="cCode">&lt;implementation.ruby<br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCode">script=&quot;string&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCode">class=&quot;string&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCode">scope=&quot;scope&quot;? &gt;<br />&lt;implementation.ruby/&gt;</code>
</p>
<p class="pBodyRelative"><a name="wp1108494"> </a>
The implementation.ruby element has the following attributes:
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1108495"> </a>script: string(1..1) </li>
<p class="pBodyRelative"><a name="wp1112435"> </a>
Name of the Ruby script (<code class="cCode">.rb</code> file) containing the operation(s) that the component offers in the form of methods of a class contained in the script file. The name of the script is its full name (that is, it also includes the <code class="cCode">.rb</code> extension).
</p>
<li><a name="wp1120476"> </a>class: string(1..1) </li>
<p class="pBodyRelative"><a name="wp1120474"> </a>
Name of the Ruby class (<code class="cCode">.rb</code> file) containing the operation(s) that the component offers.
</p>
<li><a name="wp1108496"> </a>scope: RubyImplementationScope(0..1)</li>
<p class="pBodyRelative"><a name="wp1112452"> </a>
Identifies the scope of the component implementation. The default is stateless, indicating that there is no correlation between implementation instances used to dispatch service requests. A composite value indicates that all service requests are dispatched to the same implementation instance for the lifetime of the containing composite.
</p>
</ul></div>
<li><a name="wp1122405"> </a><code class="cCode">implementation.php</code></li>
<p class="pBodyRelative"><a name="wp1122409"> </a>
<code class="cCode">&lt;implementation.php <br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCode">script=&quot;string&quot; <br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCode">class=&quot;string&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCode">scope=&quot;scope&quot;? &gt;<br />&lt;implementation.php/&gt;</code>
</p>
<p class="pBodyRelative"><a name="wp1122475"> </a>
The implementation.php element has the following attributes:
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1122476"> </a>script: string(1..1) </li>
<p class="pBodyRelative"><a name="wp1122541"> </a>
Name of the PHP script (<code class="cCode">.php</code> file) containing the operation(s) that this component will offer, in the form of methods of a class contained in the script file. The name of the script is its full name, i.e. it also includes the <code class="cCode">.php</code> extension.
</p>
<li><a name="wp1122477"> </a>class: string(1..1) </li>
<p class="pBodyRelative"><a name="wp1122554"> </a>
Name of the PHP class (<code class="cCode">.php</code> file) containing the operation(s) that this component will offer.
</p>
<li><a name="wp1122478"> </a>scope: PHPImplementationScope(0..1) </li>
<p class="pBodyRelative"><a name="wp1122563"> </a>
Identifies the scope of the component implementation. The default is stateless, indicating that there is no correlation between implementation instances used to dispatch service requests. A value of composite indicates that all service requests are dispatched to the same implementation instance for the lifetime of the containing composite.
</p>
</ul></div>
</ul></div>
<p class="pBody"><a name="wp1108500"> </a>
<a href="sca.html#wp1108503">Listing&#160;7-20</a> shows an example of a Python component in an SCA composite accessible using the ATMI binding. In this example, runtime looks for a Python component located in a file named <code class="cCode">ToupperService.py</code> in the same location as the composite file. 
</p>
<p class="pBody"><a name="wp1108501"> </a>
Similarly, a Ruby component is required in a file named <code class="cCode">ToupperService.rb</code>, in the same location as the composite file.
</p>
<div class="pCodeTitle"><a name="wp1108503"> </a>
Listing&#160;7-20	   Python Component in an SCA Composite
</div> <a name="wp1108504"> </a><div class="pPreformatted"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br /><br />&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name=&quot;simpapp.server&quot;&gt;<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;service name=&quot;SCASVC&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;binding.atmi/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;reference&gt;ToupperServiceComponent&lt;/reference&gt;<br />&lt;/service&gt;<br /><br />&lt;component name=&quot;ToupperServiceComponent&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;implementation.python module=&quot;ToupperService&quot; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;scope=&quot;composite&quot;/&gt;<br />&lt;/component&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&lt;/composite&gt;</pre></div><p class="pBody"><a name="wp1122572"> </a>
<a href="sca.html#wp1122584">Listing&#160;7-21</a> shows an example of a PHPcomponent in an SCA composite accessible using the ATMI binding
</p>
<div class="pCodeTitle"><a name="wp1122584"> </a>
Listing&#160;7-21	   PHP Component in an SCA Composite
</div> <a name="wp1122632"> </a><div class="pPreformatted"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</pre></div><a name="wp1122634"> </a><div class="pPreformatted"><pre>&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot; </pre></div><a name="wp1122635"> </a><div class="pPreformatted"><pre>		name=&quot;simpapp.PHP&quot;&gt;</pre></div><a name="wp1122637"> </a><div class="pPreformatted"><pre>	&lt;service name=&quot;TESTPHP&quot;&gt;</pre></div><a name="wp1122638"> </a><div class="pPreformatted"><pre>	  &lt;!-- No interface, it is contained in TMMETADATA --&gt;</pre></div><a name="wp1122639"> </a><div class="pPreformatted"><pre>	  &lt;binding.atmi&gt;</pre></div><a name="wp1122640"> </a><div class="pPreformatted"><pre>	    &lt;map target=&quot;charToup&quot;&gt;TOUPPHP&lt;/map&gt;</pre></div><a name="wp1122641"> </a><div class="pPreformatted"><pre>	    &lt;inputBufferType target=&quot;charToup&quot;&gt;STRING&lt;/inputBufferType&gt;</pre></div><a name="wp1122642"> </a><div class="pPreformatted"><pre>	    &lt;outputBufferType target=&quot;charToup&quot;&gt;STRING&lt;/outputBufferType&gt;</pre></div><a name="wp1122643"> </a><div class="pPreformatted"><pre>	  &lt;/binding.atmi&gt;</pre></div><a name="wp1122644"> </a><div class="pPreformatted"><pre>	  &lt;reference&gt;ToupperServiceComponent&lt;/reference&gt;</pre></div><a name="wp1122645"> </a><div class="pPreformatted"><pre>&lt;/service&gt;</pre></div><a name="wp1122647"> </a><div class="pPreformatted"><pre>&lt;component name=&quot;ToupperServiceComponent&quot;&gt;</pre></div><a name="wp1122648"> </a><div class="pPreformatted"><pre>	&lt;implementation.php script=&quot;toupper.php&quot; </pre></div><a name="wp1122649"> </a><div class="pPreformatted"><pre>					class=&quot;Toupper&quot;/&gt;</pre></div><a name="wp1122650"> </a><div class="pPreformatted"><pre>					scope=&quot;composite&quot;/&gt;</pre></div><a name="wp1122651"> </a><div class="pPreformatted"><pre>&lt;/component&gt;</pre></div><a name="wp1122652"> </a><div class="pPreformatted"><pre>       	</pre></div><a name="wp1122653"> </a><div class="pPreformatted"><pre>&lt;/composite&gt;</pre></div><h4 class="pHeading3"><a name="wp1108507"> </a>
Python Components
</h4>
<p class="pBody"><a name="wp1108508"> </a>
Python operations are exposed as module-level functions contained in a Python module file. For example, a <code class="cCode">ToupperService.py</code> file would contain the code shown in <a href="sca.html#wp1108513">Listing&#160;7-22</a>.
</p>
<div class="pCodeTitle"><a name="wp1108513"> </a>
Listing&#160;7-22	   Python Module File
</div> <a name="wp1108514"> </a><div class="pPreformatted"><pre>def charToup(val1):<br />&#160;&#160;&#160;&#160;print &quot;input: &quot; + val1<br />&#160;&#160;&#160;&#160;result = &quot;result&quot;<br />&#160;&#160;&#160;&#160;print &quot;Python - toupper&quot;<br />&#160;&#160;&#160;&#160;return result</pre></div><p class="pBody"><a name="wp1108520"> </a>
Parameter and return values types are dynamically determined at runtime. Application exceptions are caught by the extension runtime and re-thrown as <code class="cCode">tuscany::sca::ServiceInvocationException</code>.
</p>
<p class="pBody"><a name="wp1108521"> </a>
During input, unsupported types or an error processing an input DataObject results in the following exception: <br />a <code class="cCode">tuscany::sca::ServiceDataException</code>.
</p>
<p class="pBody"><a name="wp1108522"> </a>
During output, simple return types are always processed. An error generating a DataObject (from XML data) results in the following exception:<br /><code class="cCode">tuscany::sca::ServiceDataException</code>.
</p>
<p class="pBody"><a name="wp1108526"> </a>
For more information, see <a href="sca.html#wp1109115">Python, Ruby, and PHP Data Type Mapping</a>.
</p>
<h4 class="pHeading3"><a name="wp1108528"> </a>
Ruby Components
</h4>
<p class="pBody"><a name="wp1108529"> </a>
Ruby operations are exposed as methods of an implementation class contained in a Ruby script file (<code class="cCode">.rb</code> extension). For example, a <code class="cCode">ToupperService.rb</code> file would contain the code shown in <a href="sca.html#wp1108534">Listing&#160;7-23</a>.
</p>
<div class="pCodeTitle"><a name="wp1108534"> </a>
Listing&#160;7-23	   Ruby Script File
</div> <a name="wp1108535"> </a><div class="pPreformatted"><pre>class ToupperService<br /><br />&#160;&#160;def initialize()<br />&#160;&#160;&#160;&#160;print &quot;Ruby - ToupperService.initialize\n&quot;<br />&#160;&#160;end<br />	<br />&#160;&#160;def charToup(arg1)<br />&#160;&#160;&#160;&#160;print &quot;Ruby - ToupperService.div\n&quot;<br />&#160;&#160;&#160;&#160;arg1.ToUpper()<br />&#160;&#160;end<br /><br />end</pre></div><p class="pBody"><a name="wp1108548"> </a>
Parameter and return values types are dynamically determined at runtime. Application exceptions are caught by the extension runtime and re-thrown as <code class="cCode">tuscany::sca::ServiceInvocationException</code>.
</p>
<p class="pBody"><a name="wp1108549"> </a>
During input, unsupported types or an error processing an input DataObject results in the following exception: <br />a <code class="cCode">tuscany::sca::ServiceDataException</code>.
</p>
<p class="pBody"><a name="wp1108550"> </a>
During output, simple return types are always processed. An error generating a DataObject (from XML data) results in the following exception:<code class="cCode"> tuscany::sca::ServiceDataException</code>.
</p>
<p class="pBody"><a name="wp1109631"> </a>
For more information, see <a href="sca.html#wp1109115">Python, Ruby, and PHP Data Type Mapping</a>.
</p>
<h4 class="pHeading3"><a name="wp1122332"> </a>
PHP Components
</h4>
<p class="pBody"><a name="wp1122355"> </a>
PHP operations are exposed as functions contained in a PHP class. For example, a <code class="cCode">toupper.php</code> file would contain the code shown in <a href="sca.html#wp1122740">Listing&#160;7-24</a>
</p>
<div class="pCodeTitle"><a name="wp1122740"> </a>
Listing&#160;7-24	   PHP Class
</div> <a name="wp1122788"> </a><div class="pPreformatted"><pre>&lt;?php </pre></div><a name="wp1122789"> </a><div class="pPreformatted"><pre>class MyClass { </pre></div><a name="wp1122790"> </a><div class="pPreformatted"><pre>    public static function toupper(val) {</pre></div><a name="wp1122791"> </a><div class="pPreformatted"><pre>    print &quot;PHP - toupper&quot;;</pre></div><a name="wp1122792"> </a><div class="pPreformatted"><pre>    return val.toupper();</pre></div><a name="wp1122793"> </a><div class="pPreformatted"><pre>  }</pre></div><a name="wp1122794"> </a><div class="pPreformatted"><pre>}</pre></div><a name="wp1122795"> </a><div class="pPreformatted"><pre>?&gt;</pre></div><p class="pBody"><a name="wp1122878"> </a>
Parameter and return values types are dynamically determined at runtime. Application exceptions are caught by the extension runtime and re-thrown as <code class="cCode">tuscany::sca::ServiceInvocationException</code>.
</p>
<p class="pBody"><a name="wp1122879"> </a>
During input, unsupported types or an error processing an input DataObject results in the following exception: <br />a <code class="cCode">tuscany::sca::ServiceDataException</code>.
</p>
<p class="pBody"><a name="wp1122880"> </a>
During output, simple return types are always processed. An error generating a DataObject (from XML data) results in the following exception:<code class="cCode"> tuscany::sca::ServiceDataException</code>.
</p>
<p class="pBody"><a name="wp1122866"> </a>
For more information, see <a href="sca.html#wp1109115">Python, Ruby, and PHP Data Type Mapping</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1111526"> </a>
SCA Structure Support
</h2><p class="pBody"><a name="wp1112493"> </a>
This section contains the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1111893"> </a><a href="sca.html#wp1117880">SCA Structure Support Overview</a></li>
<li><a name="wp1111901"> </a><a href="sca.html#wp1111545">Using SCA Structure Description Files</a></li>
<li><a name="wp1116177"> </a><a href="sca.html#wp1114295">Using tuxscagen to Generate Structures</a></li>
</ul></div>
<a name="wp1117875"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This section applies to application defined structures only. For information on Oracle SALT SCA defined structures, see <a href="sca.html#wp1085820">SCA Data Type Mapping</a>.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1117880"> </a>
SCA Structure Support Overview
</h3>
<p class="pBody"><a name="wp1111528"> </a>
SCA Structure support provides:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1119931"> </a>Additional C++ structure functionality</li>
<li><a name="wp1119932"> </a>Improved performance for applications processing data that can be placed in a structure without significant wasted space</li>
</ul></div>
<p class="pBody"><a name="wp1111530"> </a>
You must use the <code class="cCode">struct</code> data type specified in the SCA method parameter definition or in the definition of a return value from an SCA method as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1111531"> </a><code style="font-style: normal" class="cCode">struct </code><span style="font-style: italic">structurename *</span></li>
<li><a name="wp1111532"> </a><code style="font-style: normal" class="cCode">struct </code><span style="font-style: italic">structurename &amp;</span></li>
</ul></div>
<p class="pBody"><a name="wp1111533"> </a>
Elements within the structure can be any of the following simple data types/arrays that are supported as an SCA parameter:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1111534"> </a><code class="cCode">bool</code></li>
<li><a name="wp1111535"> </a><code class="cCode">char, unsigned char, signed char</code></li>
<li><a name="wp1111536"> </a><code class="cCode">wchar_t</code></li>
<li><a name="wp1111537"> </a><code class="cCode">short, unsigned short</code></li>
<li><a name="wp1111538"> </a><code class="cCode">int, unsigned int</code></li>
<li><a name="wp1111539"> </a><code class="cCode">long, unsigned long</code></li>
<li><a name="wp1111540"> </a><code class="cCode">long long, unsigned long long</code></li>
<li><a name="wp1111541"> </a><code class="cCode">float</code></li>
<li><a name="wp1111542"> </a><code class="cCode">double</code></li>
<li><a name="wp1111543"> </a><code class="cCode">long double</code></li>
<li><a name="wp1111544"> </a><code style="font-style: normal" class="cCode">struct </code><span style="font-style: italic">nestedstructurename</span></li>
<li><a name="wp1119052"> </a>typedef</li>
<a name="wp1119064"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The <code class="cCode">scagen</code> utility parses <code class="cCode">typedef</code> and <code class="cCode">struct</code> keywords. For more information, see the <span class="cHyperlink">
<a href="../ref/index.html">Oracle SALT Command Reference Guide</a></span>.</td>
</tr>
</table>

</ul></div>
<h5 class="pHeading4"><a name="wp1118755"> </a>
SCA Structure Limitations
</h5>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1118783"> </a>The following cannot be specified as part of a structure&#8221;</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1118759"> </a><code class="cCode">DataObjectPtr</code></li>
<li><a name="wp1118775"> </a>Point data types</li>
<li><a name="wp1118818"> </a><code class="cCode">std::string</code> or a <code class="cCode">std::wstring</code></li>
<li><a name="wp1118829"> </a>A union</li>
<li><a name="wp1118830"> </a><code class="cCode">struct carray_t</code>, <code class="cCode">struct_x_octet_t</code>, or <code class="cCode">struct xml_t</code></li>
</ul></div>
<li><a name="wp1118953"> </a>CARRAY data is supported in the same way that it is supported for views</li>
<li><a name="wp1119003"> </a><code class="cCode">.h</code> and <code class="cCode">.cpp</code> files referencing the use of structures are required to include a definition for the structure being used and for any nested structures contained within that structure.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1111545"> </a>
Using SCA Structure Description Files
</h3>
<p class="pBody"><a name="wp1111546"> </a>
A structure description file may be used to describe the format of an SCA structure parameter. Structure description files are very similar to Oracle Tuxedo viewfiles, with additional capabilities added for SCA.
</p>
<a name="wp1111547"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The use of structure description files is optional, and is needed only when FML field names corresponding to structure elements are different from the names of the structure elements, or when some other non-default structure related feature is required.   If an application wants to make use of an Associated Length Member, an Associated Count Member, or an application-specified default value for a structure element, it may choose to make use of a structure description file.</td>
</tr>
</table>

<p class="pBody"><a name="wp1111548"> </a>
If no structure description file is provided for a particular structure, then the structure definition used in application code is used, and FML field names in SCA-ATMI mode are the same as structure element names. Since field numbers are generated automatically for SCA-SCA applications, these applications do not need to specify a structure description file.
</p>
<p class="pBody"><a name="wp1116265"> </a>
The structure description file format is identical to the Oracle Tuxedo viewfile format, with the following exceptions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1116266"> </a>The type parameter in column 1 allows the additional values <code class="cCode">bool</code>, <code class="cCode">unsignedchar</code>, <code class="cCode">signedchar</code>, <code class="cCode">wchar_t</code>, <code class="cCode">unsignedint</code>, <code class="cCode">unsignedlong</code>, <code class="cCode">longlong</code>, <code class="cCode">unsignedlonglong</code>, <code class="cCode">longdouble</code>, and <code class="cCode">struct</code>.</li>
<li><a name="wp1111552"> </a>If the value in column1 is <code class="cCode">struct</code>, then the <code class="cCode">cname</code> value in column 2 is the name of a previously defined VIEW that describes a nested structure. In this case, the count value in column 4 may optionally be specified to specify the number of occurrences of the nested structure.</li>
</ul></div>
<p class="pBody"><a name="wp1111553"> </a>
If a structure described in a structure description file is converted to (or from) an FML32 or FML buffer at runtime in an SCA-ATMI application, then the name of the corresponding FML field is the <code class="cCode">fbname</code> value specified in column 3, if any, and is the <code class="cCode">cname</code> value specified in column 2 (if no value is specified in column 3). When compiled, the structure description file produces a binary structure description file as shown in <a href="sca.html#wp1120854">Listing&#160;7-25</a>. The binary structure header file is shown in shown in <a href="sca.html#wp1111558">Listing&#160;7-26</a>.
</p>
<a name="wp1112601"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>In an SCA-SCA application, FML32 field numbers are generated automatically.</td>
</tr>
</table>

<div class="pCodeTitle"><a name="wp1120854"> </a>
Listing&#160;7-25	   SCA Structure Description File
</div> <a name="wp1120855"> </a><div class="pPreformatted"><pre>VIEW empname<br />#TYPE&#160;&#160;&#160;&#160;&#160;&#160;&#160;CNAME&#160;&#160;&#160;&#160;&#160;FBNAME&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;COUNT&#160;&#160;&#160;&#160;&#160;&#160;FLAG&#160;&#160;&#160;&#160;&#160;&#160;SIZE&#160;&#160;&#160;&#160;&#160;&#160;NULL<br />string&#160;&#160;&#160;&#160;&#160;&#160;fname&#160;&#160;&#160;&#160;&#160;EMP_FNAME&#160;&#160;&#160;&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;25&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-<br />char&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;minit&#160;&#160;&#160;&#160; EMP_MINI 			 &#160;&#160;&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-<br />string&#160;&#160;&#160;&#160;&#160;&#160;lname&#160;&#160;&#160;&#160;&#160;EMP LNAME&#160;&#160;&#160;&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;25&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-<br />END<br /><br />VIEW emp<br />struct&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;empname&#160;&#160;&#160;&#160;&#160;&#160;ename&#160;&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-<br />unsignedlong&#160;&#160;&#160;id&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;EMP_ID&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-<br />long&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ssn&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;EMP_SSN&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-<br />double&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;salaryhist&#160;&#160;&#160;EMP_SAL&#160;&#160;&#160;10&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-<br />END</pre></div><div class="pCodeTitle"><a name="wp1111558"> </a>
Listing&#160;7-26	   Binary Structure Header File
</div> <a name="wp1111559"> </a><div class="pPreformatted"><pre>struct empname {<br />&#160;&#160;char fname[25];<br />&#160;&#160;char minit;<br />&#160;&#160;char lname[25];<br />};<br /><br />struct emp {<br />&#160;&#160;struct empname ename;<br />&#160;&#160;unsigned long id;<br />&#160;&#160;long ssn;<br />&#160;&#160;double salaryhist[10];<br />}</pre></div><p class="pBody"><a name="wp1111572"> </a>
The <code class="cCode">scastructc32</code> and <code class="cCode">scastructc</code> commands are used to convert a source structure description file into a binary structure description file and to generate a header file describing the structure(s) in the structure description file. The <code class="cCode">scastructdis32 </code>and <code class="cCode">scastructdis</code> commands accept the same arguments as <code class="cCode">viewdis32</code> and <code class="cCode">viewdis</code>. For more information, see the <span class="cHyperlink">
<a href="../ref/comref/comref.html">Oracle SALT Command Reference</a></span>.
</p>
<a name="wp1111573"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td><code class="cCode">scastructc32</code> and <code class="cCode">scastructc</code> generate a binary file with suffix .V on Unix and suffix .VV on Windows.</td></tr>
</table>

<a name="wp1111574"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>If the structure description file contains no SCA extensions that are not available in Oracle Tuxedo views, then the magic value for the binary structure description file shall be the same as the magic value used by viewc32. If any SCA specific extensions are used, then a different magic value shall be used for the binary structure description file.</td>
</tr>
</table>
<h3 class="pHeading2"><a name="wp1114295"> </a>
Using tuxscagen to Generate Structures
</h3>
<p class="pBody"><a name="wp1114296"> </a>
When invoked with the option <code class="cCode">-S</code>,<code class="cHyperlinkCode">
<a href="../ref/comref.html"> tuxscagen</a></code> generates a structure for any function parameter or return value that would otherwise have been passed using <code class="cCode">DataObjectPtr</code>.
</p>
<a name="wp1115137"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If <code class="cCode">tuxscagen -S</code> is run, then simple data types are generated just as they would have been if <code class="cCode">tuxscagen</code> were run without the <code class="cCode">-S</code> option. It is possible to mix simple data types, structures, and other complex data types within a single metadata repository. In order to use simple data types in an application that also uses structures, it is not necessary to run tuxscagen without<code class="cCode"> -S</code>.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1114395"> </a>
SCA Remote Protocol Support
</h2><p class="pBody"><a name="wp1111582"> </a>
SCA Oracle Tuxedo invocation supports the following remote protocols:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1111586"> </a><a href="sca.html#wp1111592">/WS</a></li>
<li><a name="wp1111590"> </a><a href="sca.html#wp1111601">/Domains</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1111592"> </a>
/WS
</h3>
<p class="pBody"><a name="wp1111593"> </a>
SCA invocations made using the SCA container have the capability of being performed using the       Oracle Tuxedo WorkStation protocol (/WS). This is accomplished by specifying the value <code class="cCode">WorkStation</code> (not abbreviated so as not to confuse it with <code class="cCode">WebServices</code>) in the <code class="cCode">&lt;remoteAccess&gt;</code> element of the <code class="cCode">&lt;binding.atmi&gt;</code> element.
</p>
<p class="pBody"><a name="wp1111594"> </a>
Only reference-type invocations are be available in this mode. Service-type invocations may be performed using the /WS transparently (there is no difference in behavior or configuration, and setting the <code class="cCode">&lt;remoteAccess&gt;</code> element to <code class="cCode">WorkStation</code> for an SCA service has no effect).
</p>
<p class="pBody"><a name="wp1111595"> </a>
Since native and <code class="cCode">WorkStation</code> libraries cannot be mixed within the same process, client processes must be built differently depending on the type of remote access chosen.
</p>
<a name="wp1111596"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>When using the value <code class="cCode">propagatesTransaction</code> in <code class="cCode">/binding.atmi/@requires</code>, the behavior of the ATMI binding does not actually perform any transaction propagation. It actually starts a transaction, since the use of this protocol is reserved for client-side access to Oracle Tuxedo (SCA or non-SCA) applications only. For more information, see <a href="sca.html#wp1109920">ATMI Binding</a>.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1111601"> </a>
/Domains
</h3>
<p class="pBody"><a name="wp1111602"> </a>
SCA invocations made using the SCA container have the capability of being performed using the Oracle Tuxedo /Domains protocol. No additional configurations are necessary on <code class="cCode">&lt;binding.atmi&gt;</code> declarations in SCDL files.
</p>
<a name="wp1111603"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>/Domains interoperability configuration is controlled by the Oracle Tuxedo administrator. </td>
</tr>
</table>

<a name="wp1111604"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The SCA service name configured for Oracle Tuxedo /Domains is as follows:</td>
</tr>
</table>
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1111605"> </a>SCA -&gt; SCA mode - <code class="cCode">/binding.atmi/service/@name</code> attribute followed by a &#39;<code class="cCode">/</code>&#39; and method name</li>
<li><a name="wp1111606"> </a>Legacy mode (SCA -&gt; Tux interop mode) - <code class="cCode">/binding.atmi/service/@name</code> attribute.</li>
</ul></div>
<a name="wp1111610"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>For more information, see <a href="sca.html#wp1112199"><span class="cHyperlink">
SCA and Oracle Tuxedo Interoperability</span></a>.</td>
</tr>
</table>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1109633"> </a>
SCA Binding
</h2><p class="pBody"><a name="wp1110369"> </a>
Oracle SALT supports
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110339"> </a><a href="sca.html#wp1109920">ATMI Binding</a></li>
<li><a name="wp1110356"> </a><a href="sca.html#wp1110216">Java ATMI (JATMI) Binding</a></li>
<li><a name="wp1110360"> </a><a href="sca.html#wp1110208">Python, Ruby, and PHP Binding</a></li>
<li><a name="wp1110364"> </a><a href="sca.html#wp1110013">Web Services Binding</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1109920"> </a>
ATMI Binding
</h3>
<p class="pBody"><a name="wp1109921"> </a>
Oracle Tuxedo communications are configured in SCDL using a <code class="cCode">&lt;binding.atmi&gt;</code> element. This allows you to specify configuration elements specific to the ATMI transport, such as the location of the TUXCONFIG file, the native Oracle Tuxedo buffer types used, Oracle Tuxedo-specific authentication or /WS (WorkStation) configuration elements, etc.
</p>
<p class="pBody"><a name="wp1109925"> </a>
<a href="sca.html#wp1109931">Listing&#160;7-27</a> shows a summary of the <code class="cCode">&lt;binding.atmi&gt;</code> element. 
</p>
<a name="wp1109926"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">?</code> refers to a parameter that can be specified 0 or 1 times.</td>
</tr>
</table>

<a name="wp1109927"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td><code class="cCode">*</code> refers to a parameter that can be specified 0 or more times.</td>
</tr>
</table>
<p class="pBody"><a name="wp1109929"> </a>
For more information, see<span class="cHyperlink">
<a href="../ref/sca_bindschema.html"> Appendix F: Oracle SALT SCA ATMI Binding Reference</a></span> in the <span style="font-style: italic">Oracle SALT Reference Guide</span>.
</p>
<div class="pCodeTitle"><a name="wp1109931"> </a>
Listing&#160;7-27	   ATMI Binding Pseudoschema
</div> <a name="wp1109932"> </a><div class="pPreformatted"><pre>&lt;binding.atmi requires=&quot;transactionalintent legacyintent&quot;?&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;tuxconfig&gt;...&lt;/tuxconfig&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;map target=&quot;name&quot;&gt;...&lt;/map&gt;*<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;serviceType target=&quot;name&quot;&gt;...&lt;/serviceType&gt;*<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inputBufferType target=&quot;name&quot;&gt;...&lt;/inputBufferType&gt;*<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;outputBufferType target=&quot;name&quot;&gt;...&lt;/outputBufferType&gt;*<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;errorBufferType target=&quot;name&quot;&gt;...&lt;/errorBufferType&gt;*<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;workStationParameters&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;networkAddress&gt;...&lt;/networkAddress&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;secPrincipalName&gt;...&lt;/secPrincipalName&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;secPrincipalLocation&gt;...&lt;/secPrincipalLocation&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;secPrincipalPassId&gt;...&lt;/secPrincipalPassId&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;encryptBits&gt;...&lt;/encryptBits&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/workStationParameters&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;authentication&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;userName&gt;...&lt;/userName&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;clientName&gt;...&lt;/clientName&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;groupName&gt;...&lt;/groupName&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;passwordIdentifier&gt;...&lt;/passwordIdentifier&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;userPasswordIdentifier&gt;...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/userPasswordIdentifier&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/authentication&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;fieldTablesLocation&gt;...&lt;/fieldTablesLocation&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;fieldTables&gt;...&lt;/fieldTables&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;fieldTablesLocation32&gt;...&lt;/fieldTablesLocation32&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;fieldTables32&gt;...&lt;/fieldTables32&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;viewFilesLocation&gt;...&lt;/viewFilesLocation&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;viewFiles&gt;...&lt;/viewFiles&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;viewFilesLocation32&gt;...&lt;/viewFilesLocation32&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;viewFiles32&gt;...&lt;/viewFiles32&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;remoteAccess&gt;...&lt;/remoteAccess&gt;?<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;transaction timeout=&quot;xsd:long&quot;/&gt;?<br />&lt;/binding.atmi&gt;</pre></div><h3 class="pHeading2"><a name="wp1110216"> </a>
Java ATMI (JATMI) Binding
</h3>
<p class="pBody"><a name="wp1110217"> </a>
Java ATMI (JATMI) binding allows SCA clients written in Java to call Oracle Tuxedo services or SCA components. It provides one-way invocation of Oracle Tuxedo services based on the Oracle Tuxedo WorkStation protocol (/WS). The invocation is for outbound communication only from a Java environment to Oracle Tuxedo application acting as a server. Apart from a composite file for SCDL binding declarations, no external configuration is necessary. The service name, workstation address and authentication data are provided in the binding declaration.
</p>
<a name="wp1110218"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>SSL is supported through the <span class="cHyperlink">
<a href="../../../jca/docs11gr1/index.html">Oracle 11gR1 JCA Adapter</a></span>. LLE is not currently supported.</td>
</tr>
</table>

<p class="pBody"><a name="wp1110220"> </a>
Most of the Oracle Tuxedo CPP ATMI binding elements support JATMI binding and have the same usage. However, due to different underlying technology and running environment differences, some elements are not supported and some that are supported but have different element names.
</p>
<p class="pBody"><a name="wp1110221"> </a>
The following Oracle Tuxedo CPP ATMI binding elements are not supported:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110222"> </a><code class="cCode">binding.atmi/tuxconfig</code></li>
<li><a name="wp1110223"> </a><code class="cCode">binding.atmi/fieldTablesLocation</code></li>
<li><a name="wp1110224"> </a><code class="cCode">binding.atmi/fieldTablesLocation32</code></li>
<li><a name="wp1110225"> </a><code class="cCode">binding.atmi/viewFilesLocation</code></li>
<li><a name="wp1110226"> </a><code class="cCode">binding.atmi/viewFilesLocation32</code></li>
<li><a name="wp1110227"> </a><code class="cCode">binding.atmi/transaction</code></li>
</ul></div>
<p class="pBody"><a name="wp1110228"> </a>
The following Oracle Tuxedo CPP ATMI binding <code class="cCode">workStationParameters</code> elements are not supported:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110229"> </a><code class="cCode">binding.atmi/workStationParameters/secPrincipalName</code></li>
<li><a name="wp1110230"> </a><code class="cCode">binding.atmi/workStationParameters/secPrincipalLocation</code></li>
<li><a name="wp1110231"> </a><code class="cCode">binding.atmi/workStationParameters/secPrincipalPassId</code></li>
<li><a name="wp1110232"> </a><code class="cCode">binding.atmi/workStationParameters/encryptBits</code></li>
</ul></div>
<p class="pBody"><a name="wp1110233"> </a>
The following Oracle Tuxedo CPP ATMI binding element is supported in a limited fashion.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110234"> </a><code class="cCode">binding.atmi/remoteAccess</code></li>
<a name="wp1110235"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Only the value &quot;<code class="cCode">WorkStation</code>&quot; is allowed. If not specified, &quot;<code class="cCode">WorkStation</code>&quot; is assumed.</td>
</tr>
</table>

</ul></div>
<p class="pBody"><a name="wp1110236"> </a>
All the classes in the elements mentioned below must be specified in Java CLASSPATH:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110237"> </a><code class="cCode">binding.atmi/fieldTables</code> - Specifies a comma-separated list of Java classes that are extended from the <code class="cCode">weblogic.wtc.jatmi.TypedFML</code> base class.</li>
<li><a name="wp1110238"> </a><code class="cCode">binding.atmi/fieldTables32</code> - Specifies a comma-separated list of Java classes that are extended from the <code class="cCode">weblogic.wtc.jatmi.TypedFML32</code> base class.</li>
<li><a name="wp1110239"> </a><code class="cCode">binding.atmi/viewFiles</code> - Specifies a comma-separated list of Java classes that are extended from the <code class="cCode">weblogic.wtc.jatmi.TypedView</code> base class.  These derived classes usually are generated from an Oracle Tuxedo VIEW file using the <code class="cCode">weblogic.wtc.jatmi.viewj</code> compiler.  These also includes derived from <code class="cCode">weblogic.wtc.jatmi.TypedXCType</code> and <code class="cCode">weblogic.wtc.jatmi.TypedXCommon</code>.</li>
<p class="pBodyRelative"><a name="wp1110241"> </a>
 For more information, see <span class="cHyperlink">
<a href="http://download.oracle.com/docs/cd/E12840_01/wls/docs103/wtc_atmi/Views.html#wp1113817">How to Use the viewj Compiler</a></span> in the Oracle Tuxedo WebLogic Tuxedo Connector Programmer&#39;s Guide.
</p>
<li><a name="wp1110242"> </a><code class="cCode">binding.atmi/viewFiles32</code> - Specifies a comma-separated list of Java classes that are extended from the <code class="cCode">webogic.wtc.jatmi.TypedView32</code> base class.  These derived classes usually are aslo generated from an Oracle Tuxedo VIEW file using the <code class="cCode">weblogic.wtc.jatmi.viewj32</code> compiler.</li>
</ul></div>
<p class="pBody"><a name="wp1110246"> </a>
<a href="sca.html#wp1110248">Listing&#160;7-28</a> shows an example of composite file for binding declaration of an Oracle Tuxedo service named &quot;<code class="cCode">ECHO</code>&#8220;.
</p>
<div class="pCodeTitle"><a name="wp1110248"> </a>
Listing&#160;7-28	   ECHO Composite File
</div> <a name="wp1110249"> </a><div class="pPreformatted"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br />&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot; xmlns:f=&quot;binding-atmi.xsd&quot;<br />name=&quot;ECHO&quot;&gt;<br />&#160;&#160;&#160;&#160;&lt;reference name=&quot;ECHO&quot; promote=&quot;EchoComponent/ECHO&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;interface.java interface=&quot;com.abc.sca.jclient.Echo&quot; /&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;f:binding.atmi requires=&quot;legacy&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;f:inputBufferType target=&quot;echoStr&quot;&gt;STRING&lt;/f:inputBufferType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;f:outputBufferType target=&quot;echoStr&quot;&gt;STRING&lt;/f:outputBufferType&gt;</pre></div><a name="wp1110250"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;f:errorBufferType target=&quot;echoStr&quot;&gt;STRING&lt;/f:errorBufferType&gt;</pre></div><a name="wp1110251"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;f:workStationParameters&gt;<br /><br />&lt;f:networkAddress&gt;//STRIATUM:9999,//STRIATUM:1881&lt;/f:networkAddr<br />ess&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/f:workStationParameters&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;f:remoteAccess&gt;WorkStation&lt;/f:remoteAccess&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/f:binding.atmi&gt;<br />&#160;&#160;&#160;&#160;&lt;/reference&gt;<br />&#160;&#160;&#160;&#160;&lt;component name=&quot;EchoComponent&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;implementation.java class=&quot;com.abc.sca.jclient.EchoComponentImpl&quot; /&gt;<br />&#160;&#160;&#160;&#160;&lt;/component&gt;<br />&lt;/component&gt;</pre></div><p class="pBody"><a name="wp1110259"> </a>
<a href="sca.html#wp1110261">Listing&#160;7-29</a> shows the interface for the example mentioned in <a href="sca.html#wp1110248">Listing&#160;7-28</a>.
</p>
<div class="pCodeTitle"><a name="wp1110261"> </a>
Listing&#160;7-29	   ECHO Interface
</div> <a name="wp1110262"> </a><div class="pPreformatted"><pre>package com.abc.sca.jclient;<br /><br />import com.oracle.jatmi.AtmiBindingException;<br /><br />public interface Echo {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String echoStr(String requestString) throws AtmiBindingException;</pre></div><a name="wp1110263"> </a><div class="pPreformatted"><pre>}</pre></div><p class="pBody"><a name="wp1110268"> </a>
<a href="sca.html#wp1110270">Listing&#160;7-30</a> shows an example of an SCA client implementation.
</p>
<div class="pCodeTitle"><a name="wp1110270"> </a>
Listing&#160;7-30	   SCA Client Implementation
</div> <a name="wp1110271"> </a><div class="pPreformatted"><pre>package com.abc.sca.jclient;<br /><br />import org.osoa.sca.annotations.Constructor;<br />import org.osoa.sca.annotations.Reference;<br />import com.oracle.jatmi.AtmiBindingException;<br /><br />/**<br />* A simple client component that uses a reference with a JATMI binding.<br />*/<br />public class EchoComponentImpl implements Echo {<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;private Echo echoReference;<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@Constructor<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;public EchoComponentImpl(@Reference(name = &quot;ECHO&quot;, required = true) Echo<br />&#160;echoReference) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;this.echoReference = echoReference;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;}<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;public String echoStr(String requestString) throws AtmiBindingException {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return echoReference.echoStr(requestString);<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}<br />}</pre></div><h3 class="pHeading2"><a name="wp1110208"> </a>
Python, Ruby, and PHP Binding
</h3>
<p class="pBody"><a name="wp1110017"> </a>
The Python, Ruby, and PHP language extensions are binding-independent, meaning that binding extensions are not aware of the language of clients or components. Language extensions are not aware of the binding used.
</p>
<p class="pBody"><a name="wp1110018"> </a>
Binding extensions are not modified to comply with Python, Ruby, and PHP program support. Note the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110020"> </a>If the data types defined in Python, Ruby or PHP binding do not match the Python, Ruby or PHP source files, then Oracle SALT will throw an exception.</li>
<li><a name="wp1110021"> </a>If a binding is configured with a data type that does not match what the Python, Ruby or PHP component is designed to handle, an exception is thrown by the Python, Ruby or PHP runtime (for example, <code class="cCode">binding.atmi</code> configured with STRING Oracle Tuxedo buffers and a Python function handling numerical data).</li>
<li><a name="wp1110022"> </a>For a Python, Ruby or PHP client code mismatch with what binding is configured with, an exception occurs originating from the binding code.</li>
<li><a name="wp1117942"> </a>Since Python, Ruby, and PHP code is not compiled, any configuration mismatch between binding and component/client can only be detected at runtime.</li>
<li><a name="wp1117943"> </a>Python, Ruby or PHP programs with a <span style="font-style: italic">composite</span> scope require an Oracle Tuxedo server reload when the script is modified. A <span style="font-style: italic">stateless</span> scope allows dynamic reloading of modified scripts.</li>
<li><a name="wp1115233"> </a>In order to expose Python, Ruby or PHP scripts as Web services, the <code class="cCode">SCAHOST</code> command must use the <code class="cCode">-w</code> option in order to load the correct service binding during initialization.</li>
<a name="wp1114118"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">SCAHOST</code> does not allow mixing both ATMI and Web services binding types in one <code class="cCode">SCAHOST</code> instance. </td>
</tr>
</table>

<p class="pBodyRelative"><a name="wp1114127"> </a>
For more information, see the<span class="cHyperlink">
<a href="../ref/comref.html"> Oracle SALT Command Reference</a></span>.
</p>
<li><a name="wp1115188"> </a><code class="cHyperlinkCode">
TMMETADATA</code> server is required in order to expose Python, Ruby, and PHP components.</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1115191"> </a>
Python, Ruby, and PHP Binding Limitations
</h4>
<p class="pBody"><a name="wp1115192"> </a>
Using Python, Ruby, and PHP bindings have the following limitations:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1115193"> </a>When using the ATMI binding for interoperability calls (that is, when <code class="cCode">requires=&quot;legacy&quot;</code> is set), mixing named and non-named parameters is not allowed (for example, Python: <code class="cCode">def func(a, *b, **c)</code>, Ruby: <code class="cCode">def func(a, *b, hash)</code>), since there is no mechanism to restore the parameter names.</li>
<p class="pBodyRelative"><a name="wp1110029"> </a>
The names of the parameters must be configured in FML32 tables (ATMI binding), or by way of WSDL (Web services binding). It is not possible to interoperate with lists of non-named parameters because such calls cannot be accurately mapped to C++ or WSDL interfaces due to the lack of guaranteed ordering of <code class="cCode">FML/FML32</code> Oracle Tuxedo buffers.
</p>
<p class="pBodyRelative"><a name="wp1110030"> </a>
The supported modes are:
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1110031"> </a>Multiple parameters:<code class="cCode"> def func(a, b, c) </code>(same syntax for Python, Ruby, and PHP)</li>
<li><a name="wp1112949"> </a>Multiple parameters and list of parameters: <code class="cCode">def func(a, *b)</code> (same syntax for Python and Ruby)</li>
<li><a name="wp1123798"> </a>Named parameters: PHP - <code class="cCode">$svc-&gt;searchBike(array(&#39;COLOR&#39; =&gt; &#39;RED&#39;, &#39;TYPE&#39; =&gt; &#39;MTB&#39;))</code>. For more information, see <a href="sca.html#wp1122907">PHP Data Type Mapping</a>.</li>
<li><a name="wp1112950"> </a>Dictionary or hash: Python: <code class="cCode">def func(**a)</code>, Ruby: <code class="cCode">def func(hash)</code></li>
<a name="wp1115250"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Python parameters defined with <code class="cCode">**</code> are considered named parameters. Ruby parameters defined with <code class="cCode">hash</code> are considered named parameters. For more information, see <a href="sca.html#wp1109230">Python Parameters</a> and <a href="sca.html#wp1109350">Ruby Parameters</a>.</td>
</tr>
</table>

</ul></div>
<li><a name="wp1112951"> </a>In SCA to SCA mode, the above limitation still concerns named parameters since the order of elements in a Python dictionary or Ruby hash is not guaranteed. To transmit a Python dictionary or Ruby hash, you must work in &quot;legacy&quot; mode.</li>
<li><a name="wp1110035"> </a>In SCA to SCA mode, using lists of parameters (excluding dictionaries or hashes) are supported since Oracle Tuxedo Service Metadata interfaces describe service-side lists of parameters/types (on the reference side parameters/types are self-described at runtime).</li>
<li><a name="wp1110036"> </a>Unicode strings are not supported; accordingly <code class="cCode">MBSTRING</code> buffers or <code class="cCode">FLD_MBSTRING</code> fields are not supported.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1110013"> </a>
Web Services Binding
</h3>
<p class="pBody"><a name="wp1109634"> </a>
The Web services binding (<code class="cCode">binding.ws</code>) leverages previously existing Oracle SALT capabilities by funneling Web service traffic through the GWWS gateway. SCA components are hosted in Oracle Tuxedo servers, and communications to and from those servers are performed using the GWWS gateway.
</p>
<p class="pBody"><a name="wp1109635"> </a>
SCA clients using a Web services binding remain unchanged whether the server is running in an Oracle Tuxedo environment or a native Tuscany environment (for example, exposing the component     using the Axis2 Web services binding).
</p>
<a name="wp1109636"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>HTTPS is not currently supported.</td>
</tr>
</table>

<p class="pBody"><a name="wp1109637"> </a>
When SCA components are exposed using the Web services binding (<code class="cCode">binding.ws</code>), tooling     performs the generation of WSDF information, metadata entries and FML32 field definitions.
</p>
<p class="pBody"><a name="wp1109638"> </a>
When SCDL code of SCA components to be hosted in an Oracle Tuxedo domain (for example, service elements) contains &lt;<code class="cCode">binding.ws</code>&gt; elements, the <code class="cCode">buildscaserver</code> command generates an WSDF entry in a file named <code class="cCode">service.wsdf</code> where &#39;<code class="cCode">service</code>&#39; is the name of the service exposed. An accompanying <code class="cCode">service.mif</code> and service<code class="cCode">.fml32</code> field table files are also generated, based on the contents of the WSDL interface associated with the Web service. You must compose a WSDL interface. If no WSDL interface is found, an error message is generated.
</p>
<p class="pBody"><a name="wp1109639"> </a>
Web services accessed from an Oracle Tuxedo domain using a Web services binding (for example, reference elements found in SCDL) require the following manual configuration steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1109640"> </a>Convert the WSDL file into a WSDF entry by using the <code class="cCode">wsdlcvt</code> tool. Simultaneously, a Service Metadata Entry file (<code class="cCode">.mif</code>), and fml32 mapping file are generated.</li>
<li><a name="wp1109641"> </a>Make sure that the UBB source has the <code class="cCode">TMMETADATA</code> and GWWS servers configured</li>
<li><a name="wp1109642"> </a>Import the WSDF file into the <code class="cCode">SALTDEPLOY</code> file</li>
<li><a name="wp1109643"> </a>Convert the <code class="cCode">SALTDEPLOY</code> file into binary using <code class="cCode">wsloadcf</code>.</li>
<li><a name="wp1109644"> </a>Load the Service Metadata Entry file (<code class="cCode">.mif</code>) into the Service Metadata Repository using the        <code class="cHyperlinkCode">
<a href="../../../tuxedo/docs11gr1/rfcm/index.html">tmloadrepos</a></code> command.</li>
<li><a name="wp1109645"> </a>Boot (or re-boot) the GWWS process to initiate the new deployment.</li>
</ol></div>
<p class="pBody"><a name="wp1109646"> </a>
The Web services binding reference extension initiates the Web services call.
</p>
<p class="pBody"><a name="wp1109650"> </a>
<a href="sca.html#wp1109652">Listing&#160;7-31</a> shows an SCA component service exposed as a Web service.
</p>
<div class="pCodeTitle"><a name="wp1109652"> </a>
Listing&#160;7-31	   Example SCA Component Service Exposed as a Web Service
</div> <a name="wp1109653"> </a><div class="pPreformatted"><pre>&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;name=&quot;bigbank.account&quot;&gt;<br />...<br />&#160;&#160;&#160;&lt;service name=&quot;AccountService&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;interface.wsdl interface=&quot;http://www.bigbank.com/AccountService<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;#wsdl.interface(AccountService)&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;binding.ws/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;reference&gt;AccountServiceComponent&lt;/reference&gt;<br />&#160;&#160;&#160;&lt;/service&gt;<br /><br />&#160;&#160;&#160;&lt;component name=&quot;AccountServiceComponent&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;implementation.cpp <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;library=&quot;Account&quot; header=&quot;AccountServiceImpl.h&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;reference name=&quot;accountDataService&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;AccountDataServiceComponent<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/reference&gt;<br />&#160;&#160;&#160;&lt;/component&gt;  <br />...<br />&lt;/composite&gt;</pre></div><p class="pBody"><a name="wp1109655"> </a>
The steps required to expose the corresponding service are as follows:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1109656"> </a>Compose a WSDL interface matching the component interface.</li>
<li><a name="wp1109657"> </a>Use <code class="cCode">buildscacomponent</code> to build the application component runtime, similar to building a regular SCA component.</li>
<li><a name="wp1109658"> </a><code class="cCode">buildscaserver -w</code> is used to convert SCDL code into a WSDF entry, and produce a deployable server (Oracle Tuxedo server + library + SCDL). </li>
<p class="pBodyRelative"><a name="wp1109662"> </a>
The service from the above SCDL creates a WSDF entry as shown in <a href="sca.html#wp1109664">Listing&#160;7-32</a>.
</p>
<div class="pCodeTitle"><a name="wp1109664"> </a>
Listing&#160;7-32	   WSDF Entry
</div> <a name="wp1109665"> </a><div class="pPreformatted"><pre>&lt;Definition&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;WSBinding id=&quot;AccountService_binding&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ServiceGroup id=&quot;AccountService&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;Service name=&quot;TuxAccountService&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/ServiceGroup&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/WSBinding&gt;<br />&lt;/Definition&gt;</pre></div><li><a name="wp1109667"> </a><code class="cCode">buildscaserver -w</code> also constructs a Service Metadata Repository entry based by parsing the SCDL and interface. The interface needs to be in WSDL form, and manually-composed in this release.</li>
<li><a name="wp1109668"> </a>Make sure that the UBB source has the <code class="cCode">TMMETADATA</code> and GWWS servers configured.</li>
<li><a name="wp1109669"> </a>The Service Metadata Repository entry is loaded into the Service Metadata Repository using the <code class="cCode"><a href="../../../tuxedo/docs11gr1/rfcm/index.html"></a></code><code class="cHyperlinkCode">
tmloadrepos</code> command.</li>
<li><a name="wp1109670"> </a>The WSDF file must be imported into the <code class="cCode">SALTDEPLOY</code> file and <code class="cCode">SALTDEPLOY</code> converted into binary using <code class="cCode">wsloadcf</code>.</li>
<li><a name="wp1109671"> </a>The Service Metadata Entry file (<code class="cCode">.mif</code>) is loaded into the Service Metadata Repository.</li>
<li><a name="wp1109672"> </a>The Oracle Tuxedo server hosting the Web service is booted and made available.</li>
<li><a name="wp1109673"> </a>The GWWS is rebooted to take into account the new deployment.</li>
</ol></div>
<p class="pBody"><a name="wp1109674"> </a>
These steps are required, in addition to the <code class="cCode">SALTDEPLOY</code> configuration, in order to set up the GWWS gateway for Web services processing (for example, configuration of <code class="cCode">GWInstance</code>, Server Level Properties, etc.). When completed, Web service clients (SCA or other) have access to the Web service.
</p>
<p class="pBody"><a name="wp1109678"> </a>
<a href="sca.html#wp1109680">Listing&#160;7-33</a> shows a reference accessing a Web service.
</p>
<div class="pCodeTitle"><a name="wp1109680"> </a>
Listing&#160;7-33	   Example Reference Accessing a Web Service
</div> <a name="wp1109681"> </a><div class="pPreformatted"><pre>&lt;composite xmlns=&quot;http://www.osoa.org/xmlns/sca/1.0&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;name=&quot;bigbank.account&quot;&gt;<br />...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;reference name=&quot;StockQuoteWebService&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;interface.wsdl interface=&quot;http://www.webserviceX.NET/#<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;wsdl.interface(StockQuoteSoap)&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;binding.ws endpoint=&quot;http://www.webserviceX.NET/#<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;wsdl.endpoint(StockQuote/StockQuoteSoap)&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/reference&gt;<br />...<br />&lt;/composite&gt;</pre></div><p class="pBody"><a name="wp1109683"> </a>
The steps required to access the Web service are as follows:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1109684"> </a>A WSDL file is necessary. This is usually published by the Web Service provider.</li>
<li><a name="wp1109685"> </a>The WSDL file must be converted into a WSDF entry using the <code class="cCode">wsdlcvt</code> tool. At the same time a Service Metadata Entry file (<code class="cCode">.mif</code>), and fml32 mapping file is generated.</li>
<li><a name="wp1109686"> </a>The WSDF file must be imported into the <code class="cCode">SALTDEPLOY</code> file and <code class="cCode">SALTDEPLOY</code> converted into binary using <code class="cCode">wsloadcf</code>.</li>
<li><a name="wp1109687"> </a>The Service Metadata Entry file (<code class="cCode">.mif</code>) is loaded into the Service Metadata Repository using the<code class="cHyperlinkCode">
<a href="../../../tuxedo/docs11gr1/rfcm/index.html"> tmloadrepos</a></code> command.</li>
<li><a name="wp1109688"> </a>The GWWS process is rebooted to take into account the new deployment.</li>
</ol></div>
<p class="pBody"><a name="wp1109689"> </a>
These steps are required, in addition to the <code class="cCode">SALTDEPLOY</code> configuration, in order to set up the GWWS gateway for Web services processing (for example, configuration of <code class="cCode">GWInstance</code>, Server Level Properties, etc.). When completed, the SCA client has access to the Web service.
</p>
<p class="pBody"><a name="wp1109690"> </a>
The process is the same, whether the client is stand-alone SCA program or an SCA component (already a server) referencing another SCA component via the Web service binding.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1085820"> </a>
SCA Data Type Mapping
</h2><p class="pBody"><a name="wp1082180"> </a>
Using ATMI binding leverages the Oracle Tuxedo infrastructure. Data exchanged between SCA components, or Oracle Tuxedo clients/services and SCA clients/components is performed using Oracle Tuxedo typed buffers. <a href="sca.html#wp1082586">Table&#160;7-1</a> through <a href="sca.html#wp1106575">Table&#160;7-10</a> summarize the correspondence between native types and Oracle Tuxedo buffers/types, as well as SOAP types when applicable.
</p>
<p class="pBody"><a name="wp1086255"> </a>
In the example shown in <a href="sca.html#wp1082210">Listing&#160;7-34</a>, implementations send and receive an Oracle Tuxedo <code class="cCode">STRING</code> buffer. To the software (binding and reference extension implementations), the determination of the actual Oracle Tuxedo buffer to be used is provided by the contents of the<code class="cCode"> /binding.atmi/inputBufferType</code>, <code class="cCode">/binding.atmi/outputBufferType</code>, or <code class="cCode">/binding.atmi/errorBufferType</code> elements in the SCDL configuration, and the type of buffer returned (or sent) by a server (or client). It does not matter whether client or server is an ATMI program or an SCA component.
</p>
<p class="pBody"><a name="wp1082288"> </a>
Notice that the Oracle Tuxedo <code class="cCode">simpapp</code> service has its own <code class="cCode">namespace</code> within <code class="cCode">namespace services</code>. A C++ method <code class="cCode">toupper</code> is associated with this service.
</p>
<div class="pCodeTitle"><a name="wp1082210"> </a>
Listing&#160;7-34	   C++ Interface Example
</div> <a name="wp1098890"> </a><div class="pPreformatted"><pre>#include &lt;string&gt;<br />namespace services<br />{<br />&#160;&#160;&#160;&#160;namespace simpapp<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/**<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*  business interface<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*/<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;class ToupperService<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;public:<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;virtual std::string<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;toupper(const std::string inputString) = 0;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;};<br /><br />&#160;&#160;&#160;&#160;} // End simpapp<br />} // End services</pre></div><p class="pBody"><a name="wp1085538"> </a>
The following data type mapping rules apply:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1085542"> </a><a href="sca.html#wp1101969">Run-Time Data Type Mapping</a></li>
<li><a name="wp1101994"> </a><a href="sca.html#wp1107200">SCA Utility Data Type Mapping</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1101969"> </a>
Run-Time Data Type Mapping
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1106331"> </a><a href="sca.html#wp1085556">Simple Oracle Tuxedo Buffer Data Mapping</a></li>
<li><a name="wp1106335"> </a><a href="sca.html#wp1095616">Complex Return Type Mapping</a></li>
<li><a name="wp1106339"> </a><a href="sca.html#wp1086881">Complex Oracle Tuxedo Buffer Data Mapping</a></li>
</ul></div>
<h4 class="pHeading3"><a name="wp1085556"> </a>
Simple Oracle Tuxedo Buffer Data Mapping
</h4>
<p class="pBody"><a name="wp1085557"> </a>
The following are considered to be simple Oracle Tuxedo buffers:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1085558"> </a><code class="cCode">STRING</code></li>
<li><a name="wp1085754"> </a><code class="cCode">CARRAY (</code>and<code class="cCode"> X_OCTET)</code></li>
<li><a name="wp1085235"> </a><code class="cCode">MBSTRING</code></li>
<li><a name="wp1085287"> </a><code class="cCode">XML</code></li>
</ul></div>
<p class="pBody"><a name="wp1085409"> </a>
<a href="sca.html#wp1082586">Table&#160;7-1</a> lists simple Oracle Tuxedo buffer types that are mapped to SCA binding.
</p>
<p class="pGraphic"><a name="wp1082567"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1082586table1082584"><caption><a name="wp1082586"> </a>
Table 7-1  Simple Oracle Tuxedo Buffer Type Data Mapping

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1082594"> </a>
C++ or STL Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1082596"> </a>
Java Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1082598"> </a>
Oracle Tuxedo Buffer Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1082600"> </a>
Notes
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1085712"> </a>
<code class="cCode">char*</code>, <code class="cCode">char array </code>or <code class="cCode">std::string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1085714"> </a>
<code class="cCode"> java.lang.String</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1085716"> </a>
<code class="cCode">STRING</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082602"> </a>
<code class="cCode">CARRAY_T</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082604"> </a>
<code class="cCode">byte[] or java.lang.Byte[]</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082606"> </a>
<code class="cCode">CARRAY</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082610"> </a>
<code class="cCode">X_OCTET_T </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082612"> </a>
<code class="cCode">byte[] or java.lang.Byte[]</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082614"> </a>
<code class="cCode">X_OCTET</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082618"> </a>
<code class="cCode">XML_T</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082620"> </a>
<code class="cCode">byte[] or java.lang.Byte[]</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082622"> </a>
<code class="cCode">XML</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082624"> </a>
This type is passed as a C++ array within the data element of struct XML or as an array of java bytes. It is transformed to SDO. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082626"> </a>
<code class="cCode">wchar_t *</code> or <code class="cCode">wchar_t array</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082628"> </a>
<code class="cCode">N/A</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082630"> </a>
<code class="cCode">MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082694"> </a>
See <a href="sca.html#wp1086815">Multibyte String Data Mapping</a>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082642"> </a>
<code class="cCode">std::wstring</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082644"> </a>
<code class="cCode">java.lang.String</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082646"> </a>
<code class="cCode">MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1082709"> </a>
See <a href="sca.html#wp1086815">Multibyte String Data Mapping</a>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1086800"> </a>
When a service called by an SCA client returns successfully, a pointer to the service return data is passed back to the Proxy stub generated by <code class="cCode">buildscaclient</code>. The Proxy stub then de-references this pointer and returns the data to the application.
</p>
<p class="pBody"><a name="wp1085140"> </a>
<a href="sca.html#wp1082586">Table&#160;7-1</a> can be interpreted as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1082759"> </a>When the reference or service binding extension runtime sees an Oracle Tuxedo <code class="cCode">STRING</code> buffer, it looks for either a <code class="cCode">char*</code>, <code class="cCode">char array</code>, <code class="cCode">std::string</code> parameter or<code class="cCode"> return</code> type (depending on the direction). If a different type is found, an exception is thrown with a message explaining what happened.</li>
<li><a name="wp1082760"> </a>When the reference or service binding extension runtime sees a <code class="cCode">char*</code> (for example) as a single parameter or return type, it looks for STRING as the buffer type in the <code class="cCode">binding.atmi </code>element. If a different Oracle Tuxedo buffer type is found, an exception is thrown with a message explaining what happened.</li>
</ul></div>
<h5 class="pHeading4"><a name="wp1086815"> </a>
Multibyte String Data Mapping
</h5>
<p class="pBody"><a name="wp1094214"> </a>
Oracle Tuxedo uses multibyte strings to represent multibyte character data with encoding names based on <code class="cCode">iconv</code> (as defined by Oracle Tuxedo). C++ uses a <code class="cCode">wstring</code>, <code class="cCode">wchar_t*</code>, or <code class="cCode">wchar_t[]</code> data type to represent multibyte character data with encoding names (as defined by the C++ library).
</p>
<p class="pBody"><a name="wp1086828"> </a>
Oracle Tuxedo and C++ sometimes use different names to represent a particular multibyte encoding. Mapping between Oracle Tuxedo encoding names and C++ encoding names is as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1086878"> </a>Receiving a Multibyte String Buffer</li>
<p class="pBodyRelative"><a name="wp1086894"> </a>
When an SCA client or server receives an <code class="cCode">MBSTRING</code> buffer or an <code class="cCode">FML32</code> buffer with a <code class="cCode">FLD_MBSTRING</code> field, it considers the encoding for that multibyte string to be the first locale from the following cases:
</p>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<li><a name="wp1086895"> </a>Locale associated with the <code class="cCode">FLD_MBSTRING</code> field, if present.</li>
<a name="wp1087162"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>For more information, see <a href="sca.html#wp1083072">Table&#160;7-2</a>.</td>
</tr>
</table>

<li><a name="wp1086896"> </a>Locale associated with the <code class="cCode">MBSTRING</code> or <code class="cCode">FML32</code> buffer.</li>
<li><a name="wp1086897"> </a>Locale set in the environment of the SCA client or server.</li>
<p class="pBodyRelative"><a name="wp1086899"> </a>
If case a or b is matched, Oracle Tuxedo invokes the <code class="cCode">setlocale()</code> function for locale type <code class="cCode">LC_CTYPE</code> with the locale for the received buffer. If <code class="cCode">setlocale()</code> fails (indicating there is no such locale) and an alternate name has been associated with this locale in the optional <code class="cCode">$TUXDIR/locale/setlocale_alias</code> file, Oracle Tuxedo attempts to set the <code class="cCode">LC_CTYPE</code> locale to the alternate locale.
</p>
<p class="pBodyRelative"><a name="wp1086902"> </a>
The <code class="cCode">$TUXDIR/locale/setlocale_alias</code> file may be optionally created by the Oracle Tuxedo administrator. If present, it contains a mapping of Oracle Tuxedo <code class="cCode">MBSTRING</code> codeset names to an equivalent operating system locale accepted by the <code class="cCode">setlocale()</code> function.
</p>
<p class="pBodyRelative"><a name="wp1086903"> </a>
Lines consist of an Oracle Tuxedo MBSTRING codeset name followed by whitespace and an OS locale name. Only the first line in the file corresponding to a particular <code class="cCode">MBSTRING</code> codeset name are considered. Comment lines begin with <code class="cCode">#</code>.
</p>
<p class="pBodyRelative"><a name="wp1086905"> </a>
The <code class="cCode">$TUXDIR/locale/setlocale_alias</code> file is used by the SALT SCA software when converting <code class="cCode">MBSTRING</code> data into C++ <code class="cCode">wstring</code> or <code class="cCode">wchar_t[]</code> data. If <code class="cCode">setlocale()</code> fails when using the Oracle Tuxedo <code class="cCode">MBSTRING</code> codeset name, then the SALT SCA software attempts to use the alias name, if present. For example, if the file contains a line &#39;<code class="cCode">GB2312  zh_CN.GB2312</code>&#39; then if <code class="cCode">setlocale(LC_CTYPE, &#39;GB2312&#39;)</code> fails, the SALT SCA software attempts <code class="cCode">setlocale(LC_CTYPE, &#39;zh_CN.GB2312&#39;)</code>.
</p>
</ol></div>
<li><a name="wp1086879"> </a>Sending a Multibyte String Buffer</li>
<p class="pBodyRelative"><a name="wp1086926"> </a>
When an SCA client or server converts a <code class="cCode">wstring</code>, <code class="cCode">wchar_t[]</code>, or <code class="cCode">wchar_t*</code> to an <code class="cCode">MBSTRING</code> buffer or a <code class="cCode">FLD_MBSTRING</code> field, it uses the <code class="cCode">TPMBENC</code> environment variable value as the locale to set when converting from C++ wide characters to a multibyte string. If the operating system does not recognize this locale, Oracle Tuxedo uses the alternate locale from the <code class="cCode">$TUXDIR/locale/setlocale_alias</code> file, if any.
</p>
<a name="wp1095403"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>It is possible to transmit multibyte data retrieved from an <code class="cCode">MBSTRING</code> buffer, an <code class="cCode">FML32 FLD_MBSTRING</code> field, or a <code class="cCode">VIEW32</code> mbstring field. It is also possible to transmit multibyte data entered using the SDO <code class="cCode">setString()</code> method.</td>
</tr>
</table>

<a name="wp1095404"> </a><table class="ListNote">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>However, it is not possible to enter multibyte characters directly into an XML document and transmit this data via SALT. This is because multibyte characters entered in XML documents are transcoded into multibyte strings, and SDO uses <code class="cCode">wchar_t</code> arrays to represent multibyte characters.</td>
</tr>
</table>
</ul></div>
<h4 class="pHeading3"><a name="wp1095616"> </a>
Complex Return Type Mapping
</h4>
<p class="pBody"><a name="wp1095516"> </a>
The following C++ built-in types (used as return types) are considered complex and automatically encapsulated in an <code class="cCode">FML/FML32</code> buffer as a single generic field following the complex buffer mapping rules described in <a href="sca.html#wp1086881">Complex Oracle Tuxedo Buffer Data Mapping</a>. This mechanism addresses the need for returning types where a corresponding Oracle Tuxedo buffer cannot be used.
</p>
<a name="wp1095749"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Interfaces returning any of the built-in types assume that <code class="cCode">FML/FML32</code> is the output buffer type. The name of this generic field is <code style="font-style: normal" class="cCode">TUX_RTN</code><span style="font-style: italic">datatype</span> based on the type of data being returned. <code style="font-style: normal" class="cCode">TUX_RTN</code><span style="font-style: italic">datatype</span> fields are defined in the <code class="cCode">Usysflds.h/Usysfl32.h</code> and <code class="cCode">Usysflds/Usysfl32</code> shipped with Oracle Tuxedo.</td>
</tr>
</table>

<div class="pSmartList1Bullet"><ul>
<li><a name="wp1095636"> </a><code class="cCode">bool</code> : maps to <code class="cCode">TUX_RTNCHAR</code> field</li>
<li><a name="wp1121606"> </a><code class="cCode">char</code>: maps to <code class="cCode">TUX_RTNCHAR</code> field</li>
<li><a name="wp1121607"> </a><code class="cCode">signed char</code>: maps to <code class="cCode">TUX_RTNCHAR</code> field</li>
<li><a name="wp1121608"> </a><code class="cCode">unsigned char</code>: maps to <code class="cCode">TUX_RTNCHAR</code> field</li>
<li><a name="wp1121603"> </a><code class="cCode">short</code>: maps to <code class="cCode">TUX_RTNSHORT</code> field</li>
<li><a name="wp1121598"> </a><code class="cCode">unsigned short</code>: maps to <code class="cCode">TUX_RTNSHORT</code> field</li>
<li><a name="wp1121593"> </a><code class="cCode">int</code>: maps to <code class="cCode">TUX_RTNLONG</code> field</li>
<li><a name="wp1121588"> </a><code class="cCode">unsigned int</code>: maps to <code class="cCode">TUX_RTNLONG</code> field</li>
<li><a name="wp1121583"> </a><code class="cCode">long</code>: maps to <code class="cCode">TUX_RTNLONG</code> field</li>
<li><a name="wp1121578"> </a><code class="cCode">unsigned long</code>: maps to <code class="cCode">TUX_RTNLONG</code> field</li>
<li><a name="wp1095526"> </a><code class="cCode">long long:</code> (maps to <code class="cCode">TUX_RTNLONG</code> field</li>
<li><a name="wp1095527"> </a><code class="cCode">unsigned long long</code>: maps to <code class="cCode">TUX_RTNLONG</code> field</li>
<li><a name="wp1095529"> </a><code class="cCode">float</code>: maps to <code class="cCode">TUX_RTNFLOAT</code> field</li>
<li><a name="wp1095530"> </a><code class="cCode">double</code>: maps to <code class="cCode">TUX_RTNDOUBLE</code> field</li>
<li><a name="wp1095607"> </a>long double: maps to <code class="cCode">TUX_RTNDOUBLE</code> field</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1086881"> </a>
Complex Oracle Tuxedo Buffer Data Mapping
</h4>
<p class="pBody"><a name="wp1085565"> </a>
The following are considered to be complex Oracle Tuxedo buffers:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1085571"> </a><code class="cCode">FML</code></li>
<li><a name="wp1085572"> </a><code class="cCode">FML32</code></li>
<li><a name="wp1085573"> </a><code class="cCode">VIEW (</code>and<code class="cCode"> X_* equivalents)</code></li>
<li><a name="wp1085574"> </a><code class="cCode">VIEW32</code></li>
</ul></div>
<p class="pBody"><a name="wp1085598"> </a>
<a href="sca.html#wp1083072">Table&#160;7-2</a> lists the complex Oracle Tuxedo buffer types that are mapped to SCA binding.
</p>
<p class="pBody"><a name="wp1125237"> </a>
For FML and FML32 buffers, parameter names in interfaces must correspond to field names, and follow the restrictions that apply to Oracle Tuxedo fields (length, characters allowed). When these interfaces are generated from metadata using <code class="cHyperlinkCode">
<a href="../ref/comref.html">tuxscagen(1)</a></code>, the generated code contains the properly formatted parameter names. 
</p>
<p class="pBody"><a name="wp1085681"> </a>
If an application manually develops interfaces without parameter names, manually develops interfaces that are otherwise incorrect, or makes incompatible changes to SALT generated interfaces, then incorrect results are likely to occur.
</p>
<p class="pBody"><a name="wp1084546"> </a>
VIEW (and <code class="cCode">X_*</code> equivalents) and VIEW32 buffers require the use of SDO <code class="cCode">DataObject</code> wrappers.
</p>
<p class="pBody"><a name="wp1096003"> </a>
<a href="sca.html#wp1095980">Listing&#160;7-35</a> shows an interface example. The associated field definitions (following the interface) must be present in the process environment.
</p>
<p class="pGraphic"><a name="wp1083297"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1083072table1082830"><caption><a name="wp1083072"> </a>
Table 7-2  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Complex Oracle Tuxedo Buffer Type Data Mapping</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1083082"> </a>
C++, STL, or SDO type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1083084"> </a>
Java Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1083086"> </a>
Oracle Tuxedo field type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1083088"> </a>
Oracle Tuxedo view type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1083090"> </a>
Notes
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083092"> </a>
<code class="cCode">bool </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083094"> </a>
<code class="cCode">boolean or java.lang.Boolean</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083096"> </a>
<code class="cCode">FLD_CHAR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083098"> </a>
<code class="cCode">char</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083100"> </a>
Maps to &#39;T&#39; or &#39;F&#39;. (This matches the mapping used elsewhere in SALT.)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095807"> </a>
<code class="cCode">char, signed char, or unsigned char</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083104"> </a>
<code class="cCode">byte or java.lang.Byte</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083106"> </a>
<code class="cCode">FLD_CHAR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083108"> </a>
<code class="cCode">char</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083112"> </a>
<code class="cCode">short or unsigned short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083114"> </a>
<code class="cCode">short or java.lang.Short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083116"> </a>
<code class="cCode">FLD_SHORT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083118"> </a>
<code class="cCode">short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083120"> </a>
An unsigned short is cast to a short before being converted to<code class="cCode"> FLD_SHORT</code> or <code class="cCode">short</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083122"> </a>
<code class="cCode">int or unsigned int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083124"> </a>
<code class="cCode">int or java.lang.Integer</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083126"> </a>
<code class="cCode">FLD_LONG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083128"> </a>
<code class="cCode">int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083130"> </a>
An unsigned <code class="cCode">int</code> being converted to FML or FML32 is cast to a long before being converted to <code class="cCode">FLD_LONG</code> or <code class="cCode">long</code>. An unsigned <code class="cCode">int</code> being converted to a VIEW or VIEW32 member is cast to an <code class="cCode">int</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083132"> </a>
<code class="cCode">long or unsigned long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083134"> </a>
<code class="cCode">long or java.lang.Long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083136"> </a>
<code class="cCode">FLD_LONG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083138"> </a>
<code class="cCode">long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083140"> </a>
An exception is thrown if the value of a <code class="cCode">64-bit long</code> does not fit into a <code class="cCode">FLD_LONG</code> or <code class="cCode">long</code> on a 32-bit platform. An unsigned long is cast to long before being converted to <code class="cCode">FLD_LONG</code> or <code class="cCode">long.</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083142"> </a>
<code class="cCode">long long or unsigned long long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083144"> </a>
<code class="cCode">N/A</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083146"> </a>
<code class="cCode">FLD_LONG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083148"> </a>
<code class="cCode">long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083150"> </a>
An exception is thrown if the data value does not fit within a <code class="cCode">FLD_LONG</code> or <code class="cCode">long</code>. An unsigned <code class="cCode">long long </code>is cast to <code class="cCode">long long</code> before being converted to <code class="cCode">FLD_LONG</code> or <code class="cCode">long</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083152"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083154"> </a>
<code class="cCode">float or java.lang.Float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083156"> </a>
<code class="cCode">FLD_FLOAT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083158"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083162"> </a>
<code class="cCode">double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083164"> </a>
<code class="cCode">double or java.lang.Double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083166"> </a>
<code class="cCode">FLD_DOUBLE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083168"> </a>
<code class="cCode">double</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095467"> </a>
long double
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095469"> </a>
N/A
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095471"> </a>
FLD_DOUBLE
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095473"> </a>
double
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083172"> </a>
<code class="cCode">char* or char array</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083174"> </a>
<code class="cCode">N/A</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083176"> </a>
<code class="cCode">FLD_STRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083178"> </a>
<code class="cCode">string</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083182"> </a>
<code class="cCode">std::string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083184"> </a>
<code class="cCode">java.lang.String</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083186"> </a>
<code class="cCode">FLD_STRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083188"> </a>
<code class="cCode">string</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083192"> </a>
<code class="cCode">CARRAY_T or X_OCTET_T</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083194"> </a>
<code class="cCode"> class CARRAY</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083196"> </a>
<code class="cCode">FLD_CARRAY</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083198"> </a>
<code class="cCode">carray</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083200"> </a>
Will map externally following GWWS rules. This departs from the OSOA spec. (which does not support them), and should be considered an improvement.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083202"> </a>
<code class="cCode">Bytes</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083204"> </a>
<code class="cCode">N/A</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083206"> </a>
<code class="cCode">FLD_CARRAY</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083208"> </a>
<code class="cCode">Carray</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083210"> </a>
This mapping is used when part of a <code class="cCode">DataObject</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083212"> </a>
<code class="cCode">wchar_t* or wchar_t array </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083214"> </a>
<code class="cCode">N/A</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083216"> </a>
<code class="cCode">FLD_MBSTRING (FML32 only)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083218"> </a>
<code class="cCode">mbstring (VIEW32 only)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083220"> </a>
(Java char is Unicode and can range from <code class="cCode">-32768</code> to <code class="cCode">+32767</code>.)
</div>
<div class="pCellBody"><a name="wp1087618"> </a>
See also <a href="sca.html#wp1086815">Multibyte String Data Mapping</a>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083222"> </a>
<code class="cCode">std::wstring</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083224"> </a>
<code class="cCode">java.lang.String</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083226"> </a>
<code class="cCode">FLD_MBSTRING (FML32 only)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083228"> </a>
<code class="cCode">mbstring (VIEW32 only)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1087637"> </a>
See also <a href="sca.html#wp1086815">Multibyte String Data Mapping</a>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083232"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083234"> </a>
<code class="cCode">TypedFML32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083236"> </a>
<code class="cCode">FLD_FML32 (FML32 only)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083238"> </a>
<code class="cCode">N/A</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083240"> </a>
Generate a data transformation exception, which is translated to an <code class="cCode">ATMIBindingException</code> before being returned to the application, when: 
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1083363"> </a>Attempting to add such a field in an Oracle Tuxedo buffer other than FML32</li>
<li><a name="wp1083371"> </a>The data object is not typed (i.e., there is no corresponding schema describing it).</li>
</ul></div>
<div class="pCellBody"><a name="wp1087682"> </a>
See also <a href="sca.html#wp1086815">Multibyte String Data Mapping</a>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083272"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083274"> </a>
<code class="cCode">TypedView32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083276"> </a>
<code class="cCode">FLD_VIEW32 (FML32 only)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1083278"> </a>
<code class="cCode">N/A</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1087691"> </a>
See also <a href="sca.html#wp1086815">Multibyte String Data Mapping</a>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115334"> </a>
struct <span style="font-style: italic">structurename</span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115336"> </a>
<code class="cCode">N/A</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115338"> </a>
<code class="cCode">FLD_FML32 (FML32 only)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115340"> </a>
<span style="font-style: italic">structurename</span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115342"> </a>
See also <a href="sca.html#wp1111526">SCA Structure Support</a>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<div class="pCodeTitle"><a name="wp1095980"> </a>
Listing&#160;7-35	   Interface Example
</div> <a name="wp1099120"> </a><div class="pPreformatted"><pre>...<br />int myService(int param1, float param2); ...<br />Field table definitions<br />#name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;number&#160;type&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;flag&#160;comment<br />#---------------------------------------------------------<br />param1&#160;20&#160;&#160;&#160;&#160;&#160;int&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;Parameter 1<br />param2&#160;30&#160;&#160;&#160;&#160;&#160;float&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;Parameter 2<br />...</pre></div><h5 class="pHeading4"><a name="wp1075629"> </a>
SDO Mapping
</h5>
<p class="pBody"><a name="wp1088665"> </a>
C++ method prototypes that use <code class="cCode">commonj::sdo::DataObjectPtr </code>objects as parameter or return types are mapped to an <code class="cCode">FML, FML32, VIEW, or VIEW32</code> buffer.
</p>
<p class="pBody"><a name="wp1088668"> </a>
You must provide an XML schema that describes the SDO object. The schema is made available to the service or reference extension runtime by placing the schema file (<code class="cCode">.xsd</code> file) in the same location as the SCDL composite file that contains the reference or service definition affected. The schema is used internally to associate element names and field names.
</p>
<a name="wp1088669"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>When using view or view32, a schema type (for example, <code class="cCode">complexType</code>) which name matches the view or view32 used is required.</td>
</tr>
</table>

<p class="pBody"><a name="wp1088670"> </a>
For more information, see<span class="cHyperlink">
 </span><a href="../ref/comref.html">mkfldfromschema</a> and <span class="cHyperlink">
 </span><a href="../ref/comref.html">mkfld32fromschema</a> in the <span style="font-style: italic">SALT </span>11<em class="cEmphasis">g </em> Release 1 (11.1.1.0)<span style="font-style: italic"> Command Reference</span>.
</p>
<p class="pBody"><a name="wp1088710"> </a>
For example, a C++ method prototype defined in a header such as:
</p>
<p class="pBody"><a name="wp1088719"> </a>
<code class="cCode">long myMethod(commonj::sdo::DataObjectPtr data);</code>
</p>
<p class="pBody"><a name="wp1088770"> </a>
<a href="sca.html#wp1088772">Listing&#160;7-36</a> shows the associated schema.
</p>
<div class="pCodeTitle"><a name="wp1088772"> </a>
Listing&#160;7-36	   Schema
</div> <a name="wp1088776"> </a><div class="pPreformatted"><pre>&lt;xsd:schema xmlns:xsd=http://www.w3.org/2001/XMLSchema<br />&#160;&#160;&#160;&#160;&#160;xmlns=&quot;http://www.example.com/myExample&quot;<br />&#160;&#160;&#160;&#160;&#160;targetNamespace=&quot;http://www.example.com/myExample&quot;&gt;<br /><br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;bike&quot; type=&quot;BikeType&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;comment&quot; type=&quot;xsd:string&quot;/&gt;<br /><br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:complexType name=&quot;BikeType&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;serialNO&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;name&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;type&quot;  type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;price&quot;  type=&quot;xsd:float&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;/xsd:complexType&gt;<br />&lt;/xsd:schema&gt;</pre></div><p class="pBody"><a name="wp1121764"> </a>
<a href="sca.html#wp1121768">Table&#160;7-3</a> shows the generated field table.
</p>
<p class="pGraphic"><a name="wp1121847"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1121768table1121765"><caption><a name="wp1121768"> </a>
Table 7-3  Generated Field Tables

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1121778"> </a>
NAME
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1121780"> </a>
NUMBER
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1121782"> </a>
TYPE
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1121784"> </a>
FLAG
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1121786"> </a>
Comment
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121788"> </a>
<code class="cCode">bike</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121790"> </a>
<code class="cCode">20</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121792"> </a>
<code class="cCode">fml32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121794"> </a>
<code class="cCode">-</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121798"> </a>
<code class="cCode">comment</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121800"> </a>
<code class="cCode">30</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121802"> </a>
<code class="cCode">string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121804"> </a>
<code class="cCode">-</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121808"> </a>
<code class="cCode">serialNO</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121810"> </a>
<code class="cCode">40</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121812"> </a>
<code class="cCode">string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121814"> </a>
<code class="cCode">-</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121818"> </a>
<code class="cCode">name</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121820"> </a>
<code class="cCode">50</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121822"> </a>
<code class="cCode">string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121824"> </a>
<code class="cCode">-</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121828"> </a>
<code class="cCode">type</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121830"> </a>
<code class="cCode">60</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121832"> </a>
<code class="cCode">string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121834"> </a>
<code class="cCode">-</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121838"> </a>
<code class="cCode">price</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121840"> </a>
<code class="cCode">70</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121842"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1121844"> </a>
<code class="cCode">-</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1121848"> </a>
The following restrictions in XML schemas apply:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1089163"> </a>Attributes cannot be specified and are ignored if specified</li>
<li><a name="wp1089164"> </a>Values in restrictions are ignored (their meaning is application-related), only the field name and type are generated</li>
<li><a name="wp1107198"> </a>When using XML schema types, only signed integral types are supported. <br />See &quot;SDO C++ Specification&quot; for a list of available SDO primitive types.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1107200"> </a>
SCA Utility Data Type Mapping 
</h3>
<p class="pBody"><a name="wp1107201"> </a>
The <code class="cHyperlinkCode">
scatuxgen</code> and <code class="cHyperlinkCode">
tuxscagen</code> utilities are used to generate manual SCA data type mapping. The <code class="cCode">scatuxgen</code> mapping rules are as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1108092"> </a><a href="sca.html#wp1102503">C++ Parameter/Return Type and Oracle Tuxedo Buffer Type Mapping</a></li>
<li><a name="wp1108096"> </a><a href="sca.html#wp1102573">C++ Parameter Type and Oracle Tuxedo Parameter Type Mapping</a></li>
<li><a name="wp1108100"> </a><a href="sca.html#wp1108301">C++ Parameter Type and Oracle Tuxedo Complex Type Mapping</a></li>
<li><a name="wp1108104"> </a><a href="sca.html#wp1104820">Parameter and Return Types to Parameter-Level Keyword Restrictions</a></li>
</ul></div>
<a name="wp1107053"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The mapping rules for <code class="cHyperlinkCode">
tuxscagen </code>are executed in the reverse direction (Oracle Tuxedo Buffer Type -&gt; C++ Parameter Type).</td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1102503"> </a>
C++ Parameter/Return Type and Oracle Tuxedo Buffer Type Mapping
</h4>
<p class="pBody"><a name="wp1102170"> </a>
<a href="sca.html#wp1103167">Table&#160;7-4</a> shows the correspondence between parameter/return types and Oracle Tuxedo buffer types (inbuf service-level keyword).
</p>
<p class="pGraphic"><a name="wp1103230"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1103167table1103164"><caption><a name="wp1103167"> </a>
Table 7-4  &#39;inbuf&#39; Keyword Buffer Type Mapping Table

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1103171"> </a>
C++ Parameter Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1103173"> </a>
Oracle Tuxedo Buffer Type
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103175"> </a>
<code class="cCode">std::string or char*</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103177"> </a>
<code class="cCode">STRING</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103179"> </a>
<code class="cCode">struct carray_t</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103181"> </a>
<code class="cCode">CARRAY</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103183"> </a>
<code class="cCode">char</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103185"> </a>
<code class="cCode">FML32 </code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103187"> </a>
<code class="cCode">short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103189"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103191"> </a>
<code class="cCode">int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103193"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103195"> </a>
<code class="cCode">long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103197"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103199"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103201"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103203"> </a>
<code class="cCode">double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103205"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103207"> </a>
<code class="cCode">wchar_t[ ]</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103209"> </a>
<code class="cCode">MBSTRING</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103211"> </a>
<code class="cCode">struct xml_t</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103213"> </a>
<code class="cCode">XML</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103215"> </a>
<code class="cCode">struct x_octet_t</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103217"> </a>
<code class="cCode">X_OCTET</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103219"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103221"> </a>
<code class="cCode">X_COMMON, X_C_TYPE, VIEW, VIEW32, FML, or FML32</code> depending on intputBufferType setting
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103223"> </a>
<code class="cCode">struct structurename</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103225"> </a>
<code class="cCode">X_COMMON, X_C_TYPE, VIEW, VIEW32, FML, or FML32</code> depending on intputBufferType setting
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103227"> </a>
multiple parameters, or one commonj::sdo::DataObjectPtr or struct structurename and no binding.atmi or no corresponding inputBufferType and the input buffer is not specified using a command line option
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103229"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1103231"> </a>
<a href="sca.html#wp1103234">Table&#160;7-5</a>shows the correspondence between parameter/return types and Oracle Tuxedo buffer types (outbuf or err buf service-level keywords).
</p>
<p class="pGraphic"><a name="wp1103301"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1103234table1103232"><caption><a name="wp1103234"> </a>
Table 7-5  outbuf&#39; or &#39;errbuf&#39; Keyword Buffer Type Mapping Table

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1103238"> </a>
C++ Return Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1103240"> </a>
Oracle Tuxedo Buffer Type
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103242"> </a>
<code class="cCode">std::string or char*</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103244"> </a>
<code class="cCode">STRING</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103246"> </a>
<code class="cCode">struct carray_t</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103248"> </a>
<code class="cCode">CARRAY</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103250"> </a>
<code class="cCode">char</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103252"> </a>
<code class="cCode">FML32 </code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103254"> </a>
<code class="cCode">short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103256"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103258"> </a>
<code class="cCode">int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103260"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103262"> </a>
<code class="cCode">long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103264"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103266"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103268"> </a>
<code class="cCode">FML33</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103270"> </a>
<code class="cCode">double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103272"> </a>
<code class="cCode">FML32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103274"> </a>
<code class="cCode">wchar_t[], wstring</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103276"> </a>
<code class="cCode">MBSTRING</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103278"> </a>
<code class="cCode">struct xml_t</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103280"> </a>
<code class="cCode">XML</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103282"> </a>
<code class="cCode">struct x_octet_t</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103284"> </a>
<code class="cCode">X_OCTET</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103286"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103288"> </a>
<code class="cCode">X_COMMON, X_C_TYPE, VIEW, VIEW32, FML or FML32</code> depending on the <code class="cCode">binding.atmi/outputBufferType</code> or <code class="cCode">binding.atmi/errorBufferType</code> setting.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103290"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103292"> </a>
<code class="cCode">FML32</code> if no binding.atmi is set, or binding.atmi is set and binding.atmi/outputBufferType or binding.atmi/errorBufferType aren&#39;t specified.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103294"> </a>
<code class="cCode">struct structurename</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103296"> </a>
<code class="cCode">X_COMMON, X_C_TYPE, VIEW, VIEW32, FML or FML32</code> depending on the binding.atmi/outputBufferType or binding.atmi/errorBufferType setting.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103298"> </a>
<code style="font-style: normal" class="cCode">struct </code><span style="font-style: italic">structurename</span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1103300"> </a>
<code class="cCode">FML32</code> if no binding.atmi is set, or binding.atmi is set and binding.atmi/outputBufferType or binding.atmi/errorBufferType are not specified.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1102573"> </a>
C++ Parameter Type and Oracle Tuxedo Parameter Type Mapping
</h4>
<p class="pBody"><a name="wp1103505"> </a>
<a href="sca.html#wp1103998">Table&#160;7-7</a> shows how <code class="cCode">scatuxgen</code> handles interface parameter types and converts them to an Oracle Tuxedo Service Metadata Repository parameter-level keyword value when more than one parameter is used in the method signature.
</p>
<p class="pGraphic"><a name="wp1108299"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1108248table1108246"><caption><a name="wp1108248"> </a>
Table 7-6  Parameter-Level/Field Type Mapping Table

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1108252"> </a>
C++ Parameter Data Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1108254"> </a>
Oracle Tuxedo Parameter-Level Keyword (FML FIELD Type)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108256"> </a>
<code class="cCode">char</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108258"> </a>
<code class="cCode">byte(FLD_CHAR)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108260"> </a>
<code class="cCode">short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108262"> </a>
<code class="cCode">short(FLD_SHORT)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108264"> </a>
<code class="cCode">int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108266"> </a>
<code class="cCode">integer(FLD_LONG)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108268"> </a>
<code class="cCode">long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108270"> </a>
<code class="cCode">integer(FLD_LONG)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108272"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108274"> </a>
<code class="cCode">float(FLD_FLOAT)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108276"> </a>
<code class="cCode">double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108278"> </a>
<code class="cCode">double(FLD_DOUBLE)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108280"> </a>
<code class="cCode">std::string or char *</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108282"> </a>
<code class="cCode">string(FLD_STRING)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108284"> </a>
<code class="cCode">struct carray_t</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108286"> </a>
<code class="cCode">carray(FLD_CARRAY)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108288"> </a>
<code class="cCode">std::wstring</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108290"> </a>
<code class="cCode">mbstring(FLD_MBSTRING)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108292"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108294"> </a>
<code class="cCode">fml32(FLD_FML32) </code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108296"> </a>
<code style="font-style: normal" class="cCode">struct </code><span style="font-style: italic">structurename</span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1108298"> </a>
<code class="cCode">fml32(FLD_FML32)</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1108301"> </a>
C++ Parameter Type and Oracle Tuxedo Complex Type Mapping
</h4>
<p class="pBody"><a name="wp1113008"> </a>
This section contains the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1113009"> </a><a href="sca.html#wp1113011">SDO Mapping</a></li>
<li><a name="wp1113017"> </a><a href="sca.html#wp1103784">C Struct Mapping</a></li>
</ul></div>
<h5 class="pHeading4"><a name="wp1113011"> </a>
SDO Mapping
</h5>
<p class="pBody"><a name="wp1103783"> </a>
When a method takes an SDO object as an argument, or returns an SDO object, for example as follows: <code class="cCode">commonj::sdo::DataObjectPtr myMethod(commonj::sdo::DataObjectPtr input).</code>
</p>
<p class="pBody"><a name="wp1103787"> </a>
The corresponding runtime type may be described by an XML schema as shown in <a href="sca.html#wp1103796">Listing&#160;7-37</a> and then referenced in the binding as shown in <a href="sca.html#wp1117354">Listing&#160;7-38</a>.
</p>
<div class="pCodeTitle"><a name="wp1103796"> </a>
Listing&#160;7-37	   XML Schema
</div> <a name="wp1103811"> </a><div class="pPreformatted"><pre>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;tuxedo&quot; targetNamespace=&quot;tuxedo&quot;&gt;<br /><br />&#160;&#160;&#160;&#160;&lt;xsd:complexType name=&quot;BikeInventory&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;BIKES&quot; type=&quot;Bike&quot; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;STATUS&quot; type=&quot;xsd:string&quot; maxOccurs=&quot;1&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&lt;/xsd:complexType&gt;<br /><br />&#160;&#160;&#160;&#160;&lt;xsd:complexType name=&quot;Bike&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;SERIALNO&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;SKU&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;NAME&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;TYPE&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;PRICE&quot; type=&quot;xsd:float&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;SIZE&quot; type=&quot;xsd:int&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;INSTOCK&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;ORDERDATE&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;COLOR&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&quot;CURSERIALNO&quot; type=&quot;xsd:string&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&lt;/xsd:complexType&gt;<br /><br />&lt;/xsd:schema&gt;</pre></div><div class="pCodeTitle"><a name="wp1117354"> </a>
Listing&#160;7-38	   Binding
</div> <a name="wp1117459"> </a><div class="pPreformatted"><pre>...  <br />&#160;&#160;&lt;reference name=&quot;UBIK&quot;&gt;<br />&#160;&#160;&#160;&#160;&lt;interface.cpp header=&quot;uBikeService.h&quot;/&gt;<br />&#160;&#160;&#160;&#160;&lt;binding.atmi&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inputBufferType&gt;FML32/Bike&lt;/inputBufferType&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;outputBufferType&gt;FML32/BikeInventory&lt;/outputBufferType&gt;<br />&#160;&#160;&#160;&#160;&lt;/binding.atmi&gt;<br />&#160;&#160;&lt;/reference&gt;<br />&#160;&#160;...</pre></div><p class="pBody"><a name="wp1103809"> </a>
When such a schema is present, <code class="cCode">scatuxgen</code> parses it and generates the corresponding parameter-level mapping entries as listed in <a href="sca.html#wp1103998">Table&#160;7-7</a>.
</p>
<p class="pGraphic"><a name="wp1104076"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1103998table1103996"><caption><a name="wp1103998"> </a>
Table 7-7  Parameter-level/Field Type Mapping

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1104002"> </a>
XML Schema element type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1104004"> </a>
Oracle Tuxedo Parameter-Level Keyword (FML FIELD Type)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104006"> </a>
<code class="cCode">xsd:byte</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104008"> </a>
<code class="cCode">byte(FLD_CHAR)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104010"> </a>
<code class="cCode">xsd:short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104012"> </a>
<code class="cCode">short(FLD_SHORT)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104014"> </a>
<code class="cCode">xsd:int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104016"> </a>
<code class="cCode">integer(FLD_LONG)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104018"> </a>
<code class="cCode">xsd:long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104020"> </a>
<code class="cCode">integer(FLD_LONG)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104022"> </a>
<code class="cCode">xsd:float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104024"> </a>
<code class="cCode">float(FLD_FLOAT)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104026"> </a>
<code class="cCode">xsd:double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104028"> </a>
<code class="cCode">double(FLD_DOUBLE)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104030"> </a>
<code class="cCode">xsd:string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104032"> </a>
<code class="cCode">string(FLD_STRING)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104034"> </a>
<code class="cCode">xsd:string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104036"> </a>
<code class="cCode">mbstring(FLD_MBSTRING)</code> when -t option is specified
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104038"> </a>
<code class="cCode">xsd:base64binary</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104040"> </a>
<code class="cCode">carray(FLD_CARRAY)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104042"> </a>
<code class="cCode">xsd:complexType</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104044"> </a>
<code class="cCode">fml32(FLD_FML32)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104046"> </a>
<code class="cCode">xsd:minOccurs</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104048"> </a>
<code class="cCode">requiredcount</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104050"> </a>
<code class="cCode">xsd:maxOccurs</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104052"> </a>
<code class="cCode">count</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h5 class="pHeading4"><a name="wp1103784"> </a>
C Struct Mapping
</h5>
<p class="pBody"><a name="wp1103707"> </a>
When a method takes a C struct as an argument, or returns a C struct (for example, as shown in <a href="sca.html#wp1103526">Listing&#160;7-39</a>), <code class="cCode">scatuxgen</code> parses it and generates the corresponding parameter-level mapping entries listed in <a href="sca.html#wp1104759">Table&#160;7-8</a>.
</p>
<div class="pCodeTitle"><a name="wp1103526"> </a>
Listing&#160;7-39	   C Struct
</div> <a name="wp1104140"> </a><div class="pPreformatted"><pre>struct customer {<br />&#160;&#160;&#160;&#160;char firstname[80];<br />&#160;&#160;&#160;&#160;char lastname[80];<br />&#160;&#160;&#160;&#160;char address[240];<br />};<br /><br />struct id {<br />&#160;&#160;&#160;&#160;int SSN;<br />&#160;&#160;&#160;&#160;int zipCode;<br />};<br /><br />struct customer* myMethod(struct *id input);</pre></div><p class="pGraphic"><a name="wp1104880"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1104759table1104757"><caption><a name="wp1104759"> </a>
Table 7-8  Parameter-Level/Field Type Mapping

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1104763"> </a>
Struct Member Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1104765"> </a>
Oracle Tuxedo Parameter-Level Keyword (FML FIELD Type)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104767"> </a>
<code class="cCode">char, unsigned char, signed char</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104769"> </a>
<code class="cCode">byte(FLD_CHAR)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104771"> </a>
<code class="cCode">char [ ]</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104773"> </a>
<code class="cCode">string(FLD_STRING)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104775"> </a>
<code class="cCode">wchar_t [ ]</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104777"> </a>
<code class="cCode">mbstring(FLD_MBSTRING)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104779"> </a>
<code class="cCode">short, unsigned short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104781"> </a>
<code class="cCode">short(FLD_SHORT)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104783"> </a>
<code class="cCode">int, unsigned int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104785"> </a>
<code class="cCode">integer(FLD_LONG)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104787"> </a>
<code class="cCode">long, unsigned long, long long, unsigned long long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104789"> </a>
<code class="cCode">integer(FLD_LONG)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104795"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104797"> </a>
<code class="cCode">float(FLD_FLOAT)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104799"> </a>
<code class="cCode">double, long double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104984"> </a>
<code class="cCode">double(FLD_DOUBLE)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104807"> </a>
<code style="font-style: normal" class="cCode">struct </code><span style="font-style: italic">nestedstructname</span><code class="cCode"> (for more information, see </code><a href="sca.html#wp1111526"><code class="cCode">SCA Structure Support</code></a><code class="cCode">)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105040"> </a>
<code class="cCode"><br /><br /><br /><br />fml32 (FLD_FML32)</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104815"> </a>
<code class="cCode">array type</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1104817"> </a>
<code class="cCode">count=requiredcount=array specifier</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1104820"> </a>
Parameter and Return Types to Parameter-Level Keyword Restrictions
</h4>
<p class="pBody"><a name="wp1103755"> </a>
For parameter-level keywords, the Oracle Tuxedo buffer type/parameter type restrictions are consistent with the contents expected by <code class="cHyperlinkCode">
<a href="../../../tuxedo/docs11gr1/rfcm/index.html">tmloadrepos</a></code>. An error message is returned when an attempt to match any combinations that are not listed in <a href="sca.html#wp1105838">Table&#160;7-9</a> and <a href="sca.html#wp1106575">Table&#160;7-10</a>.
</p>
<p class="pGraphic"><a name="wp1106019"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1105838table1105836"><caption><a name="wp1105838"> </a>
Table 7-9  Oracle Tuxedo Buffer Type/Parameter Type Restrictions (Part 1)

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1105852"> </a>
Parameter Type / Oracle Tuxedo Buffer
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1105854"> </a>
byte(char)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1105856"> </a>
short
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1105858"> </a>
integer
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1105860"> </a>
float
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1105862"> </a>
double
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1105864"> </a>
String
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105866"> </a>
<code class="cCode">CARRAY</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105880"> </a>
<code class="cCode">FML</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105882"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105884"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105886"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105888"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105890"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105892"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105894"> </a>
<code class="cCode">FML32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105896"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105898"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105900"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105902"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105904"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105906"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105908"> </a>
<code class="cCode">VIEW</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105910"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105912"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105914"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105916"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105918"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105920"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105922"> </a>
<code class="cCode">VIEW32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105924"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105926"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105928"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105930"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105932"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105934"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105936"> </a>
<code class="cCode">X_COMMON</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105940"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105944"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105948"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105950"> </a>
<code class="cCode">X_C_TYPE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105952"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105954"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105956"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105958"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105960"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105962"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105964"> </a>
<code class="cCode">X_OCTET</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105978"> </a>
<code class="cCode">STRING</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105990"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1105992"> </a>
<code class="cCode">XML</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106004"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106006"> </a>
<code class="cCode">MBSTRING</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pGraphic"><a name="wp1106730"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1106575table1106572"><caption><a name="wp1106575"> </a>
Table 7-10  Oracle Tuxedo Buffer Type/Parameter Type Restrictions (Part 2)

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1106587"> </a>
Parameter Type / Oracle Tuxedo Buffer
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1106589"> </a>
carray
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1106591"> </a>
xml
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1106593"> </a>
view32
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1106595"> </a>
fml32
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1106597"> </a>
mbstring
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106599"> </a>
<code class="cCode">CARRAY</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106601"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106611"> </a>
<code class="cCode">FML</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106613"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106623"> </a>
<code class="cCode">FML32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106625"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106627"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106629"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106631"> </a>
X
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106633"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106635"> </a>
<code class="cCode">VIEW</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106637"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106647"> </a>
<code class="cCode">VIEW32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106649"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106657"> </a>
X
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106659"> </a>
<code class="cCode">X_COMMON</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106671"> </a>
<code class="cCode">X_C_TYPE</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106683"> </a>
<code class="cCode">X_OCTET</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106685"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106695"> </a>
<code class="cCode">STRING</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106707"> </a>
<code class="cCode">XML</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106711"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106719"> </a>
<code class="cCode">MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106721"> </a>
X
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1106729"> </a>
X
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1109115"> </a>
Python, Ruby, and PHP Data Type Mapping
</h3>
<p class="pBody"><a name="wp1109116"> </a>
The following sections describe the supported data types in Python, Ruby, and PHP clients or components with respect to the native, C/C++ based environment, and in order to give the correspondence for writing the Oracle Tuxedo Service Metadata Repository interface required by the ATMI binding. Corresponding Oracle Tuxedo buffer and field type are also indicated for uses with the ATMI or Web Services binding.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1113174"> </a><a href="sca.html#wp1113203">Python Data Type Mapping</a></li>
<li><a name="wp1113186"> </a><a href="sca.html#wp1109255">Ruby Data Type Mapping</a></li>
<li><a name="wp1122916"> </a><a href="sca.html#wp1122907">PHP Data Type Mapping</a></li>
</ul></div>
<h4 class="pHeading3"><a name="wp1113203"> </a>
Python Data Type Mapping
</h4>
<p class="pBody"><a name="wp1113204"> </a>
In Python, clients or components only use parameters and return values which types are listed in <a href="sca.html#wp1115518">Table&#160;7-11</a>. Multiple parameters are supported (in the same way that multiple parameters are supported in C++), using FML32 Oracle Tuxedo buffers.
</p>
<a name="wp1109119"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Arrays are not supported as they are not supported by bindings or the C++ language extension.</td>
</tr>
</table>

<p class="pGraphic"><a name="wp1109222"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1115518table1109124"><caption><a name="wp1115518"> </a>
Table 7-11   Supported Python, C++ and Oracle Tuxedo Buffer Types

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1115525"> </a>
Python parameter(s) or Return Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1115528"> </a>
C/C++ Native Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1115530"> </a>
ATMI Binding Type
</div>
<div class="pCellHeading"><a name="wp1115531"> </a>
Buffer type/Field Type
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115533"> </a>
<code class="cCode">int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115611"> </a>
<code class="cCode">short, unsigned short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115613"> </a>
<code class="cCode">FML32/FLD_SHORT</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115545"> </a>
<code class="cCode">long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115547"> </a>
<code class="cCode">short, unsigned short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115549"> </a>
<code class="cCode">FML32/FLD_SHORT</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115551"> </a>
<code class="cCode">int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115623"> </a>
<code class="cCode">long, unsigned long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115625"> </a>
<code class="cCode">FML32/FLD_LONG</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115563"> </a>
<code class="cCode">long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115565"> </a>
<code class="cCode">long, unsigned long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115567"> </a>
<code class="cCode">FML32/FLD_LONG</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115569"> </a>
<code class="cCode">bool</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115571"> </a>
<code class="cCode">bool</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115573"> </a>
<code class="cCode">FML32/FLD_CHAR</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115575"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115635"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115637"> </a>
<code class="cCode">FML32/FLD_FLOAT</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115587"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115589"> </a>
<code class="cCode">double, long double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115591"> </a>
<code class="cCode">FML32/FLD_DOUBLE</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115593"> </a>
<code class="cCode">string of length 1</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115595"> </a>
<code class="cCode">char</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115597"> </a>
<code class="cCode">FML32/FLD_CHAR</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115599"> </a>
<code class="cCode">string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115601"> </a>
<code class="cCode">char *, std::string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115603"> </a>
<code class="cCode">STRING</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115605"> </a>
<code class="cCode">xml</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115607"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115609"> </a>
<code class="cCode">FML32, VIEW, VIEW32</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<a name="wp1120544"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>int (short), long, int (long), float (float) are allowed in the C++ to Python direction only. The Python runtime catches any overflow situation (e.g.: when copying a C++ long into a Python int).</td></tr>
</table>

<a name="wp1120639"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>In order to map a string of length 1 to a <code class="cCode">char*/std::string/STRING</code>, the originating Python variable will have to have 2 ending zeroes (for example, <code class="cCode">&#39;t = &quot;a\x00&quot;</code>).</td>
</tr>
</table>
<p class="pBody"><a name="wp1120537"> </a>
Supported XML objects in Python must be <code class="cCode">xml.etree.ElementTree objects</code>, (that is, the language extension converts <code class="cCode">xml.etree.ElementTree</code> objects into <code class="cCode">commonj::sdo::DataObjectPtr</code> objects, and <code class="cCode">commonj::sdo::DataObjectPtr</code> objects into <code class="cCode">xml.etree.ElementTree</code> objects.
</p>
<p class="pBody"><a name="wp1109224"> </a>
Using lists and dictionaries are also supported, as detailed in <a href="sca.html#wp1109230">Python Parameters</a> and <a href="sca.html#wp1115651">Dictionaries</a>.
</p>
<a name="wp1109225"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Lists and dictionaries are allowed as parameters, but are not allowed to be returned.</td>
</tr>
</table>

<p class="pBody"><a name="wp1109226"> </a>
Some limitations concerning multiple parameters and lists will stand with respect to using bindings. For more information, see <a href="sca.html#wp1110208">Python, Ruby, and PHP Binding</a>.
</p>
<h5 class="pHeading4"><a name="wp1109230"> </a>
Python Parameters
</h5>
<p class="pBody"><a name="wp1109231"> </a>
You can use the list notation (*) to pass an undetermined number of parameters to/from a Python program. For example:
</p>
<p class="pBody"><a name="wp1109232"> </a>
<code class="cCode">def test(*params)</code>
</p>
<p class="pBody"><a name="wp1109233"> </a>
<code class="cCode">    for p in params:</code>
</p>
<p class="pBody"><a name="wp1109234"> </a>
<code class="cCode">        print &quot;parameter:&quot;, p</code>
</p>
<p class="pBody"><a name="wp1109235"> </a>
and an example of call: <code class="cCode">test(1, 2, 3, 4, 5)</code>
</p>
<p class="pBody"><a name="wp1109236"> </a>
This notation is equivalent to having an actual list of parameters, such as: 
</p>
<p class="pBody"><a name="wp1109237"> </a>
<code class="cCode">def test(parm1, parm2, parm3, parm4, parm5)</code>
</p>
<p class="pBody"><a name="wp1109238"> </a>
<code class="cCode">    ...</code>
</p>
<p class="pBody"><a name="wp1109239"> </a>
Individual supported types are limited to the types listed in <a href="sca.html#wp1115518">Table&#160;7-11</a>.
</p>
<p class="pBody"><a name="wp1109240"> </a>
Exposing a Python function as an SCA service with ATMI or Web services binding requires an interface. This interface is stored in the Oracle Tuxedo Service Metadata Repository as outlined in <a href="sca.html#wp1108463">Python, Ruby, and PHP Component Programming</a>.
</p>
<p class="pBody"><a name="wp1109241"> </a>
When called, the Python function receives a list of parameters corresponding exactly to what the interface specifies. Any extra parameters passed by the client are ignored, and any type mismatch results in a data mapping exception.
</p>
<a name="wp1115648"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Using this notation is limited to local calls (no binding), or using ATMI binding between SCA components (that is, the <code class="cCode">&lt;binding.atmi&gt;</code> element with no <code class="cCode">requires=&quot;legacy&quot;</code> attribute).</td>
</tr>
</table>

<p class="pBody"><a name="wp1115649"> </a>
For local calls (no binding specified), or references, no interface is required.
</p>
<h5 class="pHeading4"><a name="wp1115651"> </a>
Dictionaries
</h5>
<p class="pBody"><a name="wp1109245"> </a>
You can use the named parameters notation (** ) to pass name/value pairs, also known as dictionaries, to/from Python programs. For example:
</p>
<p class="pBody"><a name="wp1109246"> </a>
<code class="cCode">def test(**params):</code>
</p>
<p class="pBody"><a name="wp1109247"> </a>
<code class="cCode">    for p in params.keys():</code>
</p>
<p class="pBody"><a name="wp1109248"> </a>
<code class="cCode">        print &quot;key:&quot;, p, &quot; parameter:&quot;, params[p]</code>
</p>
<p class="pBody"><a name="wp1109249"> </a>
and an example of call: <code class="cCode">test(a=1, b=2)</code>
</p>
<p class="pBody"><a name="wp1109250"> </a>
Individual supported types are limited to the types listed in <a href="sca.html#wp1115518">Table&#160;7-11</a>.
</p>
<p class="pBody"><a name="wp1109251"> </a>
Exposing a Python function as an SCA service with the ATMI or Web Services binding requires an interface. This interface is stored in the Oracle Tuxedo Service Metadata Repository as outlined in <a href="sca.html#wp1108463">Python, Ruby, and PHP Component Programming</a>.
</p>
<p class="pBody"><a name="wp1119119"> </a>
For example, consider the Oracle Tuxedo Service Metadata Repository entry shown in <a href="sca.html#wp1119117">Listing&#160;7-40</a>
</p>
<div class="pCodeTitle"><a name="wp1119117"> </a>
Listing&#160;7-40	   Oracle Tuxedo Service Metadata Repository Entry for Python
</div> <a name="wp1119142"> </a><div class="pPreformatted"><pre>##<br />service=testPython2<br />tuxservice=TESTPT<br />inbuf=FML32<br />outbuf=FML32<br /><br />param=NUMBER<br />type=long<br />access=in<br /><br />param=TEXT<br />type=string<br />access=in<br /><br />param=FNUMBER<br />type=double<br />access=in<br />##</pre></div><p class="pBody"><a name="wp1115656"> </a>
When called, the Python function receives a list of parameters corresponding exactly to what the interface specifies. Any extra parameters passed by the client are ignored, and any type mismatch results in a data mapping exception.
</p>
<p class="pBody"><a name="wp1115657"> </a>
The names of the parameters match the key names passed to the Python function. The interface is obtained by making an internal call to the <code class="cHyperlinkCode">
TMMETADATA</code> server. The <code class="cCode">TMMETADATA</code> server must be running in order to make calls to Python, Ruby or PHP functions.
</p>
<p class="pBody"><a name="wp1115668"> </a>
A Python function called with the interface is equivalent to the following Python call:
</p>
<p class="pBody"><a name="wp1109254"> </a>
<code class="cCode">test(a=1, b=2)</code>
</p>
<h4 class="pHeading3"><a name="wp1109255"> </a>
Ruby Data Type Mapping
</h4>
<p class="pBody"><a name="wp1109256"> </a>
<a href="sca.html#wp1109265">Table&#160;7-12</a> lists supported Ruby, C/C++ and Oracle Tuxedo buffer types. Multiple parameters are supported (in the same way that multiple parameters are supported in C++), using FML32 Oracle Tuxedo buffers.
</p>
<p class="pBody"><a name="wp1109257"> </a>
Arrays are not supported as they are not supported by bindings or the C++ language extension.
</p>
<p class="pGraphic"><a name="wp1109342"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1109265table1109262"><caption><a name="wp1109265"> </a>
Table 7-12   Supported Ruby, C++ and Oracle Tuxedo Buffer Types

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1122968"> </a>
Ruby parameter or return type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1122969"> </a>
C/C++ native type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1122960"> </a>
ATMI binding type
</div>
<div class="pCellHeading"><a name="wp1122955"> </a>
Buffer type/Field type
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109283"> </a>
<code class="cCode">Fixnum</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115686"> </a>
<code class="cCode">short, unsigned short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115688"> </a>
<code class="cCode">FML32/FLD_SHORT</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109295"> </a>
<code class="cCode">Fixnum</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115690"> </a>
<code class="cCode">long, unsigned long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1115692"> </a>
<code class="cCode">FML32/FLD_LONG</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109307"> </a>
<code class="cCode">Bignum </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109309"> </a>
<code class="cCode">double, long double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109311"> </a>
<code class="cCode">FML32/FLD_DOUBLE</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109313"> </a>
<code class="cCode">True/false</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109315"> </a>
<code class="cCode">bool</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109317"> </a>
<code class="cCode">FML32/FLD_CHAR</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109319"> </a>
<code class="cCode">Float </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109321"> </a>
<code class="cCode">float </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109323"> </a>
<code class="cCode">FML32/FLD_FLOAT</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109325"> </a>
<code class="cCode">Float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109327"> </a>
<code class="cCode">double, long double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109329"> </a>
<code class="cCode">FML32/FLD_DOUBLE</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109331"> </a>
<code class="cCode">String </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109333"> </a>
<code class="cCode">char *, std::string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109335"> </a>
<code class="cCode">STRING</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109337"> </a>
<code class="cCode">REXML Object</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109339"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1109341"> </a>
<code class="cCode">FML32, VIEW, VIEW32</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<a name="wp1120683"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>Ruby runtime may catch an overflow exception.</td></tr>
</table>

<a name="wp1120703"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Possible loss of precision when the Ruby Bignum is bigger than a C++ double.</td>
</tr>
</table>
<a name="wp1120702"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Float (float) is allowed in C++ to Ruby direction only.</td>
</tr>
</table>
<a name="wp1120686"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>There is no mapping to single character (char/FLD_CHAR) possible in Ruby.</td>
</tr>
</table>
<p class="pBody"><a name="wp1120660"> </a>
Supported XML objects in Ruby must be REXML (that is, the language extension converts <code class="cCode">REXML::Document</code> objects into <code class="cCode">commonj::sdo::DataObect</code> objects, and <code class="cCode">commonj::sdo::DataObjectPtr</code> objects into <code class="cCode">REXML::Document</code> objects.
</p>
<p class="pBody"><a name="wp1109344"> </a>
Using variable argument lists and hashes are also be supported, as detailed in the following paragraphs.
</p>
<a name="wp1109345"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Variable argument lists and hashes are allowed as parameters, but are not allowed to be returned.</td>
</tr>
</table>

<p class="pBody"><a name="wp1109346"> </a>
Some limitations concerning multiple parameters and lists will stand with respect to using bindings. For more information, see <a href="sca.html#wp1110208">Python, Ruby, and PHP Binding</a>. 
</p>
<h5 class="pHeading4"><a name="wp1109350"> </a>
Ruby Parameters
</h5>
<p class="pBody"><a name="wp1109351"> </a>
You can use the list notation (*) to pass an undetermined number of parameters to/from a Ruby script. For example:
</p>
<p class="pBody"><a name="wp1109352"> </a>
<code class="cCode">def func(a, b, *otherargs)</code>
</p>
<p class="pBody"><a name="wp1109353"> </a>
<code class="cCode">    puts a</code>
</p>
<p class="pBody"><a name="wp1109354"> </a>
<code class="cCode">    puts b</code>
</p>
<p class="pBody"><a name="wp1109355"> </a>
<code class="cCode">    otherargs.each { |arg| puts arg }</code>
</p>
<p class="pBody"><a name="wp1109356"> </a>
<code class="cCode">end</code>
</p>
<p class="pBody"><a name="wp1109357"> </a>
which can be called like this: <code class="cCode">func(1, 2, 3, 4, 5)</code>
</p>
<p class="pBody"><a name="wp1109358"> </a>
Individual supported types are limited to the types listed in <a href="sca.html#wp1109265">Table&#160;7-12</a>.
</p>
<p class="pBody"><a name="wp1109359"> </a>
Exposing a Ruby function as an SCA service with the ATMI or Web Services binding requires an interface. This interface is stored in the Oracle Tuxedo Service Metadata Repository as outlined in <a href="sca.html#wp1108463">Python, Ruby, and PHP Component Programming</a>.
</p>
<p class="pBody"><a name="wp1119247"> </a>
For example, consider the Oracle Tuxedo Service Metadata Repository entry shown in <a href="sca.html#wp1119252">Listing&#160;7-41</a>
</p>
<div class="pCodeTitle"><a name="wp1119252"> </a>
Listing&#160;7-41	   Oracle Tuxedo Service Metadata Repository Entry for Ruby
</div> <a name="wp1119283"> </a><div class="pPreformatted"><pre>##<br />service=testRuby<br />tuxservice=TESTRU<br />inbuf=FML32<br />outbuf=FML32<br /><br />param=first<br />type=char<br />access=in<br /><br />param=next<br />type=long<br />access=in<br /><br />param=last<br />type=string<br />access=in</pre></div><a name="wp1119300"> </a><div class="pPreformatted"><pre>##</pre></div><p class="pBody"><a name="wp1109360"> </a>
When called, the Ruby function receives a list of parameters corresponding exactly to what the interface specifies. Any extra parameters passed by the client are ignored, and any type mismatch results in a data mapping exception.
</p>
<a name="wp1109361"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>Using this notation is limited to local calls (no binding), or with using the ATMI binding between SCA components (that is, the <code class="cCode">&lt;binding.atmi&gt;</code> element with no <code class="cCode">requires=&quot;legacy&quot;</code> attribute).</td></tr>
</table>

<a name="wp1113494"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Local calls (no binding specified), or references, do not require an interface.</td>
</tr>
</table>
<h5 class="pHeading4"><a name="wp1109363"> </a>
Hash
</h5>
<p class="pBody"><a name="wp1109364"> </a>
You can use named parameters in the form of hash type parameters to pass name/value pairs to/from Ruby scripts. For example:
</p>
<p class="pBody"><a name="wp1109365"> </a>
<code class="cCode">def func2(hash)</code>
</p>
<p class="pBody"><a name="wp1109366"> </a>
<code class="cCode">    hash.each_pair do |key, val|</code>
</p>
<p class="pBody"><a name="wp1109367"> </a>
<code class="cCode">        puts &quot;#{key} -&gt; #{val}&quot;</code>
</p>
<p class="pBody"><a name="wp1109368"> </a>
<code class="cCode">    end</code>
</p>
<p class="pBody"><a name="wp1109369"> </a>
<code class="cCode">end</code>
</p>
<p class="pBody"><a name="wp1109370"> </a>
which can be called like this: <code class="cCode">func2(&quot;first&quot; =&gt; true, &quot;next&quot; =&gt; 5, &quot;last&quot; =&gt; &quot;hi&quot;)</code>
</p>
<p class="pBody"><a name="wp1109371"> </a>
Individual supported types are limited to the types listed in<a href="sca.html#wp1109265">Table&#160;7-12</a>.
</p>
<p class="pBody"><a name="wp1109372"> </a>
When exposing a Ruby function as an SCA service with the ATMI or Web Services binding, an interface is required. This interface is stored in the Oracle Tuxedo Service Metadata Repository as outlined in <a href="sca.html#wp1108463">Python, Ruby, and PHP Component Programming</a>.
</p>
<p class="pBody"><a name="wp1109373"> </a>
When called, the Ruby function receives a list of parameters corresponding exactly to what the interface specifies. Any extra parameters passed by the client are ignored, and any type mismatch results in a data mapping exception.
</p>
<p class="pBody"><a name="wp1109374"> </a>
The names of the parameters match the key names passed to the Ruby function (that is, a Ruby function called with the above interface is equivalent to the following Ruby client call:
</p>
<p class="pBody"><a name="wp1109375"> </a>
<code class="cCode">func2(&quot;first&quot; =&gt; true, &quot;next&quot; =&gt; 5, &quot;last&quot; =&gt; &quot;hi&quot;)</code>
</p>
<p class="pBody"><a name="wp1109376"> </a>
where the values &#39;true&#39;, 5 and &#39;hi&#39; are arbitrary, not the keys.
</p>
<h4 class="pHeading3"><a name="wp1122907"> </a>
PHP Data Type Mapping
</h4>
<p class="pBody"><a name="wp1122940"> </a>
<a href="sca.html#wp1123138">Table&#160;7-13</a> lists supported Ruby, C/C++ and Oracle Tuxedo buffer types. Multiple parameters are supported (in the same way that multiple parameters are supported in C++), using FML32 Oracle Tuxedo buffers.
</p>
<p class="pBody"><a name="wp1123132"> </a>
Arrays are not supported as they are not supported by bindings or the C++ language extension.
</p>
<p class="pGraphic"><a name="wp1123235"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1123138table1123136"><caption><a name="wp1123138"> </a>
Table 7-13   Supported PHP, C++ and Oracle Tuxedo Buffer Types

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1124046"> </a>
PHP parameter(s) or return type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1124047"> </a>
C/C++ native type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1123148"> </a>
ATMI binding type
</div>
<div class="pCellHeading"><a name="wp1123292"> </a>
Buffer type/Field type
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123156"> </a>
<code class="cCode">integer </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123158"> </a>
<code class="cCode">short, unsigned short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123160"> </a>
<code class="cCode">FML32/FLD_SHORT</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123162"> </a>
<code class="cCode">integer</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123164"> </a>
<code class="cCode">long, unsigned long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123166"> </a>
<code class="cCode">FML32/FLD_LONG</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123168"> </a>
<code class="cCode">boolean</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123170"> </a>
<code class="cCode">bool</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123172"> </a>
<code class="cCode">FML32/FLD_CHAR</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123174"> </a>
<code class="cCode">float1</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123180"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123182"> </a>
<code class="cCode">FML32/FLD_FLOAT</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123186"> </a>
<code class="cCode">float </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123188"> </a>
<code class="cCode">double, long double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123190"> </a>
<code class="cCode">FML32/FLD_DOUBLE</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123192"> </a>
<code class="cCode">string of length 1</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123194"> </a>
<code class="cCode">char</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123196"> </a>
<code class="cCode">FML32/FLD_CHAR</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123198"> </a>
<code class="cCode">string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123200"> </a>
<code class="cCode">char *, std::string</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123202"> </a>
<code class="cCode">STRING</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123204"> </a>
<code class="cCode">string (return type, see below)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123206"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123208"> </a>
<code class="cCode">FML32, VIEW, VIEW32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123210"> </a>
<code class="cCode">object of type SimpleXMLElement (parameter, see below)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123212"> </a>
<code class="cCode">commonj::sdo::DataObjectPtr</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1123214"> </a>
<code class="cCode">FML32, VIEW, VIEW32</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1123216"> </a>
Returning XML data in PHP is done by returning a STRING object which is then converted into a <code class="cCode">SimpleXMLElement</code> as follows:
</p>
<p class="pBodyRelative"><a name="wp1123351"> </a>
<code class="cCode">$ret = $svc-&gt;searchBike(&#39;YELLOW&#39;);</code>
</p>
<p class="pBodyRelative"><a name="wp1123352"> </a>
<code class="cCode">$xml = new SimpleXMLElement($ret, LIBXML_NOWARNING);</code>
</p>
<p class="pBody"><a name="wp1122904"> </a>
Once the XML object constructed, it will be accessed as follows:
</p>
<p class="pBodyRelative"><a name="wp1123368"> </a>
<code class="cCode">echo &quot;First serialno:&quot;.$xml-&gt;BIKES[0]-&gt;SERIALNO.&quot;\n&quot;;</code>
</p>
<p class="pBodyRelative"><a name="wp1123369"> </a>
<code class="cCode">echo &quot;Second serialno:&quot;.$xml-&gt;BIKES[1]-&gt;SERIALNO.&quot;\n&quot;;</code>
</p>
<h5 class="pHeading4"><a name="wp1123366"> </a>
List of Parameters
</h5>
<p class="pBody"><a name="wp1123388"> </a>
You are permitted to pass an undetermined number of parameters when making an SCA reference using the PHP extension. For example:
</p>
<p class="pBodyRelative"><a name="wp1123405"> </a>
<code class="cCode">test(1, 2, 3, 4, 5);</code>
</p>
<p class="pBody"><a name="wp1123421"> </a>
Individual supported types are limited to the types listed in <a href="sca.html#wp1090607">Listing&#160;7-13</a>, with the exception of types originating from or becoming <code class="cCode">commonj::sdo::DataObjectPtr objects</code>.
</p>
<a name="wp1123450"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Using this notation is limited to:</td>
</tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1124066"> </a>local calls (no binding), or </li>
<li><a name="wp1124069"> </a>using the ATMI binding between SCA components (i.e., &lt;binding.atmi&gt; element with no requires=&quot;legacy&quot; attribute). For local calls (no binding specified), or </li>
<li><a name="wp1124070"> </a>references</li>
</ul></div>
<a name="wp1124071"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>No interface is required.</td>
</tr>
</table>
<h5 class="pHeading4"><a name="wp1123451"> </a>
Named Parameters
</h5>
<p class="pBody"><a name="wp1123459"> </a>
You can use named parameters to pass name/value pairs using the PHP SCA extension. For example:
</p>
<p class="pBodyRelative"><a name="wp1123464"> </a>
<code class="cCode">$svc-&gt;searchBike(array(&#39;COLOR&#39; =&gt; &#39;RED&#39;, &#39;TYPE&#39; =&gt; &#39;MTB&#39;));</code>
</p>
<p class="pBody"><a name="wp1123475"> </a>
Individual supported types are limited to the types listed in <a href="sca.html#wp1123138">Table&#160;7-13</a>.
</p>
<h3 class="pHeading2"><a name="wp1123453"> </a>
SCA Structure Data Type Mapping
</h3>
<p class="pBody"><a name="wp1113531"> </a>
In SCA-ATMI applications, an SCA structure parameter can be mapped to an <code class="cCode">ATMI FML32, FML, VIEW32, VIEW, X_COMMON, or X_C_TYPE</code> data type, and this is the data type that is specified in the SCA composite file.
</p>
<p class="pBody"><a name="wp1111722"> </a>
If a <code class="cCode">VIEW32, VIEW, X_COMMON, or X_C_TYPE</code> data type is specified, then this view must exactly match the structure used as an SCA parameter or return type. 
</p>
<a name="wp1113536"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>In order for the view to exactly match the structure, the compilation of the view needs to produce the same structure with the same fields and same offsets as the structure used in the application.</td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1111707"> </a>
SCA Structure and FML32 or FML Mapping
</h4>
<p class="pBody"><a name="wp1111759"> </a>
If the SCA structure parameter is mapped to <code class="cCode">FML32</code> or <code class="cCode">FML</code>, then the field type of the associated FML32 or FML field is a type that can be converted to and from the SCA structure data type For more informations, see <a href="sca.html#wp1085820">SCA Data Type Mapping</a>.
</p>
<h5 class="pHeading4"><a name="wp1111761"> </a>
FML Field Naming Requirements
</h5>
<p class="pBody"><a name="wp1111846"> </a>
In SCA-SCA applications, fields are identified by field number, and FML32 field numbers are automatically generated. In the case of nested structures, field numbers are assigned as if the fields in the inner structure had occurred as flat fields in the outer structure in the place where the inner structure is defined in the outer structure.
</p>
<p class="pBody"><a name="wp1111860"> </a>
In SCA-ATMI applications, the FML32 or FML field name associated with a structure element shall be obtained from the structure description file. For more information, see <a href="sca.html#wp1111545">Using SCA Structure Description Files</a>.
</p>
<h5 class="pHeading4"><a name="wp1111837"> </a>
Long Element Truncation
</h5>
<p class="pBody"><a name="wp1111762"> </a>
When converting an FML32 or FML string, carray, or mbstring field to a structure element, any data that does not fit in the structure element is truncated (without warning) to the provided length. 
</p>
<p class="pBody"><a name="wp1113569"> </a>
For example, if a structure element is char <code class="cCode">COMPANY_NAME[20]</code>; and FML field <code class="cCode">COMPANY_NAME</code> with value &quot;International Business Machines&quot; is mapped to this structure element, then &quot;International Busine&quot; is copied to the structure element with no trailing null character.
</p>
<h4 class="pHeading3"><a name="wp1111704"> </a>
SCA Structure and VIEW32, VIEW, X_OCTET, or X_C_TYPE Mapping
</h4>
<p class="pBody"><a name="wp1111792"> </a>
If an SCA structure is mapped to a <code class="cCode">VIEW32, VIEW, X_OCTET, or X_C_TYPE</code> data type, then the structure used for the Oracle Tuxedo view-based type must exactly match the SCA structure, and is copied byte-by-byte. In other words, no marshalling of data is done when converting between an SCA structure, and a view. FML32 or FML should be used if data marshalling is required.
</p>
<p class="pBody"><a name="wp1113577"> </a>
When an SCA structure is mapped to a view-based Oracle Tuxedo type, you cannot specify <code class="cCode">bool</code>, <code class="cCode">wchar_t</code>, <code class="cCode">long long</code>, <code class="cCode">unsigned long long</code>, <code class="cCode">long double</code>, or nested structure data types within the SCA structure since corresponding data types do not exist within Oracle Tuxedo views. Elements corresponding to any Oracle Tuxedo Associated Count Member or Associated Length Member fields must be provided. Appropriate values for any such elements must also be provided by the application if converting an SCA structure to an Oracle Tuxedo view.
</p>
<h4 class="pHeading3"><a name="wp1111813"> </a>
SCA Structure and Mbstring Mapping
</h4>
<p class="pBody"><a name="wp1111829"> </a>
An mbstring field type currently exists in VIEW32 (for more information, see <code class="cHyperlinkCode">
<a href="../../../tuxedo/docs11gr1/rf3fml/index.html">tpconvvmb32</a></code>). SCA structures treat the mbstring field type in the same way as in VIEW32. The encoding information is part of an mbstring structure element, and <code class="cHyperlinkCode">
<a href="../../../tuxedo/docs11gr1/rf3fml/index.html">Fmbunpack32()</a></code> and <code class="cHyperlinkCode">
<a href="../../../tuxedo/docs11gr1/rf3fml/index.html">Fmbpack32()</a></code> must be used in application programs using mbstring data in structures.
</p>
<h4 class="pHeading3"><a name="wp1112083"> </a>
TPFAIL Return Data
</h4>
<p class="pBody"><a name="wp1112098"> </a>
You can specify a structure pointer as data returned on TPFAIL if the same structure pointer is also returned on successful output. Since SCA must store internal information describing the returned structure along with the application data, <code class="cCode">&lt;tuxsca.h&gt;</code> is used to define the structure and <code class="cCode">typedef</code> as shown in <a href="sca.html#wp1112111">Listing&#160;7-42</a>.
</p>
<div class="pCodeTitle"><a name="wp1112111"> </a>
Listing&#160;7-42	   &lt;tuxsca.h&gt; SCA Structure and Typedef Definition
</div> <a name="wp1112125"> </a><div class="pPreformatted"><pre>struct scastruct_t {<br />&#160;&#160;void *data;<br />&#160;&#160;void *internalinfo;<br />};<br />typedef struct scastruct_t *SCASTRUCT_PTR;</pre></div><p class="pBody"><a name="wp1112152"> </a>
If an application normally returns &quot;<code class="cCode">struct mystruct </code>*&quot; data, it accesses TPFAIL data as shown in <a href="sca.html#wp1112111">Listing&#160;7-42</a>.
</p>
<div class="pCodeTitle"><a name="wp1112161"> </a>
Listing&#160;7-43	   TPFAIL Example
</div> <a name="wp1112172"> </a><div class="pPreformatted"><pre>… catch (Tuscany::sca::atmi::ATMIBindingException&amp; abe) {<br />&#160;&#160;SCASTRUCT_PTR *scap = (SCASTRUCT_PTR *)abe.getData();<br />&#160;&#160;struct mystruct *result = (struct mystruct *)scap-&gt;data;<br />}</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1112199"> </a>
SCA and Oracle Tuxedo Interoperability
</h2><p class="pBody"><a name="wp1110612"> </a>
Existing Oracle Tuxedo service interoperability is performed by using the<code class="cCode"> /binding.atmi/@requires</code> attribute with the legacy value. When a legacy value is specified, invocations are performed using the following behavior:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110613"> </a>If a <code class="cCode">&lt;map&gt;</code> element is present in either a <code class="cCode">&lt;reference&gt;</code> or a <code class="cCode">&lt;service&gt;</code>, that value is used to determine which Oracle Tuxedo service is associated with the specified method name to call or advertise.</li>
</ul></div>
<p class="pBody"><a name="wp1110614"> </a>
Otherwise:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110615"> </a>In a <code class="cCode">&lt;reference&gt;</code> element: the value specified in the <code class="cCode">/reference/@name</code> element is used to perform the Oracle Tuxedo call, with semantics according to the interface method used.</li>
<li><a name="wp1110616"> </a>In a <code class="cCode">&lt;service&gt;</code> element: the Oracle Tuxedo service specified in the <code class="cCode">/binding.atmi/map</code> element is advertised, and mapped to the method specified in the <code class="cCode">/binding.atmi/map/@target</code> attribute.</li>
</ul></div>
<p class="pBody"><a name="wp1110617"> </a>
Additionally, the<code class="cCode"> /binding.atmi/@requires</code> attribute is used to internally control data mapping, such that FML32 or FML field tables are not required.
</p>
<a name="wp1110618"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>When<span style="font-style: italic"> not</span> specified, communications are assumed to have SCA -&gt; SCA semantics where the actual Oracle Tuxedo service name is constructed from <code class="cCode">/service/@name</code> or <code class="cCode">/reference/@name</code> and actual method name (see the pseudo schema shown <a href="sca.html#wp1109931">Listing&#160;7-27</a>).</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1110625"> </a>
SCA Transactions
</h2><p class="pBody"><a name="wp1110626"> </a>
The ATMI binding schema supports SCA transaction policies by using the <code class="cCode">/binding.atmi/@requires</code> attribute and three transaction values. These transaction values specify the transactional behavior that the binding extension follows when ATMI binding is used (see the pseudo schema shown <a href="sca.html#wp1109931">Listing&#160;7-27</a>).
</p>
<p class="pBody"><a name="wp1110630"> </a>
The transaction values are as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1110631"> </a>Not specified (no value) </li>
<p class="pBodyRelative"><a name="wp1110632"> </a>
All transactional behavior is left up to the Oracle Tuxedo configuration. If the Oracle Tuxedo configuration supports transactions, then a transaction can be propagated if it exists. 
</p>
<p class="pBodyRelative"><a name="wp1115763"> </a>
If the Oracle Tuxedo configuration does not support transactions and a transaction exists, then an error occurs.
</p>
<a name="wp1115764"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>A transaction is not started if a transaction does not already exist.</td>
</tr>
</table>

<li><a name="wp1110633"> </a><code class="cCode">suspendsTransaction</code></li>
<p class="pBodyRelative"><a name="wp1110634"> </a>
When specified, the transaction context is not propagated to the service called. For a <code class="cCode">&lt;service&gt;</code>, the transaction (if present), is automatically suspended before invoking the application code, and resumed afterwards, regardless of the outcome of the invocation. For a <code class="cCode">&lt;reference&gt;</code>, equivalent to making a <code class="cCode">tpcall()</code> with the <code class="cCode">TPNOTRAN</code> flag.
</p>
<li><a name="wp1110635"> </a><code class="cCode">propagatesTransaction </code></li>
<p class="pBodyRelative"><a name="wp1110636"> </a>
Only applicable to <code class="cCode">&lt;reference&gt;</code> elements, ignored for <code class="cCode">&lt;service&gt;</code> elements. Starts a new transaction if one does not already exist, otherwise participate in existing transaction. Such a behavior can be obtained in a component or composite <code class="cCode">&lt;service&gt;</code> by configuring it <code class="cCode">AUTOTRAN</code> in the UBBCONFIG. An error is generated if an Oracle Tuxedo server hosts the SCA component implementation and is not configured in a transactional group in the UBBCONFIG.
</p>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1110638"> </a>
SCA Security
</h2><p class="pBody"><a name="wp1110639"> </a>
SCA references pass credentials using the <code class="cCode">&lt;authentication&gt;</code> element of the <code class="cCode">binding.atmi </code>SCDL element.
</p>
<p class="pBody"><a name="wp1110640"> </a>
SCA services can be ACL protected by referencing their internal name: <code class="cCode">/binding.atmi/service/@name</code> attribute followed by a &#39;<code class="cCode">/</code>&#39; and method name in SCA -&gt; SCA mode, <code class="cCode">/binding.atmi/service/@name</code> attribute in <code class="cCode">legacy</code> mode (SCA -&gt; Tux interop mode).
</p>
<p class="pBody"><a name="wp1110644"> </a>
For more information, see <a href="sca.html#wp1112199">SCA and Oracle Tuxedo Interoperability</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1099386"> </a>
See Also
</h2><div class="pSmartList1Bullet"><ul>
<li><a name="wp1093837"> </a><span class="cHyperlink">
<a href="../admin/index.html">Oracle SALT Administration Guide</a></span></li>
<li><a name="wp1095227"> </a><span class="cHyperlink">
<a href="../ref/index.html">Oracle SALT Command Reference Guide</a></span></li>
<li><a name="wp1093838"> </a>SDO for C++ Specification V2.1</li>
<p class="pBodyRelative"><a name="wp1088524"> </a>
<span class="cHyperlink">
<a href="http://www.osoa.org/download/attachments/36/CPP-SDO-Spec-v2.1.0-FINAL.pdf?version=2">http://www.osoa.org/download/attachments/36/CPP-SDO-Spec-v2.1.0-FINAL.pdf?version=2</a></span>
</p>
<li><a name="wp1088525"> </a>SCA Assembly Model V0.96:</li>
<p class="pBodyRelative"><a name="wp1088527"> </a>
<span class="cHyperlink">
<a href="http://www.osoa.org/download/attachments/35/SCA_AssemblyModel_V096.pdf?version=1">http://www.osoa.org/download/attachments/35/SCA_AssemblyModel_V096.pdf?version=1</a></span>
</p>
<li><a name="wp1088528"> </a>SCA Client and Implementation for C++ (V0.95):</li>
<p class="pBodyRelative"><a name="wp1088530"> </a>
<span class="cHyperlink">
<a href="http://www.osoa.org/download/attachments/35/SCA_ClientAndImplementationModelforCpp_V0.95.pdf?version=1">http://www.osoa.org/download/attachments/35/SCA_ClientAndImplementationModelforCpp_V0.95.pdf?version=1</a></span>
</p>
</ul></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="sca.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="plugin.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq10" src="/global_resources/images/nexttop_disabled.gif" border="0" alt="Next" />
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
