<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="5" />
<meta name="LOC_US_CHANGE" content="42041" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/salt12c/prog/fm/datamap.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/29/12 11:34:01" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Data Type Mapping and Message Conversion</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Programming Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="intro.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="client.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/prog.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1057301"> </a>
Data Type Mapping and Message Conversion
</h1>
<p class="pBody"><a name="wp1057577"> </a>
This topic contains the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1057342"> </a><a href="datamap.html#wp1047766">Overview of Data Type Mapping and Message Conversion</a></li>
<li><a name="wp1055661"> </a><a href="datamap.html#wp1055613">Understanding Oracle SALT Message Conversion</a></li>
<li><a name="wp1047864"> </a><a href="datamap.html#wp1035647">Tuxedo-to-XML Data Type Mapping for Oracle Tuxedo Services</a></li>
<li><a name="wp1025468"> </a><a href="datamap.html#wp1050031">XML-to-Tuxedo Data Type Mapping for External Web Services</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1047766"> </a>
Overview of Data Type Mapping and Message Conversion
</h2><p class="pBody"><a name="wp1059433"> </a>
Oracle SALT supports bi-directional data type mapping between WSDL messages and Oracle Tuxedo typed buffers. For each service invocation, GWWS server converts each message between Oracle Tuxedo typed buffer and SOAP message payload. SOAP message payload is the XML effective data encapsulated within the &lt;<code class="cCode">soap:body</code>&gt; element. For more information, see <a href="datamap.html#wp1055613">Understanding Oracle SALT Message Conversion</a>.
</p>
<p class="pBody"><a name="wp1054532"> </a>
For native Oracle Tuxedo services, each Oracle Tuxedo buffer type is described using an XML Schema in the SALT generated WSDL document. Oracle Tuxedo service request/response buffers are represented in regular XML format. For more information, see <a href="datamap.html#wp1035647">Tuxedo-to-XML Data Type Mapping for Oracle Tuxedo Services</a>.
</p>
<p class="pBody"><a name="wp1054536"> </a>
For external Web services, each WSDL message is mapped as an Oracle Tuxedo FML32 buffer structure. An Oracle Tuxedo application invokes SALT proxy service using FML32 buffers as input/output. For more information see, <a href="datamap.html#wp1050031">XML-to-Tuxedo Data Type Mapping for External Web Services</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1055613"> </a>
Understanding Oracle SALT Message Conversion
</h2><p class="pBody"><a name="wp1055656"> </a>
Oracle SALT message conversion is the message transformation process between SOAP XML data and Oracle Tuxedo typed buffer. Oracle SALT introduces two types message conversion rules: Inbound Message Conversion and Outbound Message Conversion.
</p>
<h3 class="pHeading2"><a name="wp1055909"> </a>
Inbound Message Conversion
</h3>
<p class="pBody"><a name="wp1055928"> </a>
Inbound message conversion process is the SOAP XML Payload and Oracle Tuxedo typed buffer conversion process conforms to the &#8220;Tuxedo-to-XML data type mapping rules&#8221;. Inbound message conversion process happens in the following two phases:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1056450"> </a>When GWWS accepts SOAP requests for legacy Oracle Tuxedo services;</li>
<li><a name="wp1056492"> </a>When GWWS accepts response typed buffer from legacy Oracle Tuxedo service.</li>
</ul></div>
<p class="pBody"><a name="wp1055926"> </a>
Oracle SALT encloses Oracle Tuxedo buffer content with element <code class="cCode">&lt;inbuf&gt;</code>, <code class="cCode">&lt;outbuf&gt; </code>and/or <code class="cCode">&lt;errbuf&gt;</code> in the SOAP message, the content included within element <code class="cCode">&lt;inbuf&gt;</code>, <code class="cCode">&lt;outbuf&gt;</code> and/or <code class="cCode">&lt;errbuf&gt; </code>is called &#8220;Inbound XML Payload&#8221;.
</p>
<h3 class="pHeading2"><a name="wp1055914"> </a>
Outbound Message Conversion
</h3>
<p class="pBody"><a name="wp1056540"> </a>
Outbound message conversion process is the SOAP XML Payload and Oracle Tuxedo typed buffer conversion process conforms to the &#8220;Tuxedo-to-XML data type mapping rules&#8221;. Outbound message conferring process happens in the following two phases:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1056541"> </a>When GWWS accepts request typed buffer sent from an Oracle Tuxedo application;</li>
<li><a name="wp1055925"> </a>When GWWS accepts SOAP response message from external Web service.</li>
</ul></div>
<p class="pBody"><a name="wp1056051"> </a>
<a href="datamap.html#wp1056055">Table&#160;2-1</a> compares an inbound message conversion process and an outbound message conversion process.
</p>
<p class="pGraphic"><a name="wp1056052"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1056055table1056053"><caption><a name="wp1056055"> </a>
Table 2-1  Inbound Message Conversion vs. Outbound Message Conversion

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1056059"> </a>
Inbound Message Conversion
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1056061"> </a>
Outbound Message Conversion
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1056063"> </a>
SOAP message payload is encapsulated with &lt;inbuf&gt;, &lt;outbuf&gt; or &lt;errbuf&gt;
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1056065"> </a>
SOAP message payload is the entire &lt;soap:body&gt;
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1056067"> </a>
Transformation according to &#8220;Tuxedo-to-XML data type mapping rules&#8221;
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1056069"> </a>
Transformation according to &#8220;XML-to-Tuxedo data type mapping rules&#8221;
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1056071"> </a>
All Oracle Tuxedo buffer types are involved
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1056073"> </a>
Only Oracle Tuxedo FML32 buffer type is involved
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1035647"> </a>
Tuxedo-to-XML Data Type Mapping for Oracle Tuxedo Services
</h2><p class="pBody"><a name="wp1047957"> </a>
Oracle SALT provides a set of rules for describing Oracle Tuxedo typed buffers in an XML document as shown in <a href="datamap.html#wp1047967">Table&#160;2-2</a>. These rules are exported as XML Schema definitions in SALT WSDL documents. This simplifies buffer conversion and does not require previous Oracle Tuxedo buffer type knowledge.
</p>
<p class="pGraphic"><a name="wp1048159"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1047967table1047964"><caption><a name="wp1047967"> </a>
Table 2-2  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Oracle Tuxedo Buffer Mapping to XML Schema</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1047973"> </a>
Oracle Tuxedo Buffer Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1047975"> </a>
Description 
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1047977"> </a>
XML Schema Mapping for SOAP Message
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047979"> </a>
<code class="cCode">STRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047981"> </a>
Oracle Tuxedo STRING typed buffers are used to store character strings that terminate with a NULL character. Oracle Tuxedo STRING typed buffers are self-describing.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047983"> </a>
xsd:string
</div>
<div class="pCellBody"><a name="wp1047984"> </a>
In the SOAP message, the XML element that encapsulates the actual string data, must be defined using <code class="cCode">xsd:string</code> directly.
</div>
<div class="pCellBody"><a name="wp1047985"> </a>
<b class="cBold">Notes:</b>
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1056166"> </a>The <code class="cCode">STRING</code> data type can be specified with a max data length in the Oracle Tuxedo Service Metadata Repository. If defined in Oracle Tuxedo, the corresponding SOAP message also enforces this maximum. The GWWS server validates the actual message byte length against the definition in Oracle Tuxedo Service Metadata Repository. A SOAP fault message is returned if the message byte length exceeds supported maximums.</li>
<li><a name="wp1047986"> </a>If GWWS server receives a SOAP message other than &#8220;UTF-8&#8221;, the corresponding string value is in the same encoding.</li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047989"> </a>
<code class="cCode">CARRAY<br />(Mapping with SOAP Message plus Attachments)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047991"> </a>
Oracle Tuxedo <code class="cCode">CARRAY</code> typed buffers store character arrays, any of which can be NULL. <code class="cCode">CARRAY</code> buffers are used to handle data opaquely and are not self-describing.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047993"> </a>
The <code class="cCode">CARRAY</code> buffer raw data is carried within a MIME multipart/related message, which is defined in the &#8220;SOAP Messages with Attachments&#8217; specification. 
</div>
<div class="pCellBody"><a name="wp1047994"> </a>
The two data formats supported for MIME Content-Type attachments are:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1047995"> </a><code class="cCode">application/octet-stream</code></li>
<div class="pSmartList2TableBullet"><ul class="SmartList2TableBullet">
<li><a name="wp1047996"> </a>For Apache Axis</li>
</ul></div>
<li><a name="wp1047997"> </a><code class="cCode">text/xml</code></li>
<div class="pSmartList2TableBullet"><ul class="SmartList2TableBullet">
<li><a name="wp1047998"> </a>For Oracle WebLogic Server</li>
</ul></div>
</ul></div>
<div class="pCellBody"><a name="wp1047999"> </a>
The format depends on which Web service client-side toolkit is used. 
</div>
<p class="pTableNote"><a name="wp1048000"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The SOAP with Attachment rule is only interoperable with Oracle WebLogic Server and Apache Axis.</td></tr>
</table>
</p>
<p class="pTableNote"><a name="wp1048006"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>CARRAY data types can be specified with a max byte length. If defined in Oracle Tuxedo, the corresponding SOAP message is enforced with this limitation. The GWWS server validates the actual message byte length against the definition in the Oracle Tuxedo Service Metadata Repository. </td></tr>
</table>
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048008"> </a>
<code class="cCode">CARRAY<br />(Mapping with base64Binary)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048447"> </a>
Oracle Tuxedo <code class="cCode">CARRAY</code> typed buffers store character arrays, any of which can be NULL. <code class="cCode">CARRAY</code> buffers are used to handle data opaquely and are not self-describing.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048012"> </a>
<code class="cCode">xsd:base64Binary</code>
</div>
<div class="pCellBody"><a name="wp1048013"> </a>
The <code class="cCode">CARRAY</code> data bytes must be encoded with <code class="cCode">base64Binary</code> before it can be embedded in a SOAP message. Using <code class="cCode">base64Binary</code> encoding with this opaque data stream saves the original data and makes the embedded data well-formed and readable.
</div>
<div class="pCellBody"><a name="wp1048014"> </a>
In the SOAP message, the XML element that encapsulates the actual CARRAY data, must be defined with <code class="cCode">xsd:base64Binary</code> directly.
</div>
<p class="pTableNote"><a name="wp1048022"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">CARRAY</code> data type can be specified with a max byte length. If defined in Oracle Tuxedo, the corresponding SOAP message is enforced with this limitation. The GWWS server validates the actual message byte length against the definition in the Oracle Tuxedo Service Metadata Repository.</td></tr>
</table>
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048024"> </a>
<code class="cCode">MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048026"> </a>
Oracle Tuxedo <code class="cCode">MBSTRING</code> typed buffers are used for multibyte character arrays. Oracle Tuxedo <code class="cCode">MBSTRING</code> buffers consist of the following three elements: 
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1048027"> </a>Code-set character encoding</li>
<li><a name="wp1048028"> </a>Data length</li>
<li><a name="wp1048029"> </a>Character array of the encoding.</li>
</ul></div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048031"> </a>
<code class="cCode">xsd:string</code>
</div>
<div class="pCellBody"><a name="wp1048032"> </a>
The XML Schema built-in type, <code class="cCode">xsd:string</code>, represents the corresponding type for buffer data stored in a SOAP message.
</div>
<div class="pCellBody"><a name="wp1048033"> </a>
The GWWS server only accepts &#8220;UTF-8&#8221; encoded XML documents. If the Web service client wants to access Oracle Tuxedo services with <code class="cCode">MBSTRING</code> buffer, the mbstring payload must be represented as &#8220;UTF-8&#8221; encoding in the SOAP request message. 
</div>
<p class="pTableNote"><a name="wp1048034"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The GWWS server transparently passes the &#8220;UTF-8&#8221; character set string to the Oracle Tuxedo service using <code class="cCode">MBSTRING</code> Typed buffer format.The actual Oracle Tuxedo services handles the UTF-8 string.</td></tr>
</table>
</p>
<div class="pCellBody"><a name="wp1048035"> </a>
For any Oracle Tuxedo response <code class="cCode">MBSTRING</code> typed buffer (with any encoding character set), The GWWS server automatically transforms the string into &#8220;UTF-8&#8221; encoding and sends it back to the Web service client.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048037"> </a>
<code class="cCode">MBSTRING (cont.)</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048041"> </a>
<b class="cBold">Limitation:</b>
</div>
<div class="pCellBody"><a name="wp1048042"> </a>
Oracle Tuxedo <code class="cCode">MBSTRING</code> data type can be specified with a max byte length in the Oracle Tuxedo Service Metadata Repository. The GWWS server checks the byte length of the converted <code class="cCode">MBSTRING</code> buffer value.
</div>
<p class="pTableNote"><a name="wp1054894"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Max byte length value is not used to enforce the character number contained in the SOAP message.</td></tr>
</table>
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048048"> </a>
<code class="cCode">XML</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048050"> </a>
Oracle Tuxedo XML typed buffers store XML documents.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048052"> </a>
<code class="cCode">xsd:anyType</code>
</div>
<div class="pCellBody"><a name="wp1055100"> </a>
The XML Schema built-in type, <code class="cCode">xsd:anyType</code>, is the corresponding type for XML documents stored in a SOAP message. It allows you to encapsulate any well-formed XML data within the SOAP message.
</div>
<div class="pCellBody"><a name="wp1048054"> </a>
<b class="cBold">Limitation:</b>
</div>
<div class="pCellBody"><a name="wp1048055"> </a>
The GWWS server validates that the actual XML data is well-formed. It will not do any other enforcement validation, such as Schema validation.
</div>
<div class="pCellBody"><a name="wp1048056"> </a>
Only a single root XML buffer is allowed to be stored in the SOAP body; the GWWS server checks for this.
</div>
<div class="pCellBody"><a name="wp1048057"> </a>
The actual XML data must be encoded using the &#8220;UTF-8&#8221; character set. Any original XML document prolog information cannot be carried within the SOAP message.
</div>
<div class="pCellBody"><a name="wp1048270"> </a>
XML data type can specify a max byte data length. If defined in Oracle Tuxedo, the corresponding SOAP message must also enforce this limitation. 
</div>
<p class="pTableNote"><a name="wp1048284"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The Oracle SALT WSDL generator will not have <code class="cCode">xsd:maxLength</code> restrictions in the generated WSDL document, but the GWWS server will validate the byte length according to the Oracle Tuxedo Service Metadata Repository definition.</td></tr>
</table>
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048064"> </a>
<code class="cCode">X_C_TYPE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048066"> </a>
<code class="cCode">X_C_TYPE</code> buffer types are equivalent to VIEW buffer types.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048068"> </a>
See <code class="cCode">VIEW/VIEW32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048070"> </a>
<code class="cCode">X_COMMON</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048072"> </a>
<code class="cCode">X_COMMON</code> buffer types are equivalent to VIEW buffer types, but are used for compatibility between COBOL and C programs. Field types should be limited to short, long, and string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048074"> </a>
See <code class="cCode">VIEW/VIEW32</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048076"> </a>
<code class="cCode">X_OCTET</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048078"> </a>
<code class="cCode">X_OCTET</code> buffer types are equivalent to <code class="cCode">CARRAY</code> buffer types
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048080"> </a>
See <code class="cCode">CARRAY</code> <code class="cCode">xsd:base64Binary</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048082"> </a>
<code class="cCode">VIEW/VIEW32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048084"> </a>
Oracle Tuxedo VIEW and VIEW32 typed buffers store C structures defined by Oracle Tuxedo applications.
</div>
<div class="pCellBody"><a name="wp1048085"> </a>
VIEW structures are defined by using VIEW definition files. A VIEW buffer type can define multiple fields.
</div>
<div class="pCellBody"><a name="wp1048086"> </a>
VIEW supports the following field types:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1048087"> </a><code class="cCode">short</code></li>
<li><a name="wp1048088"> </a><code class="cCode">int</code></li>
<li><a name="wp1048089"> </a><code class="cCode">long</code></li>
<li><a name="wp1048090"> </a><code class="cCode">float</code></li>
<li><a name="wp1048091"> </a><code class="cCode">double</code></li>
<li><a name="wp1048092"> </a><code class="cCode">char</code></li>
<li><a name="wp1048093"> </a><code class="cCode">string</code></li>
<li><a name="wp1048094"> </a><code class="cCode">carray</code></li>
<li><a name="wp1059696"> </a>bool</li>
<li><a name="wp1059697"> </a>unsigned char</li>
<li><a name="wp1059698"> </a>signed char</li>
<li><a name="wp1059699"> </a>wchar_t* or wchar_t</li>
<li><a name="wp1059700"> </a>unsigned int</li>
<li><a name="wp1059701"> </a>unsigned long</li>
<li><a name="wp1059702"> </a>long long</li>
<li><a name="wp1059703"> </a>unsigned long long</li>
<li><a name="wp1059704"> </a>long doubl</li>
</ul></div>
<div class="pCellBody"><a name="wp1048095"> </a>
VIEW32 supports all the VIEW field types, mbstring, and embedded VIEW32 type.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048097"> </a>
Each VIEW or VIEW32 data type is defined as an XML Schema complex type. Each VIEW field should be one or more sub-elements of the XML Schema complex type. The name of the sub-element is the VIEW field name. The occurrence of the sub-element depends on the count attribute of the VIEW field definition. The value of the sub-element should be in the VIEW field data type corresponding XML Schema type.
</div>
<div class="pCellBody"><a name="wp1048098"> </a>
The the field types and the corresponding XML Schema type are listed as follows:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1048099"> </a><code class="cCode">short</code> maps to <code class="cCode">xsd:short</code></li>
<li><a name="wp1048100"> </a><code class="cCode">int</code> maps to <code class="cCode">xsd:int</code></li>
<li><a name="wp1048101"> </a><code class="cCode">long</code> maps to <code class="cCode">xsd:long</code></li>
<li><a name="wp1048102"> </a><code class="cCode">float</code> maps to <code class="cCode">xsd:float</code></li>
<li><a name="wp1048103"> </a><code class="cCode">double</code> maps to <code class="cCode">xsd:double</code></li>
<li><a name="wp1048104"> </a><code class="cCode">char</code> (defined as byte in Oracle Tuxedo Service Metadata Repository definition)<code class="cCode"> </code>maps to <code class="cCode">xsd:byte</code></li>
<li><a name="wp1048105"> </a><code class="cCode">char</code> (defined as char in Oracle Tuxedo Service Metadata Repository definition) maps to <code class="cCode">xsd:string</code> (with restrictions <code class="cCode">maxlength=1</code>)</li>
<li><a name="wp1048106"> </a><code class="cCode">string</code> maps to <code class="cCode">xsd:string</code></li>
<li><a name="wp1048107"> </a><code class="cCode">carray</code> maps to <code class="cCode">xsd:base64Binary</code></li>
<li><a name="wp1059761"> </a><code class="cCode">mbstring</code> maps to <code class="cCode">xsd:string</code></li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048110"> </a>
<code class="cCode">VIEW/VIEW32 (cont.)</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1059818"> </a><code class="cCode">bool maps to xsd:Boolean</code></li>
<li><a name="wp1059819"> </a><code class="cCode">unsigned char maps to xsd:unsignedByte</code></li>
<li><a name="wp1059820"> </a><code class="cCode">signed char maps to xsd:byte</code></li>
<li><a name="wp1059821"> </a><code class="cCode">wchar_t* or wchar_t array maps to xsd:string</code></li>
<li><a name="wp1059822"> </a><code class="cCode">unsigned int maps to xsd:unsignedInt</code></li>
<li><a name="wp1059823"> </a><code class="cCode">unsigned long maps to xsd:unsignedLong</code></li>
<li><a name="wp1059824"> </a><code class="cCode">long long maps to xsd:long</code></li>
<li><a name="wp1059825"> </a><code class="cCode">unsigned long long maps to xsd:unsignedLong</code></li>
<li><a name="wp1059826"> </a><code class="cCode">long double maps to xsd:double</code></li>
<li><a name="wp1059803"> </a><code class="cCode">VIEW32 maps to tuxtype:view &lt;viewname&gt;</code></li>
</ul></div>
<div class="pCellBody"><a name="wp1059780"> </a>
For more information, see <a href="datamap.html#wp1037238">VIEW/VIEW32 Considerations</a>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048119"> </a>
<code class="cCode">FML/FML32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048121"> </a>
Oracle Tuxedo FML and FML32 type buffers are proprietary Oracle Oracle Tuxedo system self-describing buffers. Each data field carries its own identifier, an occurrence number, and possibly a length indicator.
</div>
<div class="pCellBody"><a name="wp1048122"> </a>
FML supports the following field types:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1048123"> </a><code class="cCode">FLD_CHAR</code></li>
<li><a name="wp1048124"> </a><code class="cCode">FLD_SHORT</code></li>
<li><a name="wp1048125"> </a><code class="cCode">FLD_LONG</code></li>
<li><a name="wp1048126"> </a><code class="cCode">FLD_FLOAT</code></li>
<li><a name="wp1048127"> </a><code class="cCode">FLD_DOUBLE</code></li>
<li><a name="wp1048128"> </a><code class="cCode">FLD_STRING</code></li>
<li><a name="wp1048129"> </a><code class="cCode">FLD_CARRAY</code></li>
</ul></div>
<div class="pCellBody"><a name="wp1048130"> </a>
FML32 supports all the FML field types and <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048132"> </a>
FML/FML32 buffers can only have basic data-dictionary-like definitions for each basic field data. A particular FML/FML32 buffer definition should be applied for each FML/FML32 buffer with a different type name.
</div>
<div class="pCellBody"><a name="wp1048390"> </a>
Each FML/FML32 field should be one or more sub-elements within the FML/FML32 buffer XML Schema type. The name of the sub-element is the FML field name. The occurrence of the sub-element depends on the count and required count attribute of the FML/FML32 field definition.
</div>
<div class="pCellBody"><a name="wp1048391"> </a>
The e field types and the corresponding XML Schema type are listed below:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1048135"> </a><code class="cCode">short</code> maps to <code class="cCode">xsd:short</code></li>
<li><a name="wp1048136"> </a><code class="cCode">int</code> maps to <code class="cCode">xsd:int</code></li>
<li><a name="wp1048137"> </a><code class="cCode">long</code> maps to <code class="cCode">xsd:long</code></li>
<li><a name="wp1048138"> </a><code class="cCode">float</code> maps to <code class="cCode">xsd:float</code></li>
<li><a name="wp1048139"> </a><code class="cCode">double</code> maps to <code class="cCode">xsd:double</code></li>
<li><a name="wp1048140"> </a><code class="cCode">char</code> (defined as byte in Oracle Tuxedo Service Metadata Repository definition) maps to <code class="cCode">xsd:byte</code></li>
<li><a name="wp1048141"> </a><code class="cCode">char</code> (defined as char in Oracle Tuxedo Service Metadata Repository definition) maps to <code class="cCode">xsd:string</code></li>
<li><a name="wp1048142"> </a><code class="cCode">string</code> maps to <code class="cCode">xsd:string</code></li>
<li><a name="wp1048143"> </a><code class="cCode">carray</code> maps to <code class="cCode">xsd:base64Binary</code></li>
<li><a name="wp1048144"> </a><code class="cCode">mbstring</code> maps to <code class="cCode">xsd:string</code></li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048146"> </a>
<code class="cCode">FML/FML32</code>
</div>
<div class="pCellBody"><a name="wp1048147"> </a>
(cont.)
</div>
</td>
    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1048151"> </a><code class="cCode">view32</code> maps to <code class="cCode">tuxtype:view &lt;viewname&gt;</code></li>
<li><a name="wp1048152"> </a><code class="cCode">fml32</code> maps to <code class="cCode">tuxtype:fml32 &lt;svcname&gt;_p&lt;SeqNum&gt;</code></li>
<p class="pTableListPara"><a name="wp1048153"> </a>
To avoid multiple embedded FML32 buffers in an FML32 buffer, a unique sequence number (&lt;SeqNum&gt;) is used to distinguish the embedded FML32 buffers.
</p>
</ul></div>
<p class="pTableNote"><a name="wp1048154"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">ptr</code> is not supported.</td></tr>
</table>
</p>
<div class="pCellBody"><a name="wp1048155"> </a>
For limitations and considerations regarding mapping <code class="cCode">FML/FML32</code> buffers, refer to <a href="datamap.html#wp1037829">FML/FML32 Considerations</a>.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1035160"> </a>
Oracle Tuxedo STRING Typed Buffers
</h3>
<p class="pBody"><a name="wp1058613"> </a>
Oracle Tuxedo <code class="cCode">STRING</code> typed buffers are used to store character strings that end with a NULL character. Oracle Tuxedo <code class="cCode">STRING</code> typed buffers are self-describing.
</p>
<p class="pBody"><a name="wp1058617"> </a>
<a href="datamap.html#wp1043787">Listing&#160;2-1</a> shows a SOAP message for a <code class="cCode">TOUPPER </code>Oracle Tuxedo service example that accepts a <code class="cCode">STRING</code> typed buffer.
</p>
<div class="pCodeTitle"><a name="wp1043787"> </a>
Listing&#160;2-1	   Soap Message for a String Typed Buffer in TOUPPER Service
</div> <a name="wp1055293"> </a><div class="pPreformatted"><pre>&lt;?xml … encoding=&#8221;UTF-8&#8221; ?&gt;<br />&#160;&#160;&#160;……<br />&#160;&#160;&#160;&lt;SOAP:body&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;m:TOUPPER xmlns:m=&#8221;urn:......&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inbuf&gt;abcdefg&lt;/inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&lt;/m:TOUPPER&gt;<br />&#160;&#160;&#160;&lt;/SOAP:body&gt;</pre></div><p class="pBody"><a name="wp1036334"> </a>
The XML Schema for <code class="cCode">&lt;inbuf&gt;</code> is:
</p>
<a name="wp1036337"> </a><div class="pPreformatted"><pre>&lt;xsd:element  name=&#8221;inbuf&#8221; type=&#8221;xsd:string&#8221; /&gt;</pre></div><h3 class="pHeading2"><a name="wp1035178"> </a>
Oracle Tuxedo CARRAY Typed Buffers
</h3>
<p class="pBody"><a name="wp1035179"> </a>
Oracle Tuxedo CARRAY typed buffers are used to store character arrays, any of which can be NULL. They are used to handle data opaquely and are not self-describing. Oracle Tuxedo <code class="cCode">CARRAY</code> typed buffers can map to <code class="cCode">xsd:base64Binary</code> or MIME attachments. The default is <code class="cCode">xsd:base64Binary</code>.
</p>
<h4 class="pHeading3"><a name="wp1036309"> </a>
Mapping Example Using base64Binary
</h4>
<p class="pBody"><a name="wp1043844"> </a>
<a href="datamap.html#wp1035187">Listing&#160;2-2</a> shows the SOAP message for the <code class="cCode">TOUPPER</code> Oracle Tuxedo service, which accepts a <code class="cCode">CARRAY</code> typed buffer using <code class="cCode">base64Binary</code> mapping.
</p>
<div class="pCodeTitle"><a name="wp1035187"> </a>
Listing&#160;2-2	   Soap Message for a CARRAY Typed Buffer Using base64Binary Mapping
</div> <a name="wp1044272"> </a><div class="pPreformatted"><pre>&lt;SOAP:body&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;m:TOUPPER xmlns:m=&#8221;urn:......&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inbuf&gt;QWxhZGRpbjpvcGVuIHNlc2FtZQ==&lt;/inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/m:TOUPPER&gt;<br />&lt;/SOAP:body&gt;</pre></div><p class="pBody"><a name="wp1035192"> </a>
The XML Schema for <code class="cCode">&lt;inbuf&gt;</code> is:
</p>
<a name="wp1035193"> </a><div class="pPreformatted"><pre>&lt;xsd:element  name=&#8221;inbuf&#8221; type=&#8221;xsd:base64Binary&#8221; /&gt;</pre></div><h4 class="pHeading3"><a name="wp1043859"> </a>
Mapping Example Using MIME Attachment
</h4>
<p class="pBody"><a name="wp1049594"> </a>
<a href="datamap.html#wp1043870">Listing&#160;2-3</a> shows the SOAP message for the <code class="cCode">TOUPPER</code> Oracle Tuxedo service, which accepts a <code class="cCode">CARRAY</code> typed buffer as a MIME attachment.
</p>
<div class="pCodeTitle"><a name="wp1043870"> </a>
Listing&#160;2-3	   Soap Message for a CARRAY Typed Buffer Using MIME Attachment
</div> <a name="wp1044283"> </a><div class="pPreformatted"><pre>MIME-Version: 1.0<br />Content-Type: Multipart/Related; boundary=MIME_boundary; type=text/xml;<br />&#160;&#160;&#160;&#160;start=&quot;&lt;claim061400a.xml@example.com&gt;&quot;<br />Content-Description: This is the optional message description.<br /><br />--MIME_boundary<br />Content-Type: text/xml; charset=UTF-8<br />Content-Transfer-Encoding: 8bit<br />Content-ID: &lt;claim061400a.xml@ example.com&gt;<br /><br />&lt;?xml version=&#39;1.0&#39; ?&gt;<br />&lt;SOAP-ENV:Envelope<br />xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;<br />&lt;SOAP-ENV:Body&gt;<br />..<br />&lt;m:TOUPPER xmlns:m=&#8221;urn:…&#8221;&gt;<br />&lt;inbuf href=&quot;cid:claim061400a.carray@example.com&quot;/&gt;<br />&lt;/m:TOUPPER&gt;<br />..<br />&lt;/SOAP-ENV:Body&gt;<br />&lt;/SOAP-ENV:Envelope&gt;<br /><br />--MIME_boundary<br />Content-Type: text/xml<br />Content-Transfer-Encoding: binary<br />Content-ID: &lt;claim061400a. carray @example.com&gt;<br /><br />...binary carray data…<br />--MIME_boundary--<br />The WSDL for carray typed buffer will look like the following:<br />&lt;wsdl:definitions …&gt;<br />&lt;wsdl:types …&gt;<br />	&lt;xsd:schema …&gt;<br />		&lt;xsd:element name=&#8221;inbuf&#8221; type=&#8221;xsd:base64Binary&#8221; /&gt;<br />	&lt;/xsd:schema&gt;<br />&lt;/wsdl:types&gt;<br /><br />……<br /><br />&lt;wsdl:binding …&gt;<br />&#160;&#160;&#160;&#160;&lt;wsdl:operation name=&#8221;TOUPPER&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;soap:operation …&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;input&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;mime:multipartRelated&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;mime:part&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;soap:body parts=&#8221;…&#8221; use=&#8221;…&#8221;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/mime:part&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;mime:part&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;mime:content part=&#8221;…&#8221; type=&#8221;text/xml&#8221;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/mime:part&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/mime:multipartRelated&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/input<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;……<br />&#160;&#160;&#160;&#160;&lt;/wsdl:operation&gt;<br />&lt;/wsdl:binding&gt;<br /><br />&lt;/wsdl:definitions&gt;</pre></div><h3 class="pHeading2"><a name="wp1035195"> </a>
Oracle Tuxedo MBSTRING Typed Buffers
</h3>
<p class="pBody"><a name="wp1035196"> </a>
Oracle Tuxedo <code class="cCode">MBSTRING</code> typed buffers are used for multibyte character arrays. Oracle Tuxedo <code class="cCode">MBSTRING</code> typed buffers consist of the following three elements:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1055140"> </a>code-set character encoding</li>
<li><a name="wp1055141"> </a>data length</li>
<li><a name="wp1055142"> </a>character array encoding.</li>
</ul></div>
<a name="wp1058477"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You cannot embed multibyte characters with non &#8220;UTF-8&#8221; code sets in the SOAP message directly.</td>
</tr>
</table>

<p class="pBody"><a name="wp1058481"> </a>
<a href="datamap.html#wp1058222">Listing&#160;2-4</a> shows the SOAP message for the <code class="cCode">MBSERVICE</code> Oracle Tuxedo service, which accepts an <code class="cCode">MBSTRING</code> typed buffer.
</p>
<div class="pCodeTitle"><a name="wp1058222"> </a>
Listing&#160;2-4	   SOAP Message for an MBSIRING Buffer
</div> <a name="wp1057989"> </a><div class="pPreformatted"><pre>&lt;?xml encoding=&#8221;UFT-8&#8221;?&gt;</pre></div><a name="wp1058003"> </a><div class="pPreformatted"><pre>&#160;&#160;&lt;SOAP:body&gt;</pre></div><a name="wp1058004"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&lt;m:MBSERVICE xmlns:m=&#8221;http://......&#8221;&gt;</pre></div><a name="wp1058021"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inbuf&gt;こんにちは&lt;/infuf&gt;</pre></div><a name="wp1058042"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&lt;/m:MBSERVICE&gt;</pre></div><p class="pBody"><a name="wp1049174"> </a>
The XML Schema for <code class="cCode">&lt;inbuf&gt;</code> is:
</p>
<a name="wp1046279"> </a><div class="pPreformatted"><pre>&lt;xsd:element  name=&#8221;inbuf&#8221; type=&#8221;xsd:string&#8221; /&gt;</pre></div><a name="wp1046280"> </a>
<table class="Note">
<tr>
<td valign="top"><strong>WARNING:</strong></td>
<td>Oracle SALT converts the Japanese character &quot;&#8212;&quot; (EUC-JP 0xa1bd, Shift-JIS 0x815c) into UTF-16 0x2015.</td>
</tr>
</table>

<a name="wp1046206"> </a>
<table class="Note">
<tr>
<td valign="top"><b class="texthide">WARNING:</b></td>
<td>If you use another character set conversion engine, the EUC-JP or Shift-JIS multibyte output for this character may be different. For example, the Java il8n character conversion engine, converts this symbol to UTF-16 0x2014. The result is the also same when converting to UTF-8, which is the Oracle SALT default.</td>
</tr>
</table>

<a name="wp1045982"> </a>
<table class="Note">
<tr>
<td valign="top"><b class="texthide">WARNING:</b></td>
<td>If you use another character conversion engine and Japanese &quot;&#8212;&quot; is included in <code class="cCode">MBSTRING</code>, Oracle Tuxedo server-side <code class="cCode">MBSTRING</code> auto-conversion cannot convert it back into Shift-JIS or EUC-JP.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1035221"> </a>
Oracle Tuxedo XML Typed Buffers
</h3>
<p class="pBody"><a name="wp1035222"> </a>
Oracle Tuxedo XML typed buffers store XML documents.
</p>
<p class="pBody"><a name="wp1049670"> </a>
<a href="datamap.html#wp1035230">Listing&#160;2-5</a> shows the Stock Quote XML document.
</p>
<p class="pBody"><a name="wp1049709"> </a>
<a href="datamap.html#wp1044317">Listing&#160;2-6</a> shows the SOAP message for the <code class="cCode">STOCKINQ</code> Oracle Tuxedo service, which accepts an <code class="cCode">XML</code> typed buffer.
</p>
<div class="pCodeTitle"><a name="wp1035230"> </a>
Listing&#160;2-5	   Stock Quote XML Document
</div> <a name="wp1049661"> </a><div class="pPreformatted"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br />&lt;!-- &quot;Stock Quotes&quot;. --&gt;<br />&lt;stockquotes&gt;<br />&#160;&#160;&lt;stock_quote&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;symbol&gt;BEAS&lt;/symbol&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;when&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;date&gt;01/27/2001&lt;/date&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;time&gt;3:40PM&lt;/time&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;/when&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;change&gt;+2.1875&lt;/change&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;volume&gt;7050200&lt;/volume&gt;<br />&#160;&#160;&lt;/stock_quote&gt;<br />&lt;/stockquotes&gt;</pre></div><p class="pBody"><a name="wp1049656"> </a>
Then part of the SOAP message will look like the following:
</p>
<div class="pCodeTitle"><a name="wp1044317"> </a>
Listing&#160;2-6	   SOAP Message for an XML Buffer
</div> <a name="wp1049685"> </a><div class="pPreformatted"><pre>&lt;SOAP:body&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;m: STOCKINQ xmlns:m=&#8221;urn:......&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;stockquotes&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;stock_quote&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;symbol&gt;BEAS&lt;/symbol&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;when&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;date&gt;01/27/2001&lt;/date&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;time&gt;3:40PM&lt;/time&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/when&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;change&gt;+2.1875&lt;/change&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;volume&gt;7050200&lt;/volume&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/stock_quote&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/stockquotes&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/m: STOCKINQ &gt;<br />&lt;/SOAP:body&gt;</pre></div><p class="pBody"><a name="wp1035249"> </a>
The XML Schema for <code class="cCode">&lt;inbuf&gt;</code> is:
</p>
<a name="wp1035250"> </a><div class="pPreformatted"><pre>&lt;xsd:element  name=&#8221;inbuf&#8221; type=&#8221;xsd:anyType&#8221; /&gt;</pre></div><a name="wp1045193"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If a default namespace is contained in a Oracle Tuxedo XML typed buffer and returned to the GWWS server, the GWWS server converts the default namespace to a regular name. Each element is then prefixed with this name.</td>
</tr>
</table>

<a name="wp1045765"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>For example, if an Oracle Tuxedo service returns a buffer having a default namespace to the GWWS server as shown in <a href="datamap.html#wp1049331">Listing&#160;2-7</a>, the GWWS server converts the default namespace to a regular name as shown in <a href="datamap.html#wp1045385">Listing&#160;2-8</a>.</td>
</tr>
</table>
<div class="pCodeTitle"><a name="wp1049331"> </a>
Listing&#160;2-7	   Default Namespace Before Sending to GWWS Server
</div> <a name="wp1049339"> </a><div class="pPreformatted"><pre>&lt;Configuration xmlns=&quot;http://www.bea.com/Tuxedo/Salt/200606&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;Servicelist id=&quot;simpapp&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;Service name=&quot;toupper&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/Servicelist&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;Policy/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;System/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;WSGateway&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;GWInstance id=&quot;GWWS1&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;HTTP address=&quot;//myhost:8080&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/GWInstance&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/WSGateway&gt;<br />&lt;/Configuration&gt;</pre></div><div class="pCodeTitle"><a name="wp1045385"> </a>
Listing&#160;2-8	   GWWS Server Converts Default Namespace to Regular Name
</div> <a name="wp1058449"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dom0:Configuration 	<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;xmlns:dom0=&quot;http://www.bea.com/Tuxedo/Salt/200606&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dom0:Servicelist dom0:id=&quot;simpapp&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dom0:Service dom0:name=&quot;toupper&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/dom0:Servicelist&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dom0:Policy&gt;&lt;/&lt;dom0:Policy&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dom0:System&gt;&lt;/&lt;dom0:System&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dom0:WSGateway&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dom0:GWInstance dom0:id=&quot;GWWS1&quot;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dom0:HTTP dom0:address=&quot;//myhost:8080&quot;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/dom0:GWInstance&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/dom0:WSGateway&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/dom0:Configuration&gt;</pre></div><h3 class="pHeading2"><a name="wp1045386"> </a>
Oracle Tuxedo VIEW/VIEW32 Typed Buffers
</h3>
<p class="pBody"><a name="wp1048646"> </a>
Oracle Tuxedo VIEW and VIEW32 typed buffers are used to store C structures defined by Oracle Tuxedo applications. You must define the VIEW structure with the VIEW definition files. A VIEW buffer type can define multiple fields.
</p>
<p class="pBody"><a name="wp1049775"> </a>
<a href="datamap.html#wp1037420">Listing&#160;2-9</a> shows the <code class="cCode">MYVIEW</code> VIEW definition file.
</p>
<p class="pBody"><a name="wp1049779"> </a>
<a href="datamap.html#wp1035304">Listing&#160;2-10</a> shows the SOAP message for the <code class="cCode">MYVIEW</code> Oracle Tuxedo service, which accepts a <code class="cCode">VIEW</code> typed buffer.
</p>
<div class="pCodeTitle"><a name="wp1037420"> </a>
Listing&#160;2-9	   VIEW Definition File for MYVIEW Service
</div> <a name="wp1049742"> </a><div class="pPreformatted"><pre>VIEW MYVIEW<br />#type&#160;&#160;&#160;&#160;&#160;cname&#160;&#160;&#160;&#160;&#160;&#160;&#160;fbname&#160;&#160;&#160;&#160;&#160;&#160;&#160;count&#160;&#160;&#160;&#160;&#160;&#160;&#160;flag&#160;&#160;&#160;&#160;&#160;&#160;&#160;size&#160;&#160;&#160;&#160;&#160;&#160;&#160;null<br />float&#160;&#160;&#160;&#160;&#160;float1&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0.0<br />double&#160;&#160;&#160;&#160;double1&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0.0<br />long&#160;&#160;&#160;&#160;&#160;&#160;long1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0<br />string&#160;&#160;&#160;&#160;string1&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;20&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#39;\0&#39;<br />END</pre></div><div class="pCodeTitle"><a name="wp1035304"> </a>
Listing&#160;2-10	   SOAP Message for a VIEW Typed Buffer
</div> <a name="wp1049750"> </a><div class="pPreformatted"><pre>&lt;SOAP:body&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;m: STOCKINQ xmlns:m=&#8221;http://......&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;float1&gt;12.5633&lt;/float1&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;double1&gt;1.3522E+5&lt;/double1&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;long1&gt;1000&lt;/long1&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;long1&gt;2000&lt;/long1&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;long1&gt;3000&lt;/long1&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;string1&gt;abcd&lt;/string1&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;string1&gt;ubook&lt;/string1&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/m: STOCKINQ &gt;<br />&lt;/SOAP:body&gt;</pre></div><p class="pBody"><a name="wp1035318"> </a>
The XML Schema for <code class="cCode">&lt;inbuf&gt;</code> is shown in <a href="datamap.html#wp1035319">Listing&#160;2-11</a>.
</p>
<div class="pCodeTitle"><a name="wp1035319"> </a>
Listing&#160;2-11	   XML Schema for a VIEW Typed Buffer
</div> <a name="wp1049816"> </a><div class="pPreformatted"><pre>&lt;xsd:complexType name=&#8221; view_MYVIEW&#8221;&gt;<br />&#160;&#160;&lt;xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;float1&#8221; type=&#8221;xsd:float&#8221; /&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:xsd:element name=&#8221;double1&#8221; type=&#8221;xsd:double&#8221; /&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;long1&#8221; type=&#8221;xsd:long&#8221; minOccurs=&#8221;3&#8221; /&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;string1&#8221; type=&#8221;xsd:string minOccurs=&#8221;3&#8221; /&gt;<br />&#160;&#160;&lt;/xsd:sequence&gt;<br />&lt;/xsd: complexType &gt;<br />&lt;xsd:element  name=&#8221;inbuf&#8221; type=&#8221;tuxtype:view_MYVIEW&#8221; /&gt;</pre></div><h4 class="pHeading3"><a name="wp1037238"> </a>
VIEW/VIEW32 Considerations
</h4>
<p class="pBody"><a name="wp1037239"> </a>
The following considerations apply when converting Oracle Tuxedo VIEW/VIEW32 buffers to and from XML.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1044698"> </a>You must create an environment for converting XML to and from <code class="cCode">VIEW/VIEW32</code>. This includes setting up a VIEW directory and system VIEW definition files. These definitions are automatically loaded by the GWWS server.</li>
<li><a name="wp1048886"> </a>The GWWS server provides strong consistency checking between the Oracle Tuxedo Service Metadata Repository <code class="cCode">VIEW/VIEW32</code> parameter definition and the <code class="cCode">VIEW/VIEW32</code> definition file at start up. </li>
<p class="pBodyRelative"><a name="wp1048909"> </a>
If an inconsistency is found, the GWWS server cannot start. Inconsistency messages are printed in the ULOG file.
</p>
<li><a name="wp1048887"> </a><code class="cCode">tmwsdlgen</code> also provides strong consistency checking between the Oracle Tuxedo Service Metadata Repository <code class="cCode">VIEW/VIEW32</code> parameter definition and the <code class="cCode">VIEW/VIEW32</code> definition file at start up. If an inconsistency is found, the GWWS server will not start. Inconsistency messages are printed in the ULOG file.</li>
<p class="pBodyRelative"><a name="wp1048890"> </a>
If the VIEW definition file cannot be loaded, <code class="cCode">tmwsdlgen</code> attempts to use the Oracle Tuxedo Service Metadata Repository definitions to compose the WSDL document. 
</p>
<li><a name="wp1048880"> </a>Because <code class="cCode">dec_t </code>is not supported, if you define VIEW fields with type <code class="cCode">dec_t</code>, the service cannot be exported as a Web service and an error message is generated when the Oracle SALT configuration file is loading.</li>
<li><a name="wp1044574"> </a>Although the Oracle Tuxedo Service Metadata Repository may define a size attribute for &#8220;string/ mbstring&#8221; typed parameters (which represents the maximum byte length that is allowed in the Oracle Tuxedo typed buffer), Oracle SALT does not expose such restriction in the generated WSDL document.</li>
<li><a name="wp1045836"> </a>When a VIEW32 embedded MBString buffer is requested and returned to the GWWS server, the GWWS miscalculates the required MBString length and reports that the input string exceeds the VIEW32 maxlength. This is because the header is included in the transfer encoding information. You must include the header size when defining the VIEW32 field length.</li>
<li><a name="wp1037242"> </a>The Oracle Tuxedo primary data type &#8220;long&#8221; is indefinite between 32-bit and 64-bit scope, depending on the platform. However, the corresponding <code class="cCode">xsd:long</code> schema type is used to describe 64-bit numeric values.</li>
<p class="pBodyRelative"><a name="wp1048809"> </a>
If the GWWS server runs in 32-bit mode, and the Web service client sends <code class="cCode">xsd:long</code> typed data that exceeds the 32-bit value range, you may get a SOAP fault.
</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1037259"> </a>
Oracle Tuxedo FML/FML32 Typed Buffers
</h3>
<p class="pBody"><a name="wp1035330"> </a>
Oracle Tuxedo FML and FML32 typed buffer are proprietary Oracle Tuxedo system self-describing buffers. Each data field carries its own identifier, an occurrence number, and possibly a length indicator.
</p>
<h4 class="pHeading3"><a name="wp1038115"> </a>
FML Data Mapping Example
</h4>
<p class="pBody"><a name="wp1049887"> </a>
<a href="datamap.html#wp1035383">Listing&#160;2-12</a> shows the SOAP message for the <code class="cCode">TRANSFER</code> Tuxedo service, which accepts an <code class="cCode">FML</code> typed buffer.
</p>
<p class="pBody"><a name="wp1049882"> </a>
The request fields for service <code class="cCode">LOGIN</code> are:
</p>
<a name="wp1035380"> </a><div class="pPreformatted"><pre>ACCOUNT_ID        1       long              /* 2 occurrences, The withdrawal account is 1st, and the deposit account is 2nd  */<br />AMOUNT                2        float             /* The amount to transfer */</pre></div><p class="pBody"><a name="wp1035382"> </a>
Part of the SOAP message is as follows:
</p>
<div class="pCodeTitle"><a name="wp1035383"> </a>
Listing&#160;2-12	   SOAP Message for an FML Typed Buffer
</div> <a name="wp1049993"> </a><div class="pPreformatted"><pre>&lt;SOAP:body&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;m:TRANSFER xmlns:m=&#8221;urn:......&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ACCOUNT_ID&gt;40069901&lt;/ACCOUNT_ID&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ACCOUNT_ID&gt;40069901&lt;/ACCOUNT_ID&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;AMOUNT&gt;200.15&lt;/AMOUNT&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/m:TRANSFER &gt;<br />&lt;/SOAP:body&gt;</pre></div><p class="pBody"><a name="wp1035392"> </a>
The XML Schema for <code class="cCode">&lt;inbuf&gt;</code> is shown in <a href="datamap.html#wp1035393">Listing&#160;2-13</a>.
</p>
<div class="pCodeTitle"><a name="wp1035393"> </a>
Listing&#160;2-13	   XML Schema for an FML Typed Buffer
</div> <a name="wp1049865"> </a><div class="pPreformatted"><pre>&lt;xsd:complexType name=&#8221; fml_TRANSFER_In&#8221;&gt;<br />&#160;&#160;&lt;xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;ACCOUNT_ID&#8221; type=&#8221;xsd:long&#8221; minOccurs=&#8221;2&#8221;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221; AMOUNT&#8221; type=&#8221;xsd:float&#8221; /&gt;<br />&#160;&#160;&lt;/xsd:sequence&gt;<br />&lt;/xsd: complexType &gt;<br />&lt;xsd:element  name=&#8221;inbuf&#8221; type=&#8221;tuxtype: fml_TRANSFER_In&#8221; /&gt;</pre></div><h4 class="pHeading3"><a name="wp1049908"> </a>
FML32 Data Mapping Example
</h4>
<p class="pBody"><a name="wp1049917"> </a>
<a href="datamap.html#wp1038467">Listing&#160;2-14</a> shows the SOAP message for the <code class="cCode">TRANSFER</code> Oracle Tuxedo service, which accepts an <code class="cCode">FML32 </code>typed buffer.
</p>
<p class="pBody"><a name="wp1049910"> </a>
The request fields for service <code class="cCode">LOGIN</code> are:
</p>
<a name="wp1035403"> </a><div class="pPreformatted"><pre>CUST_INFO            1       fml32         /* 2 occurrences, The withdrawal customer is 1st, and the deposit customer is 2nd  */ <br />ACCOUNT_INFO   2        fml32          /* 2 occurrences, The withdrawal account is 1st, and the deposit account is 2nd  */<br />AMOUNT                3        float             /* The amount to transfer */</pre></div><p class="pBody"><a name="wp1035406"> </a>
Each embedded <code class="cCode">CUST_INFO</code> includes the following fields:
</p>
<a name="wp1035407"> </a><div class="pPreformatted"><pre>CUST_NAME&#160;&#160;&#160;&#160;&#160;&#160;&#160;10&#160;&#160;&#160;&#160;&#160;&#160;&#160;string <br />CUST_ADDRESS&#160;&#160;&#160;&#160;11&#160;&#160;&#160;&#160;&#160;&#160;&#160;carray<br />CUST_PHONE&#160;&#160;&#160;&#160;&#160;&#160;12&#160;&#160;&#160;&#160;&#160;&#160;&#160;long</pre></div><p class="pBody"><a name="wp1035410"> </a>
Each embedded <code class="cCode">ACCOUNT_INFO</code> includes the following fields:
</p>
<a name="wp1035411"> </a><div class="pPreformatted"><pre>ACCOUNT_ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;20&#160;&#160;&#160;&#160;&#160;&#160;&#160;long<br />ACCOUNT_PW&#160;&#160;&#160;&#160;&#160;&#160;&#160;21&#160;&#160;&#160;&#160;&#160;&#160;&#160;carray</pre></div><p class="pBody"><a name="wp1035414"> </a>
Part of the SOAP message will look as follows:
</p>
<div class="pCodeTitle"><a name="wp1038467"> </a>
Listing&#160;2-14	   SOAP Message for Service with FML32 Buffer
</div> <a name="wp1035415"> </a><div class="pPreformatted"><pre>&lt;SOAP:body&gt;<br />&#160;&#160;&#160;&lt;m:STOCKINQ xmlns:m=&#8221;urn:......&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;inbuf&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;CUST_INFO&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;CUST_NAME&gt;John&lt;/CUST_NAME&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;CUST_ADDRESS&gt;Building 15&lt;/CUST_ADDRESS&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;CUST_PHONE&gt;1321&lt;/CUST_PHONE&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/CUST_INFO&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;CUST_INFO&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;CUST_NAME&gt;Tom&lt;/CUST_NAME&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;CUST_ADDRESS&gt;Building 11&lt;/CUST_ADDRESS&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;CUST_PHONE&gt;1521&lt;/CUST_PHONE&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/CUST_INFO&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ACCOUNT_INFO&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ACCOUNT_ID&gt;40069901&lt;/ACCOUNT_ID&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ACCOUNT_PW&gt;abc&lt;/ACCOUNT_PW&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/ACCOUNT_INFO&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ACCOUNT_INFO&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ACCOUNT_ID&gt;40069901&lt;/ACCOUNT_ID&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ACCOUNT_PW&gt;zyx&lt;/ACCOUNT_PW&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/ACCOUNT_INFO&gt;<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;AMOUNT&gt;200.15&lt;/AMOUNT&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/inbuf&gt;<br />&#160;&#160;&#160;&lt;/m: STOCKINQ &gt;<br />&lt;/SOAP:body&gt;</pre></div><p class="pBody"><a name="wp1035441"> </a>
The XML Schema for <code class="cCode">&lt;inbuf&gt;</code> is shown in <a href="datamap.html#wp1038642">Listing&#160;2-15</a>.
</p>
<div class="pCodeTitle"><a name="wp1038642"> </a>
Listing&#160;2-15	   XML Schema for an FML32 Buffer
</div> <a name="wp1035442"> </a><div class="pPreformatted"><pre>&lt;xsd:complexType name=&#8221;fml32_TRANSFER_In&#8221;&gt;<br />&#160;&#160;&lt;xsd:sequence&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;CUST_INFO&#8221; type=&#8221;tuxtype:fml32_TRANSFER_p1&#8221; minOccurs=&#8221;2&#8221;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;ACCOUNT_INFO&#8221; type=&#8221;tuxtype:fml32_TRANSFER_p2&#8221; minOccurs=&#8221;2&#8221;/&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;AMOUNT&#8221; type=&#8221;xsd:float&#8221; /&gt;<br />&#160;&#160;/xsd:sequence&gt;<br />&lt;/xsd:complexType &gt;<br /><br />&lt;xsd:complexType name=&#8221;fml32_TRANSFER_p1&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;CUST_NAME&#8221; type=&#8221;xsd:string&#8221; /&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;CUST_ADDRESS&#8221; type=&#8221;xsd:base64Binary&#8221; /&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;CUST_PHONE&#8221; type=&#8221;xsd:long&#8221; /&gt;<br />&lt;/xsd:complexType&gt;<br /><br />&lt;xsd:complexType name=&#8221;fml32_TRANSFER_p2&#8221;&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;ACCOUNT_ID&#8221; type=&#8221;xsd:long&#8221; /&gt;<br />&#160;&#160;&#160;&#160;&#160;&lt;xsd:element name=&#8221;ACCOUNT_PW&#8221; type=&#8221;xsd:base64Binary&#8221; /&gt;<br />&lt;/xsd:complexType&gt;<br /><br />&lt;xsd:element  name=&#8221;inbuf&#8221; type=&#8221;tuxtype: fml32_TRANSFER_In&#8221; /&gt;</pre></div><h4 class="pHeading3"><a name="wp1037829"> </a>
FML/FML32 Considerations
</h4>
<p class="pBody"><a name="wp1055157"> </a>
The following considerations apply to converting Oracle Tuxedo <code class="cCode">FML/FML32</code> buffers to and from XML.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1055158"> </a>You must create an environment for converting XML to and from <code class="cCode">FML/FML32</code>. This includes an FML field table file directory and system FML field definition files. These definitions are automatically loaded by the GWWS. FML typed buffers can be handled only if the environment is set up correctly.</li>
<li><a name="wp1047612"> </a><code class="cCode">FML32</code> Field type <code class="cCode">FLD_PTR</code> is not supported.</li>
<li><a name="wp1058979"> </a>The GWWS server provides strong consistency checking between the Oracle Tuxedo Service Metadata Repository <code class="cCode">FML/FML32</code> parameter definition and <code class="cCode">FML/FML3</code>2 definition file during start up.</li>
<p class="pBodyRelative"><a name="wp1055178"> </a>
If an <code class="cCode">FML/32</code> field is found that is not in accordance with the environment setting, or the field table field data type definition is different from the parameter data type definition in the Oracle Tuxedo Service Metadata Repository, the GWWS cannot start. Inconsistency messages are printed in the ULOG file.
</p>
<li><a name="wp1047614"> </a>The <code class="cCode">tmwsdlgen</code> command checks for consistency between the Oracle Tuxedo Service Metadata Repository <code class="cCode">FML/FML32</code> parameter definition and <code class="cCode">FML/FML32</code> definition file. If inconsistencies are found, it issue a warning and allow inconsistencies.</li>
<p class="pBodyRelative"><a name="wp1048852"> </a>
If an <code class="cCode">FML/32</code> field is found that is not in accordance with the environment setting, or the field table field data type definition is different from the parameter data type definition in the Oracle Tuxedo Service Metadata Repository,  <code class="cCode">tmwsdlgen</code> attempts to use Oracle Tuxedo Service Metadata Repository definitions to compose the WSDL document.
</p>
<li><a name="wp1047615"> </a>Although the Oracle Tuxedo Service Metadata Repository may define a size attribute for &#8220;string/ mbstring&#8221; typed parameters, which represents the maximum byte length that is allowed in the Oracle Tuxedo typed buffer, Oracle SALT does not expose such restriction in the generated WSDL document.</li>
<li><a name="wp1044725"> </a>Oracle Tuxedo primary data type &#8220;long&#8221; is indefinite between 32-bit and 64-bit scope according to different platforms. But the corresponding <code class="cCode">xsd:long</code> schema type is used to describe 64-bit numeric value. The following scenario generates a SOAP fault: </li>
<p class="pBodyRelative"><a name="wp1055451"> </a>
The GWWS runs in 32-bit mode, and a Web service client sends a <code class="cCode">xsd:long</code> typed data which exceeds the 32-bit value range.
</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1055196"> </a>
Oracle Tuxedo X_C_TYPE Typed Buffers
</h3>
<p class="pBody"><a name="wp1055197"> </a>
Oracle Tuxedo <code class="cCode">X_C_TYPE</code> typed buffers are equivalent, and have a similar WSDL format to, Oracle Tuxedo VIEW typed buffers.They are transparent for SOAP clients. However, even though usage is similar to the Oracle Tuxedo VIEW buffer type, SALT administrators must configure the Oracle Tuxedo Service Metadata Repository for any particular Oracle Tuxedo service that uses this buffer type.
</p>
<a name="wp1047001"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>All View related considerations also take effect for X_C_TYPE typed buffer.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1047002"> </a>
Oracle Tuxedo X_COMMON Typed Buffers
</h3>
<p class="pBody"><a name="wp1046936"> </a>
Oracle Tuxedo X_COMMON typed buffers are equivalent to Oracle Tuxedo VIEW typed buffers. However, they are used for compatibility between COBOL and C programs. Field types should be limited to short, long, and string.
</p>
<h3 class="pHeading2"><a name="wp1059005"> </a>
Oracle Tuxedo X_OCTET Typed Buffers
</h3>
<p class="pBody"><a name="wp1059006"> </a>
Oracle Tuxedo <code class="cCode">X_OCTET</code> typed buffers are equivalent to <code class="cCode">CARRAY</code>.
</p>
<a name="wp1059010"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Oracle Tuxedo <code class="cCode">X_OCTET</code> typed buffers can only map to <code class="cCode">xsd:base64Binary</code> type. SALT 1.1 does not support <code class="cCode">MIME</code> attachment binding for Oracle Tuxedo <code class="cCode">X_OCTET</code> typed buffers.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1035463"> </a>
Custom Typed Buffers
</h3>
<p class="pBody"><a name="wp1035464"> </a>
Oracle SALT provides a plug-in mechanism that supports custom typed buffers. You can validate the SOAP message against your own XML Schema definition, allocate custom typed buffers, and parse data into the buffers and other operations.
</p>
<p class="pBody"><a name="wp1044828"> </a>
XML Schema built-in type <code class="cCode">xsd:anyType</code> is the corresponding type for XML documents stored in a SOAP message. While using custom typed buffers, you should define and represent the actual data into an XML format and transfer between the Web service client and Oracle Tuxedo Web service stack. As with XML typed buffers, only a single root XML buffer can be stored in the SOAP body. The GWWS checks this for consistency.
</p>
<p class="pBody"><a name="wp1038780"> </a>
For more plug-in information, see <a href="plugin.html">Using Oracle SALT Plug-Ins</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1050031"> </a>
XML-to-Tuxedo Data Type Mapping for External Web Services
</h2><p class="pBody"><a name="wp1055481"> </a>
Oracle SALT maps each <code class="cCode">wsdl:message </code>as an Oracle Tuxedo <code class="cCode">FML32</code> buffer structure. Oracle SALT defines a set of rules for representing the XML Schema definition using <code class="cCode">FML32</code>. To invoke external Web Services, customers need to understand the exact <code class="cCode">FML32</code> structure that converted from the external Web Service XML Schema definition of the corresponding message.
</p>
<p class="pBody"><a name="wp1055764"> </a>
The following sections describe detailed WSDL message to Oracle Tuxedo <code class="cCode">FML32</code> buffer mapping rules:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1050111"> </a><a href="datamap.html#wp1050116">XML Schema Built-In Simple Data Type Mapping</a></li>
<li><a name="wp1050169"> </a><a href="datamap.html#wp1052003">XML Schema User Defined Data Type Mapping</a></li>
<li><a name="wp1050115"> </a><a href="datamap.html#wp1052978">WSDL Message Mapping</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1050116"> </a>
XML Schema Built-In Simple Data Type Mapping
</h3>
<p class="pBody"><a name="wp1050124"> </a>
<a href="datamap.html#wp1051299">Table&#160;2-3</a> shows the supported XML Schema Built-In Simple Data Type and the corresponding Oracle Tuxedo <code class="cCode">FML32</code> Field Data Type.
</p>
<p class="pGraphic"><a name="wp1051448"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1051299table1051296"><caption><a name="wp1051299"> </a>
Table 2-3  Supported XML Schema Built-In Simple Data Type

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1051307"> </a>
XML Schema Built-In
</div>
<div class="pCellHeading"><a name="wp1051868"> </a>
Simple Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1051310"> </a>
Oracle Tuxedo FML32 Field Data Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1051312"> </a>
C/C++ Primitive Type In Oracle Tuxedo Program
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1051314"> </a>
Note
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051316"> </a>
<code class="cCode">xsd:byte</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051318"> </a>
<code class="cCode">FLD_CHAR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051320"> </a>
<code class="cCode">char</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051324"> </a>
<code class="cCode">xsd:unsignedByte</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051326"> </a>
<code class="cCode">FLD_UCHAR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051328"> </a>
<code class="cCode">unsigned char</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051332"> </a>
<code class="cCode">xsd:boolean</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051334"> </a>
<code class="cCode">FLD_BOOL</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051336"> </a>
<code class="cCode">char/bool</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051338"> </a>
Value Pattern
</div>
<div class="pCellBody"><a name="wp1051339"> </a>
<code class="cCode">[ ‘T&#8217; | ‘F&#8217; ]</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051341"> </a>
<code class="cCode">xsd:short</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051343"> </a>
<code class="cCode">FLD_SHORT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051345"> </a>
<code class="cCode">short</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051349"> </a>
<code class="cCode">xsd:unsignedShort</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051351"> </a>
<code class="cCode">FLD_USHORT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051353"> </a>
<code class="cCode">unsigned short</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051357"> </a>
<code class="cCode">xsd:int</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051359"> </a>
<code class="cCode">FLD_INT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051361"> </a>
<code class="cCode">int</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051365"> </a>
<code class="cCode">xsd:unsignedInt</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051367"> </a>
<code class="cCode">FLD_UINT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051369"> </a>
<code class="cCode">unsigned int</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051373"> </a>
<code class="cCode">xsd:long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051375"> </a>
<code class="cCode">FLD_LONG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051377"> </a>
<code class="cCode">long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051379"> </a>
In a 32-bit Oracle Tuxedo program, the C primitive type <code class="cCode">long</code> <span style="font-style: italic">cannot</span> represent all <code class="cCode">xsd:long</code> valid value.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1059842"> </a>
<code class="cCode">xsd:long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1059844"> </a>
<code class="cCode">FLD_LLONG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1059846"> </a>
<code class="cCode">long long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1059848"> </a>
In a 32-bit Oracle Tuxedo program, the C primitive type long long <span style="font-style: italic">can</span> represent all <code class="cCode">xsd:long</code> valid values.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051381"> </a>
<code class="cCode">xsd:unsignedLong</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051383"> </a>
<code class="cCode">FLD_LONG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051385"> </a>
<code class="cCode">unsigned long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051387"> </a>
In a 32-bit Oracle Tuxedo program, the C primitive type <code class="cCode">unsigned long</code> <span style="font-style: italic">cannot</span> represent all <code class="cCode">xsd:long</code> valid value.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1059896"> </a>
<code class="cCode">xsd:unsignedLong</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1059898"> </a>
<code class="cCode">FLD_ULONG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1059900"> </a>
<code class="cCode">unsigned long long</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1059902"> </a>
In a 32-bit Oracle Tuxedo program, the C primitive type unsigned long long <span style="font-style: italic">can</span> represent all <code class="cCode">xsd:unsignedLong</code> valid values.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051389"> </a>
<code class="cCode">xsd:float</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051391"> </a>
<code class="cCode">FLD_FLOAT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051393"> </a>
<code class="cCode">float</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051397"> </a>
<code class="cCode">xsd:double</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051399"> </a>
<code class="cCode">FLD_DOUBLE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051401"> </a>
<code class="cCode">double</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051405"> </a>
<code class="cCode">xsd:string</code>
</div>
<div class="pCellBody"><a name="wp1051406"> </a>
(and all <code class="cCode">xsd:string</code> derived built-in type, such as <code class="cCode">xsd:token</code>, <code class="cCode">xsd:Name</code>, etc.)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051408"> </a>
<code class="cCode">FLD_STRING</code>
</div>
<div class="pCellBody"><a name="wp1051409"> </a>
<code class="cCode">FLD_MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051411"> </a>
<code class="cCode">char [ ]</code>
</div>
<div class="pCellBody"><a name="wp1059962"> </a>
wchar_t []
</div>
<div class="pCellBody"><a name="wp1051412"> </a>
(Null-terminated string)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051414"> </a>
<code class="cCode">xsd:string</code> can be optionally mapped as <code class="cCode">FLD_STRING</code> or <code class="cCode">FLD_MBSTRING</code> using <span class="cHyperlink">
<a href="../ref/comref.html#wp1112274">wsdlcvt</a></span>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051416"> </a>
<code class="cCode">xsd:base64Binary</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051418"> </a>
<code class="cCode">FLD_CARRAY</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051420"> </a>
<code class="cCode">char [ ]</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051424"> </a>
<code class="cCode">xsd:hexBinary</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051426"> </a>
<code class="cCode">FLD_CARRAY</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051428"> </a>
<code class="cCode">char [ ]</code>
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051432"> </a>
All other built-in data types
</div>
<div class="pCellBody"><a name="wp1051433"> </a>
(Data / Time related, decimal / Integer related, any URI, QName, NOTATION)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051435"> </a>
<code class="cCode">FLD_STRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051437"> </a>
<code class="cCode">char [ ]</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1051439"> </a>
You should comply with the value pattern of the corresponding XML built-in data type. Otherwise, server-side Web service will reject the request.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1051449"> </a>
The following samples demonstrate how to prepare data in a Oracle Tuxedo program for XML Schema Built-In Simple Types.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1051991"> </a><a href="datamap.html#wp1052063">XML Schema Built-In Type Sample - xsd:string</a></li>
<li><a name="wp1052226"> </a><a href="datamap.html#wp1052276">XML Schema Built-In Type Sample - xsd:hexBinary</a></li>
<li><a name="wp1052500"> </a><a href="datamap.html#wp1052327">XML Schema Built-In Type Sample - xsd:date</a></li>
<p class="pGraphic"><a name="wp1051489"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1052063table1052060"><caption><a name="wp1052063"> </a>
Table 2-4  XML Schema Built-In Type Sample - xsd:string

</caption>

  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052067"> </a>
XML Schema Definition
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052073"> </a><div class="pPreformatted"><pre>&lt;xsd:element name=&#8221;<span style="font-weight: bold">message</span>&#8221; type=&#8221;xsd:string&#8221; /&gt;</pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052075"> </a>
Corresponding FML32 Field Definition (FLD_MBSTRING)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052081"> </a><div class="pPreformatted"><pre>#	Field_name		Field_type		Field_flag		Field_comments<br /><span style="font-weight: bold">	</span><span style="font-weight: bold">message</span><span style="font-weight: bold">		mbstring		-		</span></pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052083"> </a>
C Pseudo Code
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052154"> </a><div class="pPreformatted"><pre>FBFR32 * request;<br />FLDLEN32 len, mbsize = 1024;<br />char * msg, * mbmsg;<br />msg = calloc( ... ); mbmsg = malloc(mbsize);<br />...<br />strncpy(msg, &#8220;...&#8221;, len); /* The string is UTF-8 encoding */<br />Fmbpack32(&#8220;utf-8&#8221;, msg, len, mbmsg, &amp;mbsize, 0); /* prepare mbstring*/<br />Fadd32( request, <code class="cCodeEmphasis">message</code>, mbmsg, mbsize);</pre></div></td>
</tr>
</table>
</div>

</p>
<p class="pGraphic"><a name="wp1052025"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1052276table1052273"><caption><a name="wp1052276"> </a>
Table 2-5  XML Schema Built-In Type Sample - xsd:hexBinary

</caption>

  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052280"> </a>
XML Schema Definition
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052286"> </a><div class="pPreformatted"><pre>&lt;xsd:element name=&#8221;<span style="font-weight: bold">mem_snapshot</span>&#8221; type=&#8221;xsd:hexBinary&#8221; /&gt;</pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052288"> </a>
Corresponding FML32 Field Definition (FLD_MBSTRING)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052294"> </a><div class="pPreformatted"><pre>#	Field_name		Field_type		Field_flag		Field_comments<br /><span style="font-weight: bold">	</span><span style="font-weight: bold">mem_snapshot</span><span style="font-weight: bold">		carray		-		</span></pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052296"> </a>
C Pseudo Code
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052302"> </a><div class="pPreformatted"><pre>FBFR32 * request;<br />FLDLEN32 len;<br /><span style="font-weight: bold">char * buf;<br /></span>buf = calloc( ... );<br />...<br />memcpy(buf, &#8220;...&#8221;, len); /* copy the original memory */<br />Fadd32( request, <code class="cCodeEmphasis">mem_snapshot</code>, buf, len);</pre></div></td>
</tr>
</table>
</div>

</p>
<p class="pGraphic"><a name="wp1052267"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1052327table1052325"><caption><a name="wp1052327"> </a>
Table 2-6  XML Schema Built-In Type Sample - xsd:date

</caption>

  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052331"> </a>
XML Schema Definition
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052337"> </a><div class="pPreformatted"><pre>&lt;xsd:element name=&#8221;<span style="font-weight: bold">IssueDate</span>&#8221; type=&#8221;xsd:date&#8221; /&gt;</pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052339"> </a>
Corresponding FML32 Field Definition (FLD_STRING)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052345"> </a><div class="pPreformatted"><pre>#	Field_name		Field_type		Field_flag		Field_comments<br /><span style="font-weight: bold">	</span><span style="font-weight: bold">IssueDate</span><span style="font-weight: bold">		string		-		</span></pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1052347"> </a>
C Pseudo Code
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1052353"> </a><div class="pPreformatted"><pre>FBFR32 * request;<br /><span style="font-weight: bold">char date[32];<br /></span>...<br />strcpy(date, &#8220;2007-06-04+8:00&#8221;); /* Set the date value correctly */<br />Fadd32( request, <code class="cCodeEmphasis">IssueDate</code>, date, 0);</pre></div></td>
</tr>
</table>
</div>

</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1052003"> </a>
XML Schema User Defined Data Type Mapping
</h3>
<p class="pBody"><a name="wp1050997"> </a>
<a href="datamap.html#wp1052542">Table&#160;2-7</a> lists the supported XML Schema User Defined Simple Data Type and the corresponding Oracle Tuxedo FML32 Field Data Type.
</p>
<p class="pGraphic"><a name="wp1052537"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1052542table1052539"><caption><a name="wp1052542"> </a>
Table 2-7  Supported XML Schema User Defined Data Type

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1052550"> </a>
XML Schema User Defined
</div>
<div class="pCellHeading"><a name="wp1052551"> </a>
Data Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1052553"> </a>
Oracle Tuxedo FML32 Field Data Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1052555"> </a>
C/C++ Primitive Type In Oracle Tuxedo Program
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1052557"> </a>
Note
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><a name="wp1052856"> </a><div class="pPreformatted"><pre>&lt;xsd:anyType&gt;</pre></div></td>
    <td class="table" scope="row"><a name="wp1052858"> </a><div class="pPreformatted"><pre>FLD_MBSTRING</pre></div></td>
    <td class="table" scope="row"><a name="wp1052860"> </a><div class="pPreformatted"><pre>char []</pre></div></td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052862"> </a>
Oracle Tuxedo Programmer should prepare entire XML document enclosing with the element tag. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052559"> </a>
<code class="cCode">&lt;xsd:simpleType&gt;</code> derived from built-in primitive simple data types
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052561"> </a>
Equivalent FML32 Field Type of the primitive simple type (see <a href="datamap.html#wp1051299">Table&#160;2-3</a>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052563"> </a>
Equivalent C Primitive Data Type of the primitive simple type (see <a href="datamap.html#wp1051299">Table&#160;2-3</a>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052565"> </a>
Facets defined with <code class="cCode">&lt;xsd:restriction&gt;</code> are not enforced at Oracle Tuxedo side.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052567"> </a>
<code class="cCode">&lt;xsd:simpleType&gt;</code> defined with <code class="cCode">&lt;xsd:list&gt;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052569"> </a>
<code class="cCode">FLD_MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052571"> </a>
<code class="cCode">char []</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052573"> </a>
Same as <code class="cCode">&lt;xsd:anyType&gt;</code>. The Schema compliancy is not enforced at Oracle Tuxedo side.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052942"> </a>
<code class="cCode">&lt;xsd:simpleType&gt;</code> defined with <code class="cCode">&lt;xsd:union&gt;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052577"> </a>
<code class="cCode">FLD_MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052579"> </a>
<code class="cCode">char []</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052953"> </a>
Same as <code class="cCode">&lt;xsd:anyType&gt;</code>. The Schema compliancy is not enforced at Oracle Tuxedo side.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052973"> </a>
<code class="cCode">&lt;xsd:complexType&gt;</code> defined with <code class="cCode">&lt;xsd:simpleContent&gt;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052586"> </a>
<code class="cCode">FLD_MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052588"> </a>
<code class="cCode">char []</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052590"> </a>
Same as <code class="cCode">&lt;xsd:anyType&gt;</code>. The Schema compliancy is not enforced at Oracle Tuxedo side.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052592"> </a>
<code class="cCode">&lt;xsd:complexType&gt;</code> defined with <code class="cCode">&lt;xsd:complexContent&gt;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052594"> </a>
<code class="cCode">FLD_MBSTRING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052596"> </a>
<code class="cCode">char []</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052598"> </a>
Same as <code class="cCode">&lt;xsd:anyType&gt;</code>. The Schema compliancy is not enforced at Oracle Tuxedo side.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053124"> </a>
<code class="cCode">&lt;xsd:complexType&gt;</code> defined with shorthand <code class="cCode">&lt;xsd:complexContent&gt;</code>, sub-elements composited with<code class="cCode"> sequence </code>or<code class="cCode"> all</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052602"> </a>
<code class="cCode">FLD_FML32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052604"> </a>
<code class="cCode">FBFR32 * embedded fml32 buffer</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052606"> </a>
Each sub-element of the complex type is defined as an embedded FML32 field.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053178"> </a>
<code class="cCode">&lt;xsd:complexType&gt;</code> defined with shorthand <code class="cCode">&lt;xsd:complexContent&gt;</code>, sub-elements composited with<code class="cCode"> choice</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052610"> </a>
<code class="cCode">FML_FML32</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052612"> </a>
<code class="cCode">FBFR32 * embedded fml32 buffer</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1052614"> </a>
Each sub-element of the complex type is defined as an embedded FML32 field.
</div>
<div class="pCellBody"><a name="wp1053228"> </a>
Oracle Tuxedo programmer should only add one sub field into the fml32 buffer.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1052984"> </a>
The following samples demonstrate how to prepare data in an Oracle Tuxedo program for XML Schema User Defined Data Types:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1053004"> </a><a href="datamap.html#wp1053008">XML Schema User Defined Type Sample - xsd:simpleType Derived from Primitive Simple Type</a></li>
<li><a name="wp1053072"> </a><a href="datamap.html#wp1053264">XML Schema User Defined Type Sample - xsd:simpleType Defined with xsd:list</a></li>
<p class="pGraphic"><a name="wp1053035"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1053008table1053005"><caption><a name="wp1053008"> </a>
Table 2-8  XML Schema User Defined Type Sample - xsd:simpleType Derived from Primitive Simple Type

</caption>

  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1053012"> </a>
XML Schema Definition
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1053018"> </a><div class="pPreformatted"><pre>&lt;xsd:element name=&#8221;<span style="font-weight: bold">Grade</span>&#8221; type=&#8221;Alphabet&#8221; /&gt;<br />&lt;xsd:simpleType name=&#8221;Alphabet&#8221;&gt;<br />	&lt;xsd:restriction base=&#8221;xsd:string&#8221;&gt;<br />		&lt;xsd:maxLength value=&#8221;1&#8221; /&gt;<br />		&lt;xsd:pattern value=&#8221;[A-Z]&#8221; /&gt;<br />	&lt;/xsd:restriction&gt;<br />&lt;/xsd:simpleType&gt;</pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1053020"> </a>
Corresponding FML32 Field Definition (FLD_STRING)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1053026"> </a><div class="pPreformatted"><pre>#	Field_name		Field_type		Field_flag		Field_comments<br /><span style="font-weight: bold">	</span><span style="font-weight: bold">Grade</span><span style="font-weight: bold">		string		-		</span></pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1053028"> </a>
C Pseudo Code
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1053034"> </a><div class="pPreformatted"><pre><span style="font-weight: bold">char grade[2];<br /></span>FBFR32 * request;<br />...<br />grade[0] = ‘A&#8217;; grade[1] = ‘\0&#8217;;<br />Fadd32( request, <code class="cCodeEmphasis">Grade</code>, (char *)grade, 0);</pre></div></td>
</tr>
</table>
</div>

</p>
<p class="pGraphic"><a name="wp1052982"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1053264table1053261"><caption><a name="wp1053264"> </a>
Table 2-9  XML Schema User Defined Type Sample - xsd:simpleType Defined with xsd:list

</caption>

  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1053268"> </a>
XML Schema Definition (Target Namespace &#8220;urn:sample.org&#8221;)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1053274"> </a><div class="pPreformatted"><pre>&lt;xsd:element name=&#8221;<span style="font-weight: bold">Users</span>&#8221; type=&#8221;namelist&#8221; /&gt;<br />&lt;xsd:simpleType name=&#8221;namelist&#8221;&gt;<br />	&lt;xsd:list itemType=&#8221;<span style="font-style: normal; font-weight: bold">xsd:NMTOKEN</span>&#8221;&gt;<br />&lt;/xsd:simpleType&gt;</pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1053276"> </a>
Corresponding FML32 Field Definition (FLD_MBSTRING)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1053282"> </a><div class="pPreformatted"><pre>#	Field_name		Field_type		Field_flag		Field_comments<br /><span style="font-weight: bold">	</span><span style="font-weight: bold">Users</span><span style="font-weight: bold">		mbstring		-		</span></pre></div></td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1053284"> </a>
C Pseudo Code
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><a name="wp1054314"> </a><div class="pPreformatted"><pre><span style="font-weight: bold">char * user[5];<br />char users[...];<br /></span>char * mbpacked;<br />FLDLEN32 mbsize = 1024;<br />FBFR32 * request;<br />...<br /><span style="font-weight: bold">sprintf(users, &#8220;&lt;n1:Users xmlns:n1=\&#8221;urn:sample.org\&#8221;&gt;&#8221;);<br />for ( i = 0 ; i &lt; 5 ; i++ ) {<br />	strcat(users, user[i]);<br />	strcat(users, &#8220; &#8220;);<br />}<br />strcat(users, &#8220;&lt;/n1:Users&gt;&#8220;);<br /></span>...<br />mbpacked = malloc(mbsize);<br />/* prepare mbstring*/<br />Fmbpack32(&#8220;utf-8&#8221;, users, strlen(users), mbpacked, &amp;mbsize, 0);<br />Fadd32( request, <code class="cCodeEmphasis">Users</code>, mbpacked, mbsize);</pre></div></td>
</tr>
</table>
</div>

</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1052978"> </a>
WSDL Message Mapping
</h3>
<p class="pBody"><a name="wp1053632"> </a>
Oracle Tuxedo FML32 buffer type is always used in mapping WSDL messages.
</p>
<p class="pBody"><a name="wp1053244"> </a>
<a href="datamap.html#wp1053681">Table&#160;2-10</a> lists the WSDL message mapping rules defined by Oracle SALT.
</p>
<p class="pGraphic"><a name="wp1053245"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1053681table1053436"><caption><a name="wp1053681"> </a>
Table 2-10  WSDL Message Mapping Rules

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1053687"> </a>
WSDL Message Definition
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1053689"> </a>
Oracle Tuxedo Buffer/Field Definition
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1053691"> </a>
Note
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053693"> </a>
<code class="cCode">&lt;wsdl:input&gt;</code> message
</div>
</td>
    <td class="table" scope="row"><a name="wp1053695"> </a><div class="pPreformatted"><pre>Oracle Tuxedo Request Buffer (Input buffer)</pre></div></td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053699"> </a>
<code class="cCode">&lt;wsdl:output&gt;</code> message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053701"> </a>
Oracle Tuxedo Response Buffer with <code class="cCode">TPSUCCESS</code> (Output buffer)
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053708"> </a>
<code class="cCode">&lt;wsdl:fault&gt;</code> message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053770"> </a>
Oracle Tuxedo Response Buffer with TPFAIL (error buffer)
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053714"> </a>
Each message part defined in <code class="cCode">&lt;wsdl:input&gt;</code> or <code class="cCode">&lt;wsdl:output&gt;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053716"> </a>
Mapped as top level field in the Oracle Tuxedo FML32 buffer. Field type is the equivalent FML32 field type of the message part XML data type. (See <a href="datamap.html#wp1051299">Table&#160;2-3</a> and <a href="datamap.html#wp1052542">Table&#160;2-7</a>)
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053856"> </a>
<code class="cCode">&lt;faultcode&gt;</code> in SOAP 1.1 fault message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053858"> </a>
Mapped as a fixed top level <code class="cCode">FLD_STRING </code>field (faultcode) in the Oracle Tuxedo error buffer:
</div>
<a name="wp1053995"> </a><div class="pPreformatted"><pre>faultcode string - -</pre></div></td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053860"> </a>
This mapping rule applies for SOAP 1.1 only.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053850"> </a>
<code class="cCode">&lt;faultstring&gt;</code> in SOAP 1.1 fault message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053905"> </a>
Mapped as a fixed top level <code class="cCode">FLD_STRING </code>field (faultstring) in the Oracle Tuxedo error buffer:
</div>
<div class="pCellBody"><a name="wp1054004"> </a>
faultstring string - -
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053946"> </a>
This mapping rule applies for SOAP 1.1 only.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053921"> </a>
<code class="cCode">&lt;faultactor&gt;</code> in SOAP 1.1 fault message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053929"> </a>
Mapped as a fixed top level <code class="cCode">FLD_STRING</code> field (<code class="cCode">faultactor</code>) in the Oracle Tuxedo error buffer:
</div>
<div class="pCellBody"><a name="wp1054013"> </a>
<code class="cCode">faultactor string - -</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053952"> </a>
This mapping rule applies for SOAP 1.1 only.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053838"> </a>
<code class="cCode">&lt;Code&gt;</code> in SOAP 1.2 fault message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054063"> </a>
Mapped as a fixed top level <code class="cCode">FLD_FML32</code> field (<code class="cCode">Code</code>) in the Oracle Tuxedo error buffer, which containing two fixed sub <code class="cCode">FLD_STRING</code> fields (<code class="cCode">Value</code> and <code class="cCode">Subcode</code>):
</div>
<div class="pCellBody"><a name="wp1053840"> </a>
<code class="cCode">Code fml32 - -<br />Value string - -<br />Subcode string - -</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053842"> </a>
This mapping rule applies for SOAP 1.2 only.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054135"> </a>
<code class="cCode">&lt;Reason&gt;</code> in SOAP 1.2 fault message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054153"> </a>
Mapped as a fixed top level <code class="cCode">FLD_FML32</code> field (<code class="cCode">Reason</code>) in the Oracle Tuxedo error buffer, which containing zero or more fixed sub <code class="cCode">FLD_STRING</code> field (<code class="cCode">Text</code>):
</div>
<div class="pCellBody"><a name="wp1054154"> </a>
<code class="cCode">Reason fml32 - -<br />Text string - -</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054139"> </a>
This mapping rule applies for SOAP 1.2 only.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054141"> </a>
<code class="cCode">&lt;Node&gt;</code> in SOAP 1.2 fault message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054205"> </a>
Mapped as a fixed top level <code class="cCode">FLD_STRING</code> field (<code class="cCode">Node</code>) in the Oracle Tuxedo error buffer:
</div>
<div class="pCellBody"><a name="wp1054143"> </a>
<code class="cCode">Node string - -</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054145"> </a>
This mapping rule applies for SOAP 1.2 only.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054147"> </a>
<code class="cCode">&lt;Role&gt;</code> in SOAP 1.2 fault message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054222"> </a>
Mapped as a fixed top level <code class="cCode">FLD_STRING</code> field (<code class="cCode">Role</code>) in the Oracle Tuxedo error buffer:
</div>
<div class="pCellBody"><a name="wp1054149"> </a>
<code class="cCode">Role string - -</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1054151"> </a>
This mapping rule applies for SOAP 1.2 only.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053832"> </a>
<code class="cCode">&lt;detail&gt;</code> in SOAP fault message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053834"> </a>
Mapped as a fixed top level <code class="cCode">FLD_FML32</code> field in the Oracle Tuxedo error buffer:
</div>
<div class="pCellBody"><a name="wp1054029"> </a>
<code class="cCode">detail fml32 - -</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053836"> </a>
This mapping rule applies for both SOAP 1.1 and SOAP 1.2.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053958"> </a>
Each message part defined in <code class="cCode">&lt;wsdl:fault&gt;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053972"> </a>
Mapped as a sub field of &#8220;<code class="cCode">detail</code>&#8221; field in the Oracle Tuxedo FML32 buffer. Field type is the equivalent FML32 field type of the message part XML data type. (See <a href="datamap.html#wp1051299">Table&#160;2-3</a> and <a href="datamap.html#wp1052542">Table&#160;2-7</a>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1053962"> </a>
This mapping rule applies for both SOAP 1.1 and SOAP 1.2.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="datamap.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="intro.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="client.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
