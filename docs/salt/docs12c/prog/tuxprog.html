<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="5" />
<meta name="LOC_US_CHANGE" content="42041" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/salt12c/prog/fm/tuxprog.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/29/12 11:34:02" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Oracle Tuxedo ATMI Programming for Web Services</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Programming Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="client.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="plugin.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/prog.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1038269"> </a>
Oracle Tuxedo ATMI Programming for Web Services
</h1>
<p class="pBody"><a name="wp1042198"> </a>
This chapter contains the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1038274"> </a><a href="tuxprog.html#wp1039111">Overview</a></li>
<li><a name="wp1034706"> </a><a href="tuxprog.html#wp1037671">Converting WSDL Model Into Oracle Tuxedo Model</a></li>
<li><a name="wp1039108"> </a><a href="tuxprog.html#wp1043540">Invoking SALT Proxy Services</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1039111"> </a>
Overview
</h2><p class="pBody"><a name="wp1038506"> </a>
Oracle SALT allows you to import external Web Services into Oracle Tuxedo Domains. To import external Web services into Oracle Tuxedo application, a WSDL file must first be loaded and converted. The Oracle SALT WSDL conversion utility, <code class="cCode">wsdlcvt</code>, translates each <code class="cCode">wsdl:operation</code> into a Oracle SALT proxy service. The translated SALT proxy service can be invoked directly through standard Oracle Tuxedo ATMI functions.
</p>
<p class="pBody"><a name="wp1038578"> </a>
Oracle SALT proxy service calls are sent to the GWWS server. The request is translated from Oracle Tuxedo typed buffers into the SOAP message, and then sent to the corresponding external Web Service. The response from an external Web Service is translated into Oracle Tuxedo typed buffers and returned to the Oracle Tuxedo application. The GWWS acts as the proxy intermediary.
</p>
<p class="pBody"><a name="wp1038729"> </a>
If an error occurs during the service call, the GWWS server sets the error status using <code class="cCode">tperrno</code>, which can be retrieved by Oracle Tuxedo applications. This enables you to detect and handle the SALT proxy service call error status.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1037671"> </a>
Converting WSDL Model Into Oracle Tuxedo Model
</h2><p class="pBody"><a name="wp1039453"> </a>
Oracle SALT provides a WSDL conversion utility, <span class="cHyperlink">
<a href="../ref/comref.html#wp1112274">wsdlcvt</a></span>, that converts external WSDL files into Oracle Tuxedo specific definition files so that you can develop Oracle Tuxedo ATMI programs to access services defined in the WSDL file. 
</p>
<h3 class="pHeading2"><a name="wp1039559"> </a>
WSDL-to-Tuxedo Object Mapping
</h3>
<p class="pBody"><a name="wp1038976"> </a>
Oracle SALT converts WSDL object models into Oracle Tuxedo models using the following rules:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1038977"> </a>Only SOAP over HTTP binding are supported, each binding is defined and saved as a WSBinding object in the WSDF file. </li>
<li><a name="wp1038978"> </a>Each operation in the SOAP bindings is mapped as one Oracle Tuxedo style service, which is also called a SALT proxy service. The operation name is used as the Oracle Tuxedo service name and indexed in the Oracle Tuxedo Service Metadata Repository.</li>
<a name="wp1042273"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If the operation name exceeds the Oracle Tuxedo service name length limitation (255 characters), you must manually set a unique short Oracle Tuxedo service name in the metadata respository and set the <code class="cCode">&lt;Service&gt; tuxedoRef</code> attribute in the WSDF file.</td>
</tr>
</table>

<a name="wp1042305"> </a><table class="ListNote">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>For more information, see<span class="cHyperlink">
<a href="../ref/wsdf.html"> Oracle SALT Web Service Definition File Reference</a></span> in the <span style="font-style: italic">Oracle SALT Reference Guide</span>.</td>
</tr>
</table>
<li><a name="wp1038980"> </a>Other Web service external application protocol information is saved in the generated WSDF file (including SOAP protocol version, SOAP message encoding style, accessing endpoints, and so).</li>
<li><a name="wp1038982"> </a>XML Schema definitions embedded in the WSDL file are copied and saved in separate .xsd files.</li>
<li><a name="wp1039155"> </a>Each <code class="cCode">wsdl:operation</code> object and its input/output message details are converted as an Oracle Tuxedo service definition conforms to the Oracle Tuxedo Service Metadata Repository input syntax.</li>
</ul></div>
<p class="pBody"><a name="wp1043493"> </a>
<a href="tuxprog.html#wp1043497">Table&#160;4-1</a> lists detailed mapping relationships between the WSDL file and Oracle Tuxedo definition files.
</p>
<p class="pGraphic"><a name="wp1043538"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1043497table1043494"><caption><a name="wp1043497"> </a>
Table 4-1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">WSDL Model / Oracle Tuxedo Model Mapping Rules</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1043503"> </a>
WSDL Object
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1043505"> </a>
Oracle Tuxedo/SALT Definition File
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1043507"> </a>
Oracle Tuxedo/SALT Definition Object
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043509"> </a>
<code class="cCode">/wsdl:binding</code>
</div>
</td>
    <td class="straddledcells" colspan="1" rowspan="3"><div class="pCellBody"><a name="wp1043511"> </a>
SALT Web Service Definition File (WSDF)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043513"> </a>
<code class="cCode">/WSBinding</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043515"> </a>
<code class="cCode">/wsdl:portType</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043519"> </a>
<code class="cCode">/WSBinding/Servicegroup</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043521"> </a>
<code class="cCode">/wsdl:binding/soap:binding</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043525"> </a>
<code class="cCode">/WSBinding/SOAP</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043527"> </a>
<code class="cCode">/wsdl:portType/operation</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043529"> </a>
Metadata Input File (MIF)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043531"> </a>
<code class="cCode">/WSBinding/service</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043533"> </a>
<code class="cCode">/wsdl:types/xsd:schema</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043535"> </a>
FML32 Field Defintion Table
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043537"> </a>
<code class="cCode">Field name type</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1043540"> </a>
Invoking SALT Proxy Services
</h2><p class="pBody"><a name="wp1039904"> </a>
The following sections include information on how to invoke the converted SALT proxy service from an Oracle Tuxedo application:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1039905"> </a><a href="tuxprog.html#wp1039984">Oracle SALT Supported Communication Pattern</a></li>
<li><a name="wp1039913"> </a><a href="tuxprog.html#wp1041091">Oracle Tuxedo Outbound Call Programming: Main Steps</a></li>
<li><a name="wp1039918"> </a><a href="tuxprog.html#wp1038376">Managing Error Code Returned from GWWS</a></li>
<li><a name="wp1039982"> </a><a href="tuxprog.html#wp1041223">Handling Fault Messages in an Oracle Tuxedo Outbound Application</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1039984"> </a>
Oracle SALT Supported Communication Pattern
</h3>
<p class="pBody"><a name="wp1039985"> </a>
Oracle SALT only supports the Oracle Tuxedo Request/Response communication patterns for outbound service calls. An Oracle Tuxedo application can request the SALT proxy service using the following communication Oracle Tuxedo ATMIs:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1040018"> </a><code class="cCode">tpcall(1) </code>/ <code class="cCode">tpacall(1)</code> / <code class="cCode">tpgetreply(1)</code></li>
<p class="pBodyRelative"><a name="wp1041050"> </a>
These basic ATMI functions can be called with an Oracle Tuxedo typed buffer as input parameter. The return of the call will also carry an Oracle Tuxedo typed buffer. All these buffers will conform to the converted outside Web service interface. <code class="cCode">tpacall</code>/<code class="cCode">tpgetreply</code> is not related to SOAP async communication.
</p>
<li><a name="wp1038677"> </a><code class="cCode">tpforward(1)</code></li>
<p class="pBodyRelative"><a name="wp1041054"> </a>
Oracle Tuxedo server applications can use this function to forward an Oracle Tuxedo request to a specified SALT proxy service. The response buffer is sent directly to client application&#8217;s response queue as if it&#8217;s a traditional native Oracle Tuxedo service.
</p>
<li><a name="wp1040038"> </a><code class="cCode">TMQFORWARD</code> enabled queue-based communication. </li>
<p class="pBodyRelative"><a name="wp1041061"> </a>
Oracle Tuxedo system server TMQFORWARD can accept queued requests and send them to Oracle SALT proxy services that have the same name as the queue.
</p>
</ul></div>
<p class="pBody"><a name="wp1038678"> </a>
Oracle SALT does not support the following Oracle Tuxedo communication patterns:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1039972"> </a>Conversational communication</li>
<li><a name="wp1040010"> </a>Event-based communication</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1041091"> </a>
Oracle Tuxedo Outbound Call Programming: Main Steps
</h3>
<p class="pBody"><a name="wp1041095"> </a>
When the GWWS is booted and Oracle SALT proxy services are advertised, you can create an Oracle Tuxedo application to call them. To develop a program to access SALT proxy services, do the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1041096"> </a>Check the Oracle Tuxedo Service Metadata Repository definition to see what the SALT proxy service interface is.</li>
<li><a name="wp1038929"> </a>Locate the generated FML32 field table files. Modify the FML32 field table to eliminate conflicting field names and assign a valid base number for the index.</li>
<a name="wp1040101"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The wsdlcvt generated FML32 field table files are always used by GWWS. you must make sure the field name is unique at the system level. If two or more fields are associated with the same field name, change the field name. Do not forget to change Oracle Tuxedo Service Metadata Repository definition accordingly. <br /><br />The base number of field index in the generated FML32 field table must be changed from the invalid default value to a correct number to ensure all field index in the table is unique at the entire system level.</td>
</tr>
</table>

<li><a name="wp1040096"> </a>Generate FML32 header files with <span class="cHyperlink">
<a href="../../../tuxedo/docs11gr1/rfcm/rfcmd.html">mkfldhdr32(1)</a></span>.</li>
<li><a name="wp1040146"> </a>Boot the GWWS with correct FML32 environment variable settings.</li>
<li><a name="wp1038932"> </a>Write a skeleton C source file for the client to call the outbound service (refer to Oracle Tuxedo documentation and the Oracle Tuxedo Service Metadata Repository generated pseudo-code if necessary). You can use <code class="cCode">tpcall(1)</code> or <code class="cCode">tpacall(1)</code> for synchronous or asynchronous communication, depending on the requirement.</li>
<li><a name="wp1041165"> </a>For FML32 buffers, you need to add each FML32 field (conforming to the corresponding Oracle SALT proxy service input buffer details) defined in the Oracle Tuxedo Service Metadata Repository, including FML32 field sequence and occurrence. The client source may include the generated header file to facilitate referencing the field name.</li>
<li><a name="wp1041166"> </a>Get input buffer ready, user can handle the returned buffer, which should be of the type defined in Metadata.</li>
<li><a name="wp1038935"> </a>Compile the source to generate executable.</li>
<li><a name="wp1038936"> </a>Test the executable.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1038376"> </a>
Managing Error Code Returned from GWWS
</h3>
<p class="pBody"><a name="wp1038888"> </a>
If the GWWS server encounters an error accessing external Web services, <code class="cCode">tperrno</code> is set accordingly so the Oracle Tuxedo application can diagnose the failure. <a href="tuxprog.html#wp1040205">Table&#160;4-2</a> lists possible Oracle SALT proxy service <code class="cCode">tperrno</code> values.
</p>
<p class="pGraphic"><a name="wp1040196"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1040205table1040203"><caption><a name="wp1040205"> </a>
Table 4-2  Error Code Returned From GWWS/Tuxedo Framework

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1040209"> </a>
TPERRNO
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1040211"> </a>
Possible Failure Reason
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040213"> </a>
<code class="cCode">TPENOENT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040215"> </a>
Requested SALT proxy service is not advertised by GWWS
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040217"> </a>
<code class="cCode">TPESVCERR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040219"> </a>
The HTTP response message returned from external Web service application is not valid
</div>
<div class="pCellBody"><a name="wp1040369"> </a>
The SOAP response message returned from external Web service application is not well-formed.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040221"> </a>
<code class="cCode">TPEPERM</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040223"> </a>
Authentication failure.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040225"> </a>
<code class="cCode">TPEITYPE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040227"> </a>
Message conversion failure when converting Oracle Tuxedo request typed buffer into XML payload of the SOAP request message.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040229"> </a>
<code class="cCode">TPEOTYPE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040395"> </a>
Message conversion failure when converting XML payload of the SOAP response message into Oracle Tuxedo response typed buffer.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040233"> </a>
<code class="cCode">TPEOS</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040235"> </a>
Request is rejected because of system resource limitation
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040237"> </a>
<code class="cCode">TPETIME</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040239"> </a>
Timeout occurred. This timeout can either be a BBL blocktime, or a SALT outbound call timeout.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040241"> </a>
<code class="cCode">TPSVCFAIL</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040243"> </a>
External Web service returns SOAP fault message
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040245"> </a>
<code class="cCode">TPESYSTEM</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040247"> </a>
GWWS internal errors. Check ULOG for more information.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1041223"> </a>
Handling Fault Messages in an Oracle Tuxedo Outbound Application
</h3>
<p class="pBody"><a name="wp1041224"> </a>
All rules listed in used to map WSDL input/output message into Oracle Tuxedo Metadata inbuf/outbuf definition. WSDL file default message can also be mapped into Oracle Tuxedo Metadata errbuf, with some amendments to the rules:
</p>
<p class="pBody"><a name="wp1038810"> </a>
Rules for fault mapping:
</p>
<p class="pBody"><a name="wp1038811"> </a>
There are two modes for mapping Metadata <code class="cCode">errbuf</code> into SOAP Fault messages: Tux Mode and XSD Mode.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1038812"> </a>Tux Mode is used to convert Oracle Tuxedo original error buffers returned with TPFAIL. The error buffers are converted into XML payload in the SOAP fault <code class="cCode">&lt;detail&gt;</code> element.</li>
<li><a name="wp1038813"> </a>XSD Mode is used to represent SOAP fault and WSDL file fault messages defined with Oracle Tuxedo buffers. The mapping rule includes:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1038814"> </a>Each service in XSD mode (<code class="cCode">servicemode=webservice</code>) always has an <code class="cCode">errbuf </code>in Metadata, with type=FML32.</li>
<li><a name="wp1038815"> </a><code class="cCode">errbuf</code> is a FML32 buffer. It is a complete descriptionof the SOAP:Fault message that may appear in correspondence (which is different for SOAP 1.1 and 1.2). The <code class="cCode">errbuf </code>definition content is determined by the SOAP version and WSDL fault message both.</li>
<li><a name="wp1038816"> </a>Parameter detail/Detail (1.1/1.2) is an FML32 field that represents the <code class="cCode">wsdl:part</code> defined in a <code class="cCode">wsdl:fault</code> message (when <code class="cCode">wsdl:fault</code> is present). Each part is defined as a <code class="cCode">param(field)</code> in the FML32 field. The mapping rules are the same as for input/output buffer. The difference is that each param <code class="cCode">requiredcount</code> is 0, which means it may not appear in the SOAP fault message.</li>
<li><a name="wp1038817"> </a>Other elements that appear in <code class="cCode">soap:fault</code> message are always defined as a filed in <code class="cCode">errbuf</code>, with <code class="cCode">requiredcount</code> equal to 1 or 0 (depending on whether the element is required or optional).</li>
<li><a name="wp1042609"> </a>Each part definition in the Metadata controls converting a <code class="cCode">&lt;detail&gt;</code> element in the soap fault message into a field in the error buffer.</li>
</ul></div>
</ul></div>
<p class="pBody"><a name="wp1042763"> </a>
<a href="tuxprog.html#wp1042631">Table&#160;4-3</a> lists the outbound SOAP fault errbuf definitions.
</p>
<p class="pGraphic"><a name="wp1042625"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1042631table1042629"><caption><a name="wp1042631"> </a>
Table 4-3  Outbound SOAP Fault Errbuf Definition 

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1042641"> </a>
Meta Parameter
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1042643"> </a>
SOAP Version
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1042645"> </a>
Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1042647"> </a>
Required 
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1042649"> </a>
Memo
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042651"> </a>
<code class="cCode">faultcode</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042653"> </a>
1.1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042655"> </a>
string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042657"> </a>
Yes
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042661"> </a>
<code class="cCode">faultstring</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042663"> </a>
1.1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042665"> </a>
string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042667"> </a>
Yes
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042671"> </a>
<code class="cCode">faultactor</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042673"> </a>
1.1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042675"> </a>
string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042677"> </a>
No
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042681"> </a>
<code class="cCode">detail</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042683"> </a>
1.1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042685"> </a>
fml32
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042687"> </a>
No
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042689"> </a>
If no wsdl:fault is defined, this field will contain an XML field.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042691"> </a>
<code class="cCode">Code</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042693"> </a>
1.2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042695"> </a>
fml32
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042697"> </a>
Yes
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042699"> </a>
Contain Value and optional Subcode
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042701"> </a>
<code class="cCode">Reason</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042703"> </a>
1.2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042705"> </a>
fml32
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042707"> </a>
Yes
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042709"> </a>
Contains multiple Text 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042711"> </a>
<code class="cCode">Node</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042713"> </a>
1.2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042715"> </a>
string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042717"> </a>
No
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042721"> </a>
<code class="cCode">Role</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042723"> </a>
1.2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042725"> </a>
string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042727"> </a>
No
</div>
</td>
    <td class="table" scope="row">&#160;</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042731"> </a>
<code class="cCode">Detail</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042733"> </a>
1.2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042735"> </a>
fml32
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042737"> </a>
No
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1042739"> </a>
same as detail field 
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="tuxprog.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="client.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="plugin.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
