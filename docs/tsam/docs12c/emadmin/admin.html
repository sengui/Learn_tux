<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/14/13 05:23:41" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Administrating Enterprise Manager for Oracle Tuxedo</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Administration Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next_grey1.gif" border="0" alt="Next" />&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/emadmin.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1085177"> </a>
Administrating Enterprise Manager for Oracle Tuxedo
</h1>
<p class="pBody"><a name="wp1096073"> </a>
This book describes configuration tasks the administrator needs to perform before using Enterprise Manager for Oracle Tuxedo for monitoring and the typical use cases.
</p>
<p class="pBody"><a name="wp1096077"> </a>
This chapter covers the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1096081"> </a><a href="admin.html#wp1085991">Starting the tlisten Process</a></li>
<li><a name="wp1079081"> </a><a href="admin.html#wp1095591">Configuring the UBBCONFIG File</a></li>
<li><a name="wp1079099"> </a><a href="admin.html#wp1086190">Discovering and Adding Tuxedo Targets</a></li>
<li><a name="wp1083754"> </a><a href="admin.html#wp1095259">Configuring Security</a></li>
<li><a name="wp1079121"> </a><a href="admin.html#wp1094176">Use Cases</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1085991"> </a>
Starting the tlisten Process
</h2><p class="pBody"><a name="wp1096103"> </a>
Before you can use Enterprise Manager for Oracle Tuxedo to monitor the Tuxedo domain targets, you must start the <code class="cCode">tlisten</code> process before starting the Tuxedo domain so that Tuxedo Domain MBeans can register with the JMX agent embedded in the <code class="cCode">tlisten</code> process. For MP domains in particular, you should start <code class="cCode">tlisten</code> for every machine.
</p>
<a name="wp1086123"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If Enterprise Manager for Oracle Tuxedo is used in conjunction with Oracle TSAM Plus 12c, either JRE 1.6 or one of the following JDK 1.6 versions is required to start the embedded JMX agent: </td>
</tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1086124"> </a>1.6.0 to 1.6.0_38 for both SUN JRE/JDK</li>
<li><a name="wp1086125"> </a>SR2 to SR9 for Linux on System z</li>
<li><a name="wp1086126"> </a>1.6.0.00 to 1.6.0.17 for HP platform</li>
</ul></div>
<a name="wp1086134"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>It is also recommended you use the JRE shipped under TSAM Plus install directory.</td>
</tr>
</table>
<p class="pBody"><a name="wp1086811"> </a>
Before starting <code class="cCode">tlisten</code>, you must set the <code class="cCode">tlisten</code> environment variable <code class="cCode">SHLIB_PATH/LIBPATH/LD_LIBRARY_PATH</code> and include the <code class="cCode">libjvm</code> library path. For windows platforms, you only need to set <code class="cCode">JAVA_HOME</code>. For HP platforms, you need to set <code class="cCode">LD_PRELOAD</code> to include the <code class="cCode">libjvm.so</code> directory.
</p>
<p class="pBody"><a name="wp1086004"> </a>
<a href="admin.html#wp1084970">Listing&#160;1</a> shows examples of environment variable settings on different platforms: 
</p>
<div class="pCodeTitle"><a name="wp1084970"> </a>
Listing&#160;1	   Environment Variable Setting on Different Platforms
</div> <p class="pBody"><a name="wp1085524"> </a>
For Linux 64-bit platforms:
</p>
<a name="wp1084971"> </a><div class="pPreformatted"><pre><code class="cCode">LD_LIBRARY_PATH=$TUXDIR/lib:$JAVA_HOME/jre/lib/amd64/server:$LD_LIBRARY_PATH; </code></pre></div><a name="wp1084972"> </a><div class="pPreformatted"><pre><code class="cCode">export LD_LIBRARY_PATH; </code></pre></div><p class="pBody"><a name="wp1084974"> </a>
For AIX 64-bit platforms:
</p>
<a name="wp1084975"> </a><div class="pPreformatted"><pre><code class="cCode">LIBPATH=$TUXDIR/lib:$JAVA_HOME/jre/lib/ppc64:${JAVA_HOME}/jre/lib/ppc64/default:$LIBPATH;</code></pre></div><a name="wp1084976"> </a><div class="pPreformatted"><pre><code class="cCode">export LIBPATH;</code></pre></div><p class="pBody"><a name="wp1085485"> </a>
For HP 64-bit platforms:
</p>
<a name="wp1085486"> </a><div class="pPreformatted"><pre>LD_LIBRARY_PATH=$TUXDIR/lib:$JAVA_HOME/jre/lib/IA64W/server:$LD_LIBRARY_PATH; </pre></div><a name="wp1085487"> </a><div class="pPreformatted"><pre>export LD_LIBRARY_PATH; </pre></div><a name="wp1085488"> </a><div class="pPreformatted"><pre>LD_PRELOAD=$JAVA_HOME/jre/lib/IA64W/server/libjvm.so; </pre></div><a name="wp1085489"> </a><div class="pPreformatted"><pre>export LD_PRELOAD;</pre></div><a name="wp1096107"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">LD_PRELOAD</code> is only used for <code class="cCode">tlisten</code>  to start embedded JMX agent. It should not be set when building Tuxedo applications.</td>
</tr>
</table>

<p class="pBody"><a name="wp1086717"> </a>
To start <code class="cCode">tlisten</code>, use the following command:
</p>
<a name="wp1081045"> </a><div class="pPreformatted"><pre>tlisten -j rmi://&lt;host&gt;:&lt;rmiport&gt; -l //&lt;host&gt;:&lt;tlistenport&gt;</pre></div><p class="pBody"><a name="wp1085074"> </a>
For example:
</p>
<a name="wp1096032"> </a><div class="pPreformatted"><pre>tlisten -j rmi://bej301163.cn.oracle.com:26999 -l //bej301163.cn.oracle.com:16998</pre></div><a name="wp1096033"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Make sure that the host and port specified by the <code class="cCode">-l</code> option are the same as the <code class="cCode">NLSADDR</code> value specified inthe <code class="cCode">UBBCONFIG</code> file.</td>
</tr>
</table>

<p class="pBody"><a name="wp1096025"> </a>
When the <code class="cCode">tlisten</code> process is started correctly, you can view the message &#8220;<b class="cBold">RMI connector server successfully started</b> and <b class="cBold">Started the embedded JMX agent successfully&#8221;</b> in ULOG. 
</p>
<h3 class="pHeading2"><a name="wp1096009"> </a>
Additional tlisten Options for Monitoring
</h3>
<p class="pBody"><a name="wp1085509"> </a>
The following options are added to <code class="cCode">tlisten</code> command line options for leveraging JMX monitoring:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1096000"> </a><code class="cCode">-j jmxaddr</code></li>
<p class="pBodyRelative"><a name="wp1096001"> </a>
Used to start the embedded JMX agent.
</p>
<p class="pBodyRelative"><a name="wp1096002"> </a>
<code class="cCode">jmxaddr</code> specifies the address of RMI connector of embedded JMX agent. If the address has been occupied by another process, an error message is printed into ULOG and JMX agent fails to start up.<a href="admin.html#wp1095972">Table&#160;1</a> lists the <code class="cCode">jmxaddr</code> adress formats.
</p>
<p class="pGraphic"><a name="wp1095989"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1095972table1095969"><caption><a name="wp1095972"> </a>
Table&#160;1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">IPv4 and IPv6 Address Formats</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1095976"> </a>
IPv4
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1095978"> </a>
IPv6
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095980"> </a>
rmi://IP:port 
</div>
<div class="pCellBody"><a name="wp1095981"> </a>
rmi://hostname:port_number
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095983"> </a>
rmi://[IPv6 address]:port 
</div>
<div class="pCellBody"><a name="wp1095984"> </a>
rmi://hostname:port_number 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095986"> </a>
rmi://#.#.#.#:port_number
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1095988"> </a>
Hex format is not supported
</div>
</td>
</tr>
</table>
</div>

</p>
</ul></div>
<a name="wp1084596"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>For the MP domain, you need to configure the <code class="cCode">-j</code> option for <code class="cCode">tlisten</code> on all machine nodes. </td>
</tr>
</table>

<div class="pSmartList1Bullet"><ul>
<li><a name="wp1095961"> </a><code class="cCode">-m jvm_min_mem</code></li>
<p class="pBodyRelative"><a name="wp1095962"> </a>
Specifies the minimal memory size (in MB), that should be allocated for the JVM used by JMX agent. The default value is 200MB.
</p>
<li><a name="wp1095941"> </a><code class="cCode">-M jvm_max_mem</code></li>
<p class="pBodyRelative"><a name="wp1095942"> </a>
Specifies the maximum memory size (in MB) that can be allocated for the JVM used by JMX agent. The value of <code class="cCode">jvm_max_mem</code> cannot be set smaller than the value of <code class="cCode">jvm_min_mem</code>, otherwise the JVM are not created and JMX agent fails to start up. The default value is 500MB.
</p>
<li><a name="wp1095917"> </a><code class="cCode">-S</code></li>
</ul></div>
<div class="pDefPara"><a name="wp1095918"> </a>
Specifies SSL connection rather than the default connection between EM OMS/Agent and JMX agent.
</div>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1095892"> </a><code class="cCode">-C keyStore</code></li>
<p class="pBodyRelative"><a name="wp1095893"> </a>
Specifies the <code class="cCode">keyStore</code> absolute path.
</p>
<li><a name="wp1095894"> </a><code class="cCode">-P keyStorePassword</code></li>
</ul></div>
<div class="pDefPara"><a name="wp1095868"> </a>
Specifies the environment variable in which the password for the key store is stored. This variable is only usefully when no <code class="cCode">tty</code> is attached.
</div>
<p class="pBody"><a name="wp1095843"> </a>
The following functions are added to the <code class="cCode">tlisten</code> process: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1096202"> </a>A JMX agent is embedded, and creates a JMX domain for every Tuxedo Domain (SHM mode), or Tuxedo Machine (MP mode), connecting to it. Every MBean in the JMX domain corresponds to a Tuxedo target. </li>
<li><a name="wp1096203"> </a><code class="cCode">tlisten</code> acts as the Tuxedo-side monitoring and management agent . It receives monitoring and management requests from Enterprise Manager and dispatches these requests to corresponding Tuxedo services.</li>
<li><a name="wp1095749"> </a><code class="cCode">tlisten</code> creates a Tuxedo context for each JMX connection. If a monitored Tuxedo domain enables authentication and authorization, <code class="cCode">tlisten</code> provides the credentials attained from Enterprise Repository when it attaches a Tuxedo domain.</li>
<li><a name="wp1095753"> </a>If the JMX fetchlet in EM agent sends a metrics request to <code class="cCode">tlisten</code>, <code class="cCode">tlisten:</code> </li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1095754"> </a>transforms the request message to an FML32 buffer and forwards the request to the MIB service of the corresponding Tuxedo domain, </li>
<li><a name="wp1095680"> </a>receives the metrics conveyed in the response buffer and then returns metrics to Enterprise Repository agent. The connection between the JMX fetchlet and the <code class="cCode">tlisten</code> agent are reused across multiple metrics requests for the same Enterprise Repository user. </li>
</ul></div>
<li><a name="wp1095664"> </a><code class="cCode">tlisten</code> also forwards job requests from Enterprise Repository agent to MIB service. Enterprise Repository agent creates a new JMX connection for every job request, and releases the connection after the job finishes. Accordingly, <code class="cCode">tlisten</code> creates a Tuxedo context for each job request.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1095591"> </a>
Configuring the UBBCONFIG File
</h2><h3 class="pHeading2"><a name="wp1095541"> </a>
Adding the NETWORK Section
</h3>
<p class="pBody"><a name="wp1095542"> </a>
To monitor and manage the Tuxedo domain monitoring targets, you must register the targets in the <code class="cCode">tlisten</code> process by adding the *<code class="cCode">NETWORK</code> section and configuring the <code class="cCode">NLSADDR</code> parameters inthe <code class="cCode">UBBCONFIG</code> file for the Tuxedo domain in SHM mode.
</p>
<h3 class="pHeading2"><a name="wp1095507"> </a>
Adding EXT_MON in the RESOUCES Section
</h3>
<p class="pBody"><a name="wp1095479"> </a>
Collection and calculation of certain metrics (such as Service Metrics and IPC Queue Metrics in MIB), consumes CPU time and potentially impacts Oracle Tuxedo performance. Oracle Tuxedo uses the <code class="cCode">EXT_MON</code> <code class="cCode">OPTIONS</code> parameter in the <code class="cCode">UBBCONFIG</code> file *<code class="cCode">RESOURCES</code> section to allow MIB  performance sensitive metrics collection.
</p>
<p class="pBody"><a name="wp1095455"> </a>
If the indicator is specified, all metrics listed in the Tuxedo Targets section are collected in MIB; otherwise, if the indicator is not specified, the following metrics are not collected by Oracle Tuxedo:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1086224"> </a>Tuxedo Server Service metrics</li>
<li><a name="wp1086225"> </a>Tuxedo Server IPC Queue metrics</li>
<li><a name="wp1086226"> </a>Tuxedo Bridge IPC Queue metrics</li>
</ul></div>
<p class="pBody"><a name="wp1095422"> </a>
The metrics collection policy changes immediately once you modify this parameter setting.
</p>
<p class="pBody"><a name="wp1095426"> </a>
<a href="admin.html#wp1086233">Listing&#160;2</a> shows an SHM mode <code class="cCode">UBBCONFIG</code> file example supporting Enterprise Manager monitoring.
</p>
<div class="pCodeTitle"><a name="wp1086233"> </a>
Listing&#160;2	   An SHM UBBCONFIG Sample Supporting Enterprise Manager Monitoring
</div> <a name="wp1086234"> </a><div class="pPreformatted"><pre>*RESOURCES                                                                                                                       </pre></div><a name="wp1086235"> </a><div class="pPreformatted"><pre>IPCKEY        65831                                                                                                              </pre></div><a name="wp1086236"> </a><div class="pPreformatted"><pre>DOMAINID      shm                                                                                                                </pre></div><a name="wp1086237"> </a><div class="pPreformatted"><pre>MASTER        L1                                                                                                                 </pre></div><a name="wp1086238"> </a><div class="pPreformatted"><pre>MODEL         SHM                                                                                                                </pre></div><a name="wp1086239"> </a><div class="pPreformatted"><pre>MAXACCESSERS  100                                                                                                                </pre></div><a name="wp1086240"> </a><div class="pPreformatted"><pre>MAXSERVERS    100                                                                                                                </pre></div><a name="wp1086241"> </a><div class="pPreformatted"><pre>OPTIONS       EXT_MON                                                                                                            </pre></div><a name="wp1086242"> </a><div class="pPreformatted"><pre>*MACHINES                                                                                                                        </pre></div><a name="wp1086243"> </a><div class="pPreformatted"><pre>&quot;bej301163&quot;  LMID         = L1                                                                                                   </pre></div><a name="wp1086244"> </a><div class="pPreformatted"><pre>             APPDIR       = &quot;/testarea/tux/test/jmx/servers&quot;                                                                     </pre></div><a name="wp1086245"> </a><div class="pPreformatted"><pre>             TUXCONFIG    = &quot;/testarea/tux/test/jmx/servers/tuxconfig&quot;                                                           </pre></div><a name="wp1086246"> </a><div class="pPreformatted"><pre>             TUXDIR       = &quot;/testarea/tux/oracle/tuxedo12.1.1.0&quot;                                                                </pre></div><a name="wp1086247"> </a><div class="pPreformatted"><pre>*GROUPS                                                                                                                          </pre></div><a name="wp1086248"> </a><div class="pPreformatted"><pre>ATMIGRP1     LMID         = L1                                                                                                   </pre></div><a name="wp1086249"> </a><div class="pPreformatted"><pre>             GRPNO        = 10                                                                                                   </pre></div><a name="wp1086250"> </a><div class="pPreformatted"><pre>*SERVERS                                                                                                                         </pre></div><a name="wp1086251"> </a><div class="pPreformatted"><pre>SvrUpdate    SRVGRP       = ATMIGRP1                                                                                             </pre></div><a name="wp1086252"> </a><div class="pPreformatted"><pre>             SRVID        = 100                                                                                                  </pre></div><a name="wp1086253"> </a><div class="pPreformatted"><pre>*SERVICES                                                                                                                        </pre></div><a name="wp1086254"> </a><div class="pPreformatted"><pre>                                                                                                                                 </pre></div><a name="wp1086255"> </a><div class="pPreformatted"><pre>*NETWORK                                                                                                                         </pre></div><a name="wp1086256"> </a><div class="pPreformatted"><pre>&quot;L1&quot;                                                                                                                             </pre></div><a name="wp1086257"> </a><div class="pPreformatted"><pre>NLSADDR=&quot;//bej301163.cn.oracle.com:16998&quot;</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1086190"> </a>
Discovering and Adding Tuxedo Targets
</h2><p class="pBody"><a name="wp1086191"> </a>
In order to manage and monitor Oracle Tuxedo applications, you must first discover the Tuxedo targets using Enterprise Manager Cloud Control.
</p>
<p class="pBody"><a name="wp1095409"> </a>
Once discovered, the domain and the components within it can be promoted to &quot;managed target&quot; status and an automatic discovery job runs every 24-hours to update the targets. In this process, management agents are assigned to each target, enabling Enterprise Manager Cloud Control to collect the data needed to monitor the target.
</p>
<p class="pBody"><a name="wp1095396"> </a>
This section covers the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1095400"> </a><a href="admin.html#wp1075956">Discovering Targets Manually</a></li>
<li><a name="wp1080554"> </a><a href="admin.html#wp1095335">Manually Adding a Standalone Target</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1075956"> </a>
Discovering Targets Manually
</h3>
<p class="pBody"><a name="wp1075959"> </a>
To discover all Tuxedo domains on a JMX agent, do the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1083793"> </a>Log in to Enterprise Manager Cloud Control.</li>
<li><a name="wp1083799"> </a>From the home page, go to <b class="cBold">Targets &gt;Middleware</b>.</li>
<li><a name="wp1083809"> </a>Click <b class="cBold">Middleware Features</b> &gt;<b class="cBold">Tuxedo Summary</b>.</li>
<li><a name="wp1083318"> </a>In the Tuxedo Summary page, click <b class="cBold">Add</b> &gt; <b class="cBold">Tuxedo Domain Discovery</b>.</li>
<li><a name="wp1083345"> </a>If only one domain exists in the JMX agent, specify the following options on the page that appears:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1083186"> </a><b class="cBold">Hostname</b>: Mandatory parameter. Specifies the host where the Tuxedo domain master machine is running.</li>
<li><a name="wp1083187"> </a><b class="cBold">Port</b>: Mandatory parameter. The port number specified by <code class="cCode">tlisten</code> <code class="cCode">-j</code> option.</li>
<li><a name="wp1095388"> </a><b class="cBold">Application Password</b>: Optional parameter. Specifies the Tuxedo application password Enterprise Manager agent uses to connect to the Tuxedo domain. You must input this parameter if the Tuxedo domain <code class="cCode">SECURITY</code> value is one of following: <code class="cCode">APP_PW</code>, <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>; otherwise, leave the field blank.</li>
<li><a name="wp1095389"> </a><b class="cBold">User name</b>: Optional parameter. Specifies the Tuxedo user name Enterprise Manager agent uses to connect to the Tuxedo domain. You must input this parameter if the Tuxedo domain <code class="cCode">SECURITY</code> value is one of following: <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>; otherwise, leave the field blank.</li>
<li><a name="wp1095380"> </a><b class="cBold">User Password</b>: Optional parameter. Specifies the Tuxedo user password Enterprise Manager agent uses to connect to the Tuxedo domain. You need to input this parameter if the Tuxedo domain <code class="cCode">SECURITY</code> value is one of following: <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>; otherwise, leave the field blank.</li>
<li><a name="wp1095381"> </a><b class="cBold">Use SSL</b>: Optional. This option refers to SSL mechanism between Enterprise Manager and JMX agent in the <code class="cCode">tlisten</code> process.</li>
<li><a name="wp1083115"> </a><b class="cBold">With Tuxedo Authentication</b>: If this box is unchecked, Tuxedo security related information is ignored and only <code class="cCode">tlisten</code> and the Tuxedo Home targets are discovered. Leave this box checked if you want to discover the Tuxedo domains monitored by the <code class="cCode">tlisten</code> process.</li>
<li><a name="wp1095372"> </a><b class="cBold">Monitoring Agent</b>: Mandatory option. It is recommended you select the one residing on the same physical machine with <code class="cCode">tlisten</code>.</li>
</ul></div>
</ol></div>
<a name="wp1095373"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The User name, Password, and Application password are used to generate Enterprise Manager Monitoring Credentialsfor all discovered targets. You can manage Monitoring Credentials by clicking <b class="cBold">Setup -&gt; Security</b> in the Enterprise Manager console.</td>
</tr>
</table>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1095352"> </a>Click <b class="cBold">Discover Now</b>.</li>
<p class="pBodyRelative"><a name="wp1095353"> </a>
If only one domain is being monitored by  <code class="cCode">tlisten</code>, you will get a list of discovered targets; otherwise, select the domain on the page that appears and enter the parameters specific to the domain, then click <b class="cBold">Discover Now</b> again.
</p>
</ol></div>
<h3 class="pHeading2"><a name="wp1095335"> </a>
Manually Adding a Standalone Target  
</h3>
<p class="pBody"><a name="wp1095339"> </a>
To add a standalone Tuxedo target to Enterprise Manager Cloud Control, do the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1095313"> </a>Log in to Enterprise Manager Cloud Control as SYSMAN.</li>
<li><a name="wp1078203"> </a>From the home page, navigate to <b class="cBold">Setup &gt;Add Targets</b>.</li>
<li><a name="wp1095282"> </a>Click <b style="font-weight: bold" class="cBold">Add Targets Manually &gt;Add Non-Host Targets by Specifying Target Monitoring Properties</b><b style="font-weight: normal" class="cBold">.</b></li>
</ol></div>
<p class="pBody"><a name="wp1095286"> </a>
Enterprise Manager Cloud Control bypasses <code class="cCode">tlisten</code>  and directly adds the target into Enterprise Repository.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1095259"> </a>
Configuring Security
</h2><p class="pBody"><a name="wp1095247"> </a>
Enterprise Manager for Oracle Tuxedo supports the following security mechanism:
</p>
<h3 class="pHeading2"><a name="wp1095248"> </a>
Tuxedo Authentication and Authorization
</h3>
<p class="pBody"><a name="wp1095224"> </a>
If the <code class="cCode">SECURITY</code> parameter of the Tuxedo domain is <code class="cCode">APP_PW</code>, Enterprise Manager agents  provide a Tuxedo application password for authentication. If the <code class="cCode">SECURITY</code> parameter is <code class="cCode">USR_AUTH</code>, <code class="cCode">ACL</code> or <code class="cCode">MANDATORY_ACL</code>, Enterprise Manager agents  provide application password, user name, and user password for authentication; meanwhile, <code class="cCode">AUTHSVR</code> must be configured in the <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1095194"> </a>
The client name of Tuxedo users used by Enterprise Manager must be &quot;<code class="cCode">tpsysadm</code>&quot;; otherwise, some metrics and job requests will fail.
</p>
<h4 class="pHeading3"><a name="wp1095178"> </a>
JOB
</h4>
<p class="pBody"><a name="wp1095170"> </a>
When any JOB (based on Tuxedo security configuration), is invoked, the following three cases may occur.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1083505"> </a><code class="cCode">NONE</code></li>
<p class="pBodyRelative"><a name="wp1083506"> </a>
No &quot;Credentials&quot; page appears. Your job is executed immediately.
</p>
<li><a name="wp1083507"> </a><code class="cCode">APP_PW</code></li>
<p class="pBodyRelative"><a name="wp1095154"> </a>
&quot;Credentials&quot; page appears, requiring you to provide Tuxedo username, password, and application password. Enterprise Manager OMS takes such information together to talk with JMX agent. If authentication is passed, your job is executed ; otherwise, your job will be rejected.
</p>
<a name="wp1097452"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Even though Tuxedo does not use the value of Tuxedo Username and Tuxedo Password fields to authenticate or authorize, the two fields must be inputted as place holders.</td>
</tr>
</table>

<li><a name="wp1095138"> </a><code class="cCode">ACL/ACL_MANDATORY</code></li>
<p class="pBodyRelative"><a name="wp1096491"> </a>
&quot;Credentials&quot; page appears requiring you to provide Tuxedo username, password, and application password. Enterprise Manager OMS uses this information to talk with JMX agent. If authentication is passed, the job is executed afterwards; by contrast, if either authentication or authorization is failed, your job will be rejected. 
</p>
<a name="wp1096528"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The startup of Tuxedo targets with Tuxedo Domain or Tuxedo Machine type: </td>
</tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1095096"> </a>does not need Authentication or Authorization;</li>
<li><a name="wp1095091"> </a>can be invoked under any its target status.</li>
</ul></div>
</ul></div>
<h4 class="pHeading3"><a name="wp1095081"> </a>
Discovery
</h4>
<p class="pBody"><a name="wp1095071"> </a>
After discovery, all targets, which are required to update status/metric, are updated with username/password and application password into its target instance property. 
</p>
<p class="pBody"><a name="wp1083519"> </a>
For more information, see <a href="admin.html#wp1086190">Discovering and Adding Tuxedo Targets</a>.
</p>
<h4 class="pHeading3"><a name="wp1095054"> </a>
Metric Fetchlet
</h4>
<p class="pBody"><a name="wp1095055"> </a>
Invoked by Enterprise Manager Agent, fetchlet utilizes username, password, and application password (which are stored as target instance properties), to connect with Tuxedo JMX Agent when Tuxedo security is enabled.
</p>
<h3 class="pHeading2"><a name="wp1083522"> </a>
SSL Connection Between EM OMS/Agent and JMX Agent Embedded in &quot;tlisten&quot; Process
</h3>
<p class="pBody"><a name="wp1095025"> </a>
SSL connection has two types:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1095026"> </a>Between EM OMS and JMX agent</li>
<p class="pBodyRelative"><a name="wp1096584"> </a>
For example: Admin job action from every Tuxedo target home page, such as startup/shutdown, etc.
</p>
<li><a name="wp1083526"> </a>Between EM Agent and JMX agent</li>
<p class="pBodyRelative"><a name="wp1095021"> </a>
Both Metric fetchlet and Discovery (Manual / Automatic) are based on this connection.
</p>
</ul></div>
<a name="wp1095022"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You must install Enterprise Manager Cloud Control using advanced configuration mode, otherwise the admin job (modify UBB/boot or shutdown one target) will  fail.</td>
</tr>
</table>

<p class="pBody"><a name="wp1095014"> </a>
For more information, see <a href="admin.html#wp1085991">Starting the tlisten Process</a>.
</p>
<h4 class="pHeading3"><a name="wp1094986"> </a>
JMX Agent
</h4>
<p class="pBody"><a name="wp1094967"> </a>
To enable SSL, you should enable SSL at <code class="cCode">tlisten</code> startup. For more information , see <a href="admin.html#wp1085991">Starting the tlisten Process</a>.
</p>
<p class="pBody"><a name="wp1094956"> </a>
If JMX Agent enables SSL, Enterprise Manager OMS/Agent must enable SSL; otherwise, OMS  fails to connect with JMX Agent.
</p>
<h4 class="pHeading3"><a name="wp1096644"> </a>
Discovery
</h4>
<p class="pBody"><a name="wp1096645"> </a>
If JMX Agent enables SSL, the &quot;Use SSL&quot; checkbox must be checked onthe discover UI page; otherwise, discovery will be rejected. 
</p>
<p class="pBody"><a name="wp1094898"> </a>
At discovery UI, if the &quot;Use SSL&quot; checkbox is checked, the discovery process  runs with SSL security. Before  discovery with the enabled SSL, the SSL runtime environment should be ready in three areas: Tuxedo Application, Enterprise Manager OMS, and Enterprise Manager Agent.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1094856"> </a>For Tuxedo Application</li>
<p class="pBodyRelative"><a name="wp1094849"> </a>
Make sure SSL is enabled for JMX Agent. For more information, see<span class="cHyperlink">
 </span><a href="admin.html#wp1085991">Starting the tlisten Process</a>.
</p>
<li><a name="wp1094851"> </a>For Enterprise Manager OMS</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1094852"> </a>Trust store should be configured well.</li>
<li><a name="wp1094836"> </a>Each time auto discovery is invoked, &quot;Use SSL&quot; property on the domain target is checked. If &quot;Use SSL&quot; is <code class="cCode">true</code>, the connection between OMS and JMX Agent is under SSL; otherwise, it is not.</li>
<li><a name="wp1094806"> </a>Each time a job is invoked from Tuxedo target home page, &quot;Use SSL&quot; property on the domain target is checked. If &quot;Use SSL&quot; is true, the connection between OMS and JMX Agent is under SSL; otherwise, it is not.</li>
</ul></div>
<li><a name="wp1094776"> </a>For Enterprise Manager agent</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1094760"> </a>Trust store should be well configured.</li>
<li><a name="wp1094750"> </a>Modify startup options for SSL.</li>
<li><a name="wp1094740"> </a>If a metric collection is scheduled, &quot;Use SSL&quot; property on that target is checked. For the connection between Enterprise Manager agent and JMX agent, if &quot;Use SSL&quot; is <code class="cCode">true</code>, SSL is enabled; otherwise, it is not.</li>
<li><a name="wp1094710"> </a>If discovery is successful, Enterprise Manager OMS  saves all targets discovered using target properties (of which &quot;Use SSL&quot; should be set to <code class="cCode">true</code>).</li>
</ul></div>
</ul></div>
<a name="wp1094678"> </a>
<table class="Note">
<tr>
<td valign="top"><strong>WARNING:</strong></td>
<td>If you have already discovered all Tuxedo targets with SSL disabled and then started JMX agent with SSL enabled, Enterprise Manager OMS/Agent fails to connect with JMX agent;  all relative targets status  is unknown and all job actions from the Tuxedo home page are rejected. </td>
</tr>
</table>

<a name="wp1094599"> </a>
<table class="Note">
<tr>
<td valign="top"><b class="texthide">WARNING:</b></td>
<td><span style="font-weight: bold">Solution</span>: you should run manual discovery again if this scenario occurs.</td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1094571"> </a>
Keystore and Trust Store Configuration
</h4>
<h5 class="pHeading4"><a name="wp1083555"> </a>
JMX Agent
</h5>
<h5 class="pHeading4"><a name="wp1094554"> </a>
keystore
</h5>
<p class="pBody"><a name="wp1094555"> </a>
<code class="cCode">tlisten</code> startup options provide keystore location/password to enable SSL.
</p>
<a name="wp1094556"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td></td></tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1094535"> </a>You must  keep or know the keystore password;</li>
<li><a name="wp1094536"> </a>Reboot <code class="cCode">tlisten</code> after <code class="cCode">keystore</code> change if <code class="cCode">tlisten</code> is active.</li>
<div class="pCodeTitle"><a name="wp1094501"> </a>
Listing&#160;3	   Example - Generate keystore.jks
</div> <a name="wp1083562"> </a><div class="pPreformatted"><pre>$ keytool -genkeypair -alias tuxedo -keyalg RSA  -validity 1825  -keystore keystore.jks</pre></div><a name="wp1083563"> </a><div class="pPreformatted"><pre>Enter keystore password: </pre></div><a name="wp1083564"> </a><div class="pPreformatted"><pre>Re-enter new password: </pre></div><a name="wp1083565"> </a><div class="pPreformatted"><pre>What is your first and last name?</pre></div><a name="wp1083566"> </a><div class="pPreformatted"><pre>  [Unknown]:  Tuxedo</pre></div><a name="wp1083567"> </a><div class="pPreformatted"><pre>What is the name of your organizational unit?</pre></div><a name="wp1083568"> </a><div class="pPreformatted"><pre>  [Unknown]:  Oracle Tuxedo</pre></div><a name="wp1083569"> </a><div class="pPreformatted"><pre>What is the name of your organization?</pre></div><a name="wp1083570"> </a><div class="pPreformatted"><pre>  [Unknown]:  Oracle Corporation</pre></div><a name="wp1083571"> </a><div class="pPreformatted"><pre>What is the name of your City or Locality?</pre></div><a name="wp1083572"> </a><div class="pPreformatted"><pre>  [Unknown]:  Redwood Shores</pre></div><a name="wp1083573"> </a><div class="pPreformatted"><pre>What is the name of your State or Province?</pre></div><a name="wp1083574"> </a><div class="pPreformatted"><pre>  [Unknown]:  CA</pre></div><a name="wp1083575"> </a><div class="pPreformatted"><pre>What is the two-letter country code for this unit?</pre></div><a name="wp1083576"> </a><div class="pPreformatted"><pre>  [Unknown]:  US</pre></div><a name="wp1083577"> </a><div class="pPreformatted"><pre>Is CN=Tuxedo, OU=Oracle Tuxedo, O=Oracle Corporation, L=Redwood Shores, ST=CA, C=US correct?</pre></div><a name="wp1083578"> </a><div class="pPreformatted"><pre>  [no]:  yes</pre></div><a name="wp1097421"> </a><div class="pPreformatted"><pre>Enter key password for &lt;tuxedo&gt;</pre></div><a name="wp1097422"> </a><div class="pPreformatted"><pre>        (RETURN if same as keystore password):  </pre></div></ul></div>
<p class="troubleshoot">

</p>
<h5 class="pHeading4"><a name="wp1094490"> </a>
Enterprise Manager OMS
</h5>
<h5 class="pHeading4"><a name="wp1094491"> </a>
Trust Store
</h5>
<p class="pBody"><a name="wp1094479"> </a>
Onthe OMS side, SSL follows the standard Java Secure Socket Extension (JSSE). For more information , see the Java Secure Socket Extension (JSSE) Reference Guide.
</p>
<p class="pBody"><a name="wp1094444"> </a>
To configure trust store, do the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1094416"> </a>Generate a JMXAgent trust certificate from JMXAgent keystore. (Suppose the certificate name is <code class="cCode">tuxedo.cer</code>. )</li>
<li><a name="wp1094407"> </a>Import JMXAgent trust certificate into one of the following trust stores:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1084377"> </a>The trust store given by <code class="cCode">javax.net.ssl.trustStore</code>, if such option is set in the WLS startup script, <code class="cCode">startWebLogic.sh</code>, or WLS startup system property. </li>
<li><a name="wp1084378"> </a><code class="cCode">$MW_HOME/jdk16/jdk/jre/lib/security/jssecacerts</code>, if it exists.</li>
<li><a name="wp1094401"> </a><code class="cCode">$MW_HOME/jdk16/jdk/jre/lib/security/cacerts</code>, if it exists.</li>
<p class="pBodyRelative"><a name="wp1094402"> </a>
Where, <code class="cCode">$MW_HOME</code> is the Oracle Enterprise Manager installation directory.
</p>
<div class="pCodeTitle"><a name="wp1094403"> </a>
Listing&#160;4	   Example - Export Certificate
</div> <a name="wp1083590"> </a><div class="pPreformatted"><pre>$ keytool -export -alias tuxedo  -keystore keystore.jks -rfc -file tuxedo.cer</pre></div><a name="wp1083591"> </a><div class="pPreformatted"><pre>Enter keystore password:  </pre></div><a name="wp1083592"> </a><div class="pPreformatted"><pre>Certificate stored in file &lt;tuxedo.cer&gt;</pre></div><div class="pCodeTitle"><a name="wp1083594"> </a>
Listing&#160;5	   Example - Import tuxedo.cer
</div> <a name="wp1084300"> </a><div class="pPreformatted"><pre>$ keytool -import -alias tuxedo -file tuxedo.cer -keystore $MW_HOME/jdk16/jdk/jre/lib/security/jssecacerts</pre></div><a name="wp1084301"> </a><div class="pPreformatted"><pre>Enter keystore password:  </pre></div><a name="wp1084302"> </a><div class="pPreformatted"><pre>Re-enter new password: </pre></div><a name="wp1084303"> </a><div class="pPreformatted"><pre>Owner: CN=Tuxedo, OU=Oracle Tuxedo, O=Oracle Corporation, L=Redwood Shores, ST=CA, C=US</pre></div><a name="wp1084304"> </a><div class="pPreformatted"><pre>Issuer: CN=Tuxedo, OU=Oracle Tuxedo, O=Oracle Corporation, L=Redwood Shores, ST=CA, C=US</pre></div><a name="wp1084305"> </a><div class="pPreformatted"><pre>Serial number: 4fab2940</pre></div><a name="wp1084306"> </a><div class="pPreformatted"><pre>Valid from: Thu May 10 10:34:40 CST 2012 until: Tue May 09 10:34:40 CST 2017</pre></div><a name="wp1084307"> </a><div class="pPreformatted"><pre>Certificate fingerprints:</pre></div><a name="wp1084308"> </a><div class="pPreformatted"><pre>         MD5:  63:E2:6E:93:AD:5A:7F:21:CB:3C:51:3F:8C:92:AA:0D</pre></div><a name="wp1084309"> </a><div class="pPreformatted"><pre>         SHA1: 77:D2:86:4F:74:A3:84:64:A0:5B:CA:50:7A:EF:66:DC:7F:92:83:0F</pre></div><a name="wp1084310"> </a><div class="pPreformatted"><pre>         Signature algorithm name: SHA1withRSA</pre></div><a name="wp1084311"> </a><div class="pPreformatted"><pre>         Version: 3</pre></div><a name="wp1084312"> </a><div class="pPreformatted"><pre>Trust this certificate? [no]:  yes</pre></div><a name="wp1084313"> </a><div class="pPreformatted"><pre>Certificate was added to keystore</pre></div></ul></div>
</ol></div>
<a name="wp1094393"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The default password for <code class="cCode">$MW_HOME/jdk16/jdk/jre/lib/security/jssecacerts</code> and <code class="cCode">$MW_HOME/jdk16/jdk/jre/lib/security/cacerts </code>is <b class="cBold">changeit</b>.</td>
</tr>
</table>

<h5 class="pHeading4"><a name="wp1094384"> </a>
Enterprise Manager Agent
</h5>
<h5 class="pHeading4"><a name="wp1094385"> </a>
Trust Store
</h5>
<p class="pBody"><a name="wp1094375"> </a>
Enterprise Manager Agent may have a trust store pre-installed , <code class="cCode">$ORACLE_HOME/sysman/config/montrust/AgentTrust.jks</code>, where <code class="cCode">$ORACLE_HOME</code> is the installed Enterprise Manager agent directory (e.g.,<code class="cCode">/testarea/em/installed_em/EM_110922/agent/agent_inst</code>).
</p>
<p class="pBody"><a name="wp1094334"> </a>
If <code class="cCode">AgentTrust.jks</code> exists, you should import your public key into <code class="cCode">AgentTrust.jks</code>; otherwise, copy <code class="cCode">TuxedoTrust.jks</code> to <code class="cCode">$ORACLE_HOME /sysman/config/montrust/</code> and rename it to <code class="cCode">AgentTrust.jks</code>.
</p>
<p class="pBody"><a name="wp1094330"> </a>
Usually, on the Enterprise Manager Agent side, you  need to import the CA certificate into <code class="cCode">$EMAGENT_HOME/agent_inst/sysman/config/montrust/AgentTrust.jks</code>. For AIX 5.3 64-bit platforms, you must also import the CA certificate into <code class="cCode">$EMAGENT_HOME/core/12.1.0.2.0/jdk/jre/lib/security/cacerts</code>. 
</p>
<p class="pBody"><a name="wp1086541"> </a>
For example, type the following commands:
</p>
<a name="wp1086543"> </a><div class="pPreformatted"><pre>cd  $EMAGENT_HOME/core/12.1.0.2.0/jdk/jre/lib/security </pre></div><a name="wp1094297"> </a><div class="pPreformatted"><pre>keytool -import -alias tuxedo -file tuxedo.cer -keystore $EMAGENT_HOME/core/12.1.0.2.0/jdk/jre/lib/security/cacerts -storepass changeit</pre></div><p class="pBody"><a name="wp1094298"> </a>
Where: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1094299"> </a><code class="cCode">$EMAGENT_HOME</code> is the agent install home on the AIX host</li>
<li><a name="wp1094289"> </a><code class="cCode">tuxedo</code> is the CA certificate alias</li>
<li><a name="wp1086551"> </a><code class="cCode">tuxedo.cer</code> is the CA certificate file</li>
</ul></div>
<a name="wp1086531"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td></td></tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1094268"> </a>The Trust store name is <code class="cCode">AgentTrust.jks</code> and the password is &quot;<code class="cCode">welcome</code>&quot;; both of them are unchangeable. </li>
<li><a name="wp1094269"> </a>Reboot Enterprise Manager Agent after <code class="cCode">truststore</code>  change if Enterprise Manager Agent is active.</li>
<div class="pCodeTitle"><a name="wp1083617"> </a>
Listing&#160;6	   Example - Import into AgentTrust.jks
</div> <a name="wp1083618"> </a><div class="pPreformatted"><pre>$ keytool -import -alias tuxedo -file tuxedo.cer -keystore AgentTrust.jks</pre></div><a name="wp1083619"> </a><div class="pPreformatted"><pre>Enter keystore password:  </pre></div><a name="wp1083620"> </a><div class="pPreformatted"><pre>Owner: CN=Tuxedo, OU=Oracle Tuxedo, O=Oracle Corporation, L=Redwood Shores, ST=CA, C=US</pre></div><a name="wp1083621"> </a><div class="pPreformatted"><pre>Issuer: CN=Tuxedo, OU=Oracle Tuxedo, O=Oracle Corporation, L=Redwood Shores, ST=CA, C=US</pre></div><a name="wp1083622"> </a><div class="pPreformatted"><pre>Serial number: 4fab2940</pre></div><a name="wp1083623"> </a><div class="pPreformatted"><pre>Valid from: Thu May 10 10:34:40 CST 2012 until: Tue May 09 10:34:40 CST 2017</pre></div><a name="wp1083624"> </a><div class="pPreformatted"><pre>Certificate fingerprints:</pre></div><a name="wp1083625"> </a><div class="pPreformatted"><pre>         MD5:  63:E2:6E:93:AD:5A:7F:21:CB:3C:51:3F:8C:92:AA:0D</pre></div><a name="wp1083626"> </a><div class="pPreformatted"><pre>         SHA1: 77:D2:86:4F:74:A3:84:64:A0:5B:CA:50:7A:EF:66:DC:7F:92:83:0F</pre></div><a name="wp1083627"> </a><div class="pPreformatted"><pre>         Signature algorithm name: SHA1withRSA</pre></div><a name="wp1083628"> </a><div class="pPreformatted"><pre>         Version: 3</pre></div><a name="wp1083629"> </a><div class="pPreformatted"><pre>Trust this certificate? [no]:  yes</pre></div><a name="wp1083630"> </a><div class="pPreformatted"><pre>Certificate was added to keystore</pre></div><div class="pCodeTitle"><a name="wp1083632"> </a>
Listing&#160;7	   Example - Verify AgentTrust.jks
</div> <a name="wp1083633"> </a><div class="pPreformatted"><pre>$ keytool -list -v -keystore AgentTrust.jks</pre></div><a name="wp1083634"> </a><div class="pPreformatted"><pre>Enter keystore password:  </pre></div><a name="wp1083636"> </a><div class="pPreformatted"><pre>Keystore type: JKS</pre></div><a name="wp1083637"> </a><div class="pPreformatted"><pre>Keystore provider: SUN</pre></div><a name="wp1083639"> </a><div class="pPreformatted"><pre>Your keystore contains 11 entries</pre></div><a name="wp1083641"> </a><div class="pPreformatted"><pre>...</pre></div><a name="wp1083643"> </a><div class="pPreformatted"><pre>Alias name: tuxedo</pre></div><a name="wp1083644"> </a><div class="pPreformatted"><pre>Creation date: May 10, 2012</pre></div><a name="wp1083645"> </a><div class="pPreformatted"><pre>Entry type: trustedCertEntry</pre></div><a name="wp1083647"> </a><div class="pPreformatted"><pre>Owner: CN=Tuxedo, OU=Oracle Tuxedo, O=Oracle Corporation, L=Redwood Shores, ST=CA, C=US</pre></div><a name="wp1083648"> </a><div class="pPreformatted"><pre>Issuer: CN=Tuxedo, OU=Oracle Tuxedo, O=Oracle Corporation, L=Redwood Shores, ST=CA, C=US</pre></div><a name="wp1083649"> </a><div class="pPreformatted"><pre>Serial number: 4fab2940</pre></div><a name="wp1083650"> </a><div class="pPreformatted"><pre>Valid from: Thu May 10 10:34:40 CST 2012 until: Tue May 09 10:34:40 CST 2017</pre></div><a name="wp1083651"> </a><div class="pPreformatted"><pre>Certificate fingerprints:</pre></div><a name="wp1083652"> </a><div class="pPreformatted"><pre>         MD5:  63:E2:6E:93:AD:5A:7F:21:CB:3C:51:3F:8C:92:AA:0D</pre></div><a name="wp1083653"> </a><div class="pPreformatted"><pre>         SHA1: 77:D2:86:4F:74:A3:84:64:A0:5B:CA:50:7A:EF:66:DC:7F:92:83:0F</pre></div><a name="wp1083654"> </a><div class="pPreformatted"><pre>         Signature algorithm name: SHA1withRSA</pre></div><a name="wp1083655"> </a><div class="pPreformatted"><pre>         Version: 3</pre></div></ul></div>
<h5 class="pHeading4"><a name="wp1094243"> </a>
Summary
</h5>
<p class="pBody"><a name="wp1094244"> </a>
Before enabling SSL, do the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1094245"> </a>Ensure that keystore at JMX agent is available and start <code class="cCode">tlisten</code> with SSL enabled options correctly</li>
<li><a name="wp1094232"> </a>Ensure Enterprise Manager agent  trust store is available. Restart Enterprise Manager agent</li>
<li><a name="wp1094200"> </a>Ensure Enterprise Manager OMS  trust store is available</li>
<li><a name="wp1094195"> </a>Reboot <code class="cCode">tlisten</code>/EM Agent/OMS after <code class="cCode">keystore</code>/<code class="cCode">trustore</code> is changed</li>
<li><a name="wp1094172"> </a>Ensure that SSL follows the rule of Maximum Key length (Bits) used in SSL (For example, RSA: 512 and larger; AES: 256/128). For more information, see &quot;<span class="cHyperlink">
<a href="http://download.java.net/jdk8/docs/technotes/guides/security/jsse/JSSERefGuide.html">Java Secure Socket Extension (JSSE) Reference Guide</a></span>&quot; at SSL relative document of Oracle office web site. </li>
</ol></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1094176"> </a>
Use Cases
</h2><p class="pBody"><a name="wp1094177"> </a>
This section provides several typical deployment use cases to demonstrate how Enterprise Manager for Oracle Tuxedo is deployed in different circumstances.
</p>
<a name="wp1094124"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>For all the nodes involved in an Enterprise Manager for Oracle Tuxedo monitoring environment (including the machines on which Tuxedo applications, Enterprise Manager agents, Enterprise Manager OMS, and Enterprise Manager repository are running), it is highly recommended that you synchronize their clocks.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1094050"> </a>
Basic Monitoring 
</h3>
<p class="pBody"><a name="wp1093899"> </a>
<a href="admin.html#wp1078366">Figure&#160;1</a> shows a typical Enterprise Manager for Oracle Tuxedo deployment scenario.
</p>
<p class="pBody"><a name="wp1093900"> </a>
For performance and security considerations, if the Enterprise Repository agent supports the specific platform on which Tuxedo domains are running, it is recommended to deploy an Enterprise Repository agent on each physical machine that has Tuxedo domains monitored.
</p>
<div class="pFigureTitle"><a name="wp1078366"> </a>
Figure&#160;1   Typical Enterprise Manager for Oracle Tuxedo Deployment Scenario
</div>

 
 <p class="pGraphic"><a name="wp1082135"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/em_usercase1.png" alt="Typical Enterprise Manager for Oracle Tuxedo Deployment Scenario" id="wp1082133" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1093816"> </a>
Remote Monitoring From Enterprise Repository Agent
</h3>
<p class="pBody"><a name="wp1093823"> </a>
<a href="admin.html#wp1083479">Figure&#160;2</a> shows a scenario where Enterprise Repository agent is monitoring Tuxedo domains remotely. This deployment topology is useful for platforms supported by Tuxedo rather than by Enterprise Repository agent. 
</p>
<div class="pFigureTitle"><a name="wp1083479"> </a>
Figure&#160;2   Remote Monitoring From Enterprise Repository Agent
</div>

 
 <p class="pGraphic"><a name="wp1085236"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/em_usercase2.png" alt="Remote Monitoring From Enterprise Repository Agent" id="wp1085234" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1097221"> </a>
Multiple tlisten Processes on One Physical Machine
</h3>
<p class="pBody"><a name="wp1097222"> </a>
In some circumstances, you may need to deploy multiple <code class="cCode">tlisten</code> instances on a physical machine for the following reasons:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1097223"> </a>Security: Each <code class="cCode">tlisten</code> process starts as a different user with different privileges.</li>
<li><a name="wp1097224"> </a>Administration: Each <code class="cCode">tlisten</code> process represents a different department.</li>
</ul></div>
<p class="pBody"><a name="wp1097228"> </a>
<a href="admin.html#wp1097233">Figure&#160;3</a> shows how to deploy multiple <code class="cCode">tlisten</code> processes on a physical machine. Please note that each <code class="cCode">tlisten</code> process is able to interconnect with different Enterprise Repository agents respectively, no matter if it is running locally or remotely.
</p>
<div class="pFigureTitle"><a name="wp1097233"> </a>
Figure&#160;3   Multiple tlisten Processes Running On a Physical Machine
</div>

 
 <p class="pGraphic"><a name="wp1076253"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/em_usercase3.png" alt="Multiple tlisten Processes Running On a Physical Machine" id="wp1076290" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1076331"> </a>
Multiple Agents and Clients Connecting to One tlisten Concurrently
</h3>
<p class="pBody"><a name="wp1093686"> </a>
A <code class="cCode">tlisten</code> process with JMX agent embedded is able to interconnect with multiple Enterprise Repository agents concurrently. <a href="admin.html#wp1078726">Figure&#160;4</a> shows a <code class="cCode">tlisten</code> process running on &quot;Machine 2&quot; is connected and monitored by &quot;EnterpriseManager Agent 1&quot; and &quot;EnterpriseManager Agent 2&quot; concurrently. 
</p>
<p class="pBody"><a name="wp1093636"> </a>
In this scenario, you can separate Enterprise Repository agents and Tuxedo Domains related to a <code class="cCode">tlisten</code> process into two groups ( for example, &quot;EnterpriseManager Agent 1&quot; monitors &quot;Tux Domain 2&quot; and &quot;EnterpriseManager agent 2&quot; monitors &quot;Tux Domain 3&quot;). 
</p>
<p class="pBody"><a name="wp1093606"> </a>
You can also let &quot;EnterpriseManager Agent 1&quot; and &quot;EnterpriseManager Agent 2&quot; monitor both &quot;Tux Domain 2&quot; and &quot;Tux Domain 3&quot; at the same time.
</p>
<p class="pBody"><a name="wp1093554"> </a>
Since JMX is a widely used and supported JRE standard, some third-partyJMX clients or JMX connectors are potentially supported by Enterprise Manager for Oracle Tuxedo, which makes Tuxedo monitoring and management functionalities more flexible.
</p>
<div class="pFigureTitle"><a name="wp1078726"> </a>
Figure&#160;4   Multiple Agents and Clients Connecting to One tlisten Concurrently
</div>

 
 <p class="pGraphic"><a name="wp1093529"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/em_usercase4.png" alt="Multiple Agents and Clients Connecting to One tlisten Concurrently" id="wp1093527" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<a name="wp1076373"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>In this scenario, once an active domain has been discovered by Enterprise Manager for Oracle Tuxedo, even if the domain is down afterwards, the Enterprise Manager for Oracle Tuxedo still can discover it (unless <code class="cCode">tlisten</code> is rebooted).</td>
</tr>
</table>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="admin.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq9" src="/global_resources/images/nexttop_disabled.gif" border="0" alt="Next" />
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
