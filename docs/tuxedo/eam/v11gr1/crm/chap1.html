<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="40264" />
<meta name="LOC_US_SRCFILE" content="//depot/ecs/eam/v11gr1/crm/fm/chap1.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="08/24/10 04:13:13" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Understanding the Communications Resource Manager</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">CRM Administration Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="intro.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="chap2.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/crm.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp143870"> </a>
Understanding the Communications Resource Manager
</h1>
<p class="pBody"><a name="wp97484"> </a>
This section discusses the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp105302"> </a><a href="chap1.html#wp108889"><span class="cHyperlink">
About the Communications Resource Manager</span></a><span class="cHyperlink">
 </span></li>
<li><a name="wp124832"> </a><a href="chap1.html#wp124762"><span class="cHyperlink">
System Configuration</span></a><span class="cHyperlink">
 </span></li>
<li><a name="wp105378"> </a><a href="chap1.html#wp135536"><span class="cHyperlink">
Preparing Mainframe Configurations for CRM Requirements</span></a><span class="cHyperlink">
 </span></li>
<li><a name="wp136993"> </a><a href="chap1.html#wp136749">Putting It All Together</a> </li>
</ul></div>
<a name="wp131400"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>All references to Application-to-Transaction Monitor Interface (ATMI) files, functions, and documentation apply to Tuxedo files, functions, and documentation.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp108889"> </a>
About the Communications Resource Manager
</h2><p class="pBody"><a name="wp124947"> </a>
The Communications Resource Manager (CRM) is the component of the Oracle Tuxedo Mainframe Adapter for SNA that manages communications resources. The CRM coordinates the flow of data between applications running on an ATMI platform and applications running on a mainframe. The mainframe applications may use the following protocols:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp129735"> </a> Customer Information Control System/Enterprise System Architecture (CICS/ESA)</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp130122"> </a>Distributed Transaction Processing (DTP)</li>
<li><a name="wp129746"> </a>Distributed Program Link (DPL)</li>
</ul></div>
<li><a name="wp129747"> </a>Information Management System (IMS)</li>
</ul></div>
<p class="pBody"><a name="wp129748"> </a>
The CRM runs as a separate native process providing emulation that allows CICS/ESA and IMS protocols to flow into and out of the ATMI environment. 
</p>
<p class="pBody"><a name="wp135998"> </a>
The CRM uses both SNA and TCP communication protocols. TCP protocols always flow between the OracleTuxedo Mainframe Adapter for SNA Gateway and CRM. SNA protocols always flow from the CRM to the mainframe and from either an SNA stack or VTAM on the mainframe to the CRM, depending upon the configuration option.
</p>
<p class="pBody"><a name="wp136076"> </a>
If the CRM is not running on a mainframe, it must run on the same platform as the SNA stack, but it may run on a different platform from the ATMI system and the OracleTuxedo Mainframe Adapter for SNA Gateway. For a complete list of supported operating systems, refer to the Oracle Tuxedo Mainframe Adapter for SNA<em class="cEmphasis"> Release Notes</em>. 
</p>
<p class="pBody"><a name="wp136083"> </a>
The OracleTuxedo Mainframe Adapter for SNA Gateway provides the configuration for the CRM. The CRM should always be started and monitoring the address specified in the OracleTuxedo Mainframe Adapter for SNA Gateway configuration before the Gateway is brought up.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp124762"> </a>
System Configuration
</h2><p class="pBody"><a name="wp124745"> </a>
The OracleTuxedo Mainframe Adapter for SNA system may be configured as either a local configuration or a distributed configuration running on a combination of two operating systems: UNIX, Windows, or a mainframe operating system. For a complete list of operating systems, refer to the Oracle Tuxedo Mainframe Adapter for SNA<em class="cEmphasis"> Release Notes</em>. If the CRM is not run on a mainframe, it must run on the same platform as the SNA stack. For this version of OracleTuxedo Mainframe Adapter for SNA, HP-UX 11.23 on PA-RISC is the only non-mainframe platform for which the CRM is available. 
</p>
<h3 class="pHeading2"><a name="wp132747"> </a>
Local Configuration
</h3>
<p class="pBody"><a name="wp133055"> </a>
The local configuration combines the OracleTuxedo Mainframe Adapter for SNA Gateway and the CRM with the stack (PU2.1 server) on the same UNIX machine with the CRM configured to run as a Tuxedo server rather than a standalone process. It employs the IBM proprietary SNA protocol for transactions with the mainframe via the stack. 
</p>
<div class="pFigureTitle"><a name="wp132756"> </a>
Figure&#160;2-1  OracleTuxedo Mainframe Adapter for SNA Local Configuration
</div>

 
 <p class="pGraphic"><a name="wp132697"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/overl.gif" alt="OracleTuxedo Mainframe Adapter for SNA Local Configuration" id="wp132695"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp132786"> </a>
Distributed Configurations
</h3>
<p class="pBody"><a name="wp132788"> </a>
In one type of distributed configuration, the CRM is installed on the mainframe. If the CRM is installed on the mainframe, there is no need to install a third-party SNA stack. However, you must specify your Virtual Telecommunications Access Method (VTAM) in the OracleTuxedo Mainframe Adapter for SNA Gateway configuration file. <a href="chap1.html#wp132799"><span class="cHyperlink">
Figure&#160;2-2</span></a> illustrates the distributed configuration architecture.
</p>
<div class="pFigureTitle"><a name="wp132799"> </a>
Figure&#160;2-2  OracleTuxedo Mainframe Adapter for SNA Distributed Configuration
</div>

 
 <p class="pGraphic"><a name="wp137232"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/over.gif" alt="OracleTuxedo Mainframe Adapter for SNA Distributed Configuration" id="wp137230"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp137234"> </a>
Another type of distributed configuration separates the CRM from the OracleTuxedo Mainframe Adapter for SNA Gateway on different UNIX or Windows machines. It employs Transmission Control Protocol/Internet Protocol (TCP/IP) connectivity between the OracleTuxedo Mainframe Adapter for SNA Gateway and the CRM, as well as SNA connectivity to the mainframe environment(s). This configuration gives you the flexibility to deploy the Tuxedo server separately from the CRM for installations that require the Tuxedo server on a platform other than the one on which the SNA stack is running. Note that this configuration requires a one-to-one relationship between the local OracleTuxedo Mainframe Adapter for SNA Gateway and the remote CRM.
</p>
<div class="pFigureTitle"><a name="wp132828"> </a>
Figure&#160;2-3  Non-Mainframe OracleTuxedo Mainframe Adapter for SNA Distributed Configuration
</div>

 
 <p class="pGraphic"><a name="wp132832"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/overd.gif" alt="Non-Mainframe OracleTuxedo Mainframe Adapter for SNA Distributed Configuration" id="wp132830"/></div><p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp135536"> </a>
Preparing Mainframe Configurations for CRM Requirements
</h2><p class="pBody"><a name="wp136222"> </a>
The CRM runs as a separate native process that provides an emulation allowing CICS/ESA and IMS protocols to flow into and out of the ATMI environment. After you install the OracleTuxedo Mainframe Adapter for SNA product, you must set up your mainframe configurations to allow the CRM to access your CICS or IMS systems. 
</p>
<p class="pBody"><a name="wp136223"> </a>
If the CRM runs on the mainframe, it uses the native SNA networking product, Virtual Telecommunications Access Method (VTAM), to establish its SNA connectivity to the CICS or IMS application environments. If the CRM runs on a UNIX platform, a third-party SNA stack must also be installed on this platform and configured to establish SNA connections with the CRM and target mainframe. 
</p>
<p class="pBody"><a name="wp135047"> </a>
The topics in the following sections cover mainframe configuration requirements for the CRM.
</p>
<h3 class="pHeading2"><a name="wp135141"> </a>
Requirements for Establishing a VTAM Configuration
</h3>
<p class="pBody"><a name="wp135161"> </a>
The following requirements should be considered for establishing a VTAM configuration:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp135162"> </a>If you are running your CRM on a mainframe, your mainframe must have a local VTAM configuration that communicates with the CRM. </li>
<li><a name="wp135167"> </a>If you are using a third-party SNA stack, you must configure VTAM to communicate with the SNA stack. </li>
</ul></div>
<p class="pBody"><a name="wp135168"> </a>
Consult with your CICS/ESA remote domain administrator to obtain key parameters in the VTAM definition that must be included in the SNA stack configuration, as well as in other configuration files in the OracleTuxedo Mainframe Adapter for SNA local domain.
</p>
<h3 class="pHeading2"><a name="wp135173"> </a>
Configuring the CRM for a Third-Party Stack
</h3>
<p class="pBody"><a name="wp135174"> </a>
A basic understanding of the mainframe configuration requirements provides a context for understanding the CRM functions and configuration requirements. The following sections discuss the various configuration considerations and give examples of those configurations.
</p>
<a name="wp135175"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Consult with your local mainframe system administrator for specific information about your system. The examples in the following sections illustrate a starting point for configuring your system and do not represent all possibilities. The examples represent one way a mainframe can be configured to work in an Advanced Peer-to-Peer Networking (APPN) Local Area Network (LAN) environment on a SNAplus2 stack for HP-UX 11.23. </td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp135178"> </a>
Third-Party Stack Configuration
</h4>
<p class="pBody"><a name="wp135179"> </a>
Third-party stack configurations may be set up using stack-specific configuration utilities or by manually creating a configuration file with any text editor. <a href="chap1.html#wp144289"><span class="cHyperlink">
Listing&#160;2-1</span></a> shows an example of an SNA node configuration file. The configuration file is divided into sections for various components of the configuration. Each section defines a component using parameters (or keywords) and values. Some of these keywords and values will affect how your OracleTuxedo Mainframe Adapter for SNA configuration is defined.
</p>
<div class="pCodeTitle"><a name="wp144289"> </a>
Listing&#160;2-1	   SNA Node Configuration File
</div> <a name="wp145058"> </a><div class="pPreformatted"><pre>[define_node_config_file]<br />major_version = 5<br />minor_version = 1<br />update_release = 1<br />revision_level = 109<br />olar_supported = YES<br /><br />[define_node]<br />cp_alias = LCHP2  <br />description = &quot;&quot;<br />fqcp_name = BEALAN.LCHP2<br />node_type = END_NODE<br />mode_to_cos_map_supp = NO<br />mds_supported = YES<br />node_id = &lt;03010300&gt;<br />max_locates = 100<br />dir_cache_size = 255<br />max_dir_entries = 0<br />locate_timeout = 60<br />reg_with_nn = YES<br />reg_with_cds = YES<br />mds_send_alert_q_size = 100<br />cos_cache_size = 24<br />tree_cache_size = 40<br />tree_cache_use_limit = 40<br />max_tdm_nodes = 0<br />max_tdm_tgs = 0<br />max_isr_sessions = 1000<br />isr_sessions_upper_threshold = 900<br />isr_sessions_lower_threshold = 800<br />isr_max_ru_size = 16384<br />isr_rcv_pac_window = 8<br />store_endpt_rscvs = NO<br />store_isr_rscvs = NO<br />store_dlur_rscvs = NO<br />dlur_support = YES<br />pu_conc_support = NO<br />nn_rar = 128<br />max_ls_exception_events = 0<br />ptf_flags = NONE<br />cplu_syncpt_support = NO<br /><br />[define_ethernet_dlc]<br />dlc_name = ETHER1<br />description = &quot;&quot;<br />neg_ls_supp = YES<br />initially_active = NO<br />adapter_number = 0<br /><br />[define_ethernet_port]<br />port_name = ETSAP1  <br />description = &quot;&quot;<br />dlc_name = ETHER1<br />port_type = PORT_SATF<br />port_number = 0<br />max_rcv_btu_size = 1033<br />tot_link_act_lim = 64<br />inb_link_act_lim = 0<br />out_link_act_lim = 0<br />ls_role = LS_NEG<br />implicit_dspu_services = NONE<br />implicit_dspu_template = &quot;&quot;<br />implicit_ls_limit = 0<br />act_xid_exchange_limit = 9<br />nonact_xid_exchange_limit = 5<br />ls_xmit_rcv_cap = LS_TWS<br />max_ifrm_rcvd = 7<br />target_pacing_count = 7<br />max_send_btu_size = 1033<br />mac_address = &lt;00306E4B25F0&gt;<br />lsap_address = 0x04<br />implicit_cp_cp_sess_support = NO<br />implicit_limited_resource = NO<br />implicit_deact_timer = 30<br />implicit_hpr_support = NO<br />implicit_link_lvl_error = NO<br />effect_cap = 3993600<br />connect_cost = 0<br />byte_cost = 0<br />security = SEC_NONSECURE<br />prop_delay = PROP_DELAY_LAN<br />user_def_parm_1 = 128<br />user_def_parm_2 = 128<br />user_def_parm_3 = 128<br />initially_active = YES<br />test_timeout = 5<br />test_retry_limit = 2<br />xid_timeout = 5<br />xid_retry_limit = 2<br />t1_timeout = 5<br />t1_retry_limit = 5<br /><br />[define_ethernet_ls]<br />ls_name = ZOS4HP2<br />description = Link to lczos4<br />port_name = ETSAP1  <br />adj_cp_name = ADCD.ADCDSSCP<br />adj_cp_type = LEARN_NODE<br />mac_address = &lt;0002B3C008C8&gt;<br />lsap_address = 0x04<br />auto_act_supp = NO<br />tg_number = 0<br />limited_resource = NO<br />solicit_sscp_sessions = YES<br />pu_name = &lt;0000000000000000&gt;<br />disable_remote_act = NO<br />default_nn_server = NO<br />dspu_services = NONE<br />dspu_name = &lt;0000000000000000&gt;<br />dlus_name = &lt;0000000000000000000000000000000000&gt;<br />bkup_dlus_name = &lt;0000000000000000000000000000000000&gt;<br />hpr_supported = NO<br />hpr_link_lvl_error = NO<br />link_deact_timer = 30<br />use_default_tg_chars = YES<br />ls_attributes = SNA<br />adj_node_id = &lt;03010300&gt;<br />local_node_id = &lt;00000000&gt;<br />cp_cp_sess_support = NO <br />effect_cap = 3993600<br />connect_cost = 0<br />byte_cost = 0<br />security = SEC_NONSECURE<br />prop_delay = PROP_DELAY_LAN<br />user_def_parm_1 = 0<br />user_def_parm_2 = 0<br />user_def_parm_3 = 0<br />target_pacing_count = 7<br />max_send_btu_size = 1033<br />ls_role = USE_PORT_DEFAULTS<br />max_ifrm_rcvd = 0 <br />dlus_retry_timeout = 0 <br />dlus_retry_limit = 0 <br />initially_active = NO<br />restart_on_normal_deact = NO<br />react_timer = 30<br />react_timer_retry = 65535<br />test_timeout = 5<br />test_retry_limit = 2<br />xid_timeout = 5<br />xid_retry_limit = 2<br />t1_timeout = 5<br />t1_retry_limit = 5<br /><br />[define_local_lu]<br />lu_alias = Z4HP2A<br />list_name = &quot;&quot;<br />description = &quot;&quot;<br />lu_name = Z4HP2A<br />lu_session_limit = 20<br />pu_name = &lt;0000000000000000&gt;<br />nau_address = 0<br />default_pool = NO<br />syncpt_support = YES<br />lu_attributes = NONE<br />sscp_id = 0<br />disable = NO<br />sys_name = &quot;&quot;<br />timeout = 60<br />back_level = NO<br /><br />[define_partner_lu]<br />plu_alias = &quot;&quot;<br />description = (Auto defined - default LU)<br />fqplu_name = ADCD.LCZOS4<br />plu_un_name = &lt;0000000000000000&gt;<br />parallel_sess_supp = YES<br />max_mc_ll_send_size = 0<br />conv_security_ver = NO<br /><br />[define_partner_lu]<br />plu_alias = TMACICS <br />description = &quot;&quot;<br />fqplu_name = ADCD.TMACICS	<br />plu_un_name = TMACICS<br />parallel_sess_supp = YES<br />max_mc_ll_send_size = 0<br />conv_security_ver = NO<br /><br />[define_mode]<br />mode_name = SMSNA100<br />description = &quot;&quot;<br />max_neg_sess_lim = 256<br />plu_mode_session_limit = 10<br />min_conwin_src = 5<br />min_conloser_src = 0<br />auto_act = 0<br />receive_pacing_win = 4<br />max_receive_pacing_win = 0<br />default_ru_size = YES<br />max_ru_size_upp = 1024<br />max_ru_size_low = 0<br />cos_name = #CONNECT<br /><br />[define_directory_entry]<br />resource_name = ADCD.LCZOS4<br />resource_type = ENCP_RESOURCE<br />description = &quot;&quot;<br />parent_name = &lt;0000000000000000000000000000000000&gt;<br />parent_type = ENCP_RESOURCE<br /><br />[define_directory_entry]<br />resource_name = ADCD.LCZOS4<br />resource_type = LU_RESOURCE<br />description = (Auto defined - default LU)<br />parent_name = ADCD.LCZOS4<br />parent_type = ENCP_RESOURCE<br /><br />[define_directory_entry]<br />resource_name = ADCD.ADCDSSCP<br />resource_type = ENCP_RESOURCE<br />description = &quot;&quot;<br />parent_name = &lt;0000000000000000000000000000000000&gt;<br />parent_type = ENCP_RESOURCE<br /><br />[define_directory_entry]<br />resource_name = ADCD.TMACICS<br />resource_type = LU_RESOURCE<br />description = &quot;&quot;<br />parent_name = ADCD.ADCDSSCP<br />parent_type = ENCP_RESOURCE<br /><br />[define_directory_entry]<br />resource_name = ADCD.ADCDSSCP<br />resource_type = LU_RESOURCE<br />description = (Auto defined - default LU)<br />parent_name = ADCD.ADCDSSCP<br />parent_type = ENCP_RESOURCE<br /></pre></div><h4 class="pHeading3"><a name="wp135188"> </a>
VTAM Cross Platform Definitions
</h4>
<p class="pBody"><a name="wp135189"> </a>
The examples of cross platform definitions discussed in the following sections allow the VTAM network to communicate with your stack using the SNA protocol.
</p>
<h5 class="pHeading4"><a name="wp135190"> </a>
XCA Major Node Defines the LAN Adapter for SYS1
</h5>
<p class="pBody"><a name="wp135191"> </a>
This definition is set up for use with an emulated IBM 3172 Interconnect Controller for connecting an APPN network node to another APPN node. Note that the definition is for an Ethernet LAN, and the <code class="cCode">SAPADDR</code> specified must be the same as the <code class="cCode">LSap</code> specified for the local link station.
</p>
<div class="pCodeTitle"><a name="wp135192"> </a>
Listing&#160;2-2	   XCA Major Node
</div> <a name="wp135193"> </a><div class="pPreformatted"><pre>XETH2LP1 VBUILD TYPE=XCA ** EXTERNAL COMMUNICATION ADAPT**      <br />PORTE2   PORT  ADAPNO=1,      ** 3172 RELATIVE ADAPTER NUMBER** <br />               CUADDR=E22,    ** CHANNEL UNIT ADDRESS        ** <br />               MEDIUM=CSMACD, ** LAN TYPE=ETHERNET           ** <br />               SAPADDR=8,     ** SERVICE ACCESS POINT ADDRESS** <br />               TIMER=120      ** CHANNEL ACTIVATE RESP TIME  ** <br />*                                                               <br />G1ETH2   GROUP DIAL=YES,      ** YES required for putype 2   ** <br />               DYNPU=YES,                                       <br />               CALL=INOUT,                                      <br />               ANSWER=ON,                                       <br />               ISTATUS=ACTIVE                                   <br />LETH20   LINE                                                   <br />PETH20   PU                                                     <br />LETHE3   LINE                                                   <br />PETHE3   PU                                                     <br />LETHF3   LINE                                                   <br />PETHF3   PU                                                      </pre></div><h5 class="pHeading4"><a name="wp135196"> </a>
Switched Network (SWNET) Definitions
</h5>
<p class="pBody"><a name="wp135197"> </a>
VTAM Switched Major Node (SWNET) definitions define and link together physical units (PU) and logical units (LU). Each workstation connected to a network must be represented on the network as a PU and each PU can have one or more LUs. The VTAM SWNET definition defines how the PUs and LUs communicate with a server.
</p>
<p class="pBody"><a name="wp135204"> </a>
The switched network definition example in this section (<a href="chap1.html#wp135213"><span class="cHyperlink">
Listing&#160;2-3</span></a>) specifies the VTAM PU, representing the local link stations that expect to connect with the host machine. The <code class="cCode">IDBLK</code> and <code class="cCode">IDNUM</code> definitions are provided to support 3270 traffic and must be unique, as well as match the values specified in the local link definition.
</p>
<div class="pCodeTitle"><a name="wp135213"> </a>
Listing&#160;2-3	   SWNET Major Node
</div> <a name="wp135214"> </a><div class="pPreformatted"><pre>SWNETH2    VBUILD  TYPE=SWNET,MAXNO=3,MAXGRP=3                    <br />P390ETH2   PU  ADDR=04,                                          <br />               IDBLK=019,                                        <br />               IDNUM=10092,                                      <br />               PUTYPE=2,                                         <br />               NETID=BEALAN,                                     <br />               CPNAME=SUN2,                                      <br />               MAXPATH=3,                                        <br />               DWACT=YES,                                        <br />               CONNTYPE=APPN,                                    <br />               CPCP=YES,                                         <br />               DYNLU=YES                                          <br />* -------------------------------------------------               <br />* SNA SAP &amp; SUN2 MAC ADDRESS BIT REVERSED FOR TRFMT               <br />* -------------------------------------------------               <br />PATH01     PATH DIALNO=00081000043EE20A,                         <br />               GRPNM=G1ETH2                                       <br />LUSUN2A LU  LOCADDR=0                                            <br />LUSUN2B LU  LOCADDR=0                                            <br />LUSUN2C LU  LOCADDR=0                                            </pre></div><h3 class="pHeading2"><a name="wp135217"> </a>
Configuring the CRM for the z/OS Platform
</h3>
<p class="pBody"><a name="wp135218"> </a>
VTAM must be configured to allow the CRM to communicate with CICS or IMS using the SNA protocol.
</p>
<p class="pBody"><a name="wp135222"> </a>
The APPLID definition shown in<span class="cHyperlink">
 </span><a href="chap1.html#wp135224"><span class="cHyperlink">
Listing&#160;2-4</span></a> shows an example of a VTAM stack configuration to run the CRM on z/OS.
</p>
<div class="pCodeTitle"><a name="wp135224"> </a>
Listing&#160;2-4	   APPLID Definition (z/OS)
</div> <a name="wp135225"> </a><div class="pPreformatted"><pre>BEASNA VBUILD TYPE=APPL           <br />BEAAPPL1 APPL ACBNAME=BEAAPPL1,    <br />              AUTH=(ACQ,PASS),     <br />              APPC=YES,            <br />              SYNCLVL=SYNCPT,<br />              PARSESS=YES</pre></div><h4 class="pHeading3"><a name="wp135229"> </a>
Configuring the CICS/ESA LU
</h4>
<p class="pBody"><a name="wp135231"> </a>
Before you can connect the CRM to the remote stack, the CICS/ESA LU (logical unit) configuration must be established. To establish the configuration, create connection definitions, create session definitions, and install resource definitions.
</p>
<h5 class="pHeading4"><a name="wp135233"> </a>
Creating Connections at the Remote Host
</h5>
<p class="pBody"><a name="wp135234"> </a>
If a remote connection definition file is not already in place, work with the mainframe support personnel to create one. When placed on the remote host, the definition provides a connection with the local domain. Note the following example of an OracleTuxedo Mainframe Adapter for SNA connection definition file:
</p>
<a name="wp135238"> </a><div class="pPreformatted"><pre>DEFINE CONNECTION(BEA)      GROUP(BEACONN)<br />       DE(EAM EXAMPLE RDO CONNECTION)<br />       ACCESSMETHOD(VTAM)   PROTOCOL(APPC)<br />       NETNAME(**VTAM NETWORK NAME OF REMOTE SYSTEM**)<br />       ATTACHSEC(LOCAL)     AUTOCONNECT(NO)</pre></div><h5 class="pHeading4"><a name="wp135240"> </a>
Defining the Session at the Remote Host
</h5>
<p class="pBody"><a name="wp135241"> </a>
If a session definition is not already in place, work with the mainframe support personnel to create one. When placed on the remote host, the session definition defines the logical links by which the local domain communicates with the remote host. Note the following example of an OracleTuxedo Mainframe Adapter for SNA session definition:
</p>
<a name="wp135245"> </a><div class="pPreformatted"><pre>DEFINE SESSION(BEATEST)       GROUP(BEACONN)<br />       CONNECTION(BEA)<br />       DE(EAM EXAMPLE RDO SESSION)<br />       PROTOCOL(APPC)         AUTOCONNECT(YES)<br />       MODENAME(**MODE**)     MAXIMUM(**SESSNBR**,**WINNER**)</pre></div><p class="pBody"><a name="wp135246"> </a>
The arguments and options in this example are defined in the following way:
</p>
<p class="pBody"><a name="wp135247"> </a>
<code class="cCode">AUTOCONNECT</code> 
</p>
<div class="pDefPara"><a name="wp135248"> </a>
Indicates how the activation of the session is negotiated. 
</div>
<p class="pBody"><a name="wp135249"> </a>
<code class="cCode">YES</code> 
</p>
<div class="pDefPara"><a name="wp135251"> </a>
Enables the CICS/ESA host to negotiate its own winner sessions when a conversation is allocated. 
</div>
<p class="pBody"><a name="wp135252"> </a>
<code class="cCode">MODENAME</code> 
</p>
<div class="pDefPara"><a name="wp135253"> </a>
Indicates either a CICS/ESA-supplied mode name, such as <code class="cCode">SMSNA100</code>, or your own defined mode name. If another set of session definitions exists for the BEA connection, this mode name must be unique among all sets defined to the connection. The mode name corresponds to the VTAM <code class="cCode">LOGMODE</code> name.
</div>
<p class="pBody"><a name="wp135254"> </a>
<code class="cCode">MAXIMUM </code>
</p>
<div class="pDefPara"><a name="wp135255"> </a>
Defines the total number of sessions in the set and the total number of winner sessions. The total number of winner sessions must include those for the host and the remote stack. The <code class="cCode">WINNER</code> number plus the number of remote sessions should equal the <code class="cCode">SESSNBR</code>.
</div>
<h5 class="pHeading4"><a name="wp135256"> </a>
Installing Resource Definitions
</h5>
<p class="pBody"><a name="wp135257"> </a>
To install the resource definitions, put them on the host in a separate group. Use the <code class="cCode">CEDA INSTALL</code> command. 
</p>
<p class="pBody"><a name="wp135258"> </a>
For example:
</p>
<a name="wp135259"> </a><div class="pPreformatted"><pre>CEDA INSTALL GROUP(BEACONN)</pre></div><h5 class="pHeading4"><a name="wp135260"> </a>
Viewing Connection and Session Status
</h5>
<p class="pBody"><a name="wp135261"> </a>
After you have installed the resource definitions, you can view the status of connections and sessions using the following CICS/ESA system commands:
</p>
<a name="wp135262"> </a><div class="pPreformatted"><pre>CEMT I CONN(BEA)            **view the status of the connection<br />CEMT I NET(**NETNAME**)     **View the status of the sessions<br />CEMT I MODENAME(**MODE**)   **View the status of the mode</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp136749"> </a>
Putting It All Together
</h2><p class="pBody"><a name="wp136295"> </a>
The topics in the following sections cover examples of configurations for cross-platform definitions. These examples are for reference only and do not represent all configuration possibilities. Consult with your system administrator for specific information about your system.
</p>
<h3 class="pHeading2"><a name="wp136398"> </a>
Example of Windows or UNIX Cross-Platform Definitions
</h3>
<p class="pBody"><a name="wp136816"> </a>
Before installing OracleTuxedo Mainframe Adapter for SNA software, review <a href="chap1.html#wp136420"><span class="cHyperlink">
Table&#160;2-1</span></a> for an example of Windows or UNIX cross-platform definitions. Consult with your VTAM system administrator to obtain the value indicated in the <em class="cEmphasis">Name</em> column and make the corresponding entries shown in the <em class="cEmphasis">Needed In</em> column.
</p>
<a name="wp136409"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The DCL-based stack referred to in <a href="chap1.html#wp136420"><span class="cHyperlink">
Table&#160;2-1</span></a> is the HP-UX SNAplus2 stack.</td>
</tr>
</table>

<p class="pBody"><a name="wp136415"> </a>
<a href="chap1.html#wp139997"><span class="cHyperlink">
Listing&#160;2-5</span></a> shows the corresponding OracleTuxedo Mainframe Adapter for SNA Gateway configuration file. Refer to the <em class="cEmphasis">Oracle </em>OracleTuxedo Mainframe Adapter for SNA<em class="cEmphasis"> User Guide</em> for information about setting up the Gateway configuration.
</p>
<div class="pCodeTitle"><a name="wp139997"> </a>
Listing&#160;2-5	   Corresponding DMCONFIG File
</div> <a name="wp141699"> </a><div class="pPreformatted"><pre>#================================================================<br /><br />*DM_LOCAL_DOMAINS<br />simpsnad		GWGRP=GROUP2<br />		TYPE=SNAX <br />		DOMAINID=&quot;simpsnad&quot;<br />		BLOB_SHM_SIZE=1000000<br />		DMTLOGDEV=/home/qctest/dmlog<br /><br />*DM_REMOTE_DOMAINS<br /><br />SIMPSNAG 		TYPE=SNAX <br />		DOMAINID=&quot;SIMPSNAG&quot; <br /><br />*DM_SNACRM<br /><br />simpcrm		SNACRMADDR=&quot;//myhost:6000<br />		NWDEVICE=&quot;/dev/tcp&quot;<br />		LDOM=&quot;simpsnad&quot;<br /><br />*DM_SNASTACKS<br /><br />simpstk		SNACRM=&quot;simpcrm&quot;<br />		STACKTYPE=&quot;HP62&quot;<br />		LOCALLU=&quot;L0F0024A&quot;<br />		LTPNAME=&quot;*&quot;<br />		STACKPARMS=&quot;myhost&quot;<br /> <br />*DM_SNALINKS<br /><br />simplk1		STACKREF=&quot;simpstk&quot;<br />		RDOM=&quot;SIMPSNAG&quot;<br />		LSYSID=&quot;BEA&quot;<br />		RSYSID=&quot;TEST&quot;<br />		RLUNAME=&quot;CICSSYN&quot;<br />    		MODENAME=&quot;SNA62&quot;<br />    		SECURITY=&quot;LOCAL&quot;<br />    		STARTTYPE=&quot;COLD&quot;<br />		MAXSESS=10<br />		MINWIN=5<br />		MAXSYNCLVL=2<br /><br />*DM_LOCAL_SERVICES<br /><br />DPL1SVR		LDOM=&quot;simpsnad&quot;<br />		CONV=N<br />		RNAME=&quot;DPL1SVR&quot;<br />		INBUFTYPE=&quot;STRING&quot;<br />		OUTBUFTYPE=&quot;STRING&quot;<br /><br />*DM_REMOTE_SERVICES<br /><br />TOUPPER		AUTOTRAN=N <br />		LDOM=&quot;simpsnad&quot;<br />		RDOM=SIMPSNAG  <br />		CONV=N<br />		RNAME=&quot;TOUPPER&quot;<br />		INBUFTYPE=&quot;STRING&quot;<br />		OUTBUFTYPE=&quot;STRING&quot;<br />		FUNCTION=&quot;DPL&quot;<br /><br />*DM_ROUTING</pre></div><h3 class="pHeading2"><a name="wp140268"> </a>
Example of z/OS Definitions
</h3>
<p class="pBody"><a name="wp136941"> </a>
Before installing OracleTuxedo Mainframe Adapter for SNA software, review <a href="chap1.html#wp136516"><span class="cHyperlink">
Table&#160;2-2</span></a> for an example of SNA definitions when the CRM runs on the z/OS platform. Consult with your system administrator to obtain the value indicated in the <em class="cEmphasis">Name</em> column and make the corresponding entries shown in the <em class="cEmphasis">Needed In</em> column. 
</p>
<p class="pBody"><a name="wp136949"> </a>
<a href="chap1.html#wp136559"><span class="cHyperlink">
Listing&#160;2-6</span></a> shows the corresponding OracleTuxedo Mainframe Adapter for SNA configuration file. Refer to the <em class="cEmphasis">Oracle </em>OracleTuxedo Mainframe Adapter for SNA<em class="cEmphasis"> User Guide</em> for information about setting up the Gateway configuration.
</p>
<div class="pCodeTitle"><a name="wp136559"> </a>
Listing&#160;2-6	   Corresponding DMCONFIG File
</div> <a name="wp141880"> </a><div class="pPreformatted"><pre>#================================================================<br /><br />*DM_LOCAL_DOMAINS<br />simpsnad		GWGRP=GROUP2<br />		TYPE=SNAX <br />		DOMAINID=&quot;simpsnad&quot;<br />		BLOB_SHM_SIZE=1000000<br />		DMTLOGDEV=/home/qctest/dmlog<br /><br />*DM_REMOTE_DOMAINS<br /><br />SIMPSNAG 		TYPE=SNAX <br />		DOMAINID=&quot;SIMPSNAG&quot; <br /><br />*DM_SNACRM<br /><br />simpcrm		SNACRMADDR=&quot;//mymainframe:6000<br />		NWDEVICE=&quot;/dev/tcp&quot;<br />		LDOM=&quot;simpsnad&quot;<br /><br />*DM_SNASTACKS<br /><br />simpstk		SNACRM=&quot;simpcrm&quot;<br />		STACKTYPE=&quot;VTM28&quot;<br />		LOCALLU=&quot;BEAAPPL1&quot;<br />		LTPNAME=&quot;*&quot;<br />		STACKPARMS=&quot;mymainframe&quot;<br /> <br />*DM_SNALINKS<br /><br />simplk1		STACKREF=&quot;simpstk&quot;<br />		RDOM=&quot;SIMPSNAG&quot;<br />		LSYSID=&quot;BEA&quot;<br />		RSYSID=&quot;TEST&quot;<br />		RLUNAME=&quot;CICSSYN&quot;<br />    		MODENAME=&quot;SMSNA100&quot;<br />    		SECURITY=&quot;LOCAL&quot;<br />    		STARTTYPE=&quot;COLD&quot;<br />		MAXSESS=10<br />		MINWIN=5<br />		MAXSYNCLVL=2<br /><br />*DM_LOCAL_SERVICES<br /><br />DPL1SVR		LDOM=&quot;simpsnad&quot;<br />		CONV=N<br />		RNAME=&quot;DPL1SVR&quot;<br />		INBUFTYPE=&quot;STRING&quot;<br />		OUTBUFTYPE=&quot;STRING&quot;<br /><br />*DM_REMOTE_SERVICES<br /><br />TOUPPER		AUTOTRAN=N <br />		LDOM=&quot;simpsnad&quot;<br />		RDOM=SIMPSNAG  <br />		CONV=N<br />		RNAME=&quot;TOUPPER&quot;<br />		INBUFTYPE=&quot;STRING&quot;<br />		OUTBUFTYPE=&quot;STRING&quot;<br />		FUNCTION=&quot;DPL&quot;<br /><br />*DM_ROUTING</pre></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="chap1.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="intro.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="chap2.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
