<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="11" />
<meta name="LOC_US_CHANGE" content="42015" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/ads/fm/adswsc.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/29/12 11:10:28" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Setting Up Workstation Clients</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Setting Up an Oracle Tuxedo Application
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="adwsc.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="adiiop.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/ads.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1025995"> </a>
Setting Up Workstation Clients
</h1>
<p class="pBody"><a name="wp1024870"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1018349"> </a><a href="adswsc.html#wp1016846">Defining Workstation Clients</a></li>
<li><a name="wp1020283"> </a><a href="adswsc.html#wp1016858">Specifying the Maximum Number of Workstation Clients</a></li>
<li><a name="wp1020295"> </a><a href="adswsc.html#wp1016875">Defining a Workstation Listener (WSL) as a Server</a></li>
<li><a name="wp1023166"> </a><a href="adswsc.html#wp1022198">Detecting Network Failures</a></li>
<li><a name="wp1020307"> </a><a href="adswsc.html#wp1016897">Sample Configuration File that Supports Workstation Clients</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1016846"> </a>
Defining Workstation Clients
</h2><p class="pBody"><a name="wp1016847"> </a>
Before a Workstation client can join an Oracle Tuxedo application, the application environment must be prepared to accommodate it. The Oracle Tuxedo system provides the variables described in <a href="adswsc.html#wp1026475">Table&#160;13-1</a> table for setting up your environment. Two (<code class="cCode">TUXDIR</code> and <code class="cCode">WSNADDR</code>) are required; the rest are optional. Defaults are available for all parameters except <code class="cCode">WSENVFILE</code>.
</p>
<p class="pGraphic"><a name="wp1020349"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1026475table1020351"><caption><a name="wp1026475"> </a>
Table 13-1  Defining Workstation Clients

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1021224"> </a>
To Specify . . .
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1021154"> </a>
Set This Environment Variable . . .
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021226"> </a>
The application password. (Useful only for applications in which security is implemented through password usage.) Clients that run from scripts can get the application password from this variable.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021158"> </a>
<code class="cCode">APP_PW</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1026343"> </a>
Specifies the security principal name identification string to be used for authentication purposes when SSL is initiated. This parameter may contain a maximum of 511 characters (excluding the terminating NULL character).
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1026345"> </a>
<code class="cCode">SEC_PRINCIPAL_NAME</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1026385"> </a>
Specifies the location of the file or device where the decryption (private) key for the principal specified in <code class="cCode">SEC_PRINCIPAL_NAME</code> resides. This parameter may contain a maximum of 1023 characters (excluding the terminating NULL character).
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1026349"> </a>
<code class="cCode">SEC_PRINCIPAL_LOCATION</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1026402"> </a>
Specifies the variable in which the password for the principal specified in <code class="cCode">SEC_PRINCIPAL_NAME</code> is stored. This parameter may contain a maximum of 31 characters (excluding the terminating NULL character).
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1026353"> </a>
<code class="cCode">SEC_PRINCIPAL_PASSWORD</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022037"> </a>
The maximum number of significant bits of the encryption key for link-level encryption. Value can be 0 (if no encryption is used), or 40, 56, 128, or 256 (if the number specified is the number of significant bits in the encryption key).
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021977"> </a>
<code class="cCode">TMMAXENCRYPTBITS</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021971"> </a>
The minimum number of significant bits of the encryption key for link-level encryption. Value can be 0 (if no encryption is used), or 40, 56, 128, or 256 (if the number specified is the number of significant bits in the encryption key).
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021973"> </a>
<code class="cCode">TMMINENCRYPTBITS</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021228"> </a>
The directory in which replies are stored when the <code class="cCode">WSRPLYMAX</code> limit has been reached. The default is the working directory.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021162"> </a>
<code class="cCode">TMPDIR</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024983"> </a>
Specifies the code-set encoding name that the workstation machine includes in an allocated MBSTRING typed buffer. 
</div>
<div class="pCellBody"><a name="wp1024918"> </a>
<code class="cCode">TPMBENC</code> has no default value. For a Workstation client using MBSTRING typed buffers, <code class="cCode">TPMBENC</code> must be defined on the workstation machine.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024920"> </a>
<code class="cCode">TPMBENC</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024914"> </a>
Specifies whether the workstation machine automatically converts the data in a received MBSTRING buffer to the encoding defined in <code class="cCode">TPMBENC</code>. By default, the automatic conversion is turned off, meaning that the data in the received MBSTRING buffer is delivered to the Workstation client <em class="cEmphasis">as is</em>&#8212;no encoding conversion. Setting <code class="cCode">TPMBACONV</code> to any value, say <code class="cCode">Y</code> (yes), turns on the automatic conversion.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024916"> </a>
<code class="cCode">TPMBACONV</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021230"> </a>
The location of the Oracle Tuxedo system software on this workstation. <em class="cEmphasis">The client cannot connect unless this environment variable is set.</em>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021166"> </a>
<code class="cCode">TUXDIR</code> (Required)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025051"> </a>
Specifies whether the workstation machine caches Document Type Definition (DTD), XML schema, and entity files. By default, the caching is turned on (<code class="cCode">Y</code>). Setting <code class="cCode">URLENTITYCACHING</code> to <code class="cCode">N</code> (no) turns off the caching.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025053"> </a>
<code class="cCode">URLENTITYCACHING</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025047"> </a>
Specifies the directory in which the workstation machine caches DTD, schema, and entity files. The <code class="cCode">URLENTITYCACHEDIR</code> variable specifies the absolute pathname for the cached files. If <code class="cCode">URLENTITYCACHEDIR</code> is not specified, the default directory becomes <code class="cCode">URLEntityCachedir</code>, which will be created in the current working directory of the Workstation client process provided that the appropriate write permissions are set.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025049"> </a>
<code class="cCode">URLENTITYCACHEDIR</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021232"> </a>
The network device to be used. The default is an empty string. 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021170"> </a>
<code class="cCode">WSDEVICE</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021234"> </a>
The name of the file in which all environment variables may be set. There is no default for this variable.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021174"> </a>
<code class="cCode">WSENVFILE</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024434"> </a>
The network address used by the Workstation client when connecting to the Workstation listener or Workstation handler. This variable, along with the <code class="cCode">WSFRANGE</code> variable, determines the range of TCP/IP ports to which a Workstation client attempts to bind before making an outbound connection. This address must be a TCP/IP address
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024436"> </a>
<code class="cCode">WSFADDR</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024430"> </a>
The range of TCP/IP ports to which a Workstation client process attempts to bind before making an outbound connection. The <code class="cCode">WSFADDR</code> parameter specifies the base address of the range.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024432"> </a>
<code class="cCode">WSFRANGE</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021236"> </a>
A list of one or more network addresses of the WSL that the client wants to contact. This address must match the address of a WSL process in the application configuration file.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021178"> </a>
<code class="cCode">WSNADDR</code> (Required)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021238"> </a>
The amount of core memory to be used for buffering application replies. The default is 256,000 bytes.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021182"> </a>
<code class="cCode">WSRPLYMAX</code> (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021240"> </a>
The machine type. If the value of <code class="cCode">WSTYPE</code> matches the value of <code class="cCode">TYPE</code> in the configuration file for the WSL machine, no encoding/decoding is performed. The default is the empty string. 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021186"> </a>
<code class="cCode">WSTYPE</code> (optiOnal)
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1016858"> </a>
Specifying the Maximum Number of Workstation Clients
</h2><p class="pBody"><a name="wp1016859"> </a>
To enable Workstation clients to join an application, you must specify the <code class="cCode">MAXWSCLIENTS</code> parameter in the <code class="cCode">MACHINES</code> section of the <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1016860"> </a>
<code class="cCode">MAXWSCLIENTS</code> is the only parameter that has special significance for the Workstation feature. <code class="cCode">MAXWSCLIENTS</code> tells the Oracle Tuxedo system at boot time how many <em class="cEmphasis">accesser slots</em> to reserve exclusively for Workstation clients. For native clients, each accesser slot requires one semaphore. However, the Workstation handler process (executing on the native platform on behalf of Workstation clients) multiplexes Workstation client accesses through a single accesser slot and, therefore, requires only one semaphore. This capability is an additional benefit of the Workstation component. By putting more clients on workstations instead of on the native platform, an application reduces its IPC resource requirements.
</p>
<p class="pBody"><a name="wp1016861"> </a>
<code class="cCode">MAXWSCLIENTS</code> takes its specified number of accesser slots from the total set in <code class="cCode">MAXACCESSERS</code>. This is important to remember when specifying <code class="cCode">MAXWSCLIENTS</code>; enough slots must be left to accommodate native clients as well as servers. If you specify a value for <code class="cCode">MAXWSCLIENTS</code> greater than that of <code class="cCode">MAXACCESSERS</code>, native clients and servers fail at <code class="cCode">tpinit()</code> time. The following table describes the <code class="cCode">MAXWSCLIENTS</code> parameter.
</p>
<p class="pGraphic"><a name="wp1016873"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1016864table1016862">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1016864"> </a>
<span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Parameter</span>
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1016866"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1016868"> </a>
<code class="cCode">MAXWSCLIENTS</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1016870"> </a>
Specifies the maximum number of WSCs that may connect to a machine. 
</div>
<div class="pCellBody"><a name="wp1023736"> </a>
The syntax is <code class="cCode">MAXWSCLIENTS=</code><code class="cCodeEmphasis">number</code>. The default is 0.
</div>
<div class="pCellBody"><a name="wp1023724"> </a>
If <code class="cCode">MAXWSCLIENTS</code> is not specified, WSCs may not connect to the machine being described.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1016875"> </a>
Defining a Workstation Listener (WSL) as a Server
</h2><p class="pBody"><a name="wp1016876"> </a>
Workstation clients access your application through a WSL process and one or more WSH processes. The WSL can support multiple Workstation clients. It acts as the single point of contact for all the Workstation clients connected to your application at the network address specified on the WSL command line. The listener schedules work for one or more Workstation handler processes.
</p>
<p class="pBody"><a name="wp1021339"> </a>
A WSH process acts as a surrogate within the administrative domain of your application for clients on remote workstations. The WSH uses a multiplexing scheme to support multiple Workstation clients concurrently.
</p>
<p class="pBody"><a name="wp1016877"> </a>
To join Workstation clients to an application, you must specify the Workstation listener (WSL) processes in the <code class="cCode">SERVERS</code> section of the <code class="cCode">UBBCONFIG</code> file. Use the same syntax you use to specify a server.
</p>
<h3 class="pHeading2"><a name="wp1016878"> </a>
Passing Information to a WSL Process
</h3>
<p class="pBody"><a name="wp1017871"> </a>
To pass information to a WSL process, you can use the command-line option string, <code class="cCode">CLOPT</code>. The format of the <code class="cCode">CLOPT</code> parameter is as follows: 
</p>
<a name="wp1025233"> </a><div class="pPreformatted"><pre>CLOPT=&quot;[ -A ] [<code class="cCodeEmphasis">servopts_options</code>] -- -n <code class="cCodeEmphasis">netaddr</code> [-d <code class="cCodeEmphasis">device</code>]<br />       [-w <code class="cCodeEmphasis">WSHname</code>][-t <code class="cCodeEmphasis">timeout_factor</code>][-T <code class="cCodeEmphasis">Client_timeout</code>]<br />	[-m <code class="cCodeEmphasis">minh</code>][-M <code class="cCodeEmphasis">maxh</code>][-x <code class="cCodeEmphasis">mpx_factor</code> ]<br />       [-p <code class="cCodeEmphasis">minwshport</code>][-P <code class="cCodeEmphasis">maxwshport</code>]<br />       [-I <code class="cCodeEmphasis">init_timeout</code>][-c <code class="cCodeEmphasis">compression_threshold</code>]<br />       [-k <code class="cCodeEmphasis">compression_threshold</code>]<br />       [-z <code class="cCodeEmphasis">bits</code>][-Z<code class="cCodeEmphasis"> bits</code>][-H <code class="cCodeEmphasis">external_netaddr</code>]<br />       [-N <code class="cCodeEmphasis">network_timeout</code>][-K{client|handler|both|none}]&quot;</pre></div><p class="pBody"><a name="wp1016886"> </a>
The <code class="cCode">-A</code> option requests that the WSL offer all its services when it is booted. This option is included by default, but it is shown here to emphasize the distinction between system-supplied servers and application servers. When application servers are booted, they sometimes offer only a subset of their available services. 
</p>
<p class="pBody"><a name="wp1021364"> </a>
The double-dash   (<code class="cCode">--</code>) marks the beginning of a list of parameters that is passed to the WSL after it has been booted. 
</p>
<h3 class="pHeading2"><a name="wp1016887"> </a>
Using Command-line Options Set with CLOPT
</h3>
<p class="pBody"><a name="wp1016888"> </a>
You can specify any of the following command-line options shown in <a href="adswsc.html#wp1026494">Table&#160;13-2</a> in the <code class="cCode">CLOPT</code> string after the double-dash string (<code class="cCode">--</code>). 
</p>
<a name="wp1023793"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>For a complete list of the <code class="cCode">CLOPT</code> command-line options, see <a href="../rf5/rf5.html">servopts(5)</a> in the <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em>.</td>
</tr>
</table>

<p class="pGraphic"><a name="wp1020814"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1026494table1020816"><caption><a name="wp1026494"> </a>
Table 13-2  Using Command-line Options Set with CLOPT

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1020818"> </a>
Use This Command-line Option . . .
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1020820"> </a>
To Specify . . .
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020822"> </a>
<code class="cCode">-n </code><code class="cCodeEmphasis">netaddr</code>
</div>
<div class="pCellBody"><a name="wp1023818"> </a>
(Required)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020824"> </a>
The network address used by WSCs to contact the listener. The WSC must set the appropriate environment variable (<code class="cCode">WSNADDR</code>) to the value specified after <code class="cCode">-n</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020826"> </a>
[<code class="cCode">-d </code><code class="cCodeEmphasis">device</code>]
</div>
<div class="pCellBody"><a name="wp1023824"> </a>
(Required for some transport interfaces)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020828"> </a>
Specify the network device name.
</div>
<div class="pCellBody"><a name="wp1024010"> </a>
This is an optional parameter because only some transport interfaces require it. Sockets, for example, does not require this parameter.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020830"> </a>
[<code class="cCode">-t </code><code class="cCodeEmphasis">timeout</code>]
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020832"> </a>
The amount of time to allow for a client to connect to the WSH.
</div>
<div class="pCellBody"><a name="wp1023845"> </a>
To calculate the total amount of time to allow for this purpose, the system multiplies the value of timeout by the value of the <code class="cCode">SCANUNIT</code> parameter. 
</div>
<div class="pCellBody"><a name="wp1023844"> </a>
The default is 3 in a nonsecure application, and 6 in a secure application. In this context we refer to an application as secure if one of the following parameters is set:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1024296"> </a><code class="cCode">USER_AUTH</code></li>
<li><a name="wp1024301"> </a><code class="cCode">ACL</code></li>
<li><a name="wp1024302"> </a><code class="cCode">MANDATORY_ACL</code></li>
<li><a name="wp1024303"> </a><code class="cCode">APP_PW</code></li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020834"> </a>
[<code class="cCode">-w</code> <code class="cCodeEmphasis">name</code>]
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020836"> </a>
The name of the WSH process that should be booted for this listener. The default is <code class="cCode">WSH</code>, which is the name of the handler provided. If another handler process is built with the <code class="cCode">buildwsh(1)</code> command, that name is specified here.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020838"> </a>
[<code class="cCode">-m </code><code class="cCodeEmphasis">number</code>]
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020840"> </a>
The minimum number of handlers that should be booted and always available. The default is 0.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020842"> </a>
[<code class="cCode">-M</code> <code class="cCodeEmphasis">number</code>]
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020844"> </a>
The maximum number of handlers that can be booted. The default is the value of <code class="cCode">MAXWSCLIENTS</code> for the machine being configured, divided by the multiplexing value (specified with <code class="cCode">-x</code>).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020846"> </a>
[<code class="cCode">-x</code> <code class="cCodeEmphasis">number</code>]
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020848"> </a>
The maximum number of clients that a WSH can multiplex at one time. The value must be greater than 0. The default is 10.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020850"> </a>
[-T <code class="cCodeEmphasis">client_timeout</code>] 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020852"> </a>
The amount of time (in minutes) that a client can remain idle without being disconnected. If a client does not make any requests within this time period, the WSH disconnects the client. If this argument is not given or is set to 0, the timeout is infinite.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1020998"> </a>
[<code class="cCode">-p </code><code class="cCodeEmphasis">minwshport</code>] and [<code class="cCode">-P </code><code class="cCodeEmphasis">maxwshport</code>] 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021000"> </a>
The range for port numbers available for use by WSHs associated with this listener server. Port numbers must fall in the range between 0 and 65535. The default is 2048 for <code class="cCodeEmphasis">minwshport</code> and 65535 for <code class="cCodeEmphasis">maxwshport</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022025"> </a>
[<code class="cCode">-z</code>] and [<code class="cCode">-Z</code>] 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022027"> </a>
The range of bits that can be used, on the WSL side, for link-level encryption: use <code class="cCode">-z</code> to specify the minimum number of bits, and <code class="cCode">-Z</code> to specify the maximum number of bits.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022916"> </a>
[<code class="cCode">-N</code> <code class="cCodeEmphasis">network_timeout</code>]
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022918"> </a>
The minimum amount of time (in seconds) that a Workstation client is allowed to wait to receive a response from the WSL/WSH. A value of 0 indicates no network timeout. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022912"> </a>
[<code class="cCode">-K</code> {<code class="cCode">client</code> | <code class="cCode">handler</code> | <code class="cCode">both</code> | <code class="cCode">none</code>}]
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022914"> </a>
The viability of a network connection between the Workstation handler and a Workstation client if no traffic has occurred over that connection within a specified period of time.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1020790"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1020161"> </a><a href="../rf5/rf5.html">servopts(5)</a> in the <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022198"> </a>
Detecting Network Failures
</h2><p class="pBody"><a name="wp1022208"> </a>
The Workstation component provides two administrative options to <code class="cCode">WSL</code> that enable you to avoid hanging indefinitely when a network connection is lost. Specifically, these options allow you to: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022212"> </a>Check client connections periodically <em class="cEmphasis">(</em><a href="adswsc.html#wp1022219">keep-alive option</a>) </li>
<li><a name="wp1022213"> </a>Limit the amount of time that a client waits for a response from a <code class="cCode">WSH</code> before dropping the connection to that <code class="cCode">WSH</code> (<a href="adswsc.html#wp1022279">network timeout option</a>) </li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022219"> </a>
Using the Keep-alive Option
</h2><p class="pBody"><a name="wp1022220"> </a>
Keep-alive is a networking operation that periodically checks the viability of a network connection between the Workstation handler and a Workstation client if no traffic has occurred over that connection within a specified period of time.
</p>
<p class="pBody"><a name="wp1022733"> </a>
You can request the keep-alive option by adding the <code class="cCode">-K</code> option to the <code class="cCode">WSL</code> <code class="cCode">CLOPT</code> entry in the <code class="cCode">SERVERS</code> section of the <code class="cCode">UBBCONFIG</code> file. The <code class="cCode">-K</code> option accepts the following arguments: <code class="cCode">client</code>, <code class="cCode">handler</code>, <code class="cCode">both</code>, or <code class="cCode">none</code>. 
</p>
<p class="pBody"><a name="wp1026541"> </a>
<a href="adswsc.html#wp1026516">Table&#160;13-3</a> shows the keep-alive option.
</p>
<p class="pGraphic"><a name="wp1022396"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1026516table1022397"><caption><a name="wp1026516"> </a>
Table 13-3  Using the Keep-alive Option

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1022399"> </a>
Use This Option...
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1022401"> </a>
To...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022403"> </a>
<code class="cCode">-K client</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022405"> </a>
Generate keep-alive messages from the client machines. If the keep-alive message is not acknowledged, the client machine considers the network down. Subsequent ATMI calls fail with a <code class="cCode">tperrno</code> of <code class="cCode">TPESYSTEM</code>. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022407"> </a>
<code class="cCode">-K handler</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022409"> </a>
Generate keep-alive messages from the handler machine. If the keep-alive message is not acknowledged, the handler machine considers the network down. The handler then cleans up the entry associated with the client that does not respond. This reduces the possibility that the handler will exhaust the number of clients that a workstation can multiplex at one time (as specified by <code class="cCode">-x</code>) with stale clients.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022411"> </a>
<code class="cCode">-K both</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022413"> </a>
Generate keep-alive message from both the client and handler machines. The availability and timeout thresholds for this component are determined by tunable parameters in the operating system.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022415"> </a>
<code class="cCode">-K none</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1022417"> </a>
Turn off the keep-alive option. Using this setting has the same effect as not specifying <code class="cCode">-K</code> at all.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1022808"> </a>
Your entry in the <code class="cCode">UBBCONFIG</code> file should look like the following: 
</p>
<p class="pBody"><a name="wp1024142"> </a>
WSL SRVGRP=&quot;WSLGRP&quot; SRVID=1000 RESTART=Y GRACE=0 <br />CLOPT=&quot;-A -- -n //ws.beasys.com:5120 -d /dev/tcp -K both&quot; 
</p>
<p class="pBody"><a name="wp1024166"> </a>
In the example, <code class="cCode">-K</code> turns on keep-alive checking on both the Workstation client and the server. 
</p>
<p class="pBody"><a name="wp1022813"> </a>
For details about the format of a <code class="cCode">WSL</code> entry in <code class="cCode">UBBCONFIG</code>, see <a href="../rf5/rf5.html">WSL(5)</a> in the <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference.</em>
</p>
<a name="wp1022815"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Any timeout period that you specify applies to the entire system. If you specify a timeout with one application in mind, and you later change the amount of time specified, all applications that use keep-alive are also affected. </td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1022227"> </a>
Limitations When Using the Keep-alive Option
</h3>
<p class="pBody"><a name="wp1022231"> </a>
The keep-alive option is supported only on platforms for which the Oracle Tuxedo system uses sockets:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022233"> </a>Tru64 UNIX </li>
<li><a name="wp1022234"> </a>HP UX</li>
<li><a name="wp1022236"> </a>Windows </li>
</ul></div>
<p class="pBody"><a name="wp1022237"> </a>
You cannot use this option on any other platform. The Oracle Tuxedo system lets you specify the <code class="cCode">-K</code> option for any server machine, but it will not execute it properly on any platform other than those previously listed. If you try to perform a keep-alive operation on any other platform, your attempt fails and a message is written to the userlog (once per process for the <code class="cCode">WSH</code>). Processing continues normally.
</p>
<a name="wp1022239"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The keep-alive operation works only for TCP/IP communications. </td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022279"> </a>
Using the Network Timeout Option
</h2><p class="pBody"><a name="wp1023014"> </a>
Network timeout is an option that lets you decide how long you are willing to wait for an operation in a Workstation client before your request for that operation is canceled (timed out) on a network.
</p>
<p class="pBody"><a name="wp1022281"> </a>
You can request the network timeout function through an administrative option to the <code class="cCode">WSL</code>: <code class="cCode">-N</code>. The <code class="cCode">-N</code> option uses a network timeout to receive data in the Workstation client.
</p>
<h3 class="pHeading2"><a name="wp1022282"> </a>
How Network Timeout Works
</h3>
<p class="pBody"><a name="wp1023052"> </a>
The network timeout option establishes a waiting period (in seconds) for any Oracle Tuxedo operation in the Workstation client that receives data from the network. If the period is exceeded, the operation fails and the client is disconnected from the application. A value of 0 (the default) indicates no timeout. 
</p>
<a name="wp1023053"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Setting this value too low may cause too many disconnects.</td>
</tr>
</table>

<p class="pBody"><a name="wp1022288"> </a>
Each ATMI function returns an error whenever a timeout occurs. When a link times out, the application is notified. An existing error code is used. (Additional error detail on the specific error can be retrieved by a call to <code class="cCode">tperrordetail(3c)</code>.) Once a network timeout occurs, the status of outstanding operations is in doubt: transactions cannot be completed; incoming replies can be lost, and so on. The only safe action is to terminate the connection to the application by doing the equivalent of a <code class="cCode">tpterm(3c)</code> without communicating with the <code class="cCode">WSH</code>. 
</p>
<p class="pBody"><a name="wp1022292"> </a>
By the time the operation returns, the client is no longer part of the Oracle Tuxedo application. The client can rejoin the application in either of two ways: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022293"> </a>By calling <code class="cCode">tpinit(3c)</code> </li>
<li><a name="wp1022294"> </a>By using an implicit connection (if security is not configured)</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1022295"> </a>
Limitations When Using the Network Timeout Option
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022296"> </a>Network timeout does not handle network send operations.</li>
<li><a name="wp1024330"> </a>If the value of the network timeout is less than the value of the transaction timeout or the block time, then the client may be disconnected before the processing of the request is complete.</li>
<li><a name="wp1022298"> </a>Network timeout disconnects the Workstation client after timeout even though the connection may still be viable.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1022300"> </a>
Setting the Network Timeout Option
</h3>
<p class="pBody"><a name="wp1022304"> </a>
To use the network timeout option in your Oracle Tuxedo application, add the <code class="cCode">-N</code> option to the <code class="cCode">WSL</code> <code class="cCode">CLOPT</code> argument.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1016897"> </a>
Sample Configuration File that Supports Workstation Clients
</h2><p class="pBody"><a name="wp1016898"> </a>
The following excerpt from a sample configuration file in <a href="adswsc.html#wp1018629">Listing&#160;13-1</a> shows how you can add the Workstation component to the <code class="cCode">bankapp</code> application. It contains modifications to the <code class="cCode">MACHINES</code> and <code class="cCode">SERVERS</code> sections.
</p>
<div class="pCodeTitle"><a name="wp1018629"> </a>
Listing&#160;13-1	   Sample UBBCONFIG File Supporting Workstation Clients
</div> <a name="wp1018630"> </a><div class="pPreformatted"><pre>*MACHINES<br />SITE1<br />              ...<br />              MAXWSCLIENTS=150</pre></div><a name="wp1018631"> </a><div class="pPreformatted"><pre>              ...<br />SITE2</pre></div><a name="wp1018632"> </a><div class="pPreformatted"><pre>              ...<br />              MAXWSCLIENTS=0<br />              ...</pre></div><a name="wp1024837"> </a><div class="pPreformatted"><pre>*SERVERS<br />              ...<br />WSL SRVGRP=&#8221;BANKB1&quot; SRVID=500 RESTART=Y<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CLOPT=&#8221;-A -- -n //ws.beasys.com:5120 -m 5 -M 30 -x 5&quot;</pre></div><a name="wp1024838"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;...</pre></div><h3 class="pHeading2"><a name="wp1018637"> </a>
Modifying the MACHINES and SERVERS Sections
</h3>
<p class="pBody"><a name="wp1020168"> </a>
The following changes are shown in the <code class="cCode">MACHINES</code> and <code class="cCode">SERVERS</code> sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1016899"> </a>In the <code class="cCode">MACHINES</code> section, the default for <code class="cCode">MAXWSCLIENTS</code> is overridden in the entries for two sites. For <code class="cCode">SITE1</code>, the default is raised to 150, while it is lowered to 0 for <code class="cCode">SITE2</code>, because no Workstation clients will be connected to that site.</li>
<li><a name="wp1016900"> </a>In the <code class="cCode">SERVERS</code> section, a WSL process is specified for group <code class="cCode">BANKB1</code>. The WSL has a server ID of 500 and it is marked as restartable.</li>
<li><a name="wp1016901"> </a>The command-line options show the following:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1016902"> </a>The WSL will advertise all of its services (<code class="cCode">-A</code>).</li>
<li><a name="wp1016903"> </a>The WSL will listen at network address <code class="cCode">//ws.beasys.com:5120</code> (<code class="cCode">-n</code>).</li>
<li><a name="wp1016905"> </a>A minimum of five WSHs will be booted (<code class="cCode">-m</code>).</li>
<li><a name="wp1016906"> </a>A maximum of 30 WSHs will be booted (<code class="cCode">-M</code>).</li>
<li><a name="wp1016907"> </a>Each handler will be allowed a maximum of five clients connected at any one time (<code class="cCode">-x</code>).</li>
</ul></div>
</ul></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="adswsc.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="adwsc.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="adiiop.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
