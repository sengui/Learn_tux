<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="11" />
<meta name="LOC_US_CHANGE" content="42015" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/ads/fm/adcorba.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/29/12 11:10:27" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Managing CORBA Interface Repositories</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Setting Up an Oracle Tuxedo Application
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="admrp.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="addist.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/ads.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1022368"> </a>
Managing CORBA Interface Repositories
</h1>
<p class="pBody"><a name="wp1020466"> </a>
This topic, which is specific to Oracle Tuxedo CORBA environments, includes the following sections:
</p>
<a name="wp1022468"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB were deprecated in Tuxedo 8.1 and are no longer supported in Tuxedo 9.x. All Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB text references, associated code samples, etc. should only be used:</td>
</tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1022469"> </a>to help implement/run third party Java ORB libraries, and </li>
<li><a name="wp1022470"> </a>for programmer reference only.</li>
</ul></div>
<a name="wp1022471"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Technical support for third party CORBA Java ORBs should be provided by their respective vendors. Oracle Tuxedo does not provide any technical support or documentation for third party CORBA Java ORBs.</td>
</tr>
</table>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1020644"> </a><a href="adcorba.html#wp1019401">Administration Considerations</a></li>
<li><a name="wp1020648"> </a><a href="adcorba.html#wp1019402">Using Administration Commands to Manage Interface Repositories</a></li>
<li><a name="wp1020605"> </a><a href="adcorba.html#wp1019960">Configuring the UBBCONFIG File to Start One or More Interface Repository Servers</a></li>
</ul></div>
<p class="pBody"><a name="wp1020479"> </a>
An Interface Repository contains the interface descriptions of the CORBA objects that are implemented within the Oracle Tuxedo domain. Administration of the Interface Repository is done using tools specific to Oracle Tuxedo CORBA servers. These tools allow you to create an Interface Repository, populate it with definitions specified in Object Management Group Interface Definition Language (OMG IDL), and then delete interfaces. You may need to configure the system to include an Interface Repository server by adding entries in the application&#8217;s <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1020356"> </a>
For related programming information, see the <em class="cEmphasis">CORBA Programming Reference</em>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1019401"> </a>
Administration Considerations
</h2><p class="pBody"><a name="wp1019428"> </a>
As an administrator, you need to determine whether an Interface Repository is required. Not all systems require it. If an Interface Repository is required, you need to create and populate a repository database. The repository database is created and populated using the <code class="cCode">idl2ir</code> command.
</p>
<p class="pBody"><a name="wp1019432"> </a>
If an Interface Repository is required, you need to answer the following questions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1019433"> </a>How many Interface Repository servers will be required?</li>
<li><a name="wp1019434"> </a>Will the Interface Repository database(s) be replicated?</li>
<li><a name="wp1019435"> </a>Will there be shared access to the Interface Repository database(s)?</li>
<li><a name="wp1019436"> </a>What procedures will be followed for updating the Interface Repository? </li>
</ul></div>
<p class="pBody"><a name="wp1019437"> </a>
You can configure the system to have one or more Interface Repository servers. At least one Interface Repository server needs to be configured if any of the clients use Dynamic Invocation Interface (DII) . 
</p>
<p class="pBody"><a name="wp1019456"> </a>
There are two reasons to have more than one server: performance and fault tolerance. From a performance point of view, the number of Interface Repository servers is a function of the number of DII clients. From a fault tolerance point of view, the number of Interface Repository servers needed is determined by the configuration of the system, and the degree of failure protection required.
</p>
<p class="pBody"><a name="wp1019438"> </a>
In systems with more then one Interface Repository server, you must decide whether to have replicated databases, shared databases, or a combination of the two. There are advantages and disadvantages to each configuration. Replicated Interface Repository databases allow for local file access that can potentially increase performance. 
</p>
<p class="pBody"><a name="wp1019457"> </a>
The main problem with replicated databases is updating them. All the databases must be identical and this requires the starting and stopping of Interface Repository servers. Having the Interface Repository database mounted and shared eliminates this problem, but this has performance implications and introduces a single point of failure. A combination of the two alternatives is also possible.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1019402"> </a>
Using Administration Commands to Manage Interface Repositories
</h2><p class="pBody"><a name="wp1019458"> </a>
Use the following commands to manage the Interface Respository for an Oracle Tuxedo domain:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1019478"> </a><code class="cCode">idl2ir</code></li>
<li><a name="wp1019479"> </a><code class="cCode">ir2idl</code></li>
<li><a name="wp1019579"> </a><code class="cCode">irdel</code></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1019484"> </a>
Prerequisites
</h3>
<p class="pBody"><a name="wp1019495"> </a>
Before executing a command, you must ensure the <code class="cCode">bin</code> directory is in your defined path, as follows:
</p>
<p class="pBody"><a name="wp1019485"> </a>
On Windows:
</p>
<p class="pBody"><a name="wp1019486"> </a>
<code class="cCode">set path=%TUXDIR%\bin;%path%</code>
</p>
<p class="pBody"><a name="wp1019487"> </a>
On UNIX:
</p>
<p class="pBody"><a name="wp1019488"> </a>
For c shell (csh)<code class="cCode">: set path = ($TUXDIR/bin $path)</code>
</p>
<p class="pBody"><a name="wp1019489"> </a>
For Bourne (sh) or Korn (ksh): <code class="cCode">PATH=$TUXDIR/bin:$PATH <br />                           export PATH</code>
</p>
<p class="pBody"><a name="wp1019490"> </a>
To set environment variables:
</p>
<p class="pBody"><a name="wp1019491"> </a>
<span style="font-weight: bold">On Windows:</span> 
</p>
<p class="pBody"><a name="wp1020037"> </a>
<code class="cCode">set var=value</code>
</p>
<p class="pBody"><a name="wp1019492"> </a>
On UNIX: 
</p>
<p class="pBody"><a name="wp1019493"> </a>
For c shell: 
</p>
<p class="pBody"><a name="wp1020042"> </a>
<code class="cCode">setenv var value</code>
</p>
<p class="pBody"><a name="wp1019494"> </a>
For Bourne and Korn (sh/ksh): 
</p>
<p class="pBody"><a name="wp1020047"> </a>
<code class="cCode">var=value<br />export var</code>
</p>
<h3 class="pHeading2"><a name="wp1019468"> </a>
Creating and Populating an Interface Respository
</h3>
<p class="pBody"><a name="wp1019882"> </a>
Use the <code class="cCode">idl2ir</code> command to create an Interface Repository and load interface definitions into it. If no repository file exists, the command creates it. If the repository file does exists, the command loads the specified interface definitions into it. The format of the command is as follows:
</p>
<p class="pBody"><a name="wp1019520"> </a>
<code class="cCode">idl2ir [options] definition-filename-list</code>
</p>
<p class="pBody"><a name="wp1019527"> </a>
For a detailed description of this command, see the <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em> in the Oracle Tuxedo online documentation. 
</p>
<a name="wp1020977"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If you want changes to be visible, you must restart the Interface Repository servers.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1019555"> </a>
Displaying or Extracting the Content of an Interface Repository
</h3>
<p class="pBody"><a name="wp1019556"> </a>
Use the <code class="cCode">ir2idl</code> command to display the content of an Interface Repository. You can also extract the OMG IDL statements of one or more interfaces to a file. The format of the command is as follows:
</p>
<p class="pBody"><a name="wp1019597"> </a>
<code class="cCode">ir2idl [options] [interface-name]</code>
</p>
<p class="pBody"><a name="wp1021349"> </a>
For a detailed description of this command, see the <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em> in the Oracle Tuxedo online documentation. 
</p>
<h3 class="pHeading2"><a name="wp1019558"> </a>
Deleting an Object from an Interface Repository
</h3>
<p class="pBody"><a name="wp1019763"> </a>
Use the <code class="cCode">irdel</code> command to delete the specified object from the Interface Repository. Only interfaces not referenced from another interface can be deleted. By default, the repository file is <code class="cCode">repository.ifr</code>.<code class="cCode"> </code>The format of the command is as follows:
</p>
<p class="pBody"><a name="wp1020328"> </a>
<code class="cCode">irdel [-f repository-name]  [-i id] object-name</code>
</p>
<p class="pBody"><a name="wp1021374"> </a>
For a detailed description of this command, see the <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em> in the Oracle Tuxedo online documentation. 
</p>
<a name="wp1021026"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If you want changes to be visible, you must restart the Interface Repository servers.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1019960"> </a>
Configuring the UBBCONFIG File to Start One or More Interface Repository Servers
</h2><p class="pBody"><a name="wp1020839"> </a>
For each application that uses one or more Interface Repositories, you must start one or more of the Interface Repository servers provided by Tuxedo CORBA. The server name is <code class="cCode">TMIFRSVR.</code>You can add one or more entries for <code class="cCode">TMIFRSVR</code> to the <code class="cCode">SERVERS</code> section of the application&#8217;s <code class="cCode">UBBCONFIG</code> file. 
</p>
<p class="pBody"><a name="wp1020908"> </a>
By default, the <code class="cCode">TMIFRSVR</code> server uses the Interface Repository file <code class="cCode">repository.ifr </code>in the first pathname specified in the <code class="cCode">APPDIR</code> environment variable. You can override this default setting by specifying the <code class="cCode">-f filename</code> option on the command-line options (<code class="cCode">CLOPT</code>) parameter. 
</p>
<p class="pBody"><a name="wp1020921"> </a>
The following example shows a <code class="cCode">SERVERS</code> section from a sample <code class="cCode">UBBCONFIG</code> file. Instead of using the default file <code class="cCode">repository.ifr</code> in the default directory (<code class="cCode">$APPDIR</code>) where the application resides, the example specifies an alternate file and location, /usr/repoman/myrepo.ifr.
</p>
<a name="wp1020909"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Other server entries are shown in the following sample to emphasize that the order in which servers are started for Oracle Tuxedo CORBA applications is critical. An Oracle Tuxedo CORBA application will not boot if the order is changed. </td>
</tr>
</table>

<a name="wp1021984"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>For more information, see the section <a href="adfig.html#wp1298488"><span class="cHyperlink">
Required Order in Which to Boot CORBA C++ Servers on page&#160;3-61</span></a> in <a href="adfig.html">Creating the Configuration File.</a></td>
</tr>
</table>
<a name="wp1021750"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Notice that the <code class="cCode">TMIFRSVR</code> Interface Repository server is the fifth server started.</td>
</tr>
</table>
<p class="pBody"><a name="wp1020863"> </a>
*SERVERS<br /><br />    # Start the Oracle Tuxedo System Event Broker<br />    TMSYSEVT<br />        SRVGRP  = SYS_GRP<br />        SRVID   = 1<br /><br />    # Start the NameManager (master)<br />        SRVGRP  = SYS_GRP<br />        SRVID   = 2<br />        CLOPT   = &quot;-A -- -N -M&quot;<br /><br />    # Start the NameManager (slave)<br />    TMFFNAME<br />        SRVGRP  = SYS_GRP<br />        SRVID   = 3<br />        CLOPT   = &quot;-A -- -N&quot;<br /><br />    # Start the FactoryFinder (-F)<br />    TMFFNAME<br />        SRVGRP  = SYS_GRP<br />        SRVID   = 4<br />        CLOPT   = &quot;-A -- -F&quot;<br /><br />    # Start the interface repository server<br />    TMIFRSVR<br />        SRVGRP  = SYS_GRP<br />        SRVID   = 5<br />        RESTART=Y <br />        MAXGEN=5<br />        GRACE=3600<br />        CLOPT=&quot;-A -- -f /usr/repoman/myrepo.ifr&quot;
</p>
<p class="pBody"><a name="wp1020931"> </a>
For a description of the <code class="cCode">TMIFRSVR</code> <code class="cCode">-f filename</code> parameter, refer to the <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em>. In addition to the <code class="cCode">CLOPT -f filename </code>parameter, the <code class="cCode">TMIFRSVR</code> parameter can contain other parameters (those that are not specific to the Oracle Tuxedo system) in the <code class="cCode">SERVERS</code> section of an application&#8217;s <code class="cCode">UBBCONFIG</code> configuration file. 
</p>
<p class="pBody"><a name="wp1021985"> </a>
See the section <a href="adfig.html#wp1254250"><span class="cHyperlink">
How to Create the SERVERS Section of the Configuration File on page&#160;3-54</span></a> in <a href="adfig.html">Creating the Configuration File,</a> for details about parameters such as <code class="cCode">SRVGRP, SRVID, RESTART, MAXGEN</code>, and <code class="cCode">GRACE</code>.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="adcorba.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="admrp.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="addist.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
