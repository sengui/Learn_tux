<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41824" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/getstart/fm/build.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/26/12 11:07:21" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Developing Oracle Tuxedo CORBA Applications</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Getting Started with Oracle Tuxedo CORBA Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="corba.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="security.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/getstart.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1051679"> </a>
Developing Oracle Tuxedo CORBA Applications
</h1>
<p class="pBody"><a name="wp1045635"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1039332"> </a><a href="build.html#wp1052660">Overview of the Development Process for Oracle Tuxedo CORBA Applications</a></li>
<li><a name="wp1024939"> </a><a href="build.html#wp1047353">The Simpapp Sample Application</a></li>
<li><a name="wp1018491"> </a><a href="build.html#wp1024964">Step 1: Write the OMG IDL Code</a></li>
<li><a name="wp1018492"> </a><a href="build.html#wp1019638">Step 2: Generate CORBA client Stubs and Skeletons</a></li>
<li><a name="wp1031391"> </a><a href="build.html#wp1043690">Step 3: Write the CORBA Server Application</a></li>
<li><a name="wp1018495"> </a><a href="build.html#wp1037505">Step 4: Write the CORBA Client Application</a></li>
<li><a name="wp1037576"> </a><a href="build.html#wp1052451">Step 5: Create an XA Resource Manager</a></li>
<li><a name="wp1037711"> </a><a href="build.html#wp1033888">Step 6: Create a Configuration File</a></li>
<li><a name="wp1037724"> </a><a href="build.html#wp1034463">Step 7: Create the TUXCONFIG File</a></li>
<li><a name="wp1037737"> </a><a href="build.html#wp1026884">Step 8: Compile the CORBA Server Application</a></li>
<li><a name="wp1037744"> </a><a href="build.html#wp1047205">Step 9: Compile the CORBA Client Application</a></li>
<li><a name="wp1037748"> </a><a href="build.html#wp1037696">Step 10: Start the Oracle Tuxedo CORBA Application</a></li>
<li><a name="wp1024656"> </a><a href="build.html#wp1034478">Additional Oracle Tuxedo CORBA Sample Applications</a></li>
</ul></div>
<p class="pBody"><a name="wp1039174"> </a>
For an in-depth discussion of creating Oracle Tuxedo CORBA client and server applications, see the following in the Oracle Tuxedo online documentation:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1039186"> </a><em class="cEmphasis"><a href="../creclient/index.html">Creating CORBA Client Applications</a></em></li>
<li><a name="wp1052652"> </a><em class="cEmphasis"><a href="../cservers/index.html"></a>Creating CORBA Server Applications</em></li>
</ul></div>
<a name="wp1053340"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB were deprecated in Tuxedo 8.1 and are no longer supported. All Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB text references, associated code samples, should only be used to help implement/run third party Java ORB libraries, and for programmer reference only.</td>
</tr>
</table>

<a name="wp1053341"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Technical support for third party CORBA Java ORBs should be provided by their respective vendors. Oracle Tuxedo does not provide any technical support or documentation for third party CORBA Java ORBs.</td>
</tr>
</table>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1052660"> </a>
Overview of the Development Process for Oracle Tuxedo CORBA Applications
</h2><p class="pBody"><a name="wp1018826"> </a>
<a href="build.html#wp1018833">Table&#160;3-1</a> outlines the development process for Oracle Tuxedo CORBA applications.
</p>
<p class="pGraphic"><a name="wp1018863"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1018833table1018827"><caption><a name="wp1018833"> </a>
Table 3-1  Development Process for Oracle Tuxedo CORBA Applications

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1018837"> </a>
Step
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1018839"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018841"> </a>
1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018843"> </a>
Write the Object Management Group (OMG) Interface Definition Language (IDL) code for each CORBA interface you want to use in your Oracle Tuxedo application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018848"> </a>
2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018850"> </a>
Generate the CORBA client stubs and the skeletons.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018852"> </a>
3
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018854"> </a>
Write the CORBA server application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018856"> </a>
4
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018858"> </a>
Write the CORBA client application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1036111"> </a>
5
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1036113"> </a>
Create an XA resource manager.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018860"> </a>
6
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1018862"> </a>
Create a configuration file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1036115"> </a>
7
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1036117"> </a>
Create a <code class="cCode">TUXCONFIG</code> file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024961"> </a>
8
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024963"> </a>
Compile the CORBA server application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024957"> </a>
9
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024959"> </a>
Compile the CORBA client application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1036122"> </a>
10
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1036124"> </a>
Start the Oracle Tuxedo CORBA application.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1018864"> </a>
The steps in the development process are described in the following sections.
</p>
<p class="pBody"><a name="wp1018817"> </a>
<a href="build.html#wp1052812">Figure&#160;3-1</a> illustrates the process for developing Oracle Tuxedo CORBA applications. 
</p>
<div class="pFigureTitle"><a name="wp1052812"> </a>
Figure&#160;3-1  Development Process for Oracle Tuxedo CORBA Applications
</div>

 
 <p class="pGraphic"><a name="wp1052818"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/devproc.gif" height="395" width="512" alt="Development Process for Oracle Tuxedo CORBA Applications" id="wp1052819"/></div><p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1047353"> </a>
The Simpapp Sample Application
</h2><p class="pBody"><a name="wp1047261"> </a>
Throughout this topic, the Simpapp sample application is used to demonstrate the development steps.
</p>
<p class="pBody"><a name="wp1025072"> </a>
The CORBA server application in the Simpapp sample application provides an implementation of a CORBA object that has the following two methods:
</p>
<div class="pSmartList1Bullet"><ul>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1025011"> </a>The <code class="cCode">upper</code> method accepts a string from the CORBA client application and converts the string to uppercase letters. </li>
<li><a name="wp1025012"> </a>The <code class="cCode">lower</code> method accepts a string from the CORBA client application and converts the string to lowercase letters.</li>
</ul></div>
</ul></div>
<p class="pBody"><a name="wp1025017"> </a>
<a href="build.html#wp1053023">Figure&#160;3-2</a> illustrates how the Simpapp sample application works.
</p>
<div class="pFigureTitle"><a name="wp1053023"> </a>
Figure&#160;3-2  Simpapp Sample Application
</div>

 
 <p class="pGraphic"><a name="wp1053029"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/build2.gif" height="294" width="476" alt="Simpapp Sample Application" id="wp1053030"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1047378"> </a>
The source files for the Simpapp sample application are located in the  <code class="cCode">$TUXDIR\samples\corba\simpapp</code> directory of the Oracle Tuxedo software. Instructions for building and running the Simpapp sample applications are in the <code class="cCode">Readme.txt</code> file in the same directory.
</p>
<a name="wp1031211"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The Simpapp sample applications demonstrate building CORBA C++ client and server applications.</td>
</tr>
</table>

<p class="pBody"><a name="wp1027058"> </a>
 Oracle Tuxedo offers a suite of sample applications that demonstrate and aid in the development of Oracle Tuxedo CORBA applications. For an overview of the available sample applications, see <a href="../usamples/basic.html">Samples</a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1024964"> </a>
Step 1: Write the OMG IDL Code
</h2><p class="pBody"><a name="wp1030557"> </a>
The first step in writing a Oracle Tuxedo CORBA application is to specify all of the CORBA interfaces and their methods using the Object Management Group (OMG) Interface Definition Language (IDL). An interface definition written in OMG IDL completely defines the CORBA interface and fully specifies each operation&#8217;s arguments. OMG IDL is a purely declarative language. This means that it contains no implementation details. Operations specified in OMG IDL can be written in and invoked from any language that provides CORBA bindings.
</p>
<p class="pBody"><a name="wp1025467"> </a>
The Simpapp sample application implements the CORBA interfaces listed in <a href="build.html#wp1025474">Table&#160;3-2</a>.
</p>
<p class="pGraphic"><a name="wp1025498"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1025474table1025471"><caption><a name="wp1025474"> </a>
Table 3-2  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">CORBA Interfaces for the Simpapp Sample Application&#160;</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1025480"> </a>
Interface
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1025482"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1025484"> </a>
Operation
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025486"> </a>
<code class="cCode">SimpleFactory</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025488"> </a>
Creates object references to the <code class="cCode">Simple</code> object
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025490"> </a>
<code class="cCode">find_simple()</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025492"> </a>
<code class="cCode">Simple</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025494"> </a>
Converts the case of a string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025496"> </a>
<code class="cCode">to_upper()</code>
</div>
<div class="pCellBody"><a name="wp1025497"> </a>
<code class="cCode">to_lower()</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1025502"> </a>
<a href="build.html#wp1053660">Listing&#160;3-1</a> shows the <code class="cCode">simple.idl</code> file that defines the CORBA interfaces in the Simpapp sample application.
</p>
<div class="pCodeTitle"><a name="wp1053660"> </a>
Listing&#160;3-1	    OMG IDL Code for the Simpapp Sample Application
</div> <a name="wp1053661"> </a><div class="pPreformatted"><pre>#pragma prefix &quot;beasys.com&quot;</pre></div><a name="wp1053662"> </a><div class="pPreformatted"><pre>interface Simple<br />{<br />     //Convert a string to lower case (return a new string)<br />     string to_lower(in string val);</pre></div><a name="wp1025510"> </a><div class="pPreformatted"><pre>     //Convert a string to upper case (in place)<br />     void to_upper(inout string val);<br />};</pre></div><a name="wp1025511"> </a><div class="pPreformatted"><pre>interface SimpleFactory<br />{<br />     Simple find_simple();<br />};</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1019638"> </a>
Step 2: Generate CORBA client Stubs and Skeletons
</h2><p class="pBody"><a name="wp1019667"> </a>
The interface specification defined in OMG IDL is used by the IDL compiler to generate CORBA client stubs for the CORBA client application, and skeletons for the CORBA server application. The CORBA client stubs are used by the CORBA client application for all operation invocations. You use the skeleton, along with the code you write, to create the CORBA server application that implements the CORBA objects. 
</p>
<p class="pBody"><a name="wp1019724"> </a>
During the development process, use one of the following commands to compile the OMG IDL file and produce CORBA client stubs and skeletons for Oracle Tuxedo CORBA client and server applications:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1048628"> </a>If you are creating CORBA C++ client and server applications, use the <code class="cCode">idl</code> command. For a description of the <code class="cCode">idl</code> command, see the <a href="../rfcm/index.html"><em class="cEmphasis">Oracle Tuxedo Command Reference</em></a> in the Oracle Tuxedo online documentation.</li>
</ul></div>
<p class="pBody"><a name="wp1022497"> </a>
<a href="build.html#wp1043310">Table&#160;3-3</a> lists the files that are created by the <code class="cCode">idl</code> command.
</p>
<p class="pGraphic"><a name="wp1026104"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1043310table1043308"><caption><a name="wp1043310"> </a>
Table 3-3  Files Created by the idl Command

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1043386"> </a>
File
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1043388"> </a>
Default Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1043390"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043392"> </a>
CORBA client stub file
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043394"> </a>
<code class="cCodeEmphasis">application</code><code class="cCode">_c.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043396"> </a>
Contains generated code for sending a request.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043398"> </a>
CORBA client stub header file
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043400"> </a>
<code class="cCodeEmphasis">application</code><code class="cCode">_c.h</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043402"> </a>
Contains class definitions for each interface and type specified in the OMG IDL file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043404"> </a>
Skeleton file
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043406"> </a>
<code class="cCodeEmphasis">application</code><code class="cCode">_s.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043408"> </a>
Contains skeletons for each interface specified in the OMG IDL file. During run time, the skeleton maps CORBA client requests to the appropriate operation in the CORBA server application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043410"> </a>
Skeleton header file
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043412"> </a>
<code class="cCodeEmphasis">application</code><code class="cCode">_s.h</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043414"> </a>
Contains the skeleton class definitions.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043416"> </a>
Implementation file
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043418"> </a>
<code class="cCodeEmphasis">application</code><code class="cCode">_i.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043420"> </a>
Contains signatures for the methods that implement the operations on the interfaces specified in the OMG IDL file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043422"> </a>
Implementation header file
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043424"> </a>
<code class="cCodeEmphasis">application</code><code class="cCode">_i.h</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043426"> </a>
Contains the initial class definitions for each interface specified in the OMG IDL file.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1043690"> </a>
Step 3: Write the CORBA Server Application
</h2><p class="pBody"><a name="wp1043695"> </a>
The Oracle Tuxedo software supports CORBA C++ server applications. The steps for creating CORBA server applications are:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1023308"> </a>Write the methods that implement the operations for each interface.</li>
<li><a name="wp1023309"> </a>Create the CORBA server object.</li>
<li><a name="wp1023732"> </a>Define object activation policies.</li>
<li><a name="wp1037782"> </a>Create and register a factory.</li>
<li><a name="wp1033618"> </a>Release the CORBA server application.</li>
</ol></div>
<a name="wp1053893"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Oracle Tuxedo uses the new style of std C++ header files on Linux/HP-UX/Solaris, and uses the older style of files on AIX. You can check the&quot;<code class="cCode">OBB_ANSI_CPP</code>&quot; macro to decide which type of header to use.</td>
</tr>
</table>

<a name="wp1053865"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>If &quot;<code class="cCode">OBB_ANSI_CPP</code>&quot; is defined, the standard C++ headers are included.</td>
</tr>
</table>
<a name="wp1053858"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>If &quot;<code class="cCode">OBB_ANSI_CPP</code>&quot; is undefined, the old C headers are included.</td>
</tr>
</table>
<h3 class="pHeading2"><a name="wp1023111"> </a>
Writing the Methods That Implement the Operations for Each Interface
</h3>
<p class="pBody"><a name="wp1023112"> </a>
After you compile the OMG IDL file, you need to write methods that implement the operations for each interface in the file. An implementation file contains the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023114"> </a>Method declarations for each operation specified in the OMG IDL file</li>
<li><a name="wp1023115"> </a>Your application&#8217;s business logic</li>
<li><a name="wp1023116"> </a>Constructors for each interface implementation (implementing these is optional)</li>
<li><a name="wp1031684"> </a>The <code class="cCode">activate_object()</code> and <code class="cCode">deactivate_object()</code> methods (optional)</li>
<p class="pBodyRelative"><a name="wp1023118"> </a>
Within the <code class="cCode">activate_object</code>() and <code class="cCode">deactivate_object()</code> methods, you write code that performs any particular steps related to activating or deactivating  the object. For more information, see <a href="../cservers/index.html">Creating CORBA Server Applications </a> in the Oracle Tuxedo online documentation.
</p>
</ul></div>
<p class="pBody"><a name="wp1031109"> </a>
You can write the implementation file manually. The <code class="cCode">idl </code>command provides an option for generating a template for implementation files.
</p>
<p class="pBody"><a name="wp1031051"> </a>
<a href="build.html#wp1027984">Listing&#160;3-2</a> includes the C++ implementation of the <code class="cCode">Simple</code> and <code class="cCode">SimpleFactory</code> interfaces in the Simpapp sample application. 
</p>
<div class="pCodeTitle"><a name="wp1027984"> </a>
Listing&#160;3-2	   C++ Implementation of the Simple and SimpleFactory Interfaces
</div> <a name="wp1027985"> </a><div class="pPreformatted"><pre>// Implementation of the Simple_i::to_lower method which converts<br />// a string to lower case.<br /><br />char* Simple_i::to_lower(const char* value)<br />{<br />     CORBA::String_var var_lower = CORBA::string_dup(value);<br />     for (char* ptr = var_lower; ptr &amp;&amp; *ptr; ptr++) {<br />         *ptr = tolower(*ptr);<br />     }<br />     return var_lower._retn();<br />}</pre></div><a name="wp1046771"> </a><div class="pPreformatted"><pre>// Implementation of the Simple_i::to_upper method which converts<br />// a string to upper case.<br /><br />void Simple_i::to_upper(char*&amp; valuel)<br />{<br />     CORBA::String_var var_upper = value1;<br />     var_upper = CORBA::string_dup(var_upper.in());<br />     for (char* ptr = var_upper; ptr &amp;&amp; *ptr; ptr++) {<br />         *ptr = toupper(*ptr);<br />     }<br />     value = var_upper._retn();<br />}<br />// Implementation of the SimpleFactory_i::find_simple method which<br />// creates an object reference to a Simple object.<br /><br />Simple_ptr SimpleFactory_i::find_simple()<br />{<br />     CORBA::Object_var var_simple_oref =<br />         TP::create_object_reference(<br />             _tc_Simple-&gt;id(),    <br />             &quot;simple&quot;,             <br />             CORBA::NVList::_nil()<br />         );<br />     }</pre></div><h3 class="pHeading2"><a name="wp1046773"> </a>
Creating the CORBA server Object
</h3>
<p class="pBody"><a name="wp1046774"> </a>
The Server object performs the following tasks:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023622"> </a>Initializes the CORBA server application, including registering factories, allocating resources needed by the CORBA server application, and, if necessary, opening an XA resource manager.</li>
<li><a name="wp1023666"> </a>Performs CORBA server application shutdown and cleanup procedures.</li>
<li><a name="wp1023667"> </a>Instantiates CORBA objects needed to satisfy CORBA client requests.</li>
</ul></div>
<p class="pBody"><a name="wp1023568"> </a>
In CORBA server applications, the Server object is already instantiated and a header file for the Server object is available. You implement methods that initialize and release the server application, and, if desired, create servant objects.
</p>
<p class="pBody"><a name="wp1023151"> </a>
<a href="build.html#wp1029536">Listing&#160;3-3</a> includes the C++ code from the Simpapp sample application for the Server object.
</p>
<div class="pCodeTitle"><a name="wp1029536"> </a>
Listing&#160;3-3	   CORBA C++ Server Object
</div> <a name="wp1029626"> </a><div class="pPreformatted"><pre>static CORBA::Object_var static_var_factory_reference;</pre></div><a name="wp1029628"> </a><div class="pPreformatted"><pre>// Method to start up the server</pre></div><a name="wp1029629"> </a><div class="pPreformatted"><pre><br />CORBA::Boolean Server::initialize(int argc, char* argv[])<br />{<br />	// Create the Factory Object Reference<br /><br />	static_var_factory_reference =<br />	    TP::create_object_reference(<br />		_tc_SimpleFactory-&gt;id(), <br />		&quot;simple_factory&quot;,        <br />		CORBA::NVList::_nil()    <br />	    );<br />	// Register the factory reference with the FactoryFinder<br /><br />	TP::register_factory(<br />	     static_var_factory_reference.in(),      <br />	    _tc_SimpleFactory-&gt;id() <br />	);<br />	return CORBA_TRUE;<br />}<br />// Method to shutdown the server<br /><br />void Server::release()<br />{<br />// Unregister the factory.<br /><br />  try {<br />	TP::unregister_factory(<br />	    static_var_factory_reference.in(),      <br />	    _tc_SimpleFactory-&gt;id() <br />	);<br />  }<br />  catch (...) {<br />	TP::userlog(&quot;Couldn&#39;t unregister the SimpleFactory&quot;);<br />  }<br />}<br />// Method to create servants<br /><br />Tobj_Servant Server::create_servant(const char*<br /> interface_repository_id)<br />{<br />	if (!strcmp(interface_repository_id, <br />	_tc_SimpleFactory-&gt;id())) {<br />		return new SimpleFactory_i();<br />	}<br />	if (!strcmp(interface_repository_id, <br />	_tc_Simple-&gt;id())) {<br />		return new Simple_i();<br />	}<br />	return 0; <br />}</pre></div><h3 class="pHeading2"><a name="wp1020132"> </a>
Defining an Object&#8217;s Activation Policies
</h3>
<p class="pBody"><a name="wp1024267"> </a>
As part of CORBA server development, you determine what events cause an object to be activated and deactivated by assigning object activation policies.
</p>
<p class="pBody"><a name="wp1023879"> </a>
For CORBA server applications, specify object activation policies in the Implementation Configuration File (ICF). A template ICF file is created by the <code class="cCode">genicf </code>command.
</p>
<a name="wp1023922"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You also define transaction policies in the ICF file. For information about using transactions in your Oracle Tuxedo CORBA application, see <a href="../trans/index.html">Using CORBA Transactions</a> in the Oracle Tuxedo online documentation.</td>
</tr>
</table>

<p class="pBody"><a name="wp1023785"> </a>
The Oracle Tuxedo software supports the activation policies listed in <a href="build.html#wp1044074">Table&#160;3-4</a>.
</p>
<p class="pGraphic"><a name="wp1044054"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1044074table1044072"><caption><a name="wp1044074"> </a>
Table 3-4  Activation Policies&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1044107"> </a>
Activation Policy
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1044109"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044111"> </a>
<code class="cCode">method</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044113"> </a>
Causes the object to be active only for the duration of the invocation on one of the object&#8217;s operations. This is the default activation policy.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044115"> </a>
<code class="cCode">transaction</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044117"> </a>
Causes the object to be activated when an operation is invoked on it. If the object is activated within the scope of a transaction, the object remains active until the transaction is either committed or rolled back. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044119"> </a>
<code class="cCode">process</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044121"> </a>
Causes the object to be activated when an operation is invoked on it, and to be deactivated only when one of the following occurs:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1044122"> </a>The process in which the server application exists is shut down.</li>
<li><a name="wp1044123"> </a>The method <code class="cCode">TP::deactivateEnable()</code> (C++) has been invoked on the object.</li>
</ul></div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1044055"> </a>
The <code class="cCode">Simple</code> interface in the Simpapp sample application is assigned the default activation policy of method. For more information about managing object state and defining object activation policies, see <a href="../cservers/index.html">Creating CORBA Server Applications</a> in the Oracle Tuxedo online documentation.
</p>
<h3 class="pHeading2"><a name="wp1036666"> </a>
Creating and Registering a Factory
</h3>
<p class="pBody"><a name="wp1036667"> </a>
If your CORBA server application manages a factory that you want CORBA client applications to be able to locate easily, you need to write the code that registers that factory with the FactoryFinder object.
</p>
<p class="pBody"><a name="wp1036668"> </a>
To write the code that registers a factory managed by your CORBA server application, you do the following:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1036669"> </a>Create an object reference to the factory.</li>
<p class="pBodyRelative"><a name="wp1036670"> </a>
You include an invocation to the<code class="cCode"> create_object_reference()</code> method, specifying the Interface Repository ID of the factory&#8217;s OMG IDL interface or the object ID (OID) in string format. In addition, you can specify routing criteria.
</p>
<li><a name="wp1036671"> </a>Register the factory with the Oracle Tuxedo domain.</li>
<p class="pBodyRelative"><a name="wp1036672"> </a>
Use the <code class="cCode">register_factory()</code> method to register the factory with the FactoryFinder object in the Oracle Tuxedo domain. The <code class="cCode">register_factory()</code> method requires the object reference for the factory and a string identifier.
</p>
</ol></div>
<p class="pBody"><a name="wp1036697"> </a>
<a href="build.html#wp1036698">Listing&#160;3-4</a> includes the code from the Simpapp sample application that creates and registers a factory.
</p>
<div class="pCodeTitle"><a name="wp1036698"> </a>
Listing&#160;3-4	   Example of Creating and Registering a Factory
</div> <a name="wp1036699"> </a><div class="pPreformatted"><pre>...<br />CORBA::Object_var v_reg_oref =<br />	TP:create_object_reference(<br />		_tc.SimpleFactory-&gt;id(),    //Factory Interface ID<br />		&#8220;simplefactory&#8221;,            //Object ID<br />		CORBA::NVList::_nil()				//Routing Criteria<br />	);</pre></div><a name="wp1036733"> </a><div class="pPreformatted"><pre>	TP::register_factory(<br />		CORBA::Object_var v_reg_oref.in(),<br />		_tc_SimpleFactory-&gt;id(),<br />	);<br />...</pre></div><p class="pBody"><a name="wp1036811"> </a>
In <a href="build.html#wp1036698">Listing&#160;3-4</a>, notice the following: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1036812"> </a><code class="cCode">tc.SimpleFactory-&gt;id() </code>specifies the SimpleFactory object&#39;s Interface Repository ID by extracting it from its typecode.</li>
<li><a name="wp1036878"> </a>CORBA::NVList::_nil() specifies that no routing criteria are used, with the result that an object reference created for the Simple object is routed to the same group as the SimpleFactory object that created the object reference.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1033619"> </a>
Releasing the CORBA Server Application
</h3>
<p class="pBody"><a name="wp1035409"> </a>
You need to include code in your CORBA server application to perform a graceful shutdown of the CORBA server application. The <code class="cCode">release()</code>method is provided for that purpose. Within the <code class="cCode">release()</code> method, you may perform any application-specific cleanup tasks that are specific to the CORBA server application, such as: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1035410"> </a>Unregistering object factories managed by the CORBA server application </li>
<li><a name="wp1035411"> </a>Deallocating resources </li>
<li><a name="wp1035412"> </a>Closing any databases </li>
<li><a name="wp1035413"> </a>Closing an XA resource manager </li>
</ul></div>
<p class="pBody"><a name="wp1033554"> </a>
Once a CORBA server application receives a request to shut down, the CORBA server application can no longer receive requests from other remote objects. This has implications on the order in which CORBA server applications should be shut down, which is an administrative task. For example, do not shut down one server process if a second server process contains an invocation in its <code class="cCode">release()</code> method to the first server process. 
</p>
<p class="pBody"><a name="wp1033558"> </a>
During server shutdown, you may want to unregister each of the server application&#39;s factories. The invocation of the <code class="cCode">unregister_factory()</code> method should be one of the first actions in the <code class="cCode">release()</code> implementation. The <code class="cCode">unregister_factory()</code> method unregisters the server application&#39;s factories. This operation requires the following input arguments: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1033566"> </a>The object reference for the factory </li>
<li><a name="wp1033568"> </a>A string identifier, based on the factory object&#39;s interface typecode, used to identify the Interface Repository ID of the object&#39;s OMG IDL interface </li>
</ul></div>
<p class="pBody"><a name="wp1037422"> </a>
<a href="build.html#wp1037436">Listing&#160;3-5</a> includes C++ code that releases a server application and unregisters the factories in the CORBA server application.
</p>
<div class="pCodeTitle"><a name="wp1037436"> </a>
Listing&#160;3-5	    Example of Releasing a Oracle Tuxedo CORBA server Application
</div> <a name="wp1037437"> </a><div class="pPreformatted"><pre>...<br />public void release()<br />{<br />	TP::unregister_factory(<br />		factory_reference.in(),<br />		SimpleFactoryHelper-&gt;id<br />		);<br />}<br />...</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1037505"> </a>
Step 4: Write the CORBA Client Application
</h2><p class="pBody"><a name="wp1020136"> </a>
The Oracle Tuxedo software supports the following types of CORBA client applications:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1020137"> </a>CORBA C++</li>
</ul></div>
<p class="pBody"><a name="wp1020821"> </a>
The steps for creating CORBA client applications are as follows: 
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1022843"> </a>Initialize the ORB.</li>
<li><a name="wp1022844"> </a>Use the Bootstrap object or the CORBA INS bootstrapping mechanism to establish communication with the Oracle Tuxedo domain.</li>
<li><a name="wp1022859"> </a>Resolve initial references to the FactoryFinder environmental object.</li>
<li><a name="wp1022864"> </a>Use a factory to get an object reference for the desired CORBA object.</li>
<li><a name="wp1022870"> </a>Invoke methods on the CORBA object.</li>
</ol></div>
<p class="pBody"><a name="wp1022954"> </a>
The CORBA client development steps are illustrated in <a href="build.html#wp1020154">Listing&#160;3-6</a> which include code from the Simpapp sample application. In the Simpapp sample application, the CORBA client application uses a factory to get an object reference to the Simple object and then invokes the <code class="cCode">to_upper() </code>and <code class="cCode">to_lower() </code>methods on the Simple object.
</p>
<div class="pCodeTitle"><a name="wp1020154"> </a>
Listing&#160;3-6	   <b class="cBold">CORBA Client Application from the Simpapp Sample Application</b>
</div> <a name="wp1052554"> </a><div class="pPreformatted"><pre>int main(int argc, char* argv[])<br />{<br />    try {<br />	// Initialize the ORB <br />	CORBA::ORB_var var_orb = CORBA::ORB_init(argc, argv, &quot;&quot;);<br /><br />	// Create the Bootstrap object<br />	Tobj_Bootstrap bootstrap(var_orb.in(), &quot;&quot;);<br /><br />	// Use the Bootstrap object to find the FactoryFinder<br />	CORBA::Object_var var_factory_finder_oref =<br />	  bootstrap.resolve_initial_references(&quot;FactoryFinder&quot;);<br /><br />	// Narrow the FactoryFinder<br />	Tobj::FactoryFinder_var var_factory_finder_reference =<br />	 Tobj::FactoryFinder::_narrow<br />	 (var_factory_finder_oref.in());<br /><br />	// Use the factory finder to find the Simple factory<br />	CORBA::Object_var var_simple_factory_oref =<br />	var_factory_finder_reference-&gt;find_one_factory_by_id(<br />	_tc_SimpleFactory-&gt;id()<br />	);<br /><br />	// Narrow the Simple factory<br />	SimpleFactory_var var_simple_factory_reference =<br />	  SimpleFactory::_narrow(<br />	                         var_simple_factory_oref.in());<br /><br />	// Find the Simple object<br />	Simple_var var_simple =<br />	  var_simple_factory_reference-&gt;find_simple();<br /><br />	// Get a string from the user <br />	cout &lt;&lt; &quot;String?&quot;;<br />	char mixed[256];<br />	cin &gt;&gt; mixed;<br /><br />	// Convert the string to upper case :<br />	CORBA::String_var var_upper = CORBA::string_dup(mixed);<br />	var_simple-&gt;to_upper(var_upper.inout());<br />	cout &lt;&lt; var_upper.in() &lt;&lt; endl;<br /><br />	// Convert the string to lower case <br />	CORBA::String_var var_lower = var_simple-&gt;to_lower(mixed);<br />	cout &lt;&lt; var_lower.in() &lt;&lt; endl;<br />	<br />	return 0;<br />	}<br />}</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1052451"> </a>
Step 5: Create an XA Resource Manager
</h2><p class="pBody"><a name="wp1033897"> </a>
When using transactions in a Oracle Tuxedo CORBA application, you need to create a CORBA server process for the resource manager that interacts with a database on behalf of the Oracle Tuxedo CORBA application. The resource manager you use must conform to the X/OPEN XA specification and you need the following information about the resource manager:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1034053"> </a>The name of the structure of type <code class="cCode">xa_switch_t</code> that contains the name of the XA resource manager.</li>
<li><a name="wp1034058"> </a>Flags indicating the capabilities of the XA resource manager and function pointers for the actual XA functions.</li>
<li><a name="wp1034061"> </a>The name of the object files that provide the services of the XA interface.</li>
<li><a name="wp1033982"> </a>The commands needed to open and close the XA resource manager. This information is specified in the <code class="cCode">OPENINFO</code> and <code class="cCode">CLOSEINFO</code> parameters in the <code class="cCode">UBBCONFIG</code> configuration file.</li>
</ul></div>
<p class="pBody"><a name="wp1034400"> </a>
When integrating a new XA resource manager into the Oracle Tuxedo system, the file <code class="cCode">$TUXDIR/udataobj/RM</code> must be updated to include information about the XA resource manager. The information is used to include the correct libraries for the XA resource manager and to set up the interface between the transaction manager and the XA resource manager automatically and correctly. The format of this file is as follows:
</p>
<p class="pBody"><a name="wp1033988"> </a>
<code class="cCodeEmphasis">rm_name</code><code class="cCode">:</code><code class="cCodeEmphasis">rm_structure_name</code><code class="cCode">:</code><code class="cCodeEmphasis">library_names</code> 
</p>
<p class="pBody"><a name="wp1033990"> </a>
where <code class="cCodeEmphasis">rm_name</code> is the name of the XA resource manager, <code class="cCodeEmphasis">rm_structure_name</code> is the name of the <code class="cCode">xa_switch_t</code> structure that defines the name of the XA resource manager, and <code class="cCodeEmphasis">library_names</code> is the list of the object files for the XA resource manager. White space (tabs and/or spaces) is allowed before and after each of the values and may be embedded within the <code class="cCodeEmphasis">library_names</code>. The colon (:) character may not be embedded within any of the values. Lines beginning with a pound sign (#) are treated as comments and are ignored. 
</p>
<p class="pBody"><a name="wp1033994"> </a>
Use the <code class="cCode">buildtms</code> command to build a server process for the XA resource manager. The files that result from the <code class="cCode">buildtms</code> command need to be installed in the <code class="cCode">$TUXDIR/bin</code> directory.
</p>
<p class="pBody"><a name="wp1033997"> </a>
For more information about the <code class="cCode">buildtms</code> command, see the <a href="../rfcm/index.html">Oracle Tuxedo Command Reference</a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1033888"> </a>
Step 6: Create a Configuration File
</h2><p class="pBody"><a name="wp1024160"> </a>
Because the Oracle Tuxedo software offers great flexibility and many options to application designers and programmers, no two CORBA applications are alike. An application, for example, may be small and simple (a single client and server running on one machine) or complex enough to handle transactions among thousands of client and server applications. For this reason, for every Oracle Tuxedo CORBA application being managed, the system administrator must provide a configuration file that defines and manages the components (for example, domains, server applications, client applications, and interfaces) of that application.
</p>
<p class="pBody"><a name="wp1042962"> </a>
When system administrators create a configuration file, they are describing the Oracle Tuxedo CORBA application using a set of parameters that the Oracle Tuxedo software interprets to create a runnable version of the application. During the setup phase of administration, the system administrator&#8217;s job is to create a configuration file. The configuration file contains the sections listed in <a href="build.html#wp1042975">Table&#160;3-5</a>.
</p>
<p class="pBody"><a name="wp1024361"> </a>
<a href="build.html#wp1026879">Listing&#160;3-7</a> shows the configuration file for the Simpapp sample application.
</p>
<div class="pCodeTitle"><a name="wp1026879"> </a>
Listing&#160;3-7	   Configuration File for Simpapp Sample Application
</div> <a name="wp1030091"> </a><div class="pPreformatted"><pre>*RESOURCES                               <br />	IPCKEY    55432                  <br />	DOMAINID  simpapp                   <br />	MASTER    SITE1                     <br />	MODEL     SHM                       <br />	LDBAL     N                         </pre></div><a name="wp1030092"> </a><div class="pPreformatted"><pre>*MACHINES                               <br />	&quot;PCWIZ&quot;                            <br />	LMID         = SITE1            <br />	APPDIR       = &quot;C:\TUXDIR\MY_SIM~1&quot;       <br />	TUXCONFIG    = &quot;C:\TUXDIR\MY_SIM~1\results\tuxconfig&quot;    <br />	TUXDIR       = &quot;C:\TUXDIR&quot;       <br />	MAXWSCLIENTS = 10               </pre></div><a name="wp1030093"> </a><div class="pPreformatted"><pre>*GROUPS                                 <br />	SYS_GRP                             <br />	LMID    = SITE1                 <br />	GRPNO   = 1                     <br />	APP_GRP                             <br />	LMID    = SITE1                 <br />	GRPNO   = 2                     </pre></div><a name="wp1030094"> </a><div class="pPreformatted"><pre>*SERVERS                                <br />	DEFAULT:                            <br />	   RESTART = Y                     <br />	   MAXGEN  = 5                     <br />	TMSYSEVT                            <br />	   SRVGRP  = SYS_GRP               <br />	   SRVID   = 1                     <br />	TMFFNAME                           <br />	   SRVGRP  = SYS_GRP               <br />	   SRVID   = 2                     <br />	   CLOPT   = &quot;-A -- -N -M&quot;         <br />	TMFFNAME                            <br />	   SRVGRP  = SYS_GRP               <br />	   SRVID   = 3                     <br />	   CLOPT   = &quot;-A -- -N&quot;            <br />	TMFFNAME                            <br />	   SRVGRP  = SYS_GRP               <br />	   SRVID   = 4                     <br />	   CLOPT   = &quot;-A -- -F&quot;            <br />	simple_server                       <br />	   SRVGRP  = APP_GRP               <br />          SRVID   = 1                     <br />	   RESTART = N                     <br />	ISL                                 <br />	   SRVGRP  = SYS_GRP               <br />	   SRVID   = 5                     <br />	   CLOPT   = &quot;-A -- -n //PCWIZ:2468&quot; </pre></div><a name="wp1030095"> </a><div class="pPreformatted"><pre>*SERVICES</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1034463"> </a>
Step 7: Create the TUXCONFIG File
</h2><p class="pBody"><a name="wp1038783"> </a>
There are two forms of the configuration file:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1038785"> </a>An ASCII version of the file, created and modified with any editor. Throughout the Oracle Tuxedo documentation, the ASCII version of the configuration file is referred to as the <code class="cCode">UBBCONFIG</code> file. You can choose any name for the configuration file.</li>
<li><a name="wp1038786"> </a>The <code class="cCode">TUXCONFIG</code> file, a binary version of the <code class="cCode">UBBCONFIG</code> file created using the <code class="cCode">tmloadcf</code> command. When the <code class="cCode">tmloadcf</code> command is executed, the environment variable <code class="cCode">TUXCONFIG</code> must be set to the name and directory location of the <code class="cCode">TUXCONFIG</code> file. The <code class="cCode">tmloadcf</code> command converts the configuration file to binary form and writes it to the location specified in the command. </li>
</ul></div>
<p class="pBody"><a name="wp1038819"> </a>
For more information about the <code class="cCode">tmloadcf </code>command, see the <a href="../rfcm/index.html">Oracle Tuxedo Command Reference</a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1026884"> </a>
Step 8: Compile the CORBA Server Application
</h2><p class="pBody"><a name="wp1026917"> </a>
You use the <code class="cCode">buildobjserver</code> command to compile and link C++ server applications. The <code class="cCode">buildobjserver</code> command has the following format:
</p>
<a name="wp1026918"> </a><div class="pPreformatted"><pre>buildobjserver [-o <em class="cEmphasis">servername</em>] [<code class="cCodeEmphasis">options</code>]</pre></div><p class="pBody"><a name="wp1026919"> </a>
In the <code class="cCode">buildobjserver</code> command syntax:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1026920"> </a>-o <em class="cEmphasis">servername</em> represents the name of the server application to be generated by this command.</li>
<li><a name="wp1027022"> </a><code class="cCodeEmphasis">options</code> represents the command-line options to the <code class="cCode">buildobjserver</code> command.</li>
</ul></div>
<p class="pBody"><a name="wp1047198"> </a>
When you create a server application to support multithreading, you must specify the <code class="cCode">-t</code> option on the <code class="cCode">buildobjserver</code> command when you build the application. For complete information on creating a server application to support multithreading, see <a href="../cservers/index.html">Creating CORBA Server Applications</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1047205"> </a>
Step 9: Compile the CORBA Client Application
</h2><p class="pBody"><a name="wp1026872"> </a>
The final step in the development of the CORBA client application is to produce the executable client application. To do this, you need to compile the code and then link against the client stub.
</p>
<p class="pBody"><a name="wp1020995"> </a>
When creating CORBA C++ client applications, use the <code class="cCode">buildobjclient</code> command to construct a Oracle Tuxedo CORBA client application executable. The command combines the CORBA client stubs for interfaces that use static invocation, and the associated header files, with the standard Oracle Tuxedo libraries to form a CORBA client executable. For the syntax of the<code class="cCode"> buildobjclient </code>command, see the<a href="../rfcm/index.html"> <em class="cEmphasis">Oracle Tuxedo Command Reference</em> </a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1037696"> </a>
Step 10: Start the Oracle Tuxedo CORBA Application
</h2><p class="pBody"><a name="wp1037697"> </a>
Use the<code class="cCode"> tmboot</code> command to start the server processes in your Oracle Tuxedo CORBA application. The CORBA application is usually booted from the machine designated as the <code class="cCode">MASTER</code> in the <code class="cCode">RESOURCES</code> section of the <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1035870"> </a>
For the <code class="cCode">tmboot</code> command to find executables, the Oracle Tuxedo system processes must be located in the <code class="cCode">$TUXDIR/bin</code> directory. Server applications should be in <code class="cCode">APPDIR,</code> as specified in the configuration file. 
</p>
<p class="pBody"><a name="wp1035873"> </a>
When booting server applications, the<code class="cCode"> tmboot</code> command uses the <code class="cCode">CLOPT</code>, <code class="cCode">SEQUENCE</code>, <code class="cCode">SRVGRP</code>, <code class="cCode">SRVID</code>, and <code class="cCode">MIN</code> parameters from the configuration file. Server applications are booted in the order in which they appear in the configuration file. 
</p>
<p class="pBody"><a name="wp1034479"> </a>
For more information about using the <code class="cCode">tmboot</code> command, see <a href="../rf5/index.html"> <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em> </a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1034478"> </a>
Additional Oracle Tuxedo CORBA Sample Applications
</h2><p class="pBody"><a name="wp1048385"> </a>
Sample applications demonstrate the tasks involved in developing a Oracle Tuxedo CORBA application, and provide sample code that can be used by CORBA client and server programmers to build their own Oracle Tuxedo CORBA application. Code from the sample applications are used throughout the information topics in the Oracle Tuxedo product to illustrate the development and administrative steps. 
</p>
<p class="pBody"><a name="wp1048403"> </a>
<a href="build.html#wp1044253">Table&#160;3-6</a> describes the additional Oracle Tuxedo CORBA sample applications.
</p>
<p class="pGraphic"><a name="wp1034460"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1044253table1044251"><caption><a name="wp1044253"> </a>
Table 3-6  The Oracle Tuxedo CORBA Sample Applications&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1044269"> </a>
Oracle Tuxedo CORBA<br />Sample Application
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1044271"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044273"> </a>
Simpapp
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044275"> </a>
Provides a CORBA C++ client application and a C++ server application. The C++ server application contains two operations that manipulate strings received from the C++ client application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044281"> </a>
Basic
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044286"> </a>
Describes how to develop Oracle Tuxedo CORBA client and server applications and configure the Oracle Tuxedo application. Building C++ server applications and CORBA C++ applications, CORBA client applications are demonstrated. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044291"> </a>
Security
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044296"> </a>
Demonstrates adding Oracle Tuxedo authentication to a Oracle Tuxedo CORBA application. For information about building and running the Security sample application, see <a href="../security/index.html">Using Security in CORBA Applications</a> in the Oracle Tuxedo online documentation.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044299"> </a>
Transactions
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044301"> </a>
Adds transactional objects to the CORBA C++ server application and CORBA client applications in the Basic sample application. The Transactions sample application demonstrates how to use the Implementation Configuration File (ICF) to define transaction policies for CORBA objects. For information about building and running the Transactions sample application, see <a href="../trans/index.html">Using CORBA Transactions</a> in the Oracle Tuxedo online documentation.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044304"> </a>
Wrapper
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044306"> </a>
Demonstrates how to wrap an existing Oracle Tuxedo ATMI application as a CORBA object. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044308"> </a>
Production
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044310"> </a>
Demonstrates replicating server applications, creating stateless objects, and implementing factory-based routing in server applications.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044322"> </a>
Secure Simpapp
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044324"> </a>
Implements the necessary development and administrative changes to the Simpapp sample application to support certificate authentication. For information about building and running the Secure Simpapp sample application, see <a href="../security/index.html">Using Security in CORBA Applications</a> in the Oracle Tuxedo online documentation.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044327"> </a>
Introductory Events
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044329"> </a>
Demonstrates how to use joint CORBA client/server applications and callback objects to implement events in a Oracle Tuxedo CORBA application. The C++ version uses the Oracle Simple Events API. For information about building and running the Introductory Events sample application, see <a href="../notify/index.html">Using the CORBA Notification Service</a> in the Oracle Tuxedo online documentation. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044332"> </a>
Advanced Events
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1044334"> </a>
Provides a more complex implementation of events in a Oracle Tuxedo CORBA application with transient and persistent subscriptions and data filtering. The C++ version uses the Advanced CosNotification API. For information about building and running the Advanced Events sample application, see <a href="../notify/index.html">Using the CORBA Notification Service</a> in the Oracle Tuxedo online documentation.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="build.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="corba.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="security.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
