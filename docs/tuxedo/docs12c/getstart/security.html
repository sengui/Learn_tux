<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41824" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/getstart/fm/security.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/26/12 11:07:22" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Using Security</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Getting Started with Oracle Tuxedo CORBA Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="build.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="transact.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/getstart.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1030253"> </a>
Using Security
</h1>
<p class="pBody"><a name="wp1026095"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023356"> </a><a href="security.html#wp1028967">Overview of the Security Service</a></li>
<li><a name="wp1026035"> </a><a href="security.html#wp1026952">How Security Works</a></li>
<li><a name="wp1023358"> </a><a href="security.html#wp1025123">The Security Sample Application</a></li>
<li><a name="wp1023359"> </a><a href="security.html#wp1023396">Development Steps</a></li>
</ul></div>
<a name="wp1026698"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>This chapter describes how to use authentication. For a complete description of all the security features available in the CORBA security environment and instructions for implementing the features, see <a href="../security/index.html">Using Security in CORBA Applications</a> in the Oracle Tuxedo online documentation.</td></tr>
</table>

<a name="wp1030960"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB were deprecated in Tuxedo 8.1 and are no longer supported. All Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB text references, associated code samples, should only be used to help implement/run third party Java ORB libraries, and for programmer reference only.</td>
</tr>
</table>
<a name="wp1030961"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Technical support for third party CORBA Java ORBs should be provided by their respective vendors. Oracle Tuxedo does not provide any technical support or documentation for third party CORBA Java ORBs.</td>
</tr>
</table>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1028967"> </a>
Overview of the Security Service
</h2><p class="pBody"><a name="wp1028971"> </a>
The CORBA environment in the Oracle Tuxedo product offers a security model based on the CORBA Services Security Service. The Oracle Tuxedo CORBA security model implements the authentication portion of the CORBA Services Security Service.
</p>
<p class="pBody"><a name="wp1023489"> </a>
In the CORBA environment security information is defined on a domain basis. The security level for the domain is defined in the configuration file. Client applications use the SecurityCurrent object to provide the necessary authentication information to log on to the Oracle Tuxedo domain.
</p>
<p class="pBody"><a name="wp1023457"> </a>
The following levels of authentication are provided:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023365"> </a><code class="cCode">TOBJ_NOAUTH</code></li>
<p class="pBodyRelative"><a name="wp1023366"> </a>
No authentication is needed; however, the client application may still authenticate itself, and may specify a username and a client application name, but no password.
</p>
<li><a name="wp1023367"> </a><code class="cCode">TOBJ_SYSAUTH</code></li>
<p class="pBodyRelative"><a name="wp1023371"> </a>
The client application must authenticate itself to the Oracle Tuxedo domain and must specify a username, client application name, and application password.
</p>
<li><a name="wp1023372"> </a><code class="cCode">TOBJ_APPAUTH</code></li>
<p class="pBodyRelative"><a name="wp1023373"> </a>
In addition to the <code class="cCode">TOBJ_SYSAUTH</code> information, the client application must provide application-specific information. If the default Oracle Tuxedo CORBA authentication service is used in the application configuration, the client application must provide a user password; otherwise, the client application provides authentication data that is interpreted by the custom authentication service in the application.
</p>
</ul></div>
<a name="wp1023377"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If a client application is not authenticated and the security level is <code class="cCode">TOBJ_NOAUTH</code>, the IIOP Listener/Handler of the Oracle Tuxedo domain registers the client application with the username and client application name sent to the IIOP Listener/Handler.</td>
</tr>
</table>

<p class="pBody"><a name="wp1026947"> </a>
In the Oracle Tuxedo CORBA security environment, only the PrincipalAuthenticator and Credentials properties on the SecurityCurrent object are supported. For a description of the <code class="cCode">SecurityLevel1::Current </code>and<code class="cCode"> SecurityLevel2::Current</code> interfaces, see the <a href="../CORBA_ref/index.html">CORBA Programming Reference</a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1026952"> </a>
How Security Works
</h2><p class="pBody"><a name="wp1029090"> </a>
<a href="security.html#wp1030599">Figure&#160;4-1</a> illustrates how CORBA security works in a Oracle Tuxedo domain.
</p>
<div class="pFigureTitle"><a name="wp1030599"> </a>
Figure&#160;4-1  How CORBA Security Works on Oracle Tuxedo Domain
</div>

 
 <p class="pGraphic"><a name="wp1030613"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/secure.gif" height="347" width="506" alt="How CORBA Security Works on Oracle Tuxedo Domain" id="wp1030614"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1025168"> </a>
The steps are as follows:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1025169"> </a>The client application uses the Bootstrap object to return an object reference to the SecurityCurrent object for the Oracle Tuxedo domain.</li>
<li><a name="wp1025170"> </a>The client application obtains the PrincipalAuthenticator. </li>
<li><a name="wp1025171"> </a>The client application uses the <code class="cCode">Tobj::PrincipalAuthenticator::get_auth_type()</code> method to get the authentication level for the Oracle Tuxedo domain.</li>
<li><a name="wp1025808"> </a>The proper authentication level is returned to the client application.</li>
<li><a name="wp1025172"> </a>The client application uses the <code class="cCode">Tobj::PrincipalAuthenticator::logon()</code> method to log on to the Oracle Tuxedo domain with the proper authentication information.</li>
</ol></div>
<a name="wp1029659"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Oracle Tuxedo CORBA also supports the use of the CORBA Interoperable Naming Service (INS) to obtain an initial object reference for the Security Service. For information on the INS bootstrapping mechanism, see the <a href="../CORBA_ref/index.html">CORBA Programming Reference</a>.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1025123"> </a>
The Security Sample Application
</h2><p class="pBody"><a name="wp1023512"> </a>
The Security sample application demonstrates how to use password authentication. The Security sample application requires that each student using the application has an ID and a password. The Security sample application works in the following manner:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023515"> </a>The client application has a <code class="cCode">logon()</code> operation. This operation invokes operations on the PrincipalAuthenticator object, which is obtained as part of the process of logging on to access the domain.</li>
<li><a name="wp1023517"> </a>The server application implements a <code class="cCode">get_student_details()</code> operation on the <code class="cCode">Registrar</code> object to return information about a student. After the user is authenticated, logon is complete and the <code class="cCode">get_student_details()</code> operation accesses the student information in the database to obtain the student information needed by the client logon operation.</li>
<li><a name="wp1026288"> </a>The database in the Security sample application contains course and student information.</li>
</ul></div>
<a name="wp1029658"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Certificate authentication is illustrated in the Secure Simpapp sample application.</td>
</tr>
</table>

<p class="pBody"><a name="wp1026293"> </a>
<a href="security.html#wp1030715">Figure&#160;4-2</a> illustrates the Security sample application.
</p>
<div class="pFigureTitle"><a name="wp1030715"> </a>
Figure&#160;4-2  Security Sample Application
</div>

 
 <p class="pGraphic"><a name="wp1030721"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/security_app.gif" height="307" width="544" alt="Security Sample Application" id="wp1030722"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1028733"> </a>
The source files for the Security sample application are located in the <code class="cCode">\samples\corba\university </code>directory in the Oracle Tuxedo software. For information about building and running the Security sample application, see <a href="../security/index.html">Using Security in CORBA Applications</a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1023396"> </a>
Development Steps
</h2><p class="pBody"><a name="wp1023397"> </a>
<a href="security.html#wp708567">Table&#160;4-1</a> lists the development steps for writing a Oracle Tuxedo CORBA application that employs authentication security.
</p>
<p class="pGraphic"><a name="wp1023424"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp708567table1023399"><caption><a name="wp708567"> </a>
Table 4-1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Development Steps for Oracle Tuxedo CORBA Applications That Have Security</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1023401"> </a>
Step
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1023403"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024032"> </a>
1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024034"> </a>
Define the security level in the configuration file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024036"> </a>
2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1024038"> </a>
Write the CORBA client application.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1023427"> </a>
Step 1: Define the Security Level in the Configuration File
</h3>
<p class="pBody"><a name="wp1023806"> </a>
The security level for a Oracle Tuxedo domain is defined by setting the <code class="cCode">SECURITY</code> parameter in the <code class="cCode">RESOURCES</code> section of the configuration file to the desired security level. <a href="security.html#wp708595">Table&#160;4-2</a> lists the options for the <code class="cCode">SECURITY</code> parameter.
</p>
<p class="pGraphic"><a name="wp1023840"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp708595table1023910"><caption><a name="wp708595"> </a>
Table 4-2  Options for the SECURITY Parameter

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1023912"> </a>
Option
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1023914"> </a>
Definition
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023916"> </a>
<code class="cCode">NONE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023918"> </a>
No security is implemented in the domain. This option is the default. This option maps to the <code class="cCode">TOBJ_NOAUTH</code> level of authentication.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023920"> </a>
<code class="cCode">APP_PW</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023922"> </a>
Requires that client applications provide an application password during initialization. The<code class="cCode"> tmloadcf</code> command prompts for an application password. This option maps to the <code class="cCode">TOBJ_SYSAUTH</code> level of authentication.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023924"> </a>
<code class="cCode">USER_AUTH</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023926"> </a>
Requires an application password and performs a per-user authentication during the initialization of the client application. This option maps to the <code class="cCode">TOBJ_APPAUTH</code> level of authentication.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1023831"> </a>
In the Security sample application, the <code class="cCode">SECURITY</code> parameter is set to <code class="cCode">APP_PW</code> for application-level security. For information about adding security to a Oracle Tuxedo CORBA application, see <a href="../security/index.html">Using Security in CORBA Applications</a> in the Oracle Tuxedo online documentation.
</p>
<h3 class="pHeading2"><a name="wp1024136"> </a>
Step 2: Write the CORBA Client Application
</h3>
<p class="pBody"><a name="wp1024951"> </a>
Write client application code that does the following:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1024984"> </a>Uses the Bootstrap object to obtain a reference to the SecurityCurrent object for the specific Oracle Tuxedo domain.</li>
<li><a name="wp1024988"> </a>Gets the PrincipalAuthenticator object from the SecurityCurrent object.</li>
<li><a name="wp1024989"> </a>Uses the <code class="cCode">get_auth_type()</code> operation of the PrincipalAuthenticator object to return the type of authentication expected by the Oracle Tuxedo domain.</li>
</ol></div>
<p class="pBody"><a name="wp1024955"> </a>
<a href="security.html#wp1024143">Listing&#160;4-1</a> include the portions of the CORBA C++ client applications in the Security sample application that illustrate the development steps for security.
</p>
<div class="pCodeTitle"><a name="wp1024143"> </a>
Listing&#160;4-1	   <b class="cBold">Example of Security in a CORBA C++ Client Application</b>
</div> <a name="wp1024497"> </a><div class="pPreformatted"><pre>CORBA::Object_var var_security_current_oref =   <br />     bootstrap.resolve_initial_references(&#8220;SecurityCurrent&#8221;);<br />SecurityLevel2::Current_var var_security_current_ref = <br />     SecurityLevel2::Current::_narrow(var_security_current_oref.in());<br /></pre></div><a name="wp1024509"> </a><div class="pPreformatted"><pre>//Get the PrincipalAuthenticator<br />SecurityLevel2::PrincipalAuthenticator_var var_principal_authenticator_oref =<br />     var_security_current_ref-&gt;principal_authenticator();<br />//Narrow the PrincipalAuthenticator<br />Tobj::PrincipalAuthenticator_var var_bea_principal_authenticator =<br />     Tobj::PrincipalAuthenticator::_narrow (<br />                                     var_principal_authenticator_oref.in());</pre></div><a name="wp1024622"> </a><div class="pPreformatted"><pre>//Determine the security level<br />Tobj::AuthType auth_type = var_bea_principal_authenticator-&gt;get_auth_type();<br />Security::AuthenticationStatus status = var_bea_principalauthenticator-&gt;logon(<br />                                                   user_name,<br />                                                   client_name,<br />                                                   system_password,<br />                                                   user_password,<br />                                                   0);</pre></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="security.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="build.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="transact.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
