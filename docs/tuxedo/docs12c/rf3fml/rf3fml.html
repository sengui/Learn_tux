<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/rf3fml/fm/rf3fml.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:31:16" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Section 3fml - FML Functions</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">ATMI FML Function Reference
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next_grey1.gif" border="0" alt="Next" />&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/rf3fml.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1150626"> </a>
Section 3fml - FML Functions
</h1>
<p class="pGraphic"><a name="wp1075181"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1133621table1075183"><caption><a name="wp1133621"> </a>
Table&#160;1  Oracle Tuxedo ATMI FML Functions&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1133625"> </a>
Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1133627"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133632"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133634"> </a>
Provides an introduction to the FML functions
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133639"> </a>
<a href="rf3fml.html#wp1005186"><code class="cCode">CFadd, CFadd32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133641"> </a>
Converts and adds field
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133646"> </a>
<a href="rf3fml.html#wp1005238"><code class="cCode">CFchg, CFchg32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133648"> </a>
Converts and changes field
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133653"> </a>
<a href="rf3fml.html#wp1005292"><code class="cCode">CFfind, CFfind32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133655"> </a>
Finds, converts, and returns pointer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133660"> </a>
<a href="rf3fml.html#wp1005343"><code class="cCode">CFfindocc, CFfindocc32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133662"> </a>
Finds occurrence of converted value 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133667"> </a>
<a href="rf3fml.html#wp1005394"><code class="cCode">CFget, CFget32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133669"> </a>
Gets field and converts 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133674"> </a>
<a href="rf3fml.html#wp1005445"><code class="cCode">CFgetalloc, CFgetalloc32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133676"> </a>
Gets field, allocates space, and converts 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133681"> </a>
<a href="rf3fml.html#wp1005494"><code class="cCode">F_error, F_error32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133683"> </a>
Prints error message for last error
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133688"> </a>
<a href="rf3fml.html#wp1005524"><code class="cCode">F32to16, F16to32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133690"> </a>
Converts 16-bit FML to/from 32-bit FML buffer
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133695"> </a>
<a href="rf3fml.html#wp1005571"><code class="cCode">Fadd, Fadd32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133697"> </a>
Adds new field occurrence 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133702"> </a>
<a href="rf3fml.html#wp1065359"><code class="cCode">Fadds, Fadds32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133704"> </a>
Converts value from type <code class="cCode">FLD_STRING</code> and adds to buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133709"> </a>
<a href="rf3fml.html#wp1051680"><code class="cCode">Falloc, Falloc32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133711"> </a>
Allocates and initializes fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133716"> </a>
<a href="rf3fml.html#wp1005710"><code class="cCode">Fappend, Fappend32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133718"> </a>
Appends new field occurrence 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133722"> </a>
<a href="rf3fml.html#wp1005761"><code class="cCode">Fboolco, Fboolco32, Fvboolco, Fvboolco32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133725"> </a>
Compiles expression, returns evaluation tree
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133729"> </a>
<a href="rf3fml.html#wp1005829"><code class="cCode">Fboolev, Fboolev32, Fvboolev, Fvboolev32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133732"> </a>
Evaluates buffer against tree 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133736"> </a>
<a href="rf3fml.html#wp1005898"><code class="cCode">Fboolpr, Fboolpr32, Fvboolpr, Fvboolpr32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133739"> </a>
Prints Boolean expression as parsed 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133744"> </a>
<a href="rf3fml.html#wp1005951"><code class="cCode">Fchg, Fchg32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133746"> </a>
Changes field occurrence value 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133751"> </a>
<a href="rf3fml.html#wp1006000"><code class="cCode">Fchgs, Fchgs32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133753"> </a>
Changes field occurrence - caller presents string 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133758"> </a>
<a href="rf3fml.html#wp1006047"><code class="cCode">Fchksum, Fchksum32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133760"> </a>
Computes checksum for fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133765"> </a>
<a href="rf3fml.html#wp1006084"><code class="cCode">Fcmp, Fcmp32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133767"> </a>
Compares two fielded buffers 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133772"> </a>
<a href="rf3fml.html#wp1006176"><code class="cCode">Fconcat, Fconcat32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133774"> </a>
Concatenates source to destination buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133779"> </a>
<a href="rf3fml.html#wp1006132"><code class="cCode">Fcpy, Fcpy32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133781"> </a>
Copies source to destination buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133786"> </a>
<a href="rf3fml.html#wp1051863"><code class="cCode">Fdel, Fdel32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133788"> </a>
Deletes field occurrence from buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133793"> </a>
<a href="rf3fml.html#wp1006266"><code class="cCode">Fdelall, Fdelall32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133795"> </a>
Deletes all field occurrences from buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133800"> </a>
<a href="rf3fml.html#wp1043539"><code class="cCode">Fdelete, Fdelete32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133802"> </a>
Deletes list of fields from buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133807"> </a>
<a href="rf3fml.html#wp1011241"><code class="cCode">Fextread, Fextread32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133809"> </a>
Builds fielded buffer from printed format 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133814"> </a>
<a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133816"> </a>
Finds field occurrence in buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133821"> </a>
<a href="rf3fml.html#wp1011312"><code class="cCode">Ffindlast, Ffindlast32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133823"> </a>
Finds last occurrence of field in buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133828"> </a>
<a href="rf3fml.html#wp1011336"><code class="cCode">Ffindocc, Ffindocc32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133830"> </a>
Finds occurrence of field value 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133835"> </a>
<a href="rf3fml.html#wp1011361"><code class="cCode">Ffinds, Ffinds32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133837"> </a>
Returns ptr to string representation 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133841"> </a>
<a href="rf3fml.html#wp1011387"><code class="cCode">Ffloatev, Ffloatev32, Fvfloatev, Fvfloatev32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133844"> </a>
Returns value of expression as a double 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133849"> </a>
<a href="rf3fml.html#wp1011422"><code class="cCode">Ffprint, Ffprint32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133851"> </a>
Prints fielded buffer to specified stream 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133856"> </a>
<a href="rf3fml.html#wp1011445"><code class="cCode">Ffree, Ffree32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133858"> </a>
Frees space allocated for fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133863"> </a>
<a href="rf3fml.html#wp1011464"><code class="cCode">Fget, Fget32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133865"> </a>
Gets copy and length of field occurrence 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133870"> </a>
<a href="rf3fml.html#wp1011489"><code class="cCode">Fgetalloc, Fgetalloc32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133872"> </a>
Allocates space and gets copy of field occurrence 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133877"> </a>
<a href="rf3fml.html#wp1011513"><code class="cCode">Fgetlast, Fgetlast32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133879"> </a>
Gets copy of last occurrence 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133884"> </a>
<a href="rf3fml.html#wp1011539"><code class="cCode">Fgets, Fgets32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133886"> </a>
Gets value converted to string 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133891"> </a>
<a href="rf3fml.html#wp1011565"><code class="cCode">Fgetsa, Fgetsa32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133893"> </a>
Uses <code class="cCode">malloc()</code> to allocate space and gets converted value 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133897"> </a>
<a href="rf3fml.html#wp1011593"><code class="cCode">Fidnm_unload, Fidnm_unload32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133900"> </a>
Recovers space from <code class="cCodeEmphasis">id-&gt;nm</code> mapping tables 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133905"> </a>
<a href="rf3fml.html#wp1011605"><code class="cCode">Fidxused, Fidxused32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133907"> </a>
Returns amount of space used 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133912"> </a>
<a href="rf3fml.html#wp1011623"><code class="cCode">Fielded, Fielded32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133914"> </a>
Returns <code class="cCode">true</code> if buffer is fielded 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133919"> </a>
<a href="rf3fml.html#wp1011635"><code class="cCode">Findex, Findex32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133921"> </a>
Indexes a fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133926"> </a>
<a href="rf3fml.html#wp1011655"><code class="cCode">Finit, Finit32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133928"> </a>
Initializes fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133933"> </a>
<a href="rf3fml.html#wp1011677"><code class="cCode">Fjoin, Fjoin32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133935"> </a>
Joins source into destination buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133940"> </a>
<a href="rf3fml.html#wp1011702"><code class="cCode">Fldid, Fldid32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133942"> </a>
Maps field name to field identifier 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133947"> </a>
<a href="rf3fml.html#wp1011720"><code class="cCode">Fldno, Fldno32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133949"> </a>
Maps field identifier to field number
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133954"> </a>
<a href="rf3fml.html#wp1011731"><code class="cCode">Fldtype, Fldtype32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133956"> </a>
Maps field identifier to field type 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133961"> </a>
<a href="rf3fml.html#wp1011743"><code class="cCode">Flen, Flen32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133963"> </a>
Returns <code class="cCode">len</code> of field occurrence in buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1176179"> </a>
<a href="rf3fml.html#wp1182217"><code class="cCode">Fmbpack32(3fml)</code></a> 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1176184"> </a>
Prepares encoding name and multibyte data information
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1176190"> </a>
<a href="rf3fml.html#wp1182256"><code class="cCode">Fmbunpack32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1176193"> </a>
Extracts encoding name and multibyte data information
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133968"> </a>
<a href="rf3fml.html#wp1011766"><code class="cCode">Fmkfldid, Fmkfldid32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133970"> </a>
Makes a field identifier 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133975"> </a>
<a href="rf3fml.html#wp1011784"><code class="cCode">Fmove, Fmove32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133977"> </a>
Moves fielded buffer to destination 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133982"> </a>
<a href="rf3fml.html#wp1011803"><code class="cCode">Fname, Fname32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133984"> </a>
Maps field identifier to field name
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133989"> </a>
<a href="rf3fml.html#wp1011821"><code class="cCode">Fneeded, Fneeded32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133991"> </a>
Computes size needed for buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133996"> </a>
<a href="rf3fml.html#wp1011837"><code class="cCode">Fnext, Fnext32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1133998"> </a>
Gets next field occurrence 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134002"> </a>
<a href="rf3fml.html#wp1008162"><code class="cCode">Fnmid_unload, Fnmid_unload32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134005"> </a>
Recovers space from <code class="cCodeEmphasis">nm-&gt;id</code> mapping tables 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134010"> </a>
<a href="rf3fml.html#wp1008129"><code class="cCode">Fnum, Fnum32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134012"> </a>
Returns count of all occurrences in buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134017"> </a>
<a href="rf3fml.html#wp1008195"><code class="cCode">Foccur, Foccur32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134019"> </a>
Returns count of field occurrences in buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134024"> </a>
<a href="rf3fml.html#wp1008235"><code class="cCode">Fojoin, Fojoin32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134026"> </a>
Outer join of source into destination buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134031"> </a>
<a href="rf3fml.html#wp1008286"><code class="cCode">Fpres, Fpres32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134033"> </a>
True if field occurrence is present in buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134038"> </a>
<a href="rf3fml.html#wp1008320"><code class="cCode">Fprint, Fprint32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134040"> </a>
Prints buffer to standard output 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134045"> </a>
<a href="rf3fml.html#wp1008359"><code class="cCode">Fproj, Fproj32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134047"> </a>
Provides projection on buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134052"> </a>
<a href="rf3fml.html#wp1008405"><code class="cCode">Fprojcpy, Fprojcpy32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134054"> </a>
Provides projection and copy on buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134059"> </a>
<a href="rf3fml.html#wp1008455"><code class="cCode">Fread, Fread32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134061"> </a>
Reads fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134066"> </a>
<a href="rf3fml.html#wp1008509"><code class="cCode">Frealloc, Frealloc32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134068"> </a>
Reallocates fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134073"> </a>
<a href="rf3fml.html#wp1008555"><code class="cCode">Frstrindex, Frstrindex32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134075"> </a>
Restores index in a buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134080"> </a>
<a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134082"> </a>
Returns size of fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134087"> </a>
<a href="rf3fml.html#wp1006307"><code class="cCode">Fstrerror, Fstrerror32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134089"> </a>
Gets error message string for FML error 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134094"> </a>
<a href="rf3fml.html#wp1008841"><code class="cCode">Ftypcvt, Ftypcvt32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134096"> </a>
Converts from one field type to another 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134101"> </a>
<a href="rf3fml.html#wp1008861"><code class="cCode">Ftype, Ftype32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134103"> </a>
Returns pointer to type of field 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134108"> </a>
<a href="rf3fml.html#wp1008878"><code class="cCode">Funindex, Funindex32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134110"> </a>
Discards fielded buffer&#39;s index 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134115"> </a>
<a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134117"> </a>
Returns number of unused bytes in fielded buffer
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134122"> </a>
<a href="rf3fml.html#wp1008979"><code class="cCode">Fupdate, Fupdate32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134124"> </a>
Updates destination buffer with source 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134129"> </a>
<a href="rf3fml.html#wp1009018"><code class="cCode">Fused, Fused32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134131"> </a>
Returns number of used bytes in fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134136"> </a>
<a href="rf3fml.html#wp1009055"><code class="cCode">Fvall, Fvall32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134138"> </a>
Returns long value of field occurrence 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134143"> </a>
<a href="rf3fml.html#wp1009099"><code class="cCode">Fvals, Fvals32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134145"> </a>
Returns string value of field occurrence 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134150"> </a>
<a href="rf3fml.html#wp1009148"><code class="cCode">Fvftos, Fvftos32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134152"> </a>
Copies from fielded buffer to C structure 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134157"> </a>
<a href="rf3fml.html#wp1103561"><code class="cCode">Fvneeded, Fvneeded32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134159"> </a>
Computes size needed for view buffer
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134164"> </a>
<a href="rf3fml.html#wp1009198"><code class="cCode">Fvnull, Fvnull32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134166"> </a>
Checks if a structure element is NULL 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134171"> </a>
<a href="rf3fml.html#wp1009236"><code class="cCode">Fvopt, Fvopt32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134173"> </a>
Changes flag options of a mapping entry 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134178"> </a>
<a href="rf3fml.html#wp1009287"><code class="cCode">Fvrefresh, Fvrefresh32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134180"> </a>
Copies from C structure to fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134185"> </a>
<a href="rf3fml.html#wp1009320"><code class="cCode">Fvselinit, Fvselinit32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134187"> </a>
Initializes structure element to NULL 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134192"> </a>
<a href="rf3fml.html#wp1009364"><code class="cCode">Fvsinit, Fvsinit32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134194"> </a>
Initializes C structure to NULL 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134199"> </a>
<a href="rf3fml.html#wp1009398"><code class="cCode">Fvstof, Fvstof32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134201"> </a>
Copies from C structure to fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134206"> </a>
<a href="rf3fml.html#wp1009452"><code class="cCode">Fvstot, Fvttos(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134208"> </a>
Converts C structure to/from target record type
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134213"> </a>
<a href="rf3fml.html#wp1009588"><code class="cCode">Fwrite, Fwrite32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1134215"> </a>
Writes fielded buffer 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1176162"> </a>
<a href="rf3fml.html#wp1167007"><code class="cCode">tpconvfmb32(3fml)</code></a> 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1171608"> </a>
Converts multibyte characters in an <code class="cCode">FLD_MBSTRING</code> field in an FML32 typed buffer to a named target encoding.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1213601"> </a>
<a href="rf3fml.html#wp1213615"><code class="cCode">tpconvvmb32(3fml)</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1213603"> </a>
Converts multibyte characters in an MBSTRING field in an VIEW32 typed buffer to a named target encoding. 
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1006343"> </a>
Introduction to FML Functions
</h2><h4 class="pHeading3"><a name="wp997240"> </a>
Synopsis
</h4>
<a name="wp1003850"> </a><div class="pPreformatted"><pre>&#8220;#include &lt;fml.h&gt;&#8221;<br />&#8220;#include &lt;fml32.h&gt;&#8221;</pre></div><h4 class="pHeading3"><a name="wp997269"> </a>
Description
</h4>
<p class="pBody"><a name="wp997280"> </a>
FML is a set of C language functions for defining and manipulating storage structures called fielded buffers, that contain attribute-value pairs called fields. The attribute is the field&#8217;s identifier, and the associated value represents the field&#8217;s data content.
</p>
<p class="pBody"><a name="wp997324"> </a>
Fielded buffers provide an excellent structure for communicating parameterized data between cooperating processes, by providing named access to a set of related fields. Programs that need to communicate with other processes can use the FML software to provide access to fields without concerning themselves with the structures containing them.
</p>
<p class="pBody"><a name="wp997361"> </a>
FML also provides a facility called <code class="cCode">VIEWS</code> that allows you to map fielded buffers to C structures (and the reverse as well). <code class="cCode">VIEWS</code> lets you perform lengthy manipulations of data in structures rather than in fielded buffers; applications will run faster if data is transferred to structures for manipulation. <code class="cCode">VIEWS</code> allows the data independence of fielded buffers to be combined with the efficiency and simplicity of classic record structures.
</p>
<h4 class="pHeading3"><a name="wp997404"> </a>
FML16 and FML32
</h4>
<p class="pBody"><a name="wp997415"> </a>
There are two &#8220;sizes&#8221; of FML. The original FML interface is based on 16-bit values for the length of fields and containing information identifying fields. In this introduction, it will be referred to as FML16. FML16 is limited to 8191 unique fields, individual field lengths of up to 64K bytes, and a total fielded buffer size of 64K. The definitions, types, and function prototypes for this interface are in <code class="cCode">fml.h</code> which must be included in an application program using the FML16 interface; and functions live in <code class="cCode">-lfml</code>. A second interface, FML32, uses 32-bit values for the field lengths and identifiers. It allows for about 30 million fields, and field and buffer lengths of about 2 billion bytes. The definitions, types, and function prototypes for FML32 are in<code class="cCode"> fml32.h</code>; and functions live in <code class="cCode">-lfml32</code>. All definitions, types, and function names for FML32 have a &#8220;32&#8221; suffix (for example, <code class="cCode">MAXFBLEN32</code>, <code class="cCode">FLDID32</code>, <code class="cCode">Fchg32</code>). Also the environment variables are suffixed with &#8220;32&#8221; (for example, <code class="cCode">FLDTBLDIR32</code>, <code class="cCode">FIELDTBLS32</code>, <code class="cCode">VIEWFILES32</code>, and <code class="cCode">VIEWDIR32</code>).
</p>
<h4 class="pHeading3"><a name="wp997550"> </a>
FML Buffers
</h4>
<p class="pBody"><a name="wp997561"> </a>
A fielded buffer is composed of field identifier and field value pairs for fixed length fields (for example,<code class="cCode"> long, short</code>), and field identifier, field length, and field value triples for varying length fields.
</p>
<p class="pBody"><a name="wp1119321"> </a>
A field identifier is a tag for an individual data item in a fielded buffer. The field identifier consists of the name of field number and the type of the data in the field. The field number must be in the range 1 to 8191 inclusive for FML16, and the type definition for a field identifier is <code class="cCode">FLDID</code>. The field number must be in the range 1 to 33,554,431 inclusive for FML32, and the type definition for a field identifier is <code class="cCode">FLDID32</code>. The Oracle Tuxedo ATMI system conforms to the following conventions for field numbers:
</p>
<p class="pGraphic"><a name="wp1152919"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1119298table1119296">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1119298"> </a>
FML16 Field Numbers
</div>
</th>
    <th colspan="2" rowspan="1"><div class="pCellHeading"><a name="wp1119302"> </a>
FML32 Field Numbers
</div>
</th>
</tr>
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1119306"> </a>
Reserved
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1119308"> </a>
Available
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1119310"> </a>
Reserved
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1119312"> </a>
Available
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1119314"> </a>
1-100
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1119316"> </a>
101-8191
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1119318"> </a>
1-10,000,<br />30,000,001-33,554,431
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1119320"> </a>
10,001-30,000,000
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1119322"> </a>
Applications should avoid using the reserved field numbers, although the Oracle Tuxedo ATMI system does not strictly enforce applications from using them.
</p>
<a name="wp1214764"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If a field in an FML or FML32 buffer is used for routing, the value of that field must be a number less than or equal to 8191.</td>
</tr>
</table>

<p class="pBody"><a name="wp1153194"> </a>
The field types can be any of the standard C language types: <code class="cCode">short</code>, <code class="cCode">long</code>, <code class="cCode">float</code>, <code class="cCode">double</code>, and <code class="cCode">char</code>. The following types are also supported: <code class="cCode">string</code> (a series of characters ending with a NULL character), <code class="cCode">carray</code> (a character array), <code class="cCode">mbstring </code>(a multibyte character array&#8212;available in Oracle Tuxedo release 8.1 or later), <code class="cCode">ptr</code> (a pointer to a buffer), <code class="cCode">fml32</code> (an embedded FML32 buffer), and <code class="cCode">view32</code> (an embedded VIEW32 buffer). (The <code class="cCode">ptr</code>, <code class="cCode">fml32</code>, and <code class="cCode">view32</code> types are supported only for the FML32 interface.) In <code class="cCode">fml.h</code>, the supported field types are defined as <code class="cCode">FLD_SHORT</code>, <code class="cCode">FLD_LONG</code>, <code class="cCode">FLD_FLOAT</code>, <code class="cCode">FLD_DOUBLE</code>, <code class="cCode">FLD_CHAR</code>, <code class="cCode">FLD_STRING</code>, and <code class="cCode">FLD_CARRAY</code>. In <code class="cCode">fml32.h</code>, the supported field types are defined as <code class="cCode">FLD_SHORT</code>, <code class="cCode">FLD_LONG</code>, <code class="cCode">FLD_FLOAT</code>, <code class="cCode">FLD_DOUBLE</code>, <code class="cCode">FLD_CHAR</code>, <code class="cCode">FLD_STRING</code>, <code class="cCode">FLD_CARRAY</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>.
</p>
<p class="pBody"><a name="wp997736"> </a>
For FML16, a fielded buffer pointer is of type <code class="cCode">FBFR *</code>, a field length has the type <code class="cCode">FLDLEN</code>, and the number of occurrences of a field has the type <code class="cCode">FLDOCC</code>. For FML32, a fielded buffer pointer is of type <code class="cCode">FBFR32 *</code>, a field length has the type <code class="cCode">FLDLEN32</code>, and the number of occurrences of a field has the type <code class="cCode">FLDOCC32</code>.
</p>
<p class="pBody"><a name="wp997781"> </a>
Fields are referred to by their field identifier in the FML interface. However, it is normally easier for an application programmer to remember a field name. There are two approaches to mapping field names to field identifiers.
</p>
<p class="pBody"><a name="wp997927"> </a>
Field name/identifier mappings can be made available to FML programs at run time through field table files, described in <a href="../rf5/rf5.html">field_tables(5)</a>. The FML16 interface uses the environment variable <code class="cCode">FLDTBLDIR</code> to specify a list of directories where field tables can be found, and <code class="cCode">FIELDTBLS</code> to specify a list of the files in the table directories that are to be used. The FML32 interface uses <code class="cCode">FLDTBLDIR32</code> and <code class="cCode">FIELDTBLS32</code>. Within applications programs, the FML functions <code class="cCode">Fldid()</code> and <code class="cCode">Fldid32()</code> provide for a run-time translation of a field name to its field identifier and <code class="cCode">Fname()</code> and <code class="cCode">Fname32()</code> translate a field identifier to its field name.
</p>
<p class="pBody"><a name="wp997987"> </a>
Compile-time field name/identifier mappings are provided by the use field header files containing macro definitions for the field names. <code class="cCode">mkfldhdr()</code> and <code class="cCode">mkfldhdr32()</code> are provided to make header files out of field table files (see <a href="../rfcm/rfcmd.html">mkfldhdr,&#160;mkfld</a><a href="../rfcm/rfcmd.html">hdr32(1)</a> for details). These header files are <code class="cCode">#include</code>&#8217;d in C programs, and provide another way to map field names to field identifiers at compile-time.
</p>
<p class="pBody"><a name="wp998012"> </a>
Any field in a fielded buffer can occur more than once. Many FML functions take an argument that specifies which occurrence of a field is to be retrieved or modified. If a field occurs more than once, the first occurrence is numbered 0, and additional occurrences are numbered sequentially. The set of all occurrences make up a logical sequence, but no overhead is associated with the occurrence number (that is, it is not stored in the fielded buffer). If another occurrence of a field is added, it is added at the end of the set and is referred to as the next higher occurrence. When an occurrence other than the highest is deleted, all higher occurrences of the field are shifted down by one (for example, occurrence 6 becomes occurrence 5, 5 becomes 4, etc.).
</p>
<p class="pBody"><a name="wp998188"> </a>
When a fielded buffer has many fields, access is expedited in FML by the use of an internal index. The user is normally unaware of the existence of this index. However, when you store a fielded buffer on disk, or transmit a fielded buffer between processes or between computers, you can save disk space and/or transmittal time by first discarding the index using <code class="cCode">Funindex()</code> or <code class="cCode">Funindex32()</code>, and then reconstructing the index later with <code class="cCode">Findex()</code> or <code class="cCode">Findex32()</code>.
</p>
<h4 class="pHeading3"><a name="wp1004175"> </a>
FML16 Conversion to FML32
</h4>
<p class="pBody"><a name="wp1003963"> </a>
Existing FML16 applications that are written correctly can easily be changed to use the FML32 interface. All variables used in the calls to the FML functions must use the proper typedefs (<code class="cCode">FLDID</code>, <code class="cCode">FLDLEN</code>, and <code class="cCode">FLDOCC</code>). Any call to <code class="cCode">tpalloc()</code> for an FML typed buffer should use the <code class="cCode">FMLTYPE</code> definition instead of &#8220;FML&#8221;. The application source code can be changed to use the 32-bit functions simply by changing the include of <code class="cCode">fml.h</code> to inclusion of <code class="cCode">fml32.h</code> followed by <code class="cCode">fml1632.h</code>. The <code class="cCode">fml1632.h</code> contains macros that convert all of the 16-bit type definitions to 32-bit type definitions, and 16-bit functions and macros to 32-bit functions and macros.
</p>
<h4 class="pHeading3"><a name="wp1004113"> </a>
VIEWS
</h4>
<p class="pBody"><a name="wp998315"> </a>
<code class="cCode">VIEWS</code> is a part of the Field Manipulation Language that allows the exchange of data between fielded buffers and C structures in a C language program, by specifying mappings of fields to members of C structures. If extensive manipulations of fielded buffer information are to be done, transferring the data to C structures will improve performance. Information in a fielded buffer can be extracted from the fields in a buffer and placed in a C structure using <code class="cCode">VIEWS</code> functions, manipulated, and the updated values returned to the buffer, again using <code class="cCode">VIEWS</code> functions.
</p>
<p class="pBody"><a name="wp998382"> </a>
Typed buffers is a feature of the ATMI environment that grew out of the FML idea of a fielded buffer. Two of the standard buffer types delivered with the ATMI environment are FML typed buffers and <code class="cCode">VIEW</code> typed buffers. An additional difference of <code class="cCode">VIEW</code> buffers is that they can be totally unrelated to an FML fielded buffer. The buffer types <code class="cCode">FML32</code> and <code class="cCode">VIEW32</code> can also be used.
</p>
<p class="pBody"><a name="wp998518"> </a>
A view description is created and stored in a source viewfile, as described in <a href="../rf5/rf5.html">viewfile(5)</a>. The view description maps fields in fielded buffers to members in C structures. The source view descriptions are compiled, using <code class="cCode">viewc()</code> or <code class="cCode">viewc32()</code>, creating a view object file and can then be used to map data transferred between fielded buffers and C structures in a C program (see <a href="../rfcm/rfcmd.html">viewc,&#160;view</a><a href="../rfcm/rfcmd.html">c32(1)</a> for details). The view compiler also creates C header files that can be included in applications programs to define the structures described in view descriptions. A view disassembler, <code class="cCode">viewdis()</code> or <code class="cCode">viewdis32()</code>, is provided to translate object view descriptions into readable form (that is, back into source view descriptions); the output of the disassembler can be reinput to the view compiler (see <a href="../rfcm/rfcmd.html">viewdis,&#160;viewdis</a><a href="../rfcm/rfcmd.html">32(1)</a> for details).
</p>
<p class="pBody"><a name="wp998696"> </a>
The object files are used at run time to manipulate the <code class="cCode">VIEW</code> structures using the <code class="cCode">VIEWFILES</code> and <code class="cCode">VIEWDIR</code> environment variables. <code class="cCode">VIEWFILES</code> should contain a comma-separated list of object viewfiles for the application. Files given as full pathnames are used as is; files listed as relative pathnames are searched for through the list of directories specified by the <code class="cCode">VIEWDIR</code> variable (as described later in this section). <code class="cCode">VIEWDIR</code> specifies a colon-separated list of directories to be used to find view object files with relative filenames. For <code class="cCode">VIEW32</code> structures, <code class="cCode">VIEWFILES32</code> and <code class="cCode">VIEWDIR32</code> are used.
</p>
<p class="pBody"><a name="wp998746"> </a>
In addition to the data types supported by most FML functions, <code class="cCode">VIEWS</code> supports type <code class="cCode">int</code> in source view descriptions. When the view description is compiled the view compiler automatically converts any <code class="cCode">int</code> types to either short or long types, depending on your machine.
</p>
<p class="pBody"><a name="wp998757"> </a>
A decimal data type is also supported in <code class="cCode">VIEWS</code>. It is defined as a field of type <code class="cCode">dec_t</code>, and the size of the packed decimal value is given as the total number of bytes and the bytes to the right of the decimal point. While this field is not supported directly in FML, conversion of this field is automatic to/from any other field type supported in FML. Packed decimals exist in the COBOL environment as two decimal digits packed into one byte with the low-order half byte used to store the sign. In the C environment, the data type is defined by the <code class="cCode">dec_t</code> type definition, which contains the decimal exponent, sign, digits, and the packed decimal value.
</p>
<p class="pBody"><a name="wp998887"> </a>
An FML buffer can be converted to a view using <code class="cCode">Fvftos()</code> or <code class="cCode">Fvftos32()</code>. A view can be converted to a fielded buffer using <code class="cCode">Fvstof()</code> or <code class="cCode">Fvstof32()</code>. When transferring data between fielded buffers and structures, the source data is automatically converted to the type of the destination data. Multiple field occurrences are supported; they are treated as an array in the structure. NULL values are used to indicate empty members in a structure, and can be specified by the user for each structure member in a viewfile. If the user does not specify a NULL value for a member, default NULL values are used. It is also possible to inhibit the transfer of data between a C structure member and a field in a fielded buffer, even though a mapping exists between them.
</p>
<p class="pBody"><a name="wp999011"> </a>
A <code class="cCode">VIEW</code> can also be converted to and from a target record format. The default target format is IBM System/370 COBOL records. The <code class="cCode">Fvstot()</code> function takes care of converting byte ordering, floating point and decimal format, and character sets (ASCII to EBCDIC), and <code class="cCode">Fvttos()</code> converts back to the native format. 32-bit versions of these functions also exist. The <code class="cCode">Fcodeset()</code> function can be used to specify alternate ASCII/EBCDIC transaction tables.
</p>
<h4 class="pHeading3"><a name="wp999052"> </a>
Error Handling
</h4>
<p class="pBody"><a name="wp999146"> </a>
Most of the FML functions have one or more error returns. An error condition is indicated by an otherwise impossible returned value. This is usually -1 on error, or 0 for a bad field identifier (<code class="cCode">BADFLDID</code>) or address. The error type is also made available in the external integer <code class="cCode">Ferror</code> for FML16 and <code class="cCode">Ferror32</code> for FML32. <code class="cCode">Ferror</code> and <code class="cCode">Ferror32</code> are not cleared on successful calls, so they should be tested only after an error has been indicated.
</p>
<p class="pBody"><a name="wp999240"> </a>
The <code class="cCode">F_error</code> and <code class="cCode">F_error32</code> functions are provided to produce a message on the standard error output. They take one parameter, a string; print the argument string appended with a colon and a blank; and then print an error message followed by a newline character. The error message displayed is the one defined for the error number currently in <code class="cCode">Ferror</code> or <code class="cCode">Ferror32</code>, which is set when errors occur.
</p>
<p class="pBody"><a name="wp999283"> </a>
<code class="cCode">Fstrerror()</code> can be used to retrieve from a message catalog the text of an error message; it returns a pointer that can be used to as an argument to <a href="../rf3c/rf3c.html">userlog(3c)</a>.
</p>
<p class="pBody"><a name="wp999294"> </a>
The error codes that can be produced by an FML function are described on each FML reference page.
</p>
<h4 class="pHeading3"><a name="wp999313"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1093408"> </a>
<a href="rf3fml.html#wp1005186"><code class="cCode">CFadd, CFadd32(3fml)</code></a>, <a href="rf3fml.html#wp1005238"><code class="cCode">CFchg, CFchg32(3fml)</code></a>, <a href="rf3fml.html#wp1005292"><code class="cCode">CFfind, CFfind32(3fml)</code></a>, <a href="rf3fml.html#wp1005343"><code class="cCode">CFfindocc, CFfindocc32(3fml)</code></a>, <a href="rf3fml.html#wp1005394"><code class="cCode">CFget, CFget32(3fml)</code></a>, <a href="rf3fml.html#wp1005445"><code class="cCode">CFgetalloc, CFgetalloc32(3fml)</code></a>, <a href="rf3fml.html#wp1005494"><code class="cCode">F_error, F_error32(3fml)</code></a>, <a href="rf3fml.html#wp1005571"><code class="cCode">Fadd, Fadd32(3fml)</code></a>, <a href="rf3fml.html#wp1065359"><code class="cCode">Fadds, Fadds32(3fml)</code></a>, <a href="rf3fml.html#wp1051680"><code class="cCode">Falloc, Falloc32(3fml)</code></a>, <a href="rf3fml.html#wp1005761"><code class="cCode">Fboolco, Fboolco32, Fvboolco, Fvboolco32(3fml)</code></a>, <a href="rf3fml.html#wp1005829"><code class="cCode">Fboolev, Fboolev32, Fvboolev, Fvboolev32(3fml)</code></a>, <a href="rf3fml.html#wp1005898"><code class="cCode">Fboolpr, Fboolpr32, Fvboolpr, Fvboolpr32(3fml)</code></a>, <a href="rf3fml.html#wp1005951"><code class="cCode">Fchg, Fchg32(3fml)</code></a>, <a href="rf3fml.html#wp1006000"><code class="cCode">Fchgs, Fchgs32(3fml)</code></a>, <a href="rf3fml.html#wp1006047"><code class="cCode">Fchksum, Fchksum32(3fml)</code></a>, <a href="rf3fml.html#wp1006084"><code class="cCode">Fcmp, Fcmp32(3fml)</code></a>, <a href="rf3fml.html#wp1006176"><code class="cCode">Fconcat, Fconcat32(3fml)</code></a>, <a href="rf3fml.html#wp1006132"><code class="cCode">Fcpy, Fcpy32(3fml)</code></a>, <a href="rf3fml.html#wp1051863"><code class="cCode">Fdel, Fdel32(3fml)</code></a>, <a href="rf3fml.html#wp1006266"><code class="cCode">Fdelall, Fdelall32(3fml)</code></a>, <a href="rf3fml.html#wp1043539"><code class="cCode">Fdelete, Fdelete32(3fml)</code></a>, <a href="rf3fml.html#wp1011241"><code class="cCode">Fextread, Fextread32(3fml)</code></a>, <a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a>, <a href="rf3fml.html#wp1011312"><code class="cCode">Ffindlast, Ffindlast32(3fml)</code></a>, <a href="rf3fml.html#wp1011336"><code class="cCode">Ffindocc, Ffindocc32(3fml)</code></a>, <a href="rf3fml.html#wp1011361"><code class="cCode">Ffinds, Ffinds32(3fml)</code></a>, <a href="rf3fml.html#wp1011387"><code class="cCode">Ffloatev, Ffloatev32, Fvfloatev, Fvfloatev32(3fml)</code></a>, <a href="rf3fml.html#wp1011422"><code class="cCode">Ffprint, Ffprint32(3fml)</code></a>, <a href="rf3fml.html#wp1011445"><code class="cCode">Ffree, Ffree32(3fml)</code></a>, <a href="rf3fml.html#wp1011464"><code class="cCode">Fget, Fget32(3fml)</code></a>, <a href="rf3fml.html#wp1011489"><code class="cCode">Fgetalloc, Fgetalloc32(3fml)</code></a>, <a href="rf3fml.html#wp1011513"><code class="cCode">Fgetlast, Fgetlast32(3fml)</code></a>, <a href="rf3fml.html#wp1011539"><code class="cCode">Fgets, Fgets32(3fml)</code></a>, <a href="rf3fml.html#wp1011565"><code class="cCode">Fgetsa, Fgetsa32(3fml)</code></a>, <a href="rf3fml.html#wp1011593"><code class="cCode">Fidnm_unload, Fidnm_unload32(3fml)</code></a>, <a href="rf3fml.html#wp1011605"><code class="cCode">Fidxused, Fidxused32(3fml)</code></a>, <a href="rf3fml.html#wp1011623"><code class="cCode">Fielded, Fielded32(3fml)</code></a>, <a href="rf3fml.html#wp1011635"><code class="cCode">Findex, Findex32(3fml)</code></a>, <a href="rf3fml.html#wp1011655"><code class="cCode">Finit, Finit32(3fml)</code></a>, <a href="rf3fml.html#wp1011677"><code class="cCode">Fjoin, Fjoin32(3fml)</code></a>, <a href="rf3fml.html#wp1011702"><code class="cCode">Fldid, Fldid32(3fml)</code></a>, <a href="rf3fml.html#wp1011720"><code class="cCode">Fldno, Fldno32(3fml)</code></a>, <a href="rf3fml.html#wp1011731"><code class="cCode">Fldtype, Fldtype32(3fml)</code></a>, <a href="rf3fml.html#wp1011743"><code class="cCode">Flen, Flen32(3fml)</code></a>, <a href="rf3fml.html#wp1011766"><code class="cCode">Fmkfldid, Fmkfldid32(3fml)</code></a>, <a href="rf3fml.html#wp1011784"><code class="cCode">Fmove, Fmove32(3fml)</code></a>, <a href="rf3fml.html#wp1011803"><code class="cCode">Fname, Fname32(3fml)</code></a>, <a href="rf3fml.html#wp1011821"><code class="cCode">Fneeded, Fneeded32(3fml)</code></a>, <a href="rf3fml.html#wp1011837"><code class="cCode">Fnext, Fnext32(3fml)</code></a>, <a href="rf3fml.html#wp1008162"><code class="cCode">Fnmid_unload, Fnmid_unload32(3fml)</code></a>, <a href="rf3fml.html#wp1008129"><code class="cCode">Fnum, Fnum32(3fml)</code></a>, <a href="rf3fml.html#wp1008195"><code class="cCode">Foccur, Foccur32(3fml)</code></a>, <a href="rf3fml.html#wp1008235"><code class="cCode">Fojoin, Fojoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008286"><code class="cCode">Fpres, Fpres32(3fml)</code></a>, <a href="rf3fml.html#wp1008320"><code class="cCode">Fprint, Fprint32(3fml)</code></a>, <a href="rf3fml.html#wp1008359"><code class="cCode">Fproj, Fproj32(3fml)</code></a>, <a href="rf3fml.html#wp1008405"><code class="cCode">Fprojcpy, Fprojcpy32(3fml)</code></a>, <a href="rf3fml.html#wp1008455"><code class="cCode">Fread, Fread32(3fml)</code></a>, <a href="rf3fml.html#wp1008509"><code class="cCode">Frealloc, Frealloc32(3fml)</code></a>, <a href="rf3fml.html#wp1008555"><code class="cCode">Frstrindex, Frstrindex32(3fml)</code></a>, <a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a>, <a href="rf3fml.html#wp1006307"><code class="cCode">Fstrerror, Fstrerror32(3fml)</code></a>, <a href="rf3fml.html#wp1008841"><code class="cCode">Ftypcvt, Ftypcvt32(3fml)</code></a>, <a href="rf3fml.html#wp1008861"><code class="cCode">Ftype, Ftype32(3fml)</code></a>, <a href="rf3fml.html#wp1008878"><code class="cCode">Funindex, Funindex32(3fml)</code></a>, <a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a>, <a href="rf3fml.html#wp1008979"><code class="cCode">Fupdate, Fupdate32(3fml)</code></a>, <a href="rf3fml.html#wp1009018"><code class="cCode">Fused, Fused32(3fml)</code></a>, <a href="rf3fml.html#wp1009055"><code class="cCode">Fvall, Fvall32(3fml)</code></a>, <a href="rf3fml.html#wp1009099"><code class="cCode">Fvals, Fvals32(3fml)</code></a>, <a href="rf3fml.html#wp1009148"><code class="cCode">Fvftos, Fvftos32(3fml)</code></a>, <a href="rf3fml.html#wp1011821"><code class="cCode">Fneeded, Fneeded32(3fml)</code></a><code class="cCode">, </code><a href="rf3fml.html#wp1009198"><code class="cCode">Fvnull, Fvnull32(3fml)</code></a>, <a href="rf3fml.html#wp1009236"><code class="cCode">Fvopt, Fvopt32(3fml)</code></a>, <a href="rf3fml.html#wp1009320"><code class="cCode">Fvselinit, Fvselinit32(3fml)</code></a>, <a href="rf3fml.html#wp1009364"><code class="cCode">Fvsinit, Fvsinit32(3fml)</code></a>, <a href="rf3fml.html#wp1009398"><code class="cCode">Fvstof, Fvstof32(3fml)</code></a>, <a href="rf3fml.html#wp1009588"><code class="cCode">Fwrite, Fwrite32(3fml)</code></a>, <a href="../rf5/rf5.html">field_tables(5)</a>, <a href="../rf5/rf5.html">viewfile(5)</a> 
</p>
<p class="pBody"><a name="wp1042372"> </a>
<em class="cEmphasis">Programming an Oracle Tuxedo ATMI Application Using FML</em>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005186"> </a>
CFadd, CFadd32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005187"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005188"> </a>
<code class="cCode">CFadd()</code>, <code class="cCode">CFadd32()</code> - convert and add field
</p>
<h4 class="pHeading3"><a name="wp1005189"> </a>
Synopsis
</h4>
<a name="wp1005190"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt;<br />#include &quot;fml.h&quot; <br />int CFadd(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN <code class="cCodeEmphasis">len</code>, int <code class="cCodeEmphasis">type</code>) <br />#include fml32.h&gt; <br />int <br />CFadd32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN32 <code class="cCodeEmphasis">len</code>, int <code class="cCodeEmphasis">type</code>)</pre></div><h4 class="pHeading3"><a name="wp1005191"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005192"> </a>
<code class="cCode">CFadd()</code> acts like <code class="cCode">Fadd()</code> but first converts the <code class="cCodeEmphasis">value</code> from the user-specified type to the type of the <code class="cCodeEmphasis">fieldid</code> for which the field is added to the fielded buffer. <code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. <code class="cCodeEmphasis">fieldid</code> is a field identifier. <code class="cCodeEmphasis">value</code> is a pointer to the value to be added. <code class="cCodeEmphasis">len</code> is the length of the value to be added; it is required only if type is <code class="cCode">FLD_CARRAY</code>. <code class="cCodeEmphasis">type</code> is the data type of the field in <code class="cCodeEmphasis">value</code>.
</p>
<p class="pBody"><a name="wp1163912"> </a>
Before the field is added to the buffer, the type of the data item is converted from the type supplied by the user to the type specified in <code class="cCodeEmphasis">fieldid</code>. If the source type is <code class="cCode">FLD_CARRAY</code> (arbitrary character array), the <code class="cCodeEmphasis">len</code> argument should be set to the length of the array; the length is ignored in all other cases. The value for the field to be converted and added must first be put in a variable, <code class="cCodeEmphasis">value</code>, since C does not permit constructs such as 12345L.
</p>
<p class="pBody"><a name="wp1185004"> </a>
This function fails if any of the following field types is used: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. If one of these field types is encountered when <code class="cCode">CFadd()</code> or <code class="cCode">CFadd32()</code> is being used, <code class="cCode">Ferror</code> is set to <code class="cCode">FEBADOP</code>.
</p>
<p class="pBody"><a name="wp1005194"> </a>
<code class="cCode">CFadd32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099751"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">CFadd()</code> or <code class="cCode">CFadd32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005195"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005196"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror </code>to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005197"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005198"> </a>
Under the following conditions, <code class="cCode">CFadd()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005199"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1005200"> </a>
&quot;fielded buffer not aligned&quot;<br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005201"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1005202"> </a>
&quot;buffer not fielded&quot;<br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005203"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1005204"> </a>
&quot;malloc failed&quot;<br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed when converting from a carray (or mbstring) to string.
</div>
<h4 class="pDefTerm"><a name="wp1005205"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1084644"> </a>
&quot;invalid argument to function&quot;<br />One of the arguments to the function invoked was invalid, (for example, a NULL <code class="cCodeEmphasis">value</code> parameter was specified).
</div>
<h4 class="pDefTerm"><a name="wp1084645"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1084646"> </a>
&quot;no space in fielded buffer&quot;<br />A field value is to be added or changed in a field buffer, but there is not enough space remaining in the buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005209"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1005210"> </a>
&quot;unknown field number or type&quot;<br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1005211"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1005212"> </a>
&quot;invalid field type&quot;<br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1057143"> </a>
[<code class="cCode">FEBADOP</code>]
</h4><div class="pDefPara"><a name="wp1057126"> </a>
&quot;invalid field type&quot;<br />An invalid field type (such as <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>) is<code class="cCode"> </code>specified.
</div>
<h4 class="pHeading3"><a name="wp1005213"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005214"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005571"><code class="cCode">Fadd, Fadd32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005238"> </a>
CFchg, CFchg32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005239"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005240"> </a>
<code class="cCode">CFchg()</code>, <code class="cCode">CFchg32()</code> - convert and change field
</p>
<h4 class="pHeading3"><a name="wp1005241"> </a>
Synopsis
</h4>
<a name="wp1005242"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int CFchg(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">value</code>, <br />       FLDLEN <code class="cCodeEmphasis">len</code>, int <code class="cCodeEmphasis">type</code>) <br />#include &quot;fml32.h&quot; <br />int CFchg32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, <br />       char *<code class="cCodeEmphasis">value</code>,<br />FLDLEN32 <code class="cCodeEmphasis">len</code>, int <code class="cCodeEmphasis">type</code>)</pre></div><h4 class="pHeading3"><a name="wp1005243"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005244"> </a>
<code class="cCode">CFchg()</code> acts like <code class="cCode">Fchg()</code> but first converts the <code class="cCodeEmphasis">value</code> from the user-specified <code class="cCodeEmphasis">type</code> to the type of the <code class="cCodeEmphasis">fieldid</code> for which the field is changed in the fielded buffer. <code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. <code class="cCodeEmphasis">fieldid</code> is a field identifier. <code class="cCodeEmphasis">oc</code> is the occurrence number of the field. <code class="cCodeEmphasis">value</code> is a pointer to a new value. <code class="cCodeEmphasis">len</code> is the length of the value to be changed; it is required only if type is <code class="cCode">FLD_CARRAY</code>. type is the data type of value.
</p>
<p class="pBody"><a name="wp1185066"> </a>
If a field occurrence is specified that does not exist, then NULL values are added for the missing occurrences until the desired value can be added (for example, changing field occurrence 4 for a field that does not exist in a buffer will cause 3 NULL values to be added followed by the specified field value).
</p>
<p class="pBody"><a name="wp1185067"> </a>
This function fails if any of the following field types is used: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. If one of these field types is encountered when <code class="cCode">CFchg()</code> or <code class="cCode">CFchg32()</code> is being used, <code class="cCode">Ferror</code> is set to <code class="cCode">FEBADOP</code>.
</p>
<p class="pBody"><a name="wp1005246"> </a>
<code class="cCode">CFchg32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099754"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">CFchg()</code> or <code class="cCode">CFchg32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005247"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005248"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005249"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1021358"> </a>
Under the following conditions, <code class="cCode">CFchg()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1021359"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1021360"> </a>
&quot;fielded buffer not aligned&quot;<br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005253"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005254"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<p class="pBody"><a name="wp1005255"> </a>
[<code class="cCode">FMALLOC</code>] 
</p>
<div class="pDefPara"><a name="wp1005256"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed when converting from a carray (or mbstring) to string.
</div>
<h4 class="pDefTerm"><a name="wp1005257"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1005258"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, a NULL value parameter was specified).
</div>
<h4 class="pDefTerm"><a name="wp1005259"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1005260"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added or changed in a field buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005261"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1005262"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005263"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005264"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1005265"> </a>
[<code class="cCode">FTYPERR</code>] 
</h4><div class="pDefPara"><a name="wp1005266"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1084589"> </a>
[<code class="cCode">FEBADOP</code>]
</h4><div class="pDefPara"><a name="wp1057153"> </a>
&quot;invalid field type&quot;<br />An invalid field type (such as <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>) is specified.
</div>
<h4 class="pHeading3"><a name="wp1005267"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005268"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005186"><code class="cCode">CFadd, CFadd32(3fml)</code></a>, <a href="rf3fml.html#wp1005951"><code class="cCode">Fchg, Fchg32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005292"> </a>
CFfind, CFfind32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005293"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005294"> </a>
<code class="cCode">CFfind()</code>, <code class="cCode">CFfind32()</code> - find, convert, and return pointer
</p>
<h4 class="pHeading3"><a name="wp1005295"> </a>
Synopsis
</h4>
<a name="wp1098490"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />char * CFfind(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, FLDLEN *<code class="cCodeEmphasis">len</code>,<br />  int <code class="cCodeEmphasis">type</code>) <br />#include &quot;fml32.h&quot; <br />char * <br />CFfind32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, FLDLEN32 *<code class="cCodeEmphasis">len</code>, <br />&#160;&#160;int <code class="cCodeEmphasis">type</code>)</pre></div><h4 class="pHeading3"><a name="wp1005297"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005298"> </a>
<code class="cCode">CFfind()</code> finds a specified field in a buffer, converts it and returns a pointer to the converted value. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. len is used on output and is a pointer to the length of the converted value. type is the data type the user wants the field to be converted to.
</p>
<p class="pBody"><a name="wp1005299"> </a>
Like <code class="cCode">Ffind()</code>, the pointer returned by the function should be considered read-only. The validity of the pointer returned by <code class="cCode">CFfind()</code> is guaranteed only until the next buffer operation, even if that operation is non-destructive, since the converted value is retained in a single private buffer. This differs from the value returned by <code class="cCode">Ffins()</code>, which is guaranteed until the next modification of the buffer. Unlike <code class="cCode">Ffind()</code>, <code class="cCode">CFfind()</code> aligns the converted value for immediate use by the caller.
</p>
<p class="pBody"><a name="wp1064908"> </a>
This function fails if any of the following field types is used: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. If one of these field types is encountered when <code class="cCode">CFfind()</code> or <code class="cCode">CFfind32()</code>is being used, <code class="cCode">Ferror</code> is set to <code class="cCode">FEBADOP</code>.
</p>
<p class="pBody"><a name="wp1005300"> </a>
<code class="cCode">CFfind32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099763"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">CFfind()</code> or <code class="cCode">CFfind32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005301"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005302"> </a>
In the &#8220;Synopsis&#8221; section above the return value to <code class="cCode">CFfind()</code> is described as a character pointer data type (<code class="cCode">char **</code> in C). Actually, the pointer returned points to an object that has the same type as the stored type of the field.
</p>
<p class="pBody"><a name="wp1005303"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005304"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005305"> </a>
Under the following conditions, <code class="cCode">CFfind()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005306"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1005307"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005308"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005309"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005310"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005311"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed when converting from a carray (or mbstring) to string.
</div>
<h4 class="pDefTerm"><a name="wp1005312"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1005313"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005314"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005315"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1005316"> </a>
[<code class="cCode">FTYPERR</code>] 
</h4><div class="pDefPara"><a name="wp1057163"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1084593"> </a>
[<code class="cCode">FEBADOP</code>]
</h4><div class="pDefPara"><a name="wp1057170"> </a>
&quot;invalid field type&quot;<br />An invalid field type (such as <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>) is specified.
</div>
<h4 class="pHeading3"><a name="wp1057164"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005319"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005343"> </a>
CFfindocc, CFfindocc32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005344"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005345"> </a>
<code class="cCode">CFfindocc()</code>, <code class="cCode">CFfindocc32()</code> - find occurrence of converted value
</p>
<h4 class="pHeading3"><a name="wp1005346"> </a>
Synopsis
</h4>
<a name="wp1005347"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />FLDOCC <br />CFfindocc(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN <code class="cCodeEmphasis">len</code>, int<br />  <code class="cCodeEmphasis">type</code>) <br />#include &quot;fml32.h&quot; <br />FLDOCC32 <br />CFfindocc32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN32<br />  <code class="cCodeEmphasis">len</code>, int <code class="cCodeEmphasis">type</code>)</pre></div><h4 class="pHeading3"><a name="wp1005348"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005349"> </a>
<code class="cCode">CFfindocc()</code> acts like <code class="cCode">Ffindocc()</code> but first converts the value from the user-specified type to the type of fieldid. <code class="cCode">CFfindocc()</code> looks for an occurrence of the specified field in the buffer that matches a user-supplied value, length and type. <code class="cCode">CFfindocc()</code> returns the occurrence number of the first field that matches. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. value is a pointer to the value being sought. len is the length of the value to be compared to input value if type is <code class="cCode">FLD_CARRAY</code>. type is the data type of the field in value.
</p>
<p class="pBody"><a name="wp1064912"> </a>
This function fails if any of the following field types is used: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. If one of these field types is encountered when <code class="cCode">CFfindocc()</code> or <code class="cCode">CFfindocc32()</code> is being used, <code class="cCode">Ferror</code> is set to <code class="cCode">FEBADOP</code>.
</p>
<p class="pBody"><a name="wp1005350"> </a>
<code class="cCode">CFfindocc32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099772"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">CFfindocc()</code> or <code class="cCode">CFfindocc32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005351"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005352"> </a>
If the field value is not found or if other errors are detected, -1 is returned and <code class="cCode">CFfindocc()</code> sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005353"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005354"> </a>
Under the following conditions, <code class="cCode">CFfindocc()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005355"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1005356"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005357"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005358"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005359"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005360"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed when converting from a carray (or mbstring) to string.
</div>
<h4 class="pDefTerm"><a name="wp1005361"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1005362"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, a NULL value parameter was specified).
</div>
<h4 class="pDefTerm"><a name="wp1005363"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1005364"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005365"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005366"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1005367"> </a>
[<code class="cCode">FTYPERR</code>] 
</h4><div class="pDefPara"><a name="wp1005368"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1084597"> </a>
[<code class="cCode">FEBADOP</code>]
</h4><div class="pDefPara"><a name="wp1057178"> </a>
&quot;invalid field type&quot;<br />An invalid field type (such as <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>) is specified.
</div>
<h4 class="pHeading3"><a name="wp1005369"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005370"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011336"><code class="cCode">Ffindocc, Ffindocc32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005394"> </a>
CFget, CFget32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005395"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005396"> </a>
<code class="cCode">CFget()</code>, <code class="cCode">CFget32()</code> - get field and convert
</p>
<h4 class="pHeading3"><a name="wp1005397"> </a>
Synopsis
</h4>
<a name="wp1005398"> </a><div class="pPreformatted"><pre><code class="cCode">#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />CFget(FBFR *</code><code class="cCodeEmphasis">fbfr</code><code class="cCode">, FLDID </code><code class="cCodeEmphasis">fieldid</code><code class="cCode">, FLDOCC </code><code class="cCodeEmphasis">oc</code><code class="cCode">, char *</code><code class="cCodeEmphasis">buf</code><code class="cCode">, FLDLEN *</code><code class="cCodeEmphasis">len</code><code class="cCode">,<br /> int </code><code class="cCodeEmphasis">type</code><code class="cCode">) <br />#include &quot;fml32.h&quot;<br />int <br />CFget32(</code>FBFR32<code class="cCode"> *</code><code class="cCodeEmphasis">fbfr</code><code class="cCode">, FLDID32 </code><code class="cCodeEmphasis">fieldid</code><code class="cCode">, FLDOCC32 </code><code class="cCodeEmphasis">oc</code><code class="cCode">, char *</code><code class="cCodeEmphasis">buf</code><code class="cCode">,<br /> FLDLEN32 *</code><code class="cCodeEmphasis">len</code><code class="cCode">, int </code><code class="cCodeEmphasis">type</code><code class="cCode">)</code></pre></div><h4 class="pHeading3"><a name="wp1005399"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005400"> </a>
<code class="cCode">CFget()</code> is the conversion analog of <code class="cCode">Fget()</code>. The main difference is that it copies a converted value to the user-supplied buffer. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. buf is a pointer to private data area. On input, len is a pointer to the length of the private data area. On return, len is a pointer to the length of the returned value. If the len parameter is NULL on input, it is assumed that the buffer is big enough to contain the field value and the length of the value is not returned. If the buf parameter is NULL, the field value is not returned. type is the data type the user wants the returned value converted to.
</p>
<p class="pBody"><a name="wp1064916"> </a>
This function fails if any of the following field types is used: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. If one of these field types is encountered when <code class="cCode">CFget()</code> or <code class="cCode">CFget32()</code> is being used, <code class="cCode">Ferror</code> is set to <code class="cCode">FEBADOP</code>.
</p>
<p class="pBody"><a name="wp1005401"> </a>
<code class="cCode">CFget32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099781"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">CFget()</code> or <code class="cCode">CFget32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005402"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005403"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005404"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005405"> </a>
Under the following conditions, <code class="cCode">CFget()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005406"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1005407"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005408"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005409"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005410"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005411"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed when converting from a carray (or mbstring) to string.
</div>
<h4 class="pDefTerm"><a name="wp1005412"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1005413"> </a>
&quot;no space in fielded buffer&quot; <br />The size of the data area, as specified in len, is not large enough to hold the field value.
</div>
<h4 class="pDefTerm"><a name="wp1005414"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1005415"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005416"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005417"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1005418"> </a>
[<code class="cCode">FTYPERR</code>] 
</h4><div class="pDefPara"><a name="wp1005419"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1084601"> </a>
[<code class="cCode">FEBADOP</code>]
</h4><div class="pDefPara"><a name="wp1057186"> </a>
&quot;invalid field type&quot;<br />An invalid field type (such as <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>) is specified.
</div>
<h4 class="pHeading3"><a name="wp1005420"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005421"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011464"><code class="cCode">Fget, Fget32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005445"> </a>
CFgetalloc, CFgetalloc32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005446"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005447"> </a>
<code class="cCode">CFgetalloc()</code>, <code class="cCode">CFgetalloc32()</code> - get field, allocate space, convert
</p>
<h4 class="pHeading3"><a name="wp1005448"> </a>
Synopsis
</h4>
<a name="wp1005449"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />char * <br />CFgetalloc(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, int <code class="cCodeEmphasis">type</code>, FLDLEN<br /> *<code class="cCodeEmphasis">extralen</code>) <br />#include &quot;fml32.h&quot; <br />char * <br />CFgetalloc32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, int <code class="cCodeEmphasis">type</code>,<br /> FLDLEN32 *<code class="cCodeEmphasis">extralen</code>)</pre></div><h4 class="pHeading3"><a name="wp1005450"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005451"> </a>
<code class="cCode">CFgetalloc()</code> gets a specified field from a buffer, allocates space, converts the field to the type specified by the user and returns a pointer to its location. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. type is the data type the user wants the field to be converted to. On call, extralen is a pointer to the length of additional space that may be allocated to receive the value; on return, it is a pointer actual amount of space used. If extralen is NULL, then no additional space is allocated and the actual length is not returned. The user is responsible for freeing the returned (converted) value.
</p>
<p class="pBody"><a name="wp1064920"> </a>
This function fails if any of the following field types is used: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. If one of these field types is encountered when <code class="cCode">CFgetalloc()</code> or <code class="cCode">CFgetalloc32()</code> is being used, <code class="cCode">Ferror</code> is set to <code class="cCode">FEBADOP</code>.
</p>
<p class="pBody"><a name="wp1005452"> </a>
<code class="cCode">CFgetalloc32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099790"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">CFgetalloc()</code> or <code class="cCode">CFgetalloc32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005453"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005454"> </a>
On success, <code class="cCode">CFgetalloc()</code> returns a pointer to the converted value. On error, the function returns NULL and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005455"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005456"> </a>
Under the following conditions, <code class="cCode">CFgetalloc()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005457"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1005458"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005459"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005460"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005461"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005462"> </a>
&quot;<code class="cCode">malloc</code> failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pDefTerm"><a name="wp1005463"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1005464"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005465"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005466"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1005467"> </a>
[<code class="cCode">FTYPERR</code>] 
</h4><div class="pDefPara"><a name="wp1005468"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1084605"> </a>
[<code class="cCode">FEBADOP</code>]
</h4><div class="pDefPara"><a name="wp1057194"> </a>
&quot;invalid field type&quot;<br />An invalid field type (such as <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>) is specified.
</div>
<h4 class="pHeading3"><a name="wp1005469"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005470"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011489"><code class="cCode">Fgetalloc, Fgetalloc32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005494"> </a>
F_error, F_error32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005495"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005496"> </a>
<code class="cCode">F_error()</code>, <code class="cCode">F_error32()</code> - print error message for last error
</p>
<h4 class="pHeading3"><a name="wp1005497"> </a>
Synopsis
</h4>
<a name="wp1005498"> </a><div class="pPreformatted"><pre>#include stdio.h&gt; <br />#include &quot;fml.h&quot; <br />extern int Ferror; <br />void <br />F_error(char *<code class="cCodeEmphasis">msg</code>) <br />#include &quot;fml32.h&quot; <br />extern int Ferror32; <br />void <br />F_error32(char *<code class="cCodeEmphasis">msg</code>)</pre></div><h4 class="pHeading3"><a name="wp1005499"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005500"> </a>
The function <code class="cCode">F_error()</code> works like <code class="cCode">perror()</code> for UNIX system errors; that is, it produces a message on the standard error output (file descriptor 2), describing the last error encountered during a call to a system or library function. The argument string msg is printed first, then a colon and a blank, then the message and a newline. If msg is a NULL pointer or points to a NULL string, the colon is not printed. To be of most use, the argument string should include the name of the program that incurred the error. The error number is taken from the external variable <code class="cCode">Ferror</code>, which is set when errors occur but not cleared when non-erroneous calls are made. In the MS-DOS and OS/2 environments, <code class="cCode">Ferror</code> is redefined to <code class="cCode">FMLerror</code>.
</p>
<p class="pBody"><a name="wp1005501"> </a>
To immediately print an error message, <code class="cCode">F_error()</code> should be called on an error return from another FML function. When the error message is <code class="cCode">FEUNIX</code>. <code class="cCode">Uunix_err()</code> is called.
</p>
<p class="pBody"><a name="wp1005502"> </a>
<code class="cCode">F_error32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099799"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">F_error()</code> or <code class="cCode">F_error32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005503"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005504"> </a>
<code class="cCode">F_error()</code> is declared a <code class="cCode">void</code> and as such does not have return values.
</p>
<h4 class="pHeading3"><a name="wp1005505"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005506"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>
</p>
<p class="pBody"><a name="wp1042399"> </a>
<code class="cCode">perror</code>(3), <code class="cCode">Uunix_err</code>(3) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005524"> </a>
F32to16, F16to32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005525"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005526"> </a>
<code class="cCode">F32to16()</code>, <code class="cCode">F16to32()</code> - convert 16-bit FML to/from 32-bit FML buffer
</p>
<h4 class="pHeading3"><a name="wp1005527"> </a>
Synopsis
</h4>
<a name="wp1005528"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />#include &quot;fml32.h&quot; <br />int <br />F32to16(FBFR *<code class="cCodeEmphasis">dest</code>, FBFR32 *<code class="cCodeEmphasis">src</code>) <br />int <br />F16to32(FBFR32 *<code class="cCodeEmphasis">dest</code>, FBFR *<code class="cCodeEmphasis">src</code>) </pre></div><h4 class="pHeading3"><a name="wp1005529"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005530"> </a>
<code class="cCode">F32to16()</code> converts a 32-bit FML buffer to a 16-bit FML buffer. It does this by converting the buffer on a field-by-field basis and then creating the index for the fielded buffer. A field is converted by generating a <code class="cCode">FLDID</code> from a <code class="cCode">FLDID32</code>, and copying the field value (and field length for string, carray, and mbstring fields). dest and src are pointers to the destination and source fielded buffers respectively. The source buffer is not changed.
</p>
<p class="pBody"><a name="wp1005531"> </a>
These functions can fail for lack of space; they can be reissued after allocating enough additional space to complete the operation.
</p>
<p class="pBody"><a name="wp1005532"> </a>
<code class="cCode">F16to32()</code> converts a 16-bit FML buffer to a 32-bit FML buffer. It lives in the <code class="cCode">fml32</code> library or shared object and sets <code class="cCode">Ferror32</code> on error.
</p>
<p class="pBody"><a name="wp1005533"> </a>
<code class="cCode">F32to16()</code> lives in the FML library or shared object and sets <code class="cCode">Ferror</code> on error. Note that both <code class="cCode">fml.h</code> and<code class="cCode"> fml32.h</code> must be included to use these functions; <code class="cCode">fml1632.h </code>may not be included in the same file.
</p>
<p class="pBody"><a name="wp1065707"> </a>
<code class="cCode">F32to16()</code> fails with <code class="cCode">FBADFLD</code> for the following field types: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. <code class="cCode">F16to32()</code> has no impact when performed on these field types.
</p>
<p class="pBody"><a name="wp1099808"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">F32to16()</code> or <code class="cCode">F16to32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005534"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005535"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005536"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005537"> </a>
Under the following conditions, <code class="cCode">F32to16()</code>fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005538"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1005539"> </a>
&quot;fielded buffer not aligned&quot; <br />Either the source buffer or the destination buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005540"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005541"> </a>
&quot;buffer not fielded&quot; <br />Either the source buffer or the destination buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005542"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1005543"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be copied to the destination fielded buffer but there is not enough space remaining in the buffer. This error is also returned if a 32-bit FML field is too long to fit into a 16-bit FML field. When this error is returned, the destination buffer will contain no fields.
</div>
<h4 class="pDefTerm"><a name="wp1005544"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005545"> </a>
&quot;invalid field number or type&quot; <br />This error occurs only for the <code class="cCode">F32to16()</code> function. The source buffer has a field identifier for which the field type is not one of the eight types supported by 16-bit FML, or the field number is greater than 8191.
</div>
<h4 class="pHeading3"><a name="wp1005546"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005547"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005571"> </a>
Fadd, Fadd32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005572"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005573"> </a>
<code class="cCode">Fadd()</code>, <code class="cCode">Fadd32()</code> - add new field occurrence
</p>
<h4 class="pHeading3"><a name="wp1005574"> </a>
Synopsis
</h4>
<a name="wp1005575"> </a><div class="pPreformatted"><pre>#include stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int Fadd(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN <code class="cCodeEmphasis">len</code>) <br />#include &quot;fml32.h&quot; <br />int Fadd32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN32 <code class="cCodeEmphasis">len</code>)</pre></div><h4 class="pHeading3"><a name="wp1005576"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005577"> </a>
<code class="cCode">Fadd()</code> adds the specified field value to the given buffer. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. value is a pointer to a new value; the pointer&#8217;s type must be the same fieldid type as the value to be added. len is the length of the value to be added; it is required only if type is <code class="cCode">FLD_CARRAY</code> or <code class="cCode">FLD_MBSTRING</code>.
</p>
<p class="pBody"><a name="wp1005578"> </a>
The value to be added is contained in the location pointed to by the value parameter. If one or more occurrences of the field already exist, then the value is added as a new occurrence of the field, and is assigned an occurrence number 1 greater than the current highest occurrence (to add a specific occurrence, <code class="cCode">Fchg()</code> must be used).
</p>
<p class="pBody"><a name="wp1005579"> </a>
In the &#8220;Synopsis&#8221; section above the value argument to <code class="cCode">Fadd()</code> is described as a character pointer data type (<code class="cCode">char *</code> in C). Technically, this describes only one particular kind of value passable to <code class="cCode">Fadd()</code>. In fact, the type of the <span style="font-style: italic">value</span> argument should be a pointer to an object of the same type as the type of the fielded-buffer representation of the field being added. For example, if the field is stored in the buffer as type FLD_LONG, then <span style="font-style: italic">value</span> should be of type pointer-to-long (<code class="cCode">long *</code> in C). Similarly, if the field is stored as FLD_SHORT, then <span style="font-style: italic">value</span> should be of type pointer-to-short (<code class="cCode">short *</code> in C). The important thing is that <code class="cCode">Fadd()</code> assumes that the object pointed to by <span style="font-style: italic">value</span> has the same type as the stored type of the field being added. 
</p>
<p class="pBody"><a name="wp1058265"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fadd32()</code> stores the pointer value. The buffer pointed to by a <code class="cCode">FLD_PTR</code> field must be allocated using the <code class="cCode">tpalloc()</code> call. For values of type <code class="cCode">FLD_FML32</code>, <code class="cCode">Fadd32()</code> stores the entire <code class="cCode">FLD_FML32</code> field value, except the index. For values of type <code class="cCode">FLD_VIEW32</code>, <code class="cCode">Fadd()</code> stores a pointer to a structure of type <code class="cCode">FVIEWFLD</code>, which contains <code class="cCodeEmphasis">vflags</code> (a flags field, currently unused and set to 0), <code class="cCodeEmphasis">vname</code> (a character array containing the viewname), and <code class="cCodeEmphasis">data</code> (a pointer to the view data stored as a C structure). The application provides the <code class="cCodeEmphasis">vname</code> and <code class="cCodeEmphasis">data</code> to <code class="cCode">Fadd32()</code>.
</p>
<p class="pBody"><a name="wp1005580"> </a>
For values of type <code class="cCode">FLD_MBSTRING</code>, the value is the <code class="cCodeEmphasis">packed</code> output argument of the <code class="cCode">Fmbpack32()</code> function, and the <code class="cCodeEmphasis">len</code> argument is the length of the value in the <code class="cCodeEmphasis">size</code> output argument of <code class="cCode">Fmbpack32()</code>.
</p>
<p class="pBody"><a name="wp1186143"> </a>
For values of type <code class="cCode">FLD_CARRAY</code>, the <code class="cCodeEmphasis">len</code> argument is the length of the value. For all types other than <code class="cCode">FLD_CARRAY</code> or <code class="cCode">FLD_MBSTRING</code>, the length of the object referenced by <code class="cCodeEmphasis">value</code> is inferred from its type (for example, a value of type FLD_FLOAT is of length <code class="cCode">sizeof(float)</code>), and the contents of <code class="cCodeEmphasis">len</code> are ignored.
</p>
<p class="pBody"><a name="wp1005581"> </a>
Fadd32 is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099817"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fadd()</code> or <code class="cCode">Fadd32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005582"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005583"> </a>
This function returns -1 on error and sets Ferror to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1005584"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005585"> </a>
Under the following conditions, <code class="cCode">Fadd()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005586"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1005587"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary. 
</div>
<h4 class="pDefTerm"><a name="wp1005588"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005589"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1005590"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1005591"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid. (For example, specifying a NULL value parameter to Fadd().) 
</div>
<h4 class="pDefTerm"><a name="wp1005592"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1005593"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added in a fielded buffer but there is not enough space remaining in the buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1005594"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005595"> </a>
&quot;unknown field number or type&quot; <br />A field number is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1065357"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1065358"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005186"><code class="cCode">CFadd, CFadd32(3fml)</code></a>, <a href="rf3fml.html#wp1065359"><code class="cCode">Fadds, Fadds32(3fml)</code></a>, <a href="rf3fml.html#wp1005951"><code class="cCode">Fchg, Fchg32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1065359"> </a>
Fadds, Fadds32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005622"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005623"> </a>
<code class="cCode">Fadds()</code>, <code class="cCode">Fadds32()</code> - convert value from type FLD_STRING and add to buffer
</p>
<h4 class="pHeading3"><a name="wp1005624"> </a>
Synopsis
</h4>
<a name="wp1005625"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fadds(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fadds32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>)</pre></div><h4 class="pHeading3"><a name="wp1005626"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005627"> </a>
<code class="cCode">Fadds()</code> has been provided to handle the case of conversion from a user type of <code class="cCode">FLD_STRING</code> to the field type of <code class="cCodeEmphasis">fieldid</code> and add it to the fielded buffer. <code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. <code class="cCodeEmphasis">fieldid</code> is a field identifier. value is a pointer to the value to be added.
</p>
<p class="pBody"><a name="wp1005628"> </a>
This function calls <code class="cCode">CFadd()</code> providing a <code class="cCode">type</code> of <code class="cCode">FLD_STRING</code>, and a <code class="cCode">len</code> of 0.
</p>
<p class="pBody"><a name="wp1005629"> </a>
<code class="cCode">Fadds32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099826"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fadds()</code> or <code class="cCode">Fadds32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005630"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005631"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005632"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005633"> </a>
Under the following conditions, <code class="cCode">Fadds()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005634"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1005635"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005636"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005637"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005638"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1005639"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added in a fielded buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005640"> </a>
[<code class="cCode">FTYPERR</code>] 
</h4><div class="pDefPara"><a name="wp1005641"> </a>
&quot;invalid field type&quot; <br />A field type is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1005642"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1005643"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, specifying a NULL value parameter to <code class="cCode">Fadds()</code>)
</div>
<h4 class="pDefTerm"><a name="wp1005644"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005645"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed during conversion of carray (or mbstring) to string.
</div>
<h4 class="pDefTerm"><a name="wp1005646"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005647"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1005648"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1048529"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005238"><code class="cCode">CFchg, CFchg32(3fml)</code></a>, <a href="rf3fml.html#wp1005292"><code class="cCode">CFfind, CFfind32(3fml)</code></a>, <a href="rf3fml.html#wp1005394"><code class="cCode">CFget, CFget32(3fml)</code></a>, <a href="rf3fml.html#wp1051680"><code class="cCode">Falloc, Falloc32(3fml)</code></a>, <a href="rf3fml.html#wp1006000"><code class="cCode">Fchgs, Fchgs32(3fml)</code></a>, <a href="rf3fml.html#wp1011361"><code class="cCode">Ffinds, Ffinds32(3fml)</code></a>, <a href="rf3fml.html#wp1011539"><code class="cCode">Fgets, Fgets32(3fml)</code></a>, <a href="rf3fml.html#wp1011565"><code class="cCode">Fgetsa, Fgetsa32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1051680"> </a>
Falloc, Falloc32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005674"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005675"> </a>
<code class="cCode">Falloc()</code>, <code class="cCode">Falloc32()</code> - allocate and initialize fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1005676"> </a>
Synopsis
</h4>
<a name="wp1005677"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />FBFR * <br />Falloc(FLDOCC <code class="cCodeEmphasis">F</code>, FLDLEN <code class="cCodeEmphasis">V</code>) <br />#include &quot;fml32.h&quot; <br />FBFR32 * <br />Falloc32(FLDOCC32 <code class="cCodeEmphasis">F</code>, FLDLEN32 <code class="cCodeEmphasis">V</code>)</pre></div><h4 class="pHeading3"><a name="wp1005678"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005679"> </a>
<code class="cCode">Falloc()</code> dynamically allocates space using <code class="cCode">malloc()</code> for a fielded buffer and calls <code class="cCode">Finit()</code> to initialize it. The parameters are the number of fields, F, and the number of bytes of value space, V, for all fields that are to be stored in the buffer.
</p>
<p class="pBody"><a name="wp1005680"> </a>
<code class="cCode">Falloc32()</code> is used for larger buffers with more fields.
</p>
<p class="pBody"><a name="wp1099835"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Falloc()</code> or <code class="cCode">Falloc32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005681"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005682"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005683"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005684"> </a>
Under the following conditions, <code class="cCode">Falloc()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005685"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005686"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pDefTerm"><a name="wp1005687"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1005688"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, number of fields is less than 0, V is 0 or total size is greater than 65534).
</div>
<h4 class="pHeading3"><a name="wp1005689"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005690"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011445"><code class="cCode">Ffree, Ffree32(3fml)</code></a>, <a href="rf3fml.html#wp1011623"><code class="cCode">Fielded, Fielded32(3fml)</code></a>, <a href="rf3fml.html#wp1011655"><code class="cCode">Finit, Finit32(3fml)</code></a>, <a href="rf3fml.html#wp1011821"><code class="cCode">Fneeded, Fneeded32(3fml)</code></a>, <a href="rf3fml.html#wp1008509"><code class="cCode">Frealloc, Frealloc32(3fml)</code></a>, <a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a>, <a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a> 
</p>
<p class="pBody"><a name="wp1051745"> </a>
<code class="cCode">malloc</code>(3) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005710"> </a>
Fappend, Fappend32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005711"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005712"> </a>
<code class="cCode">Fappend()</code>, <code class="cCode">Fappend32()</code> - append new field occurrence
</p>
<h4 class="pHeading3"><a name="wp1005713"> </a>
Synopsis
</h4>
<a name="wp1005714"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt;<br />#include &quot;fml.h&quot; <br />int <br />Fappend(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN <em class="cEmphasis">len</em>)<br />#include &quot;fml32.h&quot; <br />int <br />Fappend32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN32 <code class="cCodeEmphasis">len</code>) </pre></div><h4 class="pHeading3"><a name="wp1005715"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005716"> </a>
<code class="cCode">Fappend()</code> adds the specified field value to the end of the given buffer. <code class="cCode">Fappend()</code> is useful in building large buffers in that it does not maintain the internal structures and ordering necessary for general purpose FML access. The side effect of this optimization is that a call to <code class="cCode">Fappend()</code> may be followed only by additional calls to <code class="cCode">Fappend()</code>, calls to the FML indexing routines <code class="cCode">Findex()</code> and <code class="cCode">Funindex()</code>, or calls to <code class="cCode">Free()</code>, <code class="cCode">Fused()</code>, <code class="cCode">Funused()</code> and <code class="cCode">Fsizeof()</code>. Calls to other FML routines made before calling <code class="cCode">Findex()</code> or <code class="cCode">Funindex()</code> will result in an error with <code class="cCode">Ferror</code> set to <code class="cCode">FNOTFLD</code>.
</p>
<p class="pBody"><a name="wp1164000"> </a>
<code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. <code class="cCodeEmphasis">fieldid</code> is a field identifier. value is a pointer to a new value; the pointer&#8217;s type must be the same fieldid type as the value to be added. len is the length of the value to be added; it is required only if type is <code class="cCode">FLD_CARRAY</code> or <code class="cCode">FLD_MBSTRING</code>.
</p>
<p class="pBody"><a name="wp1164001"> </a>
The value to be added is contained in the location pointed to by the value parameter. If one or more occurrences of the field already exist, then the value is added as a new occurrence of the field, and is assigned an occurrence number 1 greater than the current highest occurrence (to add a specific occurrence, <code class="cCode">Fchg()</code> must be used).
</p>
<p class="pBody"><a name="wp1005719"> </a>
In the &#8220;Synopsis&#8221; section above the value argument to <code class="cCode">Fappend()</code> is described as a character pointer data type (<code class="cCode">char *</code> in C). Technically, this describes only one particular kind of value passable to <code class="cCode">Fappend()</code>. In fact, the type of the value argument should be a pointer to an object of the same type as the type of the fielded-buffer representation of the field being added. For example, if the field is stored in the buffer as type <code class="cCode">FLD_LONG</code>, then value should be of type pointer-to-long (<code class="cCode">long *</code> in C). Similarly, if the field is stored as <code class="cCode">FLD_SHORT</code>, then value should be of type pointer-to-short (<code class="cCode">short *</code> in C). The important thing is that <code class="cCode">Fappend()</code> assumes that the object pointed to by value has the same type as the stored type of the field being added.
</p>
<p class="pBody"><a name="wp1190638"> </a>
For values of type <code class="cCode">FLD_MBSTRING</code>, the value is the <code class="cCodeEmphasis">packed</code> output argument of the <code class="cCode">Fmbpack32()</code> function, and the <code class="cCodeEmphasis">len</code> argument is the length of the value in the <code class="cCodeEmphasis">size</code> output argument of <code class="cCode">Fmbpack32()</code>.
</p>
<p class="pBody"><a name="wp1190639"> </a>
For values of type <code class="cCode">FLD_CARRAY</code>, the <code class="cCodeEmphasis">len</code> argument is the length of the value. For all types other than <code class="cCode">FLD_CARRAY</code> or <code class="cCode">FLD_MBSTRING</code>, the length of the object referenced by <code class="cCodeEmphasis">value</code> is inferred from its type (for example, a value of type FLD_FLOAT is of length <code class="cCode">sizeof(float)</code>), and the contents of <code class="cCodeEmphasis">len</code> are ignored.
</p>
<p class="pBody"><a name="wp1005721"> </a>
<code class="cCode">Fappend32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099844"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fappend()</code> or <code class="cCode">Fappend32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005722"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005723"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005724"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005725"> </a>
Under the following conditions, <code class="cCode">Fappend()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005726"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1005727"> </a>
&quot;fielded buffer not aligned&quot;<br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005728"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005729"> </a>
&quot;buffer not fielded&quot;<br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005730"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1005731"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid. (for example, specifying a NULL value parameter to <code class="cCode">Fappend()</code>).
</div>
<h4 class="pDefTerm"><a name="wp1005732"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1005733"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added in a fielded buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pDefTerm"><a name="wp1005734"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005735"> </a>
&quot;unknown field number or type&quot; <br />A field number is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1005736"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005737"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005571"><code class="cCode">Fadd, Fadd32(3fml)</code></a>, <a href="rf3fml.html#wp1011445"><code class="cCode">Ffree, Ffree32(3fml)</code></a>, <a href="rf3fml.html#wp1011635"><code class="cCode">Findex, Findex32(3fml)</code></a>, <a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a>, <a href="rf3fml.html#wp1008878"><code class="cCode">Funindex, Funindex32(3fml)</code></a>, <a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a>, <a href="rf3fml.html#wp1009018"><code class="cCode">Fused, Fused32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005761"> </a>
Fboolco, Fboolco32, Fvboolco, Fvboolco32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005762"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005763"> </a>
<code class="cCode">Fboolco()</code>, <code class="cCode">Fboolco32()</code>, <code class="cCode">Fvboolco()</code>, <code class="cCode">Fvboolco32()</code> - compile expression, return evaluation tree
</p>
<h4 class="pHeading3"><a name="wp1005764"> </a>
Synopsis
</h4>
<a name="wp1005765"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />char * <br />Fboolco(char *<code class="cCodeEmphasis">expression</code>) <br />char * <br />Fvboolco(char *<code class="cCodeEmphasis">expression</code>, char *<code class="cCodeEmphasis">viewname</code>) <br />#include &quot;fml32.h&quot; <br />char * <br />Fboolco32(char *<code class="cCodeEmphasis">expression</code>) <br />char * <br />Fvboolco32(char *<code class="cCodeEmphasis">expression</code>, char *<code class="cCodeEmphasis">viewname</code>)</pre></div><h4 class="pHeading3"><a name="wp1005766"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005767"> </a>
<code class="cCode">Fboolco()</code> compiles a Boolean expression, pointed to by expression, and returns a pointer to the evaluation tree. The expressions recognized are close to the expressions recognized in C. A description of the grammar can be found in the <em class="cEmphasis">Programming an Oracle Tuxedo ATMI Application Using FML</em>.
</p>
<p class="pBody"><a name="wp1005768"> </a>
The evaluation tree produced by <code class="cCode">Fboolco()</code> is used by the other Boolean functions listed under &#8220;See Also;&#8221; this avoids having to recompile the expression.
</p>
<p class="pBody"><a name="wp1005769"> </a>
<code class="cCode">Fboolco32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1005770"> </a>
<code class="cCode">Fvboolco()</code> and <code class="cCode">Fvboolco32()</code> provide the same functionality for views. The viewname parameter indicates the view from which the field offsets are taken.
</p>
<p class="pBody"><a name="wp1058144"> </a>
This function fails if any of the following field types is used: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. If one of these field types is encountered, <code class="cCode">Ferror</code> is set to <code class="cCode">FEBADOP</code>.
</p>
<p class="pBody"><a name="wp1005771"> </a>
These functions are not supported on Workstation platforms.
</p>
<p class="pBody"><a name="wp1099853"> </a>
A thread in a multithreaded application may issue a call to any of the functions documented here&#8212;<code class="cCode">Fboolco()</code>, <code class="cCode">Fboolco32()</code>, <code class="cCode">Fvboolco()</code>, or <code class="cCode">Fvboolco32()</code>&#8212;while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005772"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005773"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005774"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1085793"> </a>
Under the following conditions, <code class="cCode">Fboolco()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1085794"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1085814"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pDefTerm"><a name="wp1085815"> </a>
[<code class="cCode">FSYNTAX</code>]
</h4><div class="pDefPara"><a name="wp1085816"> </a>
&quot;bad syntax in Boolean expression&quot; <br />A syntax error was found in a Boolean expression by <code class="cCode">Fboolco()</code> other than an unrecognized field name.
</div>
<h4 class="pDefTerm"><a name="wp1005780"> </a>
[<code class="cCode">FBADNAME</code>]
</h4><div class="pDefPara"><a name="wp1005781"> </a>
&quot;unknown field name&quot; <br />A field name is specified which cannot be found in the field tables or viewfiles.
</div>
<h4 class="pDefTerm"><a name="wp1005782"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1005783"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, expression is NULL).
</div>
<h4 class="pDefTerm"><a name="wp1005784"> </a>
[<code class="cCode">FBADVIEW</code>] 
</h4><div class="pDefPara"><a name="wp1005785"> </a>
&quot;cannot find or get view&quot; <br />viewname was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005786"> </a>
[<code class="cCode">FVFOPEN</code>] 
</h4><div class="pDefPara"><a name="wp1005787"> </a>
&quot;cannot find or open viewfile&quot; <br />While trying to find viewname, the program failed to find one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005788"> </a>
[<code class="cCode">EUNIX</code>] 
</h4><div class="pDefPara"><a name="wp1005789"> </a>
&quot;operating system error&quot; <br />While trying to find viewname, the program failed to open one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> for reading.
</div>
<h4 class="pDefTerm"><a name="wp1005790"> </a>
[<code class="cCode">FVFSYNTAX</code>] 
</h4><div class="pDefPara"><a name="wp1005791"> </a>
&quot;bad viewfile&quot; <br />While trying to find viewname, one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> was corrupted or not a viewfile.
</div>
<h4 class="pDefTerm"><a name="wp1005792"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005793"> </a>
&quot;malloc failed&quot; <br />While trying to find viewname, <code class="cCode">malloc()</code> failed while allocating space to hold the view information.
</div>
<h4 class="pDefTerm"><a name="wp1084609"> </a>
[<code class="cCode">FEBADOP</code>]
</h4><div class="pDefPara"><a name="wp1058154"> </a>
&quot;invalid field type&quot;<br />An invalid field type (such as <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code>) is specified.
</div>
<h4 class="pHeading3"><a name="wp1005794"> </a>
Example
</h4>
<a name="wp1005795"> </a><div class="pPreformatted"><pre>#include &quot;stdio.h&quot; <br />#include &quot;fml.h&quot; <br />extern char *Fboolco(\|); <br />char *tree; <br />... <br />if((tree=Fboolco(&quot;FIRSTNAME %% &#39;J.*n&#39; &amp; SEX = &#39;M&#39;&quot;)) == NULL)<br /> F_error(&quot;pgm_name&quot;);</pre></div><p class="pBody"><a name="wp1005796"> </a>
This example compiles a Boolean expression that checks if the <code class="cCode">FIRSTNAME</code> field is in the buffer, begins with &#39;J&#39; and ends with &#39;n&#39; (for example, John, Jean, Jurgen, etc.) and the <code class="cCode">SEX</code> field equal to <code class="cCode">&#39;M&#39;</code>.
</p>
<p class="pBody"><a name="wp1005797"> </a>
The first and second characters of the tree array form the least significant byte and the most significant byte, respectively, of an unsigned 16-bit quantity that gives the length, in bytes, of the entire array. This value is useful for copying or otherwise manipulating the array.
</p>
<h4 class="pHeading3"><a name="wp1005798"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005799"> </a>
<a href="rf3fml.html#wp1005829"><code class="cCode">Fboolev, Fboolev32, Fvboolev, Fvboolev32(3fml)</code></a>, <a href="rf3fml.html#wp1005898"><code class="cCode">Fboolpr, Fboolpr32, Fvboolpr, Fvboolpr32(3fml)</code></a>, <a href="rf3fml.html#wp1011702"><code class="cCode">Fldid, Fldid32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005829"> </a>
Fboolev, Fboolev32, Fvboolev, Fvboolev32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005830"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005831"> </a>
<code class="cCode">Fboolev()</code>, <code class="cCode">Fboolev32()</code>, <code class="cCode">Fvboolev()</code>, <code class="cCode">Fvboolev32()</code> - evaluate buffer against tree
</p>
<h4 class="pHeading3"><a name="wp1005832"> </a>
Synopsis
</h4>
<a name="wp1005833"> </a><div class="pPreformatted"><pre>#include stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fboolev(FBFR *<code class="cCodeEmphasis">fbfr</code>, char *<code class="cCodeEmphasis">tree</code>) <br />int <br />Fvboolev(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">tree</code>, char *<code class="cCodeEmphasis">viewname</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fboolev32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, char *<code class="cCodeEmphasis">tree</code>) <br />int <br />Fvboolev32(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">tree</code>, char *<code class="cCodeEmphasis">viewname</code>)</pre></div><h4 class="pHeading3"><a name="wp1005834"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005835"> </a>
<code class="cCode">Fboolev()</code> takes a pointer to a fielded buffer, fbfr, and a pointer to the evaluation tree returned from <code class="cCode">Fboolco()</code>, tree, and returns true (1) if the fielded buffer matches the specified Boolean conditions and false (0) if it does not. This function does not change either the fielded buffer or evaluation tree. The evaluation tree is one previously compiled by <code class="cCode">Fboolco()</code>.
</p>
<p class="pBody"><a name="wp1005836"> </a>
<code class="cCode">Fboolev32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1005837"> </a>
<code class="cCode">Fvboolev()</code> and <code class="cCode">Fvboolev32()</code> provide the same functionality for views. The viewname parameter indicates the view from which the field offsets are taken, and should be the same view specified for <code class="cCode">Fvboolco()</code> or <code class="cCode">Fvboolco32()</code>.
</p>
<p class="pBody"><a name="wp1005838"> </a>
These functions are not supported on Workstation platforms.
</p>
<p class="pBody"><a name="wp1099869"> </a>
A thread in a multithreaded application may issue a call to any of the functions documented here&#8212;<code class="cCode">Fboolev()</code>, <code class="cCode">Fboolev32()</code>, <code class="cCode">Fvboolev()</code>, or <code class="cCode">Fvboolev32()</code>&#8212;while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005839"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005840"> </a>
<code class="cCode">Fboolev()</code> returns 1 if the expression in the buffer matches the evaluation tree. It returns 0 if the expression fails to match the evaluation tree. This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1005841"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005842"> </a>
Under the following conditions, <code class="cCode">Fboolev()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005843"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1005844"> </a>
&quot;fielded buffer not aligned&quot; <br />The <code class="cCodeEmphasis">fbfr</code> buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1005845"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1005846"> </a>
&quot;buffer not fielded&quot; <br />The fbfr buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005847"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005848"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pDefTerm"><a name="wp1005849"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1005850"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, specifying a NULL tree parameter).
</div>
<h4 class="pDefTerm"><a name="wp1005851"> </a>
[<code class="cCode">FSYNTAX</code>] 
</h4><div class="pDefPara"><a name="wp1005852"> </a>
&quot;bad syntax in Boolean expression&quot; <br />A syntax error was found in a Boolean expression other than an unrecognized field name.
</div>
<h4 class="pDefTerm"><a name="wp1005853"> </a>
[<code class="cCode">FBADVIEW</code>]
</h4><div class="pDefPara"><a name="wp1005854"> </a>
&quot;cannot find or get view&quot; <br />viewname was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005855"> </a>
[<code class="cCode">FVFOPEN</code>] 
</h4><div class="pDefPara"><a name="wp1005856"> </a>
&quot;cannot find or open viewfile&quot; <br />While trying to find viewname, the program failed to find one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005857"> </a>
[<code class="cCode">EUNIX</code>]
</h4><div class="pDefPara"><a name="wp1005858"> </a>
&quot;operating system error&quot; <br />While trying to find viewname, the program failed to open one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> for reading.
</div>
<h4 class="pDefTerm"><a name="wp1005859"> </a>
[<code class="cCode">FVFSYNTAX</code>]
</h4><div class="pDefPara"><a name="wp1005860"> </a>
&quot;bad viewfile&quot; <br />While trying to find viewname, one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> was corrupted or not a viewfile.
</div>
<h4 class="pDefTerm"><a name="wp1005861"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005862"> </a>
&quot;malloc failed&quot; <br />While trying to find viewname, <code class="cCode">malloc()</code> failed while allocating space to hold the view information.
</div>
<h4 class="pHeading3"><a name="wp1005863"> </a>
Example
</h4>
<p class="pBody"><a name="wp1005864"> </a>
Using the evaluation tree compiled in the example for <code class="cCode">Fboolco()</code>:
</p>
<a name="wp1005865"> </a><div class="pPreformatted"><pre>#include stdio.h&gt; <br />#include &quot;fml.h&quot; <br />#include &quot;fld.tbl.h&quot; <br />FBFR *fbfr; <br />... <br />Fchg(fbfr,FIRSTNAME,0,&quot;John&quot;,0); <br />Fchg(fbfr,SEX,0,&quot;M&quot;,0); <br />if(Fboolev(fbfr,tree) &gt; 0)<br /> fprintf(stderr,&quot;Buffer selected\\\\n&quot;); <br />else<br /> fprintf(stderr,&quot;Buffer not selected\\\\n&quot;);</pre></div><p class="pBody"><a name="wp1005866"> </a>
would print <code class="cCode">Buffer selected</code>.
</p>
<h4 class="pHeading3"><a name="wp1005867"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005868"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005761"><code class="cCode">Fboolco, Fboolco32, Fvboolco, Fvboolco32(3fml)</code></a>, <a href="rf3fml.html#wp1005898"><code class="cCode">Fboolpr, Fboolpr32, Fvboolpr, Fvboolpr32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005898"> </a>
Fboolpr, Fboolpr32, Fvboolpr, Fvboolpr32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005899"> </a>
NAME
</h4>
<p class="pBody"><a name="wp1005900"> </a>
<code class="cCode">Fboolpr()</code>, <code class="cCode">Fboolpr32()</code>, <code class="cCode">Fvboolpr()</code>, <code class="cCode">Fvboolpr32()</code> - print Boolean expression as parsed
</p>
<h4 class="pHeading3"><a name="wp1005901"> </a>
Synopsis
</h4>
<a name="wp1005902"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />void <br />Fboolpr(char *<code class="cCodeEmphasis">tree</code>, FILE *<code class="cCodeEmphasis">iop</code>) <br />int <br />Fvboolpr(char *<code class="cCodeEmphasis">tree</code>, FILE *<code class="cCodeEmphasis">iop</code>, char *<code class="cCodeEmphasis">viewname</code>) <br />#include &quot;fml32.h&quot; <br />void <br />Fboolpr32(char *<code class="cCodeEmphasis">tree</code>, FILE *<code class="cCodeEmphasis">iop</code>) <br />int <br />Fvboolpr32(char *<code class="cCodeEmphasis">tree</code>, FILE *<code class="cCodeEmphasis">iop</code>, char *<code class="cCodeEmphasis">viewname</code>)</pre></div><h4 class="pHeading3"><a name="wp1005903"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005904"> </a>
<code class="cCode">Fboolpr()</code> prints a compiled expression to the specified output stream. The evaluation tree, tree, is one previously created with <code class="cCode">Fboolco()</code>. iop is a pointer of type <code class="cCode">FILE</code> to the output stream. The output is fully parenthesized, as it was parsed (as indicated by the evaluation tree). The function is useful for debugging.
</p>
<p class="pBody"><a name="wp1005905"> </a>
<code class="cCode">Fboolpr32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1005906"> </a>
<code class="cCode">Fvboolpr()</code> and <code class="cCode">Fvboolpr32()</code> provide the same functionality for views. The viewname parameter indicates the view from which the field offsets are taken, and should be the same view specified for <code class="cCode">Fvboolco()</code> or <code class="cCode">Fvboolco32()</code>.
</p>
<p class="pBody"><a name="wp1005907"> </a>
These functions are not supported on Workstation platforms.
</p>
<p class="pBody"><a name="wp1099886"> </a>
A thread in a multithreaded application may issue a call to any of the functions documented here&#8212;<code class="cCode">Fboolpr()</code>, <code class="cCode">Fboolpr32()</code>, <code class="cCode">Fvboolpr()</code>, or <code class="cCode">Fvboolpr32()</code>&#8212;while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005908"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005909"> </a>
<code class="cCode">Fboolpr()</code> is declared as returning a <code class="cCode">void</code>, so there are no return values. <code class="cCode">Fvboolpr()</code> returns -1 if the viewname is not valid.
</p>
<h4 class="pHeading3"><a name="wp1005910"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005911"> </a>
Under the following conditions, <code class="cCode">Fvboolpr()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1005912"> </a>
[<code class="cCode">FBADVIEW</code>] 
</h4><div class="pDefPara"><a name="wp1005913"> </a>
&quot;cannot find or get view&quot; <br />viewname was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005914"> </a>
[<code class="cCode">FVFOPEN</code>] 
</h4><div class="pDefPara"><a name="wp1005915"> </a>
&quot;cannot find or open viewfile&quot; <br />While trying to find viewname, the program failed to find one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1005916"> </a>
[<code class="cCode">EUNIX</code>] 
</h4><div class="pDefPara"><a name="wp1005917"> </a>
&quot;operating system error&quot; <br />While trying to find viewname, the program failed to open one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> for reading.
</div>
<h4 class="pDefTerm"><a name="wp1005918"> </a>
[<code class="cCode">FVFSYNTAX</code>] 
</h4><div class="pDefPara"><a name="wp1005919"> </a>
&quot;bad viewfile&quot; <br />While trying to find viewname, one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> was corrupted or not a viewfile.
</div>
<h4 class="pDefTerm"><a name="wp1005920"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1005921"> </a>
&quot;malloc failed&quot; <br />While trying to find viewname, <code class="cCode">malloc()</code> failed while allocating space to hold the view information.
</div>
<h4 class="pHeading3"><a name="wp1005922"> </a>
Portability
</h4>
<p class="pBody"><a name="wp1005923"> </a>
This function is not supported using the Oracle Tuxedo System Workstation DLL for Windows.
</p>
<h4 class="pHeading3"><a name="wp1005924"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005925"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005761"><code class="cCode">Fboolco, Fboolco32, Fvboolco, Fvboolco32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1005951"> </a>
Fchg, Fchg32(3fml)
</h2><h4 class="pHeading3"><a name="wp1005952"> </a>
Name
</h4>
<p class="pBody"><a name="wp1005953"> </a>
<code class="cCode">Fchg()</code>, <code class="cCode">Fchg32()</code> - change field occurrence value
</p>
<h4 class="pHeading3"><a name="wp1005954"> </a>
Synopsis
</h4>
<a name="wp1005955"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fchg(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN <code class="cCodeEmphasis">len</code>)<br />#include &quot;fml32.h&quot; <br />int <br />Fchg32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">value</code>,<br /> FLDLEN32 <code class="cCodeEmphasis">len</code>)</pre></div><h4 class="pHeading3"><a name="wp1005956"> </a>
Description
</h4>
<p class="pBody"><a name="wp1005957"> </a>
<code class="cCode">Fchg()</code> changes the value of a field in the buffer. <code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. <code class="cCodeEmphasis">value</code> is a pointer to a new value, its type must be the same type as the value to be changed (see below). len is the length of the value to be changed; it is required only if field type is <code class="cCode">FLD_CARRAY</code> or <code class="cCode">FLD_MBSTRING</code>.
</p>
<p class="pBody"><a name="wp1005958"> </a>
If an occurrence of -1 is specified, then the field value is added as a new occurrence to the buffer. If the specified field occurrence is found, then the field value is modified to the value specified. If a field occurrence is specified that does not exist, then NULL values are added for the missing occurrences until the desired occurrence can be added (for example, changing field occurrence 4 for a field that does not exist on a buffer will cause 3 NULL values to be added followed by the specified field value). NULL values consist of the NULL string (1 byte in length) for string and character values, 0 for long and short fields, 0.0 for float and double values, and a zero-length string for a character array. The new or modified value is contained in value and its length is given in len if it is a character array (ignored in other cases). If value is NULL, then the field occurrence is deleted. A value to be deleted that is not found, is considered an error.
</p>
<p class="pBody"><a name="wp1005959"> </a>
In the &#8220;Synopsis&#8221; section above the <code class="cCodeEmphasis">value</code> argument to <code class="cCode">Fchg()</code> is described as a character pointer data type (char * in C). Technically, this describes only one particular kind of value passable to <code class="cCode">Fchg()</code>. In fact, the type of the <code class="cCodeEmphasis">value</code> argument should be a pointer to an object of the same type as the type of the fielded-buffer representation of the field being changed. For example, if the field is stored in the buffer as type <code class="cCode">FLD_LONG</code>, then <code class="cCodeEmphasis">value</code> should be of type pointer-to-long (<code class="cCode">long *</code> in C). Similarly, if the field is stored as FLD_SHORT, then value should be of type pointer-to-short (<code class="cCode">short *</code> in C). The important thing is that <code class="cCode">Fchg()</code> assumes that the object pointed to by <span style="font-style: italic">value</span> has the same type as the stored type of the field being changed. 
</p>
<p class="pBody"><a name="wp1058278"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fchg32()</code> stores the pointer value. The buffer pointed to by a <code class="cCode">FLD_PTR</code> field must be allocated using the <code class="cCode">tpalloc()</code> call. For values of type <code class="cCode">FLD_FML32</code>, <code class="cCode">Fchg32()</code> stores the entire <code class="cCode">FLD_FML32</code> field value, except the index. For values of type <code class="cCode">FLD_VIEW32</code>, <code class="cCode">Fchg()</code> stores a pointer to a structure of type <code class="cCode">FVIEWFLD</code>, which contains <code class="cCodeEmphasis">vflags</code> (a flags field, currently unused and set to 0), <code class="cCodeEmphasis">vname</code> (a character array containing the viewname), and <code class="cCodeEmphasis">data</code> (a pointer to the view data stored as a C structure). The application provides the <code class="cCodeEmphasis">vname</code> and <code class="cCodeEmphasis">data</code> to <code class="cCode">Fchg32()</code>.
</p>
<p class="pBody"><a name="wp1195515"> </a>
For values of type <code class="cCode">FLD_MBSTRING</code>, the value is the <code class="cCodeEmphasis">packed</code> output argument of the <code class="cCode">Fmbpack32()</code> function, and the <code class="cCodeEmphasis">len</code> argument is the length of the value in the <code class="cCodeEmphasis">size</code> output argument of <code class="cCode">Fmbpack32()</code>.
</p>
<p class="pBody"><a name="wp1195516"> </a>
For values of type <code class="cCode">FLD_CARRAY</code>, the <code class="cCodeEmphasis">len</code> argument is the length of the value. For all types other than <code class="cCode">FLD_CARRAY</code> or <code class="cCode">FLD_MBSTRING</code>, the length of the object referenced by <code class="cCodeEmphasis">value</code> is inferred from its type (for example, a value of type FLD_FLOAT is of length <code class="cCode">sizeof(float)</code>), and the contents of <code class="cCodeEmphasis">len</code> are ignored.
</p>
<p class="pBody"><a name="wp1005960"> </a>
Fchg32() is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099899"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fchg()</code> or <code class="cCode">Fchg32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1005961"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1005962"> </a>
This function returns -1 on error and sets Ferror to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1005963"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1005964"> </a>
Under the following conditions, <code class="cCode">Fchg()</code> fails and sets Ferror to: 
</p>
<h4 class="pDefTerm"><a name="wp1005965"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1005966"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary. 
</div>
<h4 class="pDefTerm"><a name="wp1005967"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1005968"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1005969"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1005970"> </a>
&quot;field not present&quot; <br />A field occurrence is requested for deletion but the specified field and/or occurrence was not found in the fielded buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1005971"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1005972"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added or changed in a fielded buffer but there is not enough space remaining in the buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1005973"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1005974"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid. 
</div>
<h4 class="pHeading3"><a name="wp1005975"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1005976"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005238"><code class="cCode">CFchg, CFchg32(3fml)</code></a>, <a href="rf3fml.html#wp1005571"><code class="cCode">Fadd, Fadd32(3fml)</code></a>, <a href="rf3fml.html#wp1006084"><code class="cCode">Fcmp, Fcmp32(3fml)</code></a>, <a href="rf3fml.html#wp1051863"><code class="cCode">Fdel, Fdel32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1006000"> </a>
Fchgs, Fchgs32(3fml)
</h2><h4 class="pHeading3"><a name="wp1006001"> </a>
Name
</h4>
<p class="pBody"><a name="wp1006002"> </a>
<code class="cCode">Fchgs()</code>, <code class="cCode">Fchgs32()</code> - change field occurrence - caller presents string
</p>
<h4 class="pHeading3"><a name="wp1006003"> </a>
Synopsis
</h4>
<a name="wp1006004"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fchgs(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">value</code>)  <br />#include &quot;fml32.h&quot; <br />int <br />Fchgs32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, int <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">value</code>)</pre></div><h4 class="pHeading3"><a name="wp1006005"> </a>
Description
</h4>
<p class="pBody"><a name="wp1006006"> </a>
<code class="cCode">Fchgs()</code>, is provided to handle the case of conversion from a user type of <code class="cCode">FLD_STRING</code>. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. value is a pointer to the string to be added. The function calls its non-string-function counterpart, <code class="cCode">CFchg()</code>, providing a <code class="cCode">type</code> of <code class="cCode">FLD_STRING</code>, and a <code class="cCode">len</code> of 0 to convert from a string to the field type of fieldid.
</p>
<p class="pBody"><a name="wp1006007"> </a>
<code class="cCode">Fchgs32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099919"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fchgs()</code> or <code class="cCode">Fchgs32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1006008"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1006009"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1006010"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1006011"> </a>
Under the following conditions, <code class="cCode">Fchgs()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1006012"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1006013"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1006014"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006015"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1006016"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1006017"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added or changed in a fielded buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pDefTerm"><a name="wp1006018"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1006019"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1006020"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1006021"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1006022"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1006023"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005238"><code class="cCode">CFchg, CFchg32(3fml)</code></a>, <a href="rf3fml.html#wp1005951"><code class="cCode">Fchg, Fchg32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1006047"> </a>
Fchksum, Fchksum32(3fml)
</h2><h4 class="pHeading3"><a name="wp1006048"> </a>
Name
</h4>
<p class="pBody"><a name="wp1006049"> </a>
<code class="cCode">Fchksum()</code>, <code class="cCode">Fchksum32()</code> - compute checksum for fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1006050"> </a>
Synopsis
</h4>
<a name="wp1006051"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />long <br />Fchksum(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br />#include &quot;fml32.h&quot; <br />long <br />Fchksum32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1006052"> </a>
Description
</h4>
<p class="pBody"><a name="wp1006053"> </a>
For extra-reliable I/O, a checksum may be calculated using <code class="cCode">Fchksum()</code> and stored in a fielded buffer being written out. <code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. The stored <code class="cCode">checksum</code> may be inspected by the receiving process to verify that the entire buffer was received.
</p>
<p class="pBody"><a name="wp1065000"> </a>
For values of type <code class="cCode">FLD_PTR</code>, the name of the pointer field (rather than the pointer or the data referenced by the pointer) is included in the checksum calculation.
</p>
<p class="pBody"><a name="wp1065001"> </a>
<code class="cCode">Fchksum32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099924"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fchksum()</code> or <code class="cCode">Fchksum32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1006055"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1006056"> </a>
On success, <code class="cCode">Fchksum()</code> returns the <code class="cCode">checksum</code>. This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1006057"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1006058"> </a>
Under the following conditions, <code class="cCode">Fchksum()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1006059"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1006060"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1006061"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006062"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1006063"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1006064"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1008455"><code class="cCode">Fread, Fread32(3fml)</code></a>, <a href="rf3fml.html#wp1009588"><code class="cCode">Fwrite, Fwrite32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1006084"> </a>
Fcmp, Fcmp32(3fml)
</h2><h4 class="pHeading3"><a name="wp1006085"> </a>
Name
</h4>
<p class="pBody"><a name="wp1006086"> </a>
<code class="cCode">Fcmp()</code>, <code class="cCode">Fcmp32()</code> - compare two fielded buffers
</p>
<h4 class="pHeading3"><a name="wp1006087"> </a>
Synopsis
</h4>
<a name="wp1006088"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fcmp(FBFR *<code class="cCodeEmphasis">fbfr1</code>, FBFR *<code class="cCodeEmphasis">fbfr2</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fcmp32(FBFR32 *<code class="cCodeEmphasis">fbfr1</code>, FBFR32 *<code class="cCodeEmphasis">fbfr2</code>)</pre></div><h4 class="pHeading3"><a name="wp1006089"> </a>
Description
</h4>
<p class="pBody"><a name="wp1006090"> </a>
<code class="cCode">Fcmp()</code> compares the field identifiers and then the field values of two FML buffers. fbfr1 and fbfr2 are pointers to the fielded buffers to be compared.
</p>
<p class="pBody"><a name="wp1099937"> </a>
For values of type <code class="cCode">FLD_PTR</code>, two pointer fields are considered equal if the pointer values (addresses) are equal. For values of type <code class="cCode">FLD_FML32</code>, two fields are considered equal if all field occurrences and values are equal. For values of type <code class="cCode">FLD_VIEW32</code>, two fields are considered equal if the viewnames are the same, and if all structure member occurrences and values are equal.
</p>
<p class="pBody"><a name="wp1099938"> </a>
<code class="cCode">Fcmp32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099942"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fcmp()</code> or <code class="cCode">Fcmp32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1099939"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1006093"> </a>
The function returns a 0 if the two buffers are identical. It returns a -1 on any of the following conditions: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1006094"> </a>The <code class="cCode">fieldid</code> of a fbfr1 field is less than the <code class="cCode">fieldid</code> of the corresponding field of fbfr2.</li>
<li><a name="wp1007761"> </a>The value of a field in fbfr1 is less than the value of the corresponding field of fbfr2.</li>
<li><a name="wp1008068"> </a>fbfr1 has fewer fields or field occurrences than fbfr2. </li>
</ul></div>
<p class="pBody"><a name="wp1006097"> </a>
<code class="cCode">Fcmp()</code> returns a 1 if any of the reverse set of conditions is true, for example, the fieldid of a fbfr1 field is greater than the fieldid of the corresponding field of fbfr2. The actual sizes of the buffers (that is, the sizes passed to <code class="cCode">Falloc()</code>) are not considered; only the data in the buffers. This function returns -2 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1006098"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1006099"> </a>
Under the following conditions, <code class="cCode">Fcmp()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1006100"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1006101"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1006102"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006103"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1006104"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1006105"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005571"><code class="cCode">Fadd, Fadd32(3fml)</code></a>, <a href="rf3fml.html#wp1005951"><code class="cCode">Fchg, Fchg32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1006176"> </a>
Fconcat, Fconcat32(3fml)
</h2><h4 class="pHeading3"><a name="wp1006177"> </a>
Name
</h4>
<p class="pBody"><a name="wp1006178"> </a>
<code class="cCode">Fconcat()</code>, <code class="cCode">Fconcat32()</code> - concatenate source to destination buffer
</p>
<h4 class="pHeading3"><a name="wp1006179"> </a>
Synopsis
</h4>
<a name="wp1006180"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fconcat(FBFR *<code class="cCodeEmphasis">dest</code>, FBFR *<code class="cCodeEmphasis">src</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fconcat32(FBFR32 *<code class="cCodeEmphasis">dest</code>, FBFR32 *<code class="cCodeEmphasis">src</code>)</pre></div><h4 class="pHeading3"><a name="wp1006181"> </a>
Description
</h4>
<p class="pBody"><a name="wp1006182"> </a>
<code class="cCode">Fconcat()</code> adds fields from the source buffer to the fields that already exist in the destination buffer. dest and src are pointers to the destination and source fielded buffers, respectively. Occurrences in the destination buffer, if any, are maintained and new occurrences from the source buffer are added with greater occurrence numbers for the field.
</p>
<p class="pBody"><a name="wp1006183"> </a>
<code class="cCode">Fconcat32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1099956"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fconcat()</code> or <code class="cCode">Fconcat32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1006184"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1006185"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1006186"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1006187"> </a>
Under the following conditions, <code class="cCode">Fconcat()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1006188"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1006189"> </a>
&quot;fielded buffer not aligned&quot; <br />Either the source buffer or the destination buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1006190"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006191"> </a>
&quot;buffer not fielded&quot; <br />Either the source or the destination buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1006192"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1006193"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added in a fielded buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pHeading3"><a name="wp1006194"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1006195"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011677"><code class="cCode">Fjoin, Fjoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008979"><code class="cCode">Fupdate, Fupdate32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1006132"> </a>
Fcpy, Fcpy32(3fml)
</h2><h4 class="pHeading3"><a name="wp1006133"> </a>
Name
</h4>
<p class="pBody"><a name="wp1006134"> </a>
<code class="cCode">Fcpy()</code>, <code class="cCode">Fcpy32()</code> - copy source to destination buffer
</p>
<h4 class="pHeading3"><a name="wp1006135"> </a>
Synopsis
</h4>
<a name="wp1006136"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fcpy(FBFR *<code class="cCodeEmphasis">dest</code>, FBFR *<code class="cCodeEmphasis">src</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fcpy32(FBFR32 *<code class="cCodeEmphasis">dest</code>, FBFR32 *<code class="cCodeEmphasis">src</code>)</pre></div><h4 class="pHeading3"><a name="wp1006137"> </a>
Description
</h4>
<p class="pBody"><a name="wp1064868"> </a>
<code class="cCode">Fcpy()</code> is used to copy the contents of one fielded buffer to another fielded buffer. dest and src are pointers to the destination and source fielded buffers respectively. <code class="cCode">Fcpy()</code> expects the destination to be a fielded buffer, and thus can check that it is large enough to accommodate the data from the source buffer.
</p>
<p class="pBody"><a name="wp1064869"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fcpy32()</code> copies the buffer pointer. The application programmer must manage the reallocation and freeing of buffers when the associated pointer is copied.
</p>
<p class="pBody"><a name="wp1064870"> </a>
<code class="cCode">Fcpy32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1100742"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fcpy()</code> or <code class="cCode">Fcpy32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1006140"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1006141"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1006142"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1006143"> </a>
Under the following conditions, <code class="cCode">Fcpy()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1006144"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1006145"> </a>
&quot;fielded buffer not aligned&quot; <br />Either the source buffer or the destination buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1006146"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006147"> </a>
&quot;buffer not fielded&quot; <br />Either the source or the destination buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1006148"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1006149"> </a>
&quot;no space in fielded buffer&quot; <br />The destination buffer is not large enough to hold the source buffer.
</div>
<h4 class="pHeading3"><a name="wp1051861"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1051862"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011784"><code class="cCode">Fmove, Fmove32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1051863"> </a>
Fdel, Fdel32(3fml)
</h2><h4 class="pHeading3"><a name="wp1006218"> </a>
Name
</h4>
<p class="pBody"><a name="wp1006219"> </a>
<code class="cCode">Fdel()</code>, <code class="cCode">Fdel32()</code> - delete field occurrence from buffer
</p>
<h4 class="pHeading3"><a name="wp1006220"> </a>
Synopsis
</h4>
<a name="wp1006221"> </a><div class="pPreformatted"><pre>#include stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fdel(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fdel32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>)</pre></div><h4 class="pHeading3"><a name="wp1006222"> </a>
Description
</h4>
<p class="pBody"><a name="wp1006223"> </a>
<code class="cCode">Fdel()</code> deletes the specified field occurrence from the buffer. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field.
</p>
<p class="pBody"><a name="wp1006224"> </a>
Note that when multiple occurrences of a field exist in the fielded buffer and a field occurrence is deleted that is not the last occurrence, also higher occurrences in the buffer are shifted down by one. To maintain the same occurrence number for all occurrences, use <code class="cCode">Fchg()</code> to set the field occurrence value to a NULL value.
</p>
<p class="pBody"><a name="wp1063038"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fdel32()</code> deletes the <code class="cCode">FLD_PTR</code> field occurrence without changing the referenced buffer or freeing the pointer. The data buffer is treated as an opaque pointer.
</p>
<p class="pBody"><a name="wp1006225"> </a>
<code class="cCode">Fdel32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101532"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fdel()</code> or <code class="cCode">Fdel32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1006226"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1006227"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1006228"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1006229"> </a>
Under the following conditions, <code class="cCode">Fdel()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1006230"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1006231"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1006232"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006233"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1006234"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1006235"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1006236"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006237"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1006238"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1006239"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005571"><code class="cCode">Fadd, Fadd32(3fml)</code></a>, <a href="rf3fml.html#wp1005951"><code class="cCode">Fchg, Fchg32(3fml)</code></a>, <a href="rf3fml.html#wp1006266"><code class="cCode">Fdelall, Fdelall32(3fml)</code></a>, <a href="rf3fml.html#wp1043539"><code class="cCode">Fdelete, Fdelete32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1006266"> </a>
Fdelall, Fdelall32(3fml)
</h2><h4 class="pHeading3"><a name="wp1006267"> </a>
Name
</h4>
<p class="pBody"><a name="wp1006268"> </a>
<code class="cCode">Fdelall()</code>, <code class="cCode">Fdelall32()</code> - delete all field occurrences from buffer
</p>
<h4 class="pHeading3"><a name="wp1006269"> </a>
Synopsis
</h4>
<a name="wp1006270"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fdelall(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fdelall32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>)</pre></div><h4 class="pHeading3"><a name="wp1006271"> </a>
Description
</h4>
<p class="pBody"><a name="wp1006272"> </a>
<code class="cCode">Fdelall()</code> deletes all occurrences of the specified field in the buffer. <code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. <code class="cCodeEmphasis">fieldid</code> is a field identifier. If no occurrences of the field are found, it is considered an error.
</p>
<p class="pBody"><a name="wp1063718"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fdelall32()</code> deletes the <code class="cCode">FLD_PTR</code> field occurrence without changing the referenced buffer or freeing the pointer. The data buffer is treated as an opaque pointer.
</p>
<p class="pBody"><a name="wp1006273"> </a>
<code class="cCode">Fdelall32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101541"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fdelall()</code> or <code class="cCode">Fdelall32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1006274"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1006275"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1006276"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1006277"> </a>
Under the following conditions, <code class="cCode">Fdelall()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1006278"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1006279"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1006280"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006281"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1006282"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1006283"> </a>
&quot;field not present&quot; <br />A field is requested but the specified field was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1006284"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1006285"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1043537"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1043538"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1051863"><code class="cCode">Fdel, Fdel32(3fml)</code></a>, <a href="rf3fml.html#wp1043539"><code class="cCode">Fdelete, Fdelete32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1043539"> </a>
Fdelete, Fdelete32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011221"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011222"> </a>
<code class="cCode">Fdelete()</code>, <code class="cCode">Fdelete32()</code> - delete list of fields from buffer
</p>
<h4 class="pHeading3"><a name="wp1011223"> </a>
Synopsis
</h4>
<a name="wp1011224"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt;  <br />#include &quot;fml.h&quot;  <br />int  <br />Fdelete(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID *<code class="cCodeEmphasis">fieldid</code>)  <br />#include &quot;fml32.h&quot;  <br />int  <br />Fdelete32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 *<code class="cCodeEmphasis">fieldid</code>)</pre></div><h4 class="pHeading3"><a name="wp1011225"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011226"> </a>
<code class="cCode">Fdelete()</code> deletes all occurrences of all fields listed in the array of field identifiers, fieldid<code class="cCode">[]</code>. The last entry in the array must be <code class="cCode">BADFLDID</code>. fbfr is a pointer to a fielded buffer. fieldid is a pointer to an array of field identifiers. This is a more efficient way of deleting several fields from a buffer instead of using several <code class="cCode">Fdelall()</code> calls. The update is done in-place. The array of field identifiers may be rearranged by <code class="cCode">Fdelete()</code> (they are sorted, if not already, in numeric order).
</p>
<p class="pBody"><a name="wp1063722"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fdelete32()</code> deletes the <code class="cCode">FLD_PTR</code> field occurrence without changing the referenced buffer or freeing the pointer. The data buffer is treated as an opaque pointer.
</p>
<p class="pBody"><a name="wp1011227"> </a>
<code class="cCode">Fdelete()</code> returns success even if no fields are deleted from the fielded buffer.
</p>
<p class="pBody"><a name="wp1011228"> </a>
<code class="cCode">Fdelete32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101557"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fdelete()</code> or <code class="cCode">Fdelete32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011229"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011230"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011231"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011232"> </a>
Under the following conditions, <code class="cCode">Fdelete()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011233"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011234"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011235"> </a>
[<code class="cCode">FNOTFLD</code>]<code class="cCode"> </code>
</h4><div class="pDefPara"><a name="wp1011236"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011237"> </a>
[<code class="cCode">FBADFLD</code>]<code class="cCode"> </code>
</h4><div class="pDefPara"><a name="wp1011238"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1011239"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011240"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1051863"><code class="cCode">Fdel, Fdel32(3fml)</code></a>, <a href="rf3fml.html#wp1006266"><code class="cCode">Fdelall, Fdelall32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011241"> </a>
Fextread, Fextread32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011242"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011243"> </a>
<code class="cCode">Fextread()</code>, <code class="cCode">Fextread32()</code> - build fielded buffer from printed format
</p>
<h4 class="pHeading3"><a name="wp1011244"> </a>
Synopsis
</h4>
<a name="wp1011245"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt;  <br />#include &quot;fml.h&quot;  <br />int  <br />Fextread(FBFR *<code class="cCodeEmphasis">fbfr</code>, FILE *<code class="cCodeEmphasis">iop</code>)  <br />#include &quot;fml32.h&quot;  <br />int  <br />Fextread32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FILE *<code class="cCodeEmphasis">iop</code>)</pre></div><h4 class="pHeading3"><a name="wp1011246"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011247"> </a>
<code class="cCode">Fextread()</code> may be used to construct a fielded buffer from its printed format (that is, from the output of <code class="cCode">Fprint()</code>). The parameters are a pointer to a fielded buffer, fbfr, and a pointer to a file stream, iop. The input file format is basically the same as the output format of <code class="cCode">Fprint()</code>, that is: 
</p>
<a name="wp1011248"> </a><div class="pPreformatted"><pre><code class="cCode">[flag] fldname or fldid tab&gt; fldval (or fldname, if flag is ``=&#39;&#39;)</code></pre></div><p class="pBody"><a name="wp1011249"> </a>
The optional flags and their meanings are as follows: 
</p>
<h4 class="pDefTerm"><a name="wp1011250"> </a>
+ 
</h4><div class="pDefPara"><a name="wp1011251"> </a>
Occurrence 0 of the field in the fielded buffer should be changed to the value provided.
</div>
<h4 class="pDefTerm"><a name="wp1011252"> </a>
 -
</h4><div class="pDefPara"><a name="wp1011253"> </a>
Occurrence 0 of the field named should be deleted from the fielded buffer. The tab character is required; any field value is ignored.
</div>
<h4 class="pDefTerm"><a name="wp1011254"> </a>
=  
</h4><div class="pDefPara"><a name="wp1011255"> </a>
In this case, the last field on the input line is the name of a field in the fielded buffer. The value of occurrence 0 of that field should be assigned to occurrence 0 of the first field named on the input line.
</div>
<h4 class="pDefTerm"><a name="wp1011256"> </a>
# 
</h4><div class="pDefPara"><a name="wp1011257"> </a>
The line is treated as a comment and is ignored.
</div>
<p class="pBody"><a name="wp1011258"> </a>
If no <code class="cCodeEmphasis">flag</code> is specified, a new occurrence of the field named by <code class="cCodeEmphasis">fldname</code> with value <code class="cCodeEmphasis">fldval</code> is added to the fielded buffer. A trailing newline (<code class="cCode">-</code>) must be provided after each completed input buffer. 
</p>
<p class="pBody"><a name="wp1063786"> </a>
For values of type <code class="cCode">FLD_FML32</code> and <code class="cCode">FLD_VIEW32</code>, <code class="cCode">Fextread32()</code> generates nested FML32 buffers and VIEW32 fields, respectively. This function ignores the <code class="cCode">FLD_PTR</code> field type. No error is returned if a value of type <code class="cCode">FLD_PTR</code> is supplied to the function.
</p>
<p class="pBody"><a name="wp1011259"> </a>
<code class="cCode">Fextread32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101569"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fextread()</code> or <code class="cCode">Fextread32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011260"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011261"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011262"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011263"> </a>
Under the following conditions, <code class="cCode">Fextread()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011264"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1011265"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011266"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1011267"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011268"> </a>
[<code class="cCode">FNOSPACE</code>]<code class="cCode"> </code>
</h4><div class="pDefPara"><a name="wp1011269"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added or changed in a field buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pDefTerm"><a name="wp1011270"> </a>
[<code class="cCode">FBADFLD</code>]<code class="cCode"> </code>
</h4><div class="pDefPara"><a name="wp1011271"> </a>
&quot;unknown field number or type&quot; <br />A field number is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1011272"> </a>
[<code class="cCode">FEUNIX</code>] 
</h4><div class="pDefPara"><a name="wp1011273"> </a>
&quot;UNIX system call error&quot; <br />A UNIX system call error occurred. The external integer <code class="cCode">errno</code> should have been set to indicate the error by the system call, and the external integer <code class="cCode">Uunixerr</code> (values defined in <code class="cCode">Uunix.h</code>) is set to the system call that returned the error.
</div>
<h4 class="pDefTerm"><a name="wp1011274"> </a>
[<code class="cCode">FBADNAME</code>]
</h4><div class="pDefPara"><a name="wp1011275"> </a>
&quot;unknown field name&quot; <br />A field name is specified which cannot be found in the field tables.
</div>
<h4 class="pDefTerm"><a name="wp1011276"> </a>
[<code class="cCode">FSYNTAX</code>]
</h4><div class="pDefPara"><a name="wp1011277"> </a>
&quot;bad syntax in format&quot; <br />A syntax error was found in the external buffer format. Possible errors are: an unexpected end-of-file indicator, input lines not in the form <code class="cCode">fieldid</code> or<code class="cCode"> name tab&gt; value</code> two control characters, field values greater than 1000 characters, or an invalid hex escape sequence.
</div>
<h4 class="pDefTerm"><a name="wp1011278"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011279"> </a>
&quot;field not present&quot; <br />A field to be deleted is not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1011280"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011281"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pDefTerm"><a name="wp1011282"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1011283"> </a>
&quot;invalid parameter&quot; <br />The value of iop is NULL.
</div>
<h4 class="pHeading3"><a name="wp1011284"> </a>
Portability
</h4>
<p class="pBody"><a name="wp1011285"> </a>
This function is not supported using the Oracle Tuxedo System Workstation DLL for Windows.
</p>
<h4 class="pHeading3"><a name="wp1011286"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011287"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1008320"><code class="cCode">Fprint, Fprint32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011288"> </a>
Ffind, Ffind32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011289"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011290"> </a>
<code class="cCode">Ffind()</code>, <code class="cCode">Ffind32()</code> - find field occurrence in buffer
</p>
<h4 class="pHeading3"><a name="wp1011291"> </a>
Synopsis
</h4>
<a name="wp1120325"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt;  <br />#include &quot;fml.h&quot;  <br />char *  <br />Ffind(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, FLDLEN *<code class="cCodeEmphasis">len</code>)  <br />#include &quot;fml32.h&quot;  <br />char *  <br />Ffind32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, FLDLEN32 *<code class="cCodeEmphasis">len</code>)</pre></div><h4 class="pHeading3"><a name="wp1120326"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011294"> </a>
<code class="cCode">Ffind()</code> finds the value of the specified field occurrence in the buffer. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. If the field is found, its length is set into *len, and its location is returned as the value of the function. If the value of len is NULL, then the field length is not returned. <code class="cCode">Ffind()</code> is useful for gaining read-only access to a field. In no case should the value returned by <code class="cCode">Ffind()</code> be used to modify the buffer.
</p>
<p class="pBody"><a name="wp1011295"> </a>
In general, because proper alignment within a buffer is not guaranteed, the locations in which the values of types <code class="cCode">FLD_LONG</code>, <code class="cCode">FLD_FLOAT</code>, <code class="cCode">FLD_DOUBLE</code>, <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code> are stored prevents these values from being used directly as their stored type. Such values must be copied first to a suitably aligned memory location. Accessing such fields through the conversion function <code class="cCode">CFfind()</code> does guarantee the proper alignment of the found converted value. Buffer modification should be done only by the <code class="cCode">Fadd()</code> or <code class="cCode">Fchg()</code> function. The values returned by <code class="cCode">Ffind()</code> and <code class="cCode">Ffindlast()</code> are valid only so long as the buffer remains unmodified.
</p>
<p class="pBody"><a name="wp1063759"> </a>
<code class="cCode">Ffind32()</code> does not check for occurrences of the specified field in embedded buffers as provided by the <code class="cCode">FLD_FML32</code> and <code class="cCode">FLD_VIEW32</code> field types.
</p>
<p class="pBody"><a name="wp1200394"> </a>
For a specified <code class="cCodeEmphasis">fieldid</code> of type <code class="cCode">FLD_MBSTRING</code>, the value returned by <code class="cCode">Ffind32()</code> may be analyzed using the <code class="cCode">Fmbunpack(32)</code> function.
</p>
<p class="pBody"><a name="wp1011296"> </a>
<code class="cCode">Ffind32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101578"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Ffind()</code> or <code class="cCode">Ffind32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011297"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011298"> </a>
In the &#8220;Synopsis&#8221; section above the return value to Ffind() is described as a character pointer data type (<code class="cCode">char *</code> in C). Actually, the pointer returned points to an object that has the same type as the stored type of the field. 
</p>
<p class="pBody"><a name="wp1011299"> </a>
This function returns a pointer to NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1011300"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011301"> </a>
Under the following conditions, <code class="cCode">Ffind()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011302"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011303"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011304"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011305"> </a>
&quot;buffer not fielded&quot;<br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1011306"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011307"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1011308"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011309"> </a>
&quot;unknown field number or type&quot;<br />A field identifier is specified which is not valid. 
</div>
<h4 class="pHeading3"><a name="wp1011310"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011311"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011312"><code class="cCode">Ffindlast, Ffindlast32(3fml)</code></a>, <a href="rf3fml.html#wp1011336"><code class="cCode">Ffindocc, Ffindocc32(3fml)</code></a>, <a href="rf3fml.html#wp1011361"><code class="cCode">Ffinds, Ffinds32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011312"> </a>
Ffindlast, Ffindlast32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011313"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011314"> </a>
<code class="cCode">Ffindlast()</code>, <code class="cCode">Ffindlast32()</code> - find last occurrence of field in buffer
</p>
<h4 class="pHeading3"><a name="wp1011315"> </a>
Synopsis
</h4>
<a name="wp1011316"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt;  <br />#include &quot;fml.h&quot;  <br />char *  <br />Ffindlast(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC *<code class="cCodeEmphasis">oc</code>, FLDLEN *<code class="cCodeEmphasis">len</code>)  #include &quot;fml32.h&quot;  <br />char *  <br />Ffindlast32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 *<code class="cCodeEmphasis">oc</code>, FLDLEN32 *<code class="cCodeEmphasis">len</code>)</pre></div><h4 class="pHeading3"><a name="wp1011317"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011318"> </a>
<code class="cCode">Ffindlast()</code> finds the last occurrence of a field in a buffer. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is a pointer to an integer that is used to receive the occurrence number of the field. len is the length of the value. If there are no occurrences of the field in the buffer, NULL is returned. Generally, <code class="cCode">Ffindlast()</code> acts like <code class="cCode">Ffind()</code>. The major difference is that with <code class="cCode">Ffindlast</code> the user does not supply a field occurrence. Instead, both the value and occurrence number of the last occurrence of the field are returned. In order to return the occurrence number of the last field, the occurrence argument, oc, to <code class="cCode">Ffindlast()</code> is a pointer-to-integer, and not an integer, as it is to <code class="cCode">Ffind()</code>. If oc is specified to be NULL, the occurrence number of the last occurrence is not returned. If the value of len is NULL, then the field length is not returned.
</p>
<p class="pBody"><a name="wp1011319"> </a>
In general, because proper alignment within a buffer is not guaranteed, the locations in which the values of types <code class="cCode">FLD_LONG</code>, <code class="cCode">FLD_FLOAT</code>, <code class="cCode">FLD_DOUBLE</code>, <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, and <code class="cCode">FLD_VIEW32</code> are stored prevents these values from being used directly as their stored type. Such values must be copied first to a suitably aligned memory location. Accessing such fields through the conversion function <code class="cCode">CFfind()</code> does guarantee the proper alignment of the found converted value. Buffer modification should be done only by the <code class="cCode">Fadd()</code> or <code class="cCode">Fchg()</code> function. The values returned by <code class="cCode">Ffind()</code>and <code class="cCode">Ffindlast()</code> are valid only so long as the buffer remains unmodified.
</p>
<p class="pBody"><a name="wp1063779"> </a>
<code class="cCode">Ffindlast32()</code> does not check for occurrences of the specified field in embedded buffers as provided by the <code class="cCode">FLD_FML32</code> and <code class="cCode">FLD_VIEW32</code> field types.
</p>
<p class="pBody"><a name="wp1200343"> </a>
For a specified <code class="cCodeEmphasis">fieldid</code> of type <code class="cCode">FLD_MBSTRING</code>, the value returned by <code class="cCode">Ffindlast32()</code> may be analyzed using the <code class="cCode">Fmbunpack(32)</code> function.
</p>
<p class="pBody"><a name="wp1011320"> </a>
<code class="cCode">Ffindlast32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101596"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Ffindlast()</code> or <code class="cCode">Ffindlast32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011321"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011322"> </a>
In the &#8220;Synopsis&#8221; section above the return value to <code class="cCode">Ffindlast()</code> is described as a character pointer data type (<code class="cCode">char *</code> in C). Actually, the pointer returned points to an object that has the same type as the stored type of the field. 
</p>
<p class="pBody"><a name="wp1011323"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1011324"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011325"> </a>
Under the following conditions, <code class="cCode">Ffindlast()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011326"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011327"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary. 
</div>
<h4 class="pDefTerm"><a name="wp1011328"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011329"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1011330"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011331"> </a>
&quot;field not present&quot; <br />A field is requested but the specified field was not found in the fielded buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1011332"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011333"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid. 
</div>
<h4 class="pHeading3"><a name="wp1011334"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011335"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005292"><code class="cCode">CFfind, CFfind32(3fml)</code></a>, <a href="rf3fml.html#wp1005571"><code class="cCode">Fadd, Fadd32(3fml)</code></a>, <a href="rf3fml.html#wp1005951"><code class="cCode">Fchg, Fchg32(3fml)</code></a>, <a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a>, <a href="rf3fml.html#wp1011336"><code class="cCode">Ffindocc, Ffindocc32(3fml)</code></a>, <a href="rf3fml.html#wp1011361"><code class="cCode">Ffinds, Ffinds32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011336"> </a>
Ffindocc, Ffindocc32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011337"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011338"> </a>
<code class="cCode">Ffindocc()</code>, <code class="cCode">Ffindocc32()</code> - find occurrence of field value
</p>
<h4 class="pHeading3"><a name="wp1011339"> </a>
Synopsis
</h4>
<a name="wp1011340"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt;  <br />#include &quot;fml.h&quot;  <br />FLDOCC  <br />Ffindocc(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN <code class="cCodeEmphasis">len</code>)  #include &quot;fml32.h&quot;  <br />FLDOCC32  <br />Ffindocc32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN32 <code class="cCodeEmphasis">len</code>)</pre></div><h4 class="pHeading3"><a name="wp1011341"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011342"> </a>
<code class="cCode">Ffindocc()</code> looks at occurrences of the specified field in the buffer and returns the occurrence number of the first field occurrence that matches the user-specified field value. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. The value to be found is contained in the location pointed to by the value parameter. len is the length of the value if its type is <code class="cCode">FLD_CARRAY</code> or <code class="cCode">FLD_MBSTRING</code>. If fieldid is field type <code class="cCode">FLD_STRING</code> and if len is not 0, pattern matching is done on the string. The pattern match supported is the same as the patterns described in <code class="cCode">regcmp</code>(3) (in UNIX reference manuals). In addition, the alternation of regular expressions is supported (for example, &#39;&#39;<code class="cCode">A|B</code>&#39;&#39; matches with &#39;&#39;<code class="cCode">A</code>&#39;&#39; or &#39;&#39;<code class="cCode">B</code>&#39;&#39;). The pattern must match the entire field value (that is, the pattern &#39;&#39;<code class="cCode">value</code>&#39;&#39; is implicitly treated as &#39;&#39;<code class="cCode">^value$</code>&#39;&#39;). The version of <code class="cCode">Ffindocc()</code> provided for use in the MS-DOS and OS/2 environments does not support the <code class="cCode">regcmp()</code> pattern matching for <code class="cCode">FLD_STRING</code> fields; it uses <code class="cCode">strcmp()</code> (in UNIX reference manuals).
</p>
<p class="pBody"><a name="wp1011343"> </a>
In the &#8220;Synopsis&#8221; section above the value argument to <code class="cCode">Ffindocc()</code> is described as a character pointer data type (<code class="cCode">char *</code> in C). Technically, this describes only one particular kind of value passable to Ffindocc(). In fact, the type of the value argument should be a pointer to an object of the same type as the type of the fielded-buffer representation of the field being found. For example, if the field is stored in the buffer as type FLD_LONG, then value should be of type pointer-to-long (<code class="cCode">long *</code> in C). Similarly, if the field is stored as FLD_SHORT, then value should be of type pointer-to-short (<code class="cCode">short *</code> in C). The important thing is that Ffindocc() assumes that the object pointed to by value has the same type as the stored type of the field being found.
</p>
<p class="pBody"><a name="wp1058526"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Ffindocc32()</code> finds the occurrence of a field that matches a specified pointer value. For values of type <code class="cCode">FLD_FML32</code>, two fields are considered equal if all field occurrences and values are equal. For values of type <code class="cCode">FLD_VIEW32</code>, two fields are considered equal if the viewnames are the same, and if all structure member occurrences and values are equal.
</p>
<p class="pBody"><a name="wp1207489"> </a>
For values of type <code class="cCode">FLD_MBSTRING</code>, the value is the <code class="cCodeEmphasis">packed</code> output argument of the <code class="cCode">Fmbpack32()</code> function, and the <code class="cCodeEmphasis">len</code> argument is the length of the value in the <code class="cCodeEmphasis">size</code> output argument of <code class="cCode">Fmbpack32()</code>.
</p>
<p class="pBody"><a name="wp1011344"> </a>
<code class="cCode">Ffindocc32()</code> is used with 32-bit FML. 
</p>
<p class="pBody"><a name="wp1101619"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Ffindocc()</code> or <code class="cCode">Ffindocc32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011345"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011346"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1011347"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011348"> </a>
Under the following conditions, <code class="cCode">Ffindocc()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011349"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011350"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary. 
</div>
<h4 class="pDefTerm"><a name="wp1011351"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011352"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1011353"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011354"> </a>
&quot;field not present&quot; <br />A field value is requested but the specified field and/or value was not found in the fielded buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1011355"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1089581"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, passing a NULL value parameter to <code class="cCode">Ffindocc()</code> or specifying an invalid string pattern). 
</div>
<h4 class="pDefTerm"><a name="wp1089582"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1089583"> </a>
&quot;unknown field number or type&quot;<br />A field identifier is specified which is not valid. 
</div>
<h4 class="pHeading3"><a name="wp1011359"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1055553"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a>, <a href="rf3fml.html#wp1011312"><code class="cCode">Ffindlast, Ffindlast32(3fml)</code></a>, <a href="rf3fml.html#wp1011361"><code class="cCode">Ffinds, Ffinds32(3fml)</code></a>, <code class="cCode">regcmp</code>(3) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011361"> </a>
Ffinds, Ffinds32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011362"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011363"> </a>
<code class="cCode">Ffinds()</code>, <code class="cCode">Ffinds32()</code> - return ptr to string representation
</p>
<h4 class="pHeading3"><a name="wp1011364"> </a>
Synopsis
</h4>
<a name="wp1011365"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt;  <br />#include &quot;fml.h&quot;  <br />char *  <br />Ffinds(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>)  <br />#include &quot;fml32.h&quot;  <br />char *  <br />Ffinds32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>)</pre></div><h4 class="pHeading3"><a name="wp1011366"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011367"> </a>
<code class="cCode">Ffinds()</code> is provided to handle the case of conversion to a user type of <code class="cCode">FLD_STRING</code>. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. The specified field occurrence is found and converted from its type in the buffer to a NULL-terminated string. Basically, this macro calls its conversion function counterpart, <code class="cCode">CFfind()</code>, providing a utype of <code class="cCode">FLD_STRING</code>, and a ulen of 0. The duration of the validity of the pointer returned by <code class="cCode">Ffinds()</code> is the same as that described for <code class="cCode">CFfind()</code>.
</p>
<p class="pBody"><a name="wp1011368"> </a>
<code class="cCode">Ffinds32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101628"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Ffinds()</code> or <code class="cCode">Ffinds32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011369"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011370"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011371"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011372"> </a>
Under the following conditions, <code class="cCode">Ffinds()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011373"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011374"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011375"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011376"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011377"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011378"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1011379"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011380"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1011381"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1011382"> </a>
&quot;invalid field type&quot; <br />A field type is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1011383"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011384"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code>failed while converting carray (or mbstring) to string.
</div>
<h4 class="pHeading3"><a name="wp1011385"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011386"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005292"><code class="cCode">CFfind, CFfind32(3fml)</code></a>, <a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011387"> </a>
Ffloatev, Ffloatev32, Fvfloatev, Fvfloatev32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011388"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011389"> </a>
<code class="cCode">Ffloatev()</code>, <code class="cCode">Ffloatev32()</code>, <code class="cCode">Fvfloatev()</code>, <code class="cCode">Fvfloatev32()</code> - return value of expression as a double
</p>
<h4 class="pHeading3"><a name="wp1011390"> </a>
Synopsis
</h4>
<a name="wp1011391"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />double <br />Ffloatev(FBFR *<code class="cCodeEmphasis">fbfr</code>, char *<code class="cCodeEmphasis">tree</code>) <br />double <br />Fvfloatev(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">tree</code>, char *<code class="cCodeEmphasis">viewname</code>) <br />#include &quot;fml32.h&quot; <br />double <br />Ffloatev32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, char *<code class="cCodeEmphasis">tree</code>) <br />double <br />Fvfloatev32(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">tree</code>, char *<code class="cCodeEmphasis">viewname</code>)</pre></div><h4 class="pHeading3"><a name="wp1011392"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011393"> </a>
<code class="cCode">Ffloatev()</code> takes a pointer to a fielded buffer, fbfr, and a pointer to the evaluation tree returned from <code class="cCode">Fboolco()</code>, tree, and returns the value of the (arithmetic) expression, represented by the tree, as a double. This function does not change either the fielded buffer or the evaluation tree.
</p>
<p class="pBody"><a name="wp1011394"> </a>
<code class="cCode">Ffloatev32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1011395"> </a>
<code class="cCode">Fvfloatev()</code> and <code class="cCode">Fvfloatev32()</code> provide the same functionality for views. The viewname parameter indicates the view from which the field offsets are taken, and should be the same view specified for <code class="cCode">Fvboolco()</code> or <code class="cCode">Fvboolco32()</code>.
</p>
<p class="pBody"><a name="wp1011396"> </a>
These functions are not supported on Workstation platforms.
</p>
<p class="pBody"><a name="wp1101637"> </a>
A thread in a multithreaded application may issue a call to any of the functions documented here&#8212;<code class="cCode">Ffloatev()</code>, <code class="cCode">Ffloatev32()</code>, <code class="cCode">Fvfloatev()</code>, or <code class="cCode">Fvfloatev32()</code>&#8212;while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011397"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011398"> </a>
On success <code class="cCode">Ffloatev()</code> returns the value of an expression as a double.
</p>
<p class="pBody"><a name="wp1011399"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011400"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011401"> </a>
Under the following conditions, <code class="cCode">Ffloatev()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011402"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011403"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011404"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011405"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011406"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011407"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pDefTerm"><a name="wp1011408"> </a>
[<code class="cCode">FSYNTAX</code>]
</h4><div class="pDefPara"><a name="wp1011409"> </a>
&quot;bad syntax in Boolean expression&quot; <br />A syntax error was found in a Boolean expression tree.
</div>
<h4 class="pDefTerm"><a name="wp1011410"> </a>
[<code class="cCode">FBADVIEW</code>]
</h4><div class="pDefPara"><a name="wp1011411"> </a>
&quot;cannot find or get view&quot; <br />viewname was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011412"> </a>
[<code class="cCode">FVFOPEN</code>]
</h4><div class="pDefPara"><a name="wp1011413"> </a>
&quot;cannot find or open viewfile&quot; <br />While trying to find viewname, the program failed to find one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011414"> </a>
[<code class="cCode">EUNIX</code>]
</h4><div class="pDefPara"><a name="wp1011415"> </a>
&quot;operating system error&quot; <br />While trying to find viewname, the program failed to open one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> for reading.
</div>
<h4 class="pDefTerm"><a name="wp1011416"> </a>
[<code class="cCode">FVFSYNTAX</code>]
</h4><div class="pDefPara"><a name="wp1011417"> </a>
&quot;bad viewfile&quot; <br />While trying to find viewname, one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> was corrupted or not a viewfile.
</div>
<h4 class="pDefTerm"><a name="wp1011418"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011419"> </a>
&quot;malloc failed&quot; <br />While trying to find viewname, <code class="cCode">malloc()</code> failed while allocating space to hold the view information.
</div>
<h4 class="pHeading3"><a name="wp1011420"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011421"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005761"><code class="cCode">Fboolco, Fboolco32, Fvboolco, Fvboolco32(3fml)</code></a>, <a href="rf3fml.html#wp1005829"><code class="cCode">Fboolev, Fboolev32, Fvboolev, Fvboolev32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011422"> </a>
Ffprint, Ffprint32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011423"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011424"> </a>
<code class="cCode">Ffprint()</code>, <code class="cCode">Ffprint32()</code> - print fielded buffer to specified stream
</p>
<h4 class="pHeading3"><a name="wp1011425"> </a>
Synopsis
</h4>
<a name="wp1011426"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Ffprint(FBFR *<code class="cCodeEmphasis">fbfr</code>, FILE *<code class="cCodeEmphasis">iop</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Ffprint32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FILE *<code class="cCodeEmphasis">iop</code>)</pre></div><h4 class="pHeading3"><a name="wp1011427"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011428"> </a>
<code class="cCode">Ffprint()</code> is similar to <code class="cCode">Fprint()</code>, except the text is printed to a specified output stream. fbfr is a pointer to a fielded buffer. iop is a pointer of type <code class="cCode">FILE</code> that points to the output stream.
</p>
<p class="pBody"><a name="wp1011429"> </a>
For each field in the buffer, the output prints the field name and field value separated by a tab. <code class="cCode">Fname()</code> is used to determine the field name; if the field name cannot be determined, then the field identifier is printed. Non-printable characters in string and character array field values are represented by a backslash followed by their two-character hexadecimal value. A newline is printed following the output of the printed buffer.
</p>
<p class="pBody"><a name="wp1063790"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Ffprint32()</code> prints the field name or field identifier and the pointer value in hexadecimal. Although this function prints pointer information, the<code class="cCode"> Fextread32()</code> function ignores the <code class="cCode">FLD_PTR</code> field type. 
</p>
<p class="pBody"><a name="wp1063808"> </a>
For values of type <code class="cCode">FLD_FML32</code>, <code class="cCode">Ffprint32()</code> recursively prints the FML32 buffer, with leading tabs added for each level of nesting. For values of type <code class="cCode">FLD_VIEW32</code>, <code class="cCode">Ffprint32()</code> prints the VIEW32 field name and structure member name/value pairs.
</p>
<p class="pBody"><a name="wp1011430"> </a>
<code class="cCode">Ffprint32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101646"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Ffprint()</code> or <code class="cCode">Ffprint32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011431"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011432"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011433"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011434"> </a>
Under the following conditions, <code class="cCode">Ffprint()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011435"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011436"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011437"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011438"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011439"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011440"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pHeading3"><a name="wp1011441"> </a>
Portability
</h4>
<p class="pBody"><a name="wp1011442"> </a>
This function is not supported using the Oracle Tuxedo System Workstation DLL for Windows.
</p>
<h4 class="pHeading3"><a name="wp1011443"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011444"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1008320"><code class="cCode">Fprint, Fprint32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011445"> </a>
Ffree, Ffree32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011446"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011447"> </a>
<code class="cCode">Ffree()</code>, <code class="cCode">Ffree32()</code> - free space allocated for fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1011448"> </a>
Synopsis
</h4>
<a name="wp1011449"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Ffree(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Ffree32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1011450"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011451"> </a>
<code class="cCode">Ffree()</code> is used to recover space allocated to its argument fielded buffer. <code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. The fielded buffer is invalidated, that is, it is made non-fielded, and then freed. <code class="cCode">Ffree32()</code> does not free the memory area referenced by a pointer in a <code class="cCode">FLD_PTR</code> field.
</p>
<p class="pBody"><a name="wp1011452"> </a>
<code class="cCode">Ffree()</code> is recommended as opposed to <code class="cCode">free()</code> (in UNIX system reference manuals), because <code class="cCode">Ffree()</code>invalidates a fielded buffer whereas <code class="cCode">free()</code> does not. It is important to invalidate fielded buffers because <code class="cCode">malloc()</code> (in UNIX system reference manuals) reuses memory that has been freed without clearing it. Thus, if <code class="cCode">free()</code> were used, it would be possible for <code class="cCode">malloc()</code> to return a piece of memory that looks like a valid fielded buffer but is not.
</p>
<p class="pBody"><a name="wp1011453"> </a>
<code class="cCode">Ffree32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1101701"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Ffree()</code> or <code class="cCode">Ffree32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011454"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011455"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011456"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011457"> </a>
Under the following conditions, <code class="cCode">Ffree()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011458"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011459"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011460"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011461"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1055593"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1055594"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1051680"><code class="cCode">Falloc, Falloc32(3fml)</code></a>, <a href="rf3fml.html#wp1008509"><code class="cCode">Frealloc, Frealloc32(3fml)</code></a>
</p>
<p class="pBody"><a name="wp1055599"> </a>
<code class="cCode">free</code>(3), <code class="cCode">malloc</code>(3) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011464"> </a>
Fget, Fget32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011465"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011466"> </a>
<code class="cCode">Fget()</code>, <code class="cCode">Fget32()</code> - get copy and length of field occurrence
</p>
<h4 class="pHeading3"><a name="wp1011467"> </a>
Synopsis
</h4>
<a name="wp1098737"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fget(FBFR *fbfr, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC oc, char *<code class="cCodeEmphasis">loc</code>, FLDLEN<br />  *<code class="cCodeEmphasis">maxlen</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fget32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">loc</code>,<br />  FLDLEN32 *<code class="cCodeEmphasis">maxlen</code>)</pre></div><h4 class="pHeading3"><a name="wp1011469"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011470"> </a>
<code class="cCode">Fget()</code> should be used to retrieve a field from a fielded buffer when the value is to be modified. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. The caller provides <code class="cCode">Fget()</code> with a pointer to a private data area, loc, as well as the length of the data area, *maxlen, and the length of the field is returned in *maxlen. If maxlen is NULL when the function is called, then it is assumed that the data area for the field value loc is big enough to contain the field value and the length of the value is not returned. If loc is NULL, the value is not retrieved. Thus, the function call can be used to determine the existence of the field. 
</p>
<p class="pBody"><a name="wp1200454"> </a>
In the &#8220;Synopsis&#8221; section above the value argument to <code class="cCode">Fget()</code> is described as a character pointer data type (<code class="cCode">char *</code> in C). Technically, this describes only one particular kind of value passable to <code class="cCode">Fget()</code>. In fact, the type of the value argument should be a pointer to an object of the same type as the type of the fielded-buffer representation of the field being retrieved. For example, if the field is stored in the buffer as type FLD_LONG, then value should be of type pointer-to-long (<code class="cCode">long *</code> in C). Similarly, if the field is stored as FLD_SHORT, then value should be of type pointer-to-short (<code class="cCode">short *</code> in C). The important thing is that <code class="cCode">Fget()</code> assumes that the object pointed to by value has the same type as the stored type of the field being retrieved.
</p>
<p class="pBody"><a name="wp1200469"> </a>
For a specified <code class="cCodeEmphasis">fieldid</code> of type <code class="cCode">FLD_MBSTRING</code>, the value returned by Fget32() may be analyzed using the <code class="cCode">Fmbunpack(32)</code> function.
</p>
<p class="pBody"><a name="wp1200456"> </a>
Fget32() is used with 32-bit FML. 
</p>
<p class="pBody"><a name="wp1102322"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fget()</code> or <code class="cCode">Fget32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011473"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011474"> </a>
When <code class="cCode">Fget32()</code> is used with the <code class="cCode">FLD_VIEW32</code> field type, a pointer to the <code class="cCode">FVIEWFLD</code> structure is returned. This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1011475"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011476"> </a>
Under the following conditions, <code class="cCode">Fget()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011477"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011478"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary. 
</div>
<h4 class="pDefTerm"><a name="wp1011479"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011480"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1011481"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1089588"> </a>
&quot;no space&quot; <br />The size of the data area, as specified in <code class="cCode">maxlen</code>, is not large enough to hold the field value. 
</div>
<h4 class="pDefTerm"><a name="wp1089589"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1089590"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1011485"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011486"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid. 
</div>
<h4 class="pHeading3"><a name="wp1011487"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011488"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005394"><code class="cCode">CFget, CFget32(3fml)</code></a>, <a href="rf3fml.html#wp1011489"><code class="cCode">Fgetalloc, Fgetalloc32(3fml)</code></a>, <a href="rf3fml.html#wp1011513"><code class="cCode">Fgetlast, Fgetlast32(3fml)</code></a>, <a href="rf3fml.html#wp1011539"><code class="cCode">Fgets, Fgets32(3fml)</code></a>, <a href="rf3fml.html#wp1011565"><code class="cCode">Fgetsa, Fgetsa32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011489"> </a>
Fgetalloc, Fgetalloc32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011490"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011491"> </a>
<code class="cCode">Fgetalloc()</code>, <code class="cCode">Fgetalloc32()</code> - allocate space and get copy of field occurrence
</p>
<h4 class="pHeading3"><a name="wp1011492"> </a>
Synopsis
</h4>
<a name="wp1011493"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />char * <br />Fgetalloc(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, FLDLEN *<code class="cCodeEmphasis">extralen</code>)<br />#include &quot;fml32.h&quot; <br />char * <br />Fgetalloc32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, FLDLEN32<br />  *<code class="cCodeEmphasis">extralen</code>)</pre></div><h4 class="pHeading3"><a name="wp1011494"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011495"> </a>
Like <code class="cCode">Fget()</code>, <code class="cCode">Fgetalloc()</code> finds and makes a copy of a buffer field, but it acquires space for the field via a call to <code class="cCode">malloc()</code> (in UNIX system programmer&#8217;s reference manuals). fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. The last argument to <code class="cCode">Fgetalloc()</code>, extralen, provides an extra amount of space to be acquired in addition to the field value size. It can be used if the retrieved value is to be expanded before reinsertion into the fielded-buffer. If extralen is NULL, then no additional space is allocated and the actual length is not returned. It is the caller&#8217;s responsibility to <code class="cCode">free()</code> space acquired by <code class="cCode">Fgetalloc()</code>. The buffer will be aligned properly for any field type.
</p>
<p class="pBody"><a name="wp1200493"> </a>
For a specified <code class="cCodeEmphasis">fieldid</code> of type <code class="cCode">FLD_MBSTRING</code>, the value returned by <code class="cCode">Fgetalloc32()</code> may be analyzed using the <code class="cCode">Fmbunpack(32)</code> function.
</p>
<p class="pBody"><a name="wp1011496"> </a>
<code class="cCode">Fgetalloc32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102336"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fgetalloc()</code> or <code class="cCode">Fgetalloc32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1120698"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1120699"> </a>
In the &#8220;Synopsis&#8221; section above the return value to Fgetalloc<code class="cCode">()</code> is described as a character pointer data type (<code class="cCode">char *</code> in C). Actually, the pointer returned points to an object that has the same type as the stored type of the field. When <code class="cCode">Fgetalloc32()</code> is used with the <code class="cCode">FLD_VIEW32</code> field type, a pointer to the <code class="cCode">FVIEWFLD</code> structure is returned. This function returns NULL on error and sets Ferror to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1011499"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011500"> </a>
Under the following conditions, <code class="cCode">Fgetalloc()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011501"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011502"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary. 
</div>
<h4 class="pDefTerm"><a name="wp1011503"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011504"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1011505"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011506"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1011507"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011508"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid. 
</div>
<h4 class="pDefTerm"><a name="wp1011509"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011510"> </a>
&#8220;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed. 
</div>
<h4 class="pHeading3"><a name="wp1011511"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011512"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005394"><code class="cCode">CFget, CFget32(3fml)</code></a>, <a href="rf3fml.html#wp1011464"><code class="cCode">Fget, Fget32(3fml)</code></a>, <a href="rf3fml.html#wp1011513"><code class="cCode">Fgetlast, Fgetlast32(3fml)</code></a>, <a href="rf3fml.html#wp1011539"><code class="cCode">Fgets, Fgets32(3fml)</code></a>, <a href="rf3fml.html#wp1011565"><code class="cCode">Fgetsa, Fgetsa32(3fml)</code></a>
</p>
<p class="pBody"><a name="wp1055613"> </a>
<code class="cCode">free</code>(3), <code class="cCode">malloc</code>(3) in a UNIX system reference manual 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011513"> </a>
Fgetlast, Fgetlast32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011514"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011515"> </a>
<code class="cCode">Fgetlast()</code>, <code class="cCode">Fgetlast32()</code> - get copy of last occurrence
</p>
<h4 class="pHeading3"><a name="wp1011516"> </a>
Synopsis
</h4>
<a name="wp1011517"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fgetlast(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC *<code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN<br />  *<code class="cCodeEmphasis">maxlen</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fgetlast32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 *<code class="cCodeEmphasis">oc</code>, char<br />  *<code class="cCodeEmphasis">value</code>, FLDLEN32 *<code class="cCodeEmphasis">maxlen</code>)</pre></div><h4 class="pHeading3"><a name="wp1011518"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011519"> </a>
<code class="cCode">Fgetlast()</code> is used to retrieve both the value and occurrence number of the last occurrence of the field identified by fieldid. fbfr is a pointer to a fielded buffer. In order to return the occurrence number of the last field, the occurrence argument, oc, is a pointer-to-integer, not an integer.
</p>
<p class="pBody"><a name="wp1011520"> </a>
The caller provides <code class="cCode">Fgetlast()</code> with a pointer to a private buffer, loc, as well as the length of the buffer, <code class="cCode">*</code><em class="cEmphasis">maxlen</em>, and the length of the field is returned in <code class="cCode">*</code><em class="cEmphasis">maxlen</em>. If maxlen is NULL when the function is called, then it is assumed that the buffer for the field value is big enough to contain the field value and the length of the value is not returned. If loc is NULL, the value is not returned. If oc is NULL, the occurrence is not returned.
</p>
<p class="pBody"><a name="wp1011521"> </a>
In the &#8220;Synopsis&#8221; section above the value argument to <code class="cCode">Fgetlast()</code> is described as a character pointer data type (<code class="cCode">char *</code> in C). Technically, this describes only one particular kind of value passable to <code class="cCode">Fgetlast()</code>. In fact, the type of the value argument should be a pointer to an object of the same type as the type of the fielded-buffer representation of the field being retrieved. For example, if the field is stored in the buffer as type FLD_LONG, then value should be of type pointer-to-long (<code class="cCode">long *</code> in C). Similarly, if the field is stored as FLD_SHORT, then value should be of type pointer-to-short (<code class="cCode">short *</code> in C). The important thing is that <code class="cCode">Fgetlast()</code>assumes that the object pointed to by value has the same type as the stored type of the field being retrieved.
</p>
<p class="pBody"><a name="wp1200508"> </a>
For a specified <code class="cCodeEmphasis">fieldid</code> of type <code class="cCode">FLD_MBSTRING</code>, the value returned by <code class="cCode">Fgetlast32()</code> may be analyzed using the <code class="cCode">Fmbunpack(32)</code> function.
</p>
<p class="pBody"><a name="wp1011522"> </a>
Fgetlast32() is used with 32-bit FML. 
</p>
<p class="pBody"><a name="wp1102345"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fgetlast()</code> or <code class="cCode">Fgetlast32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011523"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011524"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1011525"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011526"> </a>
Under the following conditions, <code class="cCode">Fgetlast()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011527"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011528"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary. 
</div>
<h4 class="pDefTerm"><a name="wp1011529"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011530"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1011531"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1011532"> </a>
&quot;no space&quot; <br />The size of the data area, as specified in <code class="cCode">maxlen</code>, is not large enough to hold the field value. 
</div>
<h4 class="pDefTerm"><a name="wp1011533"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011534"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer. 
</div>
<h4 class="pDefTerm"><a name="wp1011535"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011536"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid. 
</div>
<h4 class="pHeading3"><a name="wp1011537"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011538"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011464"><code class="cCode">Fget, Fget32(3fml)</code></a>, <a href="rf3fml.html#wp1011489"><code class="cCode">Fgetalloc, Fgetalloc32(3fml)</code></a>, <a href="rf3fml.html#wp1011539"><code class="cCode">Fgets, Fgets32(3fml)</code></a>, <a href="rf3fml.html#wp1011565"><code class="cCode">Fgetsa, Fgetsa32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011539"> </a>
Fgets, Fgets32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011540"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011541"> </a>
<code class="cCode">Fgets()</code>, <code class="cCode">Fgets32()</code> - get value converted to string
</p>
<h4 class="pHeading3"><a name="wp1011542"> </a>
Synopsis
</h4>
<a name="wp1011543"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fgets(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">buf</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fgets32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">buf</code>)</pre></div><h4 class="pHeading3"><a name="wp1011544"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011545"> </a>
<code class="cCode">Fgets()</code> retrieves a field occurrence from the fielded buffer first converting the value to a user type of <code class="cCode">FLD_STRING</code>. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. The caller of <code class="cCode">Fgets()</code> provides buf, a pointer to a private buffer, which is used for the retrieved field value. It is assumed that buf is large enough to hold the value. Basically, <code class="cCode">Fgets()</code> calls <code class="cCode">CFget()</code> with an assumed utype of <code class="cCode">FLD_STRING</code>, and a ulen of 0.
</p>
<p class="pBody"><a name="wp1011546"> </a>
<code class="cCode">Fgets32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102363"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fgets()</code> or <code class="cCode">Fgets32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011547"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011548"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011549"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011550"> </a>
Under the following conditions, <code class="cCode">Fgets()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011551"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011552"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011553"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011554"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by Finit().
</div>
<h4 class="pDefTerm"><a name="wp1011555"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011556"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1011557"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011558"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1011559"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1011560"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1011561"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011562"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using malloc() failed.
</div>
<h4 class="pHeading3"><a name="wp1011563"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011564"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005394"><code class="cCode">CFget, CFget32(3fml)</code></a>, <a href="rf3fml.html#wp1011464"><code class="cCode">Fget, Fget32(3fml)</code></a>, <a href="rf3fml.html#wp1011489"><code class="cCode">Fgetalloc, Fgetalloc32(3fml)</code></a>, <a href="rf3fml.html#wp1011513"><code class="cCode">Fgetlast, Fgetlast32(3fml)</code></a>, <a href="rf3fml.html#wp1011565"><code class="cCode">Fgetsa, Fgetsa32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011565"> </a>
Fgetsa, Fgetsa32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011566"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011567"> </a>
<code class="cCode">Fgetsa()</code>, <code class="cCode">Fgetsa32()</code> - use <code class="cCode">malloc()</code> to allocate space and get converted value
</p>
<h4 class="pHeading3"><a name="wp1011568"> </a>
Synopsis
</h4>
<a name="wp1011569"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />char * <br />Fgetsa(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, FLDLEN *<code class="cCodeEmphasis">extra</code>)<br />#include &quot;fml32.h&quot; <br />char * <br />Fgetsa32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, FLDLEN32<br />  *<code class="cCodeEmphasis">extra</code>)</pre></div><h4 class="pHeading3"><a name="wp1011570"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011571"> </a>
<code class="cCode">Fgetsa()</code> is a macro that calls <code class="cCode">CFgetalloc()</code>. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field. The function uses <code class="cCode">malloc()</code> (in UNIX system programmer&#8217;s reference manuals) to allocate space for the retrieved field value that has been converted to a string. If extra is not NULL, it specifies the extra space to allocate in addition to the field value size; the total size is returned in extra.
</p>
<p class="pBody"><a name="wp1011572"> </a>
It is the responsibility of the user to <code class="cCode">free()</code> (in UNIX system reference manuals) the space <code class="cCode">malloc()</code>&#8217;d.
</p>
<p class="pBody"><a name="wp1011573"> </a>
<code class="cCode">Fgetsa32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102372"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fgetsa()</code> or <code class="cCode">Fgetsa32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011574"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011575"> </a>
On success, the function returns a pointer to the allocated buffer.
</p>
<p class="pBody"><a name="wp1011576"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011577"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011578"> </a>
Under the following conditions, <code class="cCode">Fgetsa()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011579"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011580"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011581"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011582"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011583"> </a>
[<code class="cCode">FNOTPRES</code>]
</h4><div class="pDefPara"><a name="wp1011584"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1011585"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011586"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1011587"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1011588"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1011589"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011590"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pHeading3"><a name="wp1011591"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011592"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005394"><code class="cCode">CFget, CFget32(3fml)</code></a>, <a href="rf3fml.html#wp1011464"><code class="cCode">Fget, Fget32(3fml)</code></a>, <a href="rf3fml.html#wp1011513"><code class="cCode">Fgetlast, Fgetlast32(3fml)</code></a>, <a href="rf3fml.html#wp1011539"><code class="cCode">Fgets, Fgets32(3fml)</code></a>
</p>
<p class="pBody"><a name="wp1055645"> </a>
<code class="cCode">free</code>(3), <code class="cCode">malloc</code>(3) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011593"> </a>
Fidnm_unload, Fidnm_unload32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011594"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011595"> </a>
<code class="cCode">Fidnm_unload()</code>, <code class="cCode">Fidnm_unload32()</code> - recover space from <code class="cCodeEmphasis">id-&gt;nm</code> mapping tables
</p>
<h4 class="pHeading3"><a name="wp1011596"> </a>
Synopsis
</h4>
<a name="wp1011597"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />void <br />Fidnm_unload(void); <br />#include &quot;fml32.h&quot; <br />void <br />Fidnm_unload32(void);</pre></div><h4 class="pHeading3"><a name="wp1011598"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011599"> </a>
<code class="cCode">Fidnm_unload()</code> recovers space allocated by <code class="cCode">Fname()</code> for field identifier to field name mapping tables.
</p>
<p class="pBody"><a name="wp1011600"> </a>
<code class="cCode">Fidnm_unload32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102381"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fidnm_unload()</code> or <code class="cCode">Fidnm_unload32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1102392"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011602"> </a>
This function is declared as a void and so does not return anything.
</p>
<h4 class="pHeading3"><a name="wp1011603"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011604"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011803"><code class="cCode">Fname, Fname32(3fml)</code></a>, <a href="rf3fml.html#wp1008162"><code class="cCode">Fnmid_unload, Fnmid_unload32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011605"> </a>
Fidxused, Fidxused32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011606"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011607"> </a>
<code class="cCode">Fidxused()</code>, <code class="cCode">Fidxused32()</code> - return amount of space used
</p>
<h4 class="pHeading3"><a name="wp1011608"> </a>
Synopsis
</h4>
<a name="wp1011609"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />long <br />Fidxused(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br />#include &quot;fml32.h&quot; <br />long <br />Fidxused32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1011610"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011611"> </a>
<code class="cCode">Fidxused()</code> indicates the current amount of space used by the buffer&#8217;s index. fbfr is a pointer to a fielded buffer.
</p>
<p class="pBody"><a name="wp1011612"> </a>
<code class="cCode">Fidxused32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102395"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fidxused()</code> or <code class="cCode">Fidxused32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011613"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011614"> </a>
On success, the function returns the amount of space in the buffer used by the index. This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011615"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011616"> </a>
Under the following conditions, <code class="cCode">Fidxused()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011617"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011618"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011619"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011620"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1011621"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011622"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011635"><code class="cCode">Findex, Findex32(3fml)</code></a>, <a href="rf3fml.html#wp1008555"><code class="cCode">Frstrindex, Frstrindex32(3fml)</code></a>, <a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a>, <a href="rf3fml.html#wp1009018"><code class="cCode">Fused, Fused32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011623"> </a>
Fielded, Fielded32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011624"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011625"> </a>
<code class="cCode">Fielded()</code>, <code class="cCode">Fielded32()</code> - return <code class="cCode">true</code> if buffer is fielded
</p>
<h4 class="pHeading3"><a name="wp1011626"> </a>
Synopsis
</h4>
<a name="wp1011627"> </a><div class="pPreformatted"><pre>#include stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fielded(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fielded32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1011628"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011629"> </a>
<code class="cCode">Fielded()</code> is used to test whether the specified buffer is fielded. fbfr is a pointer to a fielded buffer.
</p>
<p class="pBody"><a name="wp1011630"> </a>
<code class="cCode">Fielded32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102404"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fielded()</code> or <code class="cCode">Fielded32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011631"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011632"> </a>
<code class="cCode">Fielded()</code> returns <code class="cCode">true</code> if the buffer is fielded. It returns <code class="cCode">false</code> if the buffer is not fielded and does not set <code class="cCode">Ferror</code> in this case.
</p>
<h4 class="pHeading3"><a name="wp1011633"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011634"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011655"><code class="cCode">Finit, Finit32(3fml)</code></a>, <a href="rf3fml.html#wp1011821"><code class="cCode">Fneeded, Fneeded32(3fml)</code></a>, <a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011635"> </a>
Findex, Findex32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011636"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011637"> </a>
<code class="cCode">Findex()</code>, <code class="cCode">Findex32()</code> - index a fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1011638"> </a>
Synopsis
</h4>
<a name="wp1011639"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Findex(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDOCC <code class="cCodeEmphasis">intvl</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Findex32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDOCC32 <code class="cCodeEmphasis">intvl</code>)</pre></div><h4 class="pHeading3"><a name="wp1011640"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011641"> </a>
The function <code class="cCode">Findex()</code> is called explicitly to index a fielded buffer. fbfr is a pointer to a fielded buffer. The second parameter, intvl, gives the indexing interval, that is, the ideal separation of indexed fields. If this argument has value 0, then the buffer&#8217;s current indexing value is used. If the current value itself is 0, the value <code class="cCode">FSTDXINTVL</code> (defaults to 16) is used. Using an indexing value of 1 will ensure that every field in the buffer is indexed. The size of the index interval and the amount of space allocated to a buffer&#8217;s index are inversely proportional: the smaller the interval, the more fields are indexed and thus the larger the amount of space used for indexing. 
</p>
<p class="pBody"><a name="wp1011642"> </a>
<code class="cCode">Findex32()</code> is used with 32-bit FML. 
</p>
<p class="pBody"><a name="wp1102413"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Findex()</code> or <code class="cCode">Findex32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011643"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011644"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition. 
</p>
<h4 class="pHeading3"><a name="wp1011645"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011646"> </a>
Under the following conditions, <code class="cCode">Findex()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011647"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1011648"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary. 
</div>
<h4 class="pDefTerm"><a name="wp1011649"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1011650"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. 
</div>
<h4 class="pDefTerm"><a name="wp1011651"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1011652"> </a>
&quot;no space in fielded buffer&quot; <br />An ENTRY is to be added to the index but there is not enough space remaining in the buffer. 
</div>
<h4 class="pHeading3"><a name="wp1011653"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011654"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011605"><code class="cCode">Fidxused, Fidxused32(3fml)</code></a>, <a href="rf3fml.html#wp1008555"><code class="cCode">Frstrindex, Frstrindex32(3fml)</code></a>, <a href="rf3fml.html#wp1008878"><code class="cCode">Funindex, Funindex32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011655"> </a>
Finit, Finit32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011656"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011657"> </a>
<code class="cCode">Finit()</code>, <code class="cCode">Finit32()</code> - initialize fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1011658"> </a>
Synopsis
</h4>
<a name="wp1011659"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Finit(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDLEN <code class="cCodeEmphasis">buflen</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Finit32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDLEN32 <code class="cCodeEmphasis">buflen</code>)</pre></div><h4 class="pHeading3"><a name="wp1011660"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011661"> </a>
<code class="cCode">Finit()</code> can be called to initialize a fielded buffer statically. fbfr is a pointer to a fielded buffer. buflen is the length of the buffer. The function takes the buffer pointer and buffer length, and sets up the internal structure for a buffer with no fields. <code class="cCode">Finit()</code> can also be used to reinitialize a previously used buffer.
</p>
<p class="pBody"><a name="wp1011662"> </a>
<code class="cCode">Finit32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102933"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Finit()</code> or <code class="cCode">Finit32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011663"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011664"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011665"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011666"> </a>
Under the following conditions, <code class="cCode">Finit()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011667"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1011668"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011669"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1011670"> </a>
&quot;buffer not fielded&quot; <br />The buffer pointer is NULL.
</div>
<h4 class="pDefTerm"><a name="wp1011671"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1011672"> </a>
&quot;no space in fielded buffer&quot; <br />The buffer size specified is too small for a fielded buffer.
</div>
<h4 class="pHeading3"><a name="wp1011673"> </a>
Example
</h4>
<p class="pBody"><a name="wp1093782"> </a>
The correct way to reinitialize a buffer to have no fields is: <code class="cCode">Finit(fbfr, (FLDLEN)Fsizeof(fbfr));</code> 
</p>
<h4 class="pHeading3"><a name="wp1093783"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1093792"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1051680"><code class="cCode">Falloc, Falloc32(3fml)</code></a>, <a href="rf3fml.html#wp1011821"><code class="cCode">Fneeded, Fneeded32(3fml)</code></a>, <a href="rf3fml.html#wp1008509"><code class="cCode">Frealloc, Frealloc32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011677"> </a>
Fjoin, Fjoin32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011678"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011679"> </a>
<code class="cCode">Fjoin()</code>, <code class="cCode">Fjoin32()</code> - join source into destination buffer
</p>
<h4 class="pHeading3"><a name="wp1011680"> </a>
Synopsis
</h4>
<a name="wp1011681"> </a><div class="pPreformatted"><pre>#include stdio.h&gt; <br />#include &quot;fml.h&quot; <br />int <br />Fjoin(FBFR *<code class="cCodeEmphasis">dest</code>, FBFR *<code class="cCodeEmphasis">src</code>) <br />#include &quot;fml32.h&quot; <br />int <br />Fjoin32(FBFR32 *<code class="cCodeEmphasis">dest</code>, FBFR32 *<code class="cCodeEmphasis">src</code>)</pre></div><h4 class="pHeading3"><a name="wp1011682"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011683"> </a>
<code class="cCode">Fjoin()</code> is used to join two fielded buffers based on matching fieldid/occurrence. dest and src are pointers to the destination and source fielded buffers respectively. For fields that match on fieldid/occurrence, the field value is updated in the destination buffer with the value in the source buffer. Fields in the destination buffer that have no corresponding fieldid/occurrence in the source buffer are deleted. If joining buffers results in the removal of a <code class="cCode">FLD_PTR</code> field, the memory area referenced by the pointer is not modified or freed.
</p>
<p class="pBody"><a name="wp1011684"> </a>
This function may fail due to lack of space if the new values are larger than the old; in this case, the destination buffer is modified. If this happens, however, the destination buffer may be reallocated using <code class="cCode">Frealloc()</code> and repeated calls to the <code class="cCode">Fjoin()</code> function. Even if the destination buffer has been partially updated, the correct results are obtained by repeating the <code class="cCode">Fjoin()</code> function.
</p>
<p class="pBody"><a name="wp1011685"> </a>
<code class="cCode">Fjoin32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102942"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fjoin()</code> or <code class="cCode">Fjoin32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011686"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011687"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011688"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011689"> </a>
Under the following conditions, <code class="cCode">Fjoin()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011690"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1011691"> </a>
&quot;fielded buffer not aligned&quot; <br />Either the source buffer or the destination buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011692"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1011693"> </a>
&quot;buffer not fielded&quot; <br />Either the source buffer or the destination buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011694"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1011695"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added or changed in a field buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pHeading3"><a name="wp1011696"> </a>
Example
</h4>
<p class="pBody"><a name="wp1011697"> </a>
In the following example: 
</p>
<a name="wp1011698"> </a><div class="pPreformatted"><pre><code class="cCode">FBFR *src, *dest;  ...  if(Fjoin(dest,src)  0)  F_error(&quot;pgm_name&quot;);</code></pre></div><p class="pBody"><a name="wp1011699"> </a>
if <code class="cCode">dest</code> has fields A, B, and two occurrences of C, and <code class="cCode">src</code> has fields A, C, and D, the resultant <code class="cCode">dest</code> will have source field value A and source field value C.
</p>
<h4 class="pHeading3"><a name="wp1011700"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011701"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1006176"><code class="cCode">Fconcat, Fconcat32(3fml)</code></a>, <a href="rf3fml.html#wp1008235"><code class="cCode">Fojoin, Fojoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008359"><code class="cCode">Fproj, Fproj32(3fml)</code></a>, <a href="rf3fml.html#wp1008405"><code class="cCode">Fprojcpy, Fprojcpy32(3fml)</code></a>, <a href="rf3fml.html#wp1008509"><code class="cCode">Frealloc, Frealloc32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011702"> </a>
Fldid, Fldid32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011703"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011704"> </a>
<code class="cCode">Fldid()</code>, <code class="cCode">Fldid32()</code> - map field name to field identifier
</p>
<h4 class="pHeading3"><a name="wp1011705"> </a>
Synopsis
</h4>
<a name="wp1011706"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />FLDID <br />Fldid(char *<code class="cCodeEmphasis">name</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />FLDID32 <br />Fldid32(char *<code class="cCodeEmphasis">name</code>)</pre></div><h4 class="pHeading3"><a name="wp1011707"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011708"> </a>
<code class="cCode">Fldid()</code> provides a run-time translation of a field name to its field identifier and returns a <code class="cCode">FLDID</code> corresponding to its field name parameter. The first invocation causes space to be dynamically allocated for the field tables and the tables to be loaded. To recover data space used by the field tables loaded by <code class="cCode">Fldid()</code>, the user may unload the files by a call to the <code class="cCode">Fnmid_unload()</code> function.
</p>
<p class="pBody"><a name="wp1011709"> </a>
<code class="cCode">Fldid32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102951"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fldid()</code> or <code class="cCode">Fldid32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011710"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011711"> </a>
This function returns <code class="cCode">BADFLDID</code> on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011712"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011713"> </a>
Under the following conditions, <code class="cCode">Fldid()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011714"> </a>
[<code class="cCode">FBADNAME</code>]
</h4><div class="pDefPara"><a name="wp1011715"> </a>
&quot;unknown field name&quot; <br />A field name is specified which cannot be found in the field tables.
</div>
<h4 class="pDefTerm"><a name="wp1011716"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011717"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pHeading3"><a name="wp1011718"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011719"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011720"><code class="cCode">Fldno, Fldno32(3fml)</code></a>, <a href="rf3fml.html#wp1011803"><code class="cCode">Fname, Fname32(3fml)</code></a>, <a href="rf3fml.html#wp1008162"><code class="cCode">Fnmid_unload, Fnmid_unload32(3fml)</code></a>
</p>
<p class="pBody"><a name="wp1055701"> </a>
<code class="cCode">malloc</code>(3) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011720"> </a>
Fldno, Fldno32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011721"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011722"> </a>
<code class="cCode">Fldno()</code>, <code class="cCode">Fldno32()</code> - map field identifier to field number
</p>
<a name="wp1011723"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fldno(FLDID fieldid) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />long <br />Fldno32(FLDID32 fieldid)</pre></div><h4 class="pHeading3"><a name="wp1011724"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011725"> </a>
<code class="cCode">Fldno()</code> accepts a field identifier, fieldid, as a parameter and returns the field number contained in the identifier.
</p>
<p class="pBody"><a name="wp1011726"> </a>
<code class="cCode">Fldno32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102960"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fldno()</code> or <code class="cCode">Fldno32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011727"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011728"> </a>
This function returns the field number and does not return an error.
</p>
<h4 class="pHeading3"><a name="wp1011729"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011730"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011702"><code class="cCode">Fldid, Fldid32(3fml)</code></a>, <a href="rf3fml.html#wp1011731"><code class="cCode">Fldtype, Fldtype32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011731"> </a>
Fldtype, Fldtype32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011732"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011733"> </a>
<code class="cCode">Fldtype()</code>, <code class="cCode">Fldtype32()</code> - map field identifier to field type
</p>
<h4 class="pHeading3"><a name="wp1011734"> </a>
Synopsis
</h4>
<a name="wp1011735"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fldtype(FLDID <code class="cCodeEmphasis">fieldid</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fldtype32(FLDID32 <code class="cCodeEmphasis">fieldid</code>)</pre></div><h4 class="pHeading3"><a name="wp1011736"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011737"> </a>
<code class="cCode">Fldtype()</code> accepts a field identifier, fieldid, and returns the field type contained in the identifier (an integer), as defined in <code class="cCode">fml.h</code>.
</p>
<p class="pBody"><a name="wp1011738"> </a>
<code class="cCode">Fldtype32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102969"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fldtype()</code> or <code class="cCode">Fldtype32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011739"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011740"> </a>
This function returns the field type.
</p>
<h4 class="pHeading3"><a name="wp1011741"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011742"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011702"><code class="cCode">Fldid, Fldid32(3fml)</code></a>, <a href="rf3fml.html#wp1011720"><code class="cCode">Fldno, Fldno32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011743"> </a>
Flen, Flen32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011744"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011745"> </a>
<code class="cCode">Flen()</code>, <code class="cCode">Flen32()</code> - return <code class="cCode">len</code> of field occurrence in buffer
</p>
<h4 class="pHeading3"><a name="wp1011746"> </a>
Synopsis
</h4>
<a name="wp1011747"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Flen(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />long <br />Flen32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>) </pre></div><h4 class="pHeading3"><a name="wp1011748"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011749"> </a>
<code class="cCode">Flen()</code> finds the value of the specified field occurrence in the buffer and returns its length. <code class="cCodeEmphasis">fbfr</code> is a pointer to a fielded buffer. <code class="cCodeEmphasis">fieldid</code> is a field identifier. <code class="cCodeEmphasis">oc</code> is the occurrence number of the field.
</p>
<p class="pBody"><a name="wp1064169"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Flen32()</code> returns a fixed length for a pointer field based on <code class="cCode">sizeof(char*)</code>. For values of type <code class="cCode">FLD_FML32</code>, <code class="cCode">Flen32()</code> returns the value of <code class="cCode">Fused32()</code> for the length of the nested buffer. For values of type <code class="cCode">FLD_VIEW32</code>, <code class="cCode">Flen32()</code> returns the length of the view data plus the length of the viewname.
</p>
<p class="pBody"><a name="wp1200281"> </a>
For values of type <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">Flen32()</code> returns the length of the packed output created by the <code class="cCode">Fmbpack32()</code> function.
</p>
<p class="pBody"><a name="wp1011750"> </a>
<code class="cCode">Flen32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102978"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Flen()</code> or <code class="cCode">Flen32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011751"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011752"> </a>
On success, <code class="cCode">Flen()</code> returns the field length.
</p>
<p class="pBody"><a name="wp1011753"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011754"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011755"> </a>
Under the following conditions, <code class="cCode">Flen()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011756"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011757"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011758"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011759"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011760"> </a>
[<code class="cCode">FNOTPRES</code>] 
</h4><div class="pDefPara"><a name="wp1011761"> </a>
&quot;field not present&quot; <br />A field occurrence is requested but the specified field and/or occurrence was not found in the fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1011762"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011763"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1011764"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011765"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1008129"><code class="cCode">Fnum, Fnum32(3fml)</code></a>, <a href="rf3fml.html#wp1008286"><code class="cCode">Fpres, Fpres32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1182217"> </a>
Fmbpack32(3fml)
</h2><h4 class="pHeading3"><a name="wp1182218"> </a>
Name
</h4>
<p class="pBody"><a name="wp1182219"> </a>
<code class="cCode">Fmbpack32()</code> - prepare encoding name and multibyte data information
</p>
<h4 class="pHeading3"><a name="wp1182220"> </a>
Synopsis
</h4>
<a name="wp1182221"> </a><div class="pPreformatted"><pre>#include &quot;fml32.h&quot;</pre></div><a name="wp1182222"> </a><div class="pPreformatted"><pre>int<br />Fmbpack32 (char *<code class="cCodeEmphasis">enc</code>,void *<code class="cCodeEmphasis">ind</code>,FLDLEN32 <code class="cCodeEmphasis">indlen</code>,void <br />*<code class="cCodeEmphasis">packed</code>,FLDLEN32 *<code class="cCodeEmphasis">size</code>,long <code class="cCodeEmphasis">flags</code>)</pre></div><h4 class="pHeading3"><a name="wp1182223"> </a>
Description
</h4>
<p class="pBody"><a name="wp1182224"> </a>
<code class="cCode">Fmbpack32()</code> prepares the encoding name and multibyte data information for an <code class="cCode">FLD_MBSTRING</code> field input to an FML32 typed buffer. <code class="cCode">Fmbpack32()</code> is used before the <code class="cCode">FLD_MBSTRING</code> field is added to an FML32 buffer via FML32 APIs.
</p>
<p class="pBody"><a name="wp1182225"> </a>
<code class="cCodeEmphasis">enc</code>, if not NULL, is a NULL-terminated ASCII string containing the code-set encoding name for the <code class="cCodeEmphasis">ind</code> code-set multibyte data. If <code class="cCodeEmphasis">enc</code> is NULL and the <code class="cCodeEmphasis">flags</code> argument is 0, the encoding name that is to be included in the <code class="cCodeEmphasis">packed</code> output is obtained from the process <code class="cCode">TPMBENC</code> environment variable. If the <code class="cCodeEmphasis">flags</code> argument is <code class="cCode">FBUFENC</code>, <code class="cCodeEmphasis">enc</code> is ignored.
</p>
<p class="pBody"><a name="wp1182226"> </a>
<code class="cCodeEmphasis">ind</code> is the code-set multibyte data. 
</p>
<p class="pBody"><a name="wp1204230"> </a>
<code class="cCodeEmphasis">indlen</code> is the number of bytes in <code class="cCodeEmphasis">ind</code>.
</p>
<p class="pBody"><a name="wp1182227"> </a>
<code class="cCodeEmphasis">packed</code> is a pointer to an output for <code class="cCode">Fmbpack32()</code>. It is used as an input value to FML32 APIs that include <code class="cCode">FLD_MBSTRING</code> fields in an FML32 buffer. The packed area must be aligned on a FLDLEN32(TM32U) boundary.
</p>
<p class="pBody"><a name="wp1182228"> </a>
<code class="cCodeEmphasis">size</code>, on input, is the size of memory pointed to by <code class="cCodeEmphasis">packed</code>. If the size is not large enough to handle the result of <code class="cCode">Fmbpack32()</code>, <code class="cCode">FNOSPACE</code> is returned and <code class="cCodeEmphasis">size</code> is reset to the number of bytes that <code class="cCodeEmphasis">packed</code> should be. After successful execution of <code class="cCode">Fmbpack32()</code>, <code class="cCodeEmphasis">size</code> is reset to the actual number of bytes used.
</p>
<p class="pBody"><a name="wp1182229"> </a>
<code class="cCodeEmphasis">flags</code> is 0 or <code class="cCode">FBUFENC</code>. If <code class="cCodeEmphasis">flags</code> is set to <code class="cCode">FBUFENC</code>, <code class="cCode">Fmbpack32()</code> ignores the <code class="cCodeEmphasis">enc</code> argument and includes <code class="cCode">FBUFENC</code> with the input data to <code class="cCodeEmphasis">packed</code>. Without the inclusion of an encoding name, the <code class="cCodeEmphasis">packed</code> output forces the FML32 API processing the <code class="cCode">FLD_MBSTRING</code> field to get the encoding name from the FML32 buffer. Therefore, usage of <code class="cCode">FBUFENC</code> also requires the application developer to use <code class="cCode">tpsetmbenc()</code> to set the encoding name for the FML32 buffer.
</p>
<h4 class="pHeading3"><a name="wp1182230"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1182231"> </a>
On success, <code class="cCode">Fmbpack32()</code> returns a positive value. On error, <code class="cCode">Fmbpack32()</code> returns -1 and sets <code class="cCode">Ferror32</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1182232"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1182233"> </a>
Under the following conditions, <code class="cCode">Fmbpack32()</code> fails and sets <code class="cCode">Ferror32</code> to:
</p>
<h4 class="pDefTerm"><a name="wp1182234"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1182235"> </a>
<code class="cCodeEmphasis">ind</code>, <code class="cCodeEmphasis">packed</code>, or <code class="cCodeEmphasis">size</code> is NULL. <code class="cCodeEmphasis">enc</code> or <code class="cCodeEmphasis">indlen</code> is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1182236"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1182237"> </a>
The size of <code class="cCodeEmphasis">packed</code> is not sufficient to handle the result of <code class="cCode">Fmbpack32()</code>.
</div>
<h4 class="pHeading3"><a name="wp1182238"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1182248"> </a>
<a href="rf3fml.html#wp1182256"><code class="cCode">Fmbunpack32(3fml)</code></a>, <a href="rf3fml.html#wp1167007"><code class="cCode">tpconvfmb32(3fml)</code></a>, <a href="../rf3c/rf3c.html">tpsetmbenc(3c)</a>, <a href="../rf3c/rf3c.html">tuxgetmbenc(3c)</a>, <a href="../rf3c/rf3c.html">tuxsetmbenc(3c)</a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1182256"> </a>
Fmbunpack32(3fml)
</h2><h4 class="pHeading3"><a name="wp1182257"> </a>
Name
</h4>
<p class="pBody"><a name="wp1182258"> </a>
<code class="cCode">Fmbunpack32()</code> - extract encoding name and multibyte data information
</p>
<h4 class="pHeading3"><a name="wp1182259"> </a>
Synopsis
</h4>
<a name="wp1182260"> </a><div class="pPreformatted"><pre>#include &quot;fml32.h&quot;</pre></div><a name="wp1182261"> </a><div class="pPreformatted"><pre>int<br />Fmbunpack32 (void *<code class="cCodeEmphasis">packed</code>,FLDLEN32 <code class="cCodeEmphasis">ilen</code>,char *<code class="cCodeEmphasis">enc</code>,void <br />*<code class="cCodeEmphasis">outd</code>,FLDLEN32 *<code class="cCodeEmphasis">olen</code>,long <code class="cCodeEmphasis">flags</code>)</pre></div><h4 class="pHeading3"><a name="wp1182262"> </a>
Description
</h4>
<p class="pBody"><a name="wp1203671"> </a>
<code class="cCode">Fmbunpack32()</code> extracts the encoding name and multibyte data information from an <code class="cCode">FLD_MBSTRING</code> field in an FML32 typed buffer. <code class="cCode">Fmbunpack32()</code> is used after the <code class="cCode">FLD_MBSTRING</code> field is extracted from an FML32 buffer via FML32 APIs (<code class="cCode">Ffind32()</code>, <code class="cCode">Fget32()</code>, ...).
</p>
<p class="pBody"><a name="wp1203672"> </a>
<code class="cCodeEmphasis">packed</code> is a pointer to the <code class="cCode">FLD_MBSTRING</code> field data output from an FML32 API. 
</p>
<p class="pBody"><a name="wp1206704"> </a>
<code class="cCodeEmphasis">ilen</code> is the number of bytes for <code class="cCodeEmphasis">packed</code>.
</p>
<p class="pBody"><a name="wp1203710"> </a>
<code class="cCodeEmphasis">enc</code> is a NULL-terminated ASCII string in <code class="cCodeEmphasis">packed</code> containing the encoding name when the code-set encoding name for the <code class="cCode">FLD_MBSTRING</code> field is part of the <code class="cCodeEmphasis">packed</code> information. If the <code class="cCode">FLD_MBSTRING</code> field was created by <code class="cCode">Fmbpack32()</code> with flag <code class="cCode">FBUFENC</code>, <code class="cCodeEmphasis">enc</code> is set to NULL. For the latter case, the application developer must use <code class="cCode">tpgetmbenc()</code> on the FML32 buffer to get the encoding name for the <code class="cCode">FLD_MBSTRING</code> field.
</p>
<p class="pBody"><a name="wp1182266"> </a>
<code class="cCodeEmphasis">outd</code> contains the multibyte data extracted from <code class="cCodeEmphasis">packed</code> upon successful completion of <code class="cCode">Fmbunpack32()</code>.
</p>
<p class="pBody"><a name="wp1182267"> </a>
<code class="cCodeEmphasis">olen</code>, on input, is the size of memory pointed to by <code class="cCodeEmphasis">outd</code>. If the size is not large enough to handle the result of <code class="cCode">Fmbunpack32()</code>, <code class="cCode">FNOSPACE</code> is returned and <code class="cCodeEmphasis">olen</code> is reset to the number of bytes that <code class="cCodeEmphasis">outd</code> should be. After successful execution of <code class="cCode">Fmbunpack32()</code>, <code class="cCodeEmphasis">olen</code> is reset to the actual number of bytes used.
</p>
<p class="pBody"><a name="wp1182268"> </a>
<code class="cCodeEmphasis">flags</code> is currently not used and should be set to 0.
</p>
<h4 class="pHeading3"><a name="wp1182269"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1182270"> </a>
On success, <code class="cCode">Fmbunpack32()</code> returns a positive value. On error, <code class="cCode">Fmbunpack32()</code> returns -1 and sets <code class="cCode">Ferror32</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1182271"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1182272"> </a>
Under the following conditions, <code class="cCode">Fmbunpack32()</code> fails and sets <code class="cCode">Ferror32</code> to:
</p>
<h4 class="pDefTerm"><a name="wp1182273"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1182274"> </a>
<code class="cCodeEmphasis">outd</code>, <code class="cCodeEmphasis">olen</code>, or <code class="cCodeEmphasis">packed</code> is NULL. <code class="cCodeEmphasis">packed</code> or <code class="cCodeEmphasis">ilen</code> is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1182275"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1182276"> </a>
The size of <code class="cCodeEmphasis">outd</code> is not sufficient to handle the result of <code class="cCode">Fmbunpack32()</code>.
</div>
<h4 class="pHeading3"><a name="wp1182277"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1182290"> </a>
<a href="rf3fml.html#wp1182217"><code class="cCode">Fmbpack32(3fml)</code></a>, <a href="rf3fml.html#wp1167007"><code class="cCode">tpconvfmb32(3fml)</code></a>, <a href="../rf3c/rf3c.html">tpgetmbenc(3c)</a>, <a href="../rf3c/rf3c.html">tuxgetmbenc(3c)</a>, <a href="../rf3c/rf3c.html">tuxsetmbenc(3c)</a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011766"> </a>
Fmkfldid, Fmkfldid32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011767"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011768"> </a>
<code class="cCode">Fmkfldid()</code>, <code class="cCode">Fmkfldid32()</code> - make a field identifier
</p>
<a name="wp1011769"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />FLDID <br />Fmkfldid(int <code class="cCodeEmphasis">type</code>, FLDID <code class="cCodeEmphasis">num</code>) <br /> <br />#include &quot;fml.h&quot; <br /> <br />FLDID32 <br />Fmkfldid32(int <code class="cCodeEmphasis">type</code>, FLDID32 <code class="cCodeEmphasis">num</code>)</pre></div><h4 class="pHeading3"><a name="wp1011770"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011771"> </a>
<code class="cCode">Fmkfldid()</code> allows the creation of a valid field identifier from a valid type (as defined in <code class="cCode">fml.h</code>) and a field number. This is useful for writing an application generator that chooses field numbers sequentially, or for recreating a field identifier.
</p>
<p class="pBody"><a name="wp1011772"> </a>
type is a valid type (an integer; see <a href="rf3fml.html#wp1011731"><code class="cCode">Fldtype, Fldtype32(3fml)</code></a>). num is a field number (it should be an unused field number to avoid confusion with existing fields).
</p>
<p class="pBody"><a name="wp1011773"> </a>
<code class="cCode">Fmkfldid32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102987"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fmkfldid()</code> or <code class="cCode">Fmkfldid32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011774"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011775"> </a>
This function returns <code class="cCode">BADFLDID</code> on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011776"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011777"> </a>
Under the following conditions, <code class="cCode">Fmkfldid()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011778"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1011779"> </a>
&quot;unknown field number or type&quot; <br />A field number is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1011780"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1011781"> </a>
&quot;invalid field type&quot; <br />A field type is specified which is not valid (as defined in <code class="cCode">fml.h</code>).
</div>
<h4 class="pHeading3"><a name="wp1011782"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011783"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011731"><code class="cCode">Fldtype, Fldtype32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011784"> </a>
Fmove, Fmove32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011785"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011786"> </a>
<code class="cCode">Fmove()</code>, <code class="cCode">Fmove32()</code> - move fielded buffer to destination
</p>
<h4 class="pHeading3"><a name="wp1011787"> </a>
Synopsis
</h4>
<a name="wp1011788"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fmove(char *<code class="cCodeEmphasis">dest</code>, FBFR *<code class="cCodeEmphasis">src</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fmove32(char *<code class="cCodeEmphasis">dest</code>, FBFR32 *<code class="cCodeEmphasis">src</code>)</pre></div><h4 class="pHeading3"><a name="wp1011789"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011790"> </a>
<code class="cCode">Fmove()</code> should be used when copying from a fielded buffer to any type of buffer. dest and src are pointers to the destination buffer and the source fielded buffers respectively.
</p>
<p class="pBody"><a name="wp1011791"> </a>
The difference between <code class="cCode">Fmove()</code> and <code class="cCode">Fcpy()</code> is that <code class="cCode">Fcpy()</code> expects the destination to be a fielded buffer and thus can make sure it is of sufficient size to accommodate the data from the source buffer. <code class="cCode">Fmove()</code> makes no such check, blindly moving <code class="cCode">Fsizeof()</code> bytes of data from the source fielded buffer to the target buffer. The destination buffer must be aligned on a short boundary.
</p>
<p class="pBody"><a name="wp1058546"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fmove32()</code> transfers the buffer pointer. The application programmer must manage the reallocation and freeing of buffers when the associated pointer is moved.
</p>
<p class="pBody"><a name="wp1011792"> </a>
<code class="cCode">Fmove32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1102996"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fmove()</code> or <code class="cCode">Fmove32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011793"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011794"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011795"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011796"> </a>
Under the following conditions, <code class="cCode">Fmove()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011797"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1011798"> </a>
&quot;fielded buffer not aligned&quot; <br />The source or destination buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011799"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1011800"> </a>
&quot;buffer not fielded&quot; <br />The source buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1011801"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011802"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1006132"><code class="cCode">Fcpy, Fcpy32(3fml)</code></a>, <a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011803"> </a>
Fname, Fname32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011804"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011805"> </a>
<code class="cCode">Fname()</code>, <code class="cCode">Fname32()</code> - map field identifier to field name
</p>
<h4 class="pHeading3"><a name="wp1011806"> </a>
Synopsis
</h4>
<a name="wp1011807"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />char * <br />Fname(FLDID <code class="cCodeEmphasis">fieldid</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />char * <br />Fname32(FLDID32 <code class="cCodeEmphasis">fieldid</code>)</pre></div><h4 class="pHeading3"><a name="wp1011808"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011809"> </a>
<code class="cCode">Fname()</code> provides a run-time translation of a field identifier, fieldid, to its field name and returns a pointer to a character string containing the name corresponding to its argument. The first invocation causes space to be dynamically allocated for the field tables and the tables to be loaded. The table space used by the mapping tables created by <code class="cCode">Fname()</code> may be recovered by a call to the function <code class="cCode">Fidnm_unload()</code>.
</p>
<p class="pBody"><a name="wp1011810"> </a>
<code class="cCode">Fname32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103008"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fname()</code> or <code class="cCode">Fname32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<p class="pBody"><a name="wp1215044"> </a>
The returned pointer is maintained in an internal FML table. If a multi-threaded application decides to de-reference the returned pointer, thread-safety should be ensured by the application code itself. Specifically, the pointer returned by <code class="cCode">Fname</code> should not be de-referenced, once <code class="cCode">Fnmid_unload/Fidnm_unload</code> is issued.
</p>
<h4 class="pHeading3"><a name="wp1011811"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011812"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011813"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011814"> </a>
Under the following conditions, <code class="cCode">Fname()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011815"> </a>
[<code class="cCode">FBADFLD</code>]
</h4><div class="pDefPara"><a name="wp1011816"> </a>
&quot;unknown field number or type&quot; <br />A field number is specified for which a field name cannot be found or is invalid (0).
</div>
<h4 class="pDefTerm"><a name="wp1011817"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1011818"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pHeading3"><a name="wp1011819"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011820"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011422"><code class="cCode">Ffprint, Ffprint32(3fml)</code></a>, <a href="rf3fml.html#wp1011593"><code class="cCode">Fidnm_unload, Fidnm_unload32(3fml)</code></a>, <a href="rf3fml.html#wp1011702"><code class="cCode">Fldid, Fldid32(3fml)</code></a>, <a href="rf3fml.html#wp1008320"><code class="cCode">Fprint, Fprint32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011821"> </a>
Fneeded, Fneeded32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011822"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011823"> </a>
<code class="cCode">Fneeded()</code>, <code class="cCode">Fneeded32()</code> - compute size needed for buffer
</p>
<h4 class="pHeading3"><a name="wp1011824"> </a>
Synopsis
</h4>
<a name="wp1011825"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />long <br />Fneeded(FLDOCC <code class="cCodeEmphasis">F</code>, FLDLEN <code class="cCodeEmphasis">V</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />long <br />Fneeded32(FLDOCC32 <code class="cCodeEmphasis">F</code>, FLDLEN32 <code class="cCodeEmphasis">V</code>)</pre></div><h4 class="pHeading3"><a name="wp1011826"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011827"> </a>
<code class="cCode">Fneeded()</code> is used to determine the space that must be allocated for a fielded buffer. The F argument is the number of fields, and the V argument is the space for all field values, in bytes.
</p>
<p class="pBody"><a name="wp1011828"> </a>
<code class="cCode">Fneeded32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103017"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fneeded()</code> or <code class="cCode">Fneeded32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011829"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011830"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011831"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011832"> </a>
Under the following conditions, <code class="cCode">Fneeded()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011833"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1011834"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid (for example, number of fields is less than 0, V is 0 or total size is greater than 65534).
</div>
<h4 class="pHeading3"><a name="wp1055755"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1055756"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1051680"><code class="cCode">Falloc, Falloc32(3fml)</code></a>, <a href="rf3fml.html#wp1011623"><code class="cCode">Fielded, Fielded32(3fml)</code></a>, <a href="rf3fml.html#wp1011655"><code class="cCode">Finit, Finit32(3fml)</code></a>, <a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a>, <a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a>, <a href="rf3fml.html#wp1009018"><code class="cCode">Fused, Fused32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011837"> </a>
Fnext, Fnext32(3fml)
</h2><h4 class="pHeading3"><a name="wp1011838"> </a>
Name
</h4>
<p class="pBody"><a name="wp1011839"> </a>
<code class="cCode">Fnext()</code>, <code class="cCode">Fnext32()</code> - get next field occurrence
</p>
<h4 class="pHeading3"><a name="wp1011840"> </a>
Synopsis
</h4>
<a name="wp1099005"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fnext(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID *<code class="cCodeEmphasis">fieldid</code>, FLDOCC *<code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN *<code class="cCodeEmphasis">len</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fnext32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 *<code class="cCodeEmphasis">fieldid</code>, FLDOCC32 *<code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">value</code>, FLDLEN32 *<code class="cCodeEmphasis">len</code>) </pre></div><h4 class="pHeading3"><a name="wp1099006"> </a>
Description
</h4>
<p class="pBody"><a name="wp1011843"> </a>
<code class="cCode">Fnext()</code> finds the next field in the buffer after the specified field occurrence. fbfr is a pointer to a fielded buffer. fieldid is a pointer to a field identifier. oc is a pointer to the occurrence number of the field. <span style="font-style: italic">value</span> is a pointer to the value of the next field. len is the length of the next value.
</p>
<p class="pBody"><a name="wp1011844"> </a>
The field identifier, <code class="cCode">FIRSTFLDID</code>, should be specified to get the first field in the buffer (for example, on the first call to <code class="cCode">Fnext()</code>). If value is not NULL, the next field value is copied into value; <code class="cCode">*</code><em class="cEmphasis">len</em> is used to determine if the buffer has enough space allocated to contain the value. The value&#8217;s length is returned in <code class="cCode">*</code><em class="cEmphasis">len</em>. If len is NULL when the function is called, it is assumed that there is enough space and the new value length is not returned. If value is NULL, the value is not retrieved and only fieldid and oc are updated. The <code class="cCode">*</code><em class="cEmphasis">fieldid</em> and <code class="cCode">*</code><em class="cEmphasis">oc</em> parameters are respectively set to the next found field and occurrence. If no more fields are found, 0 is returned (end of buffer) and <code class="cCode">*</code><em class="cEmphasis">fieldid</em>, <code class="cCode">*</code><em class="cEmphasis">oc</em>, and <code class="cCode">*</code><em class="cEmphasis">value</em> are left unchanged. Fields are returned in field identifier order.
</p>
<p class="pBody"><a name="wp1011845"> </a>
Although the type of value is <code class="cCode">char</code> <code class="cCode">*</code>, the value returned will be of the same type as the next field being retrieved.
</p>
<p class="pBody"><a name="wp1064596"> </a>
When the type of the field to be retrieved is <code class="cCode">FLD_VIEW32</code>, the <code class="cCodeEmphasis">value</code> parameter points to a <code class="cCode">FVIEWFLD</code> structure. The <code class="cCode">Fnext()</code> function populates the <code class="cCodeEmphasis">vname</code> and <code class="cCodeEmphasis">data</code> fields in the structure.
</p>
<p class="pBody"><a name="wp1011846"> </a>
<code class="cCode">Fnext32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103026"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fnext()</code> or <code class="cCode">Fnext32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1011847"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1011848"> </a>
<code class="cCode">Fnext()</code> returns 1 when the next occurrence is successfully found. It returns 0 when the end of the buffer is reached.
</p>
<p class="pBody"><a name="wp1011849"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1011850"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1011851"> </a>
Under the following conditions, <code class="cCode">Fnext()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1011852"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1011853"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1011854"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1011855"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1011856"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1011857"> </a>
&quot;no space&quot; <br />The size of value, as specified in len, is not large enough to hold the field value.
</div>
<h4 class="pDefTerm"><a name="wp1011858"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1011859"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, specifying NULL for fieldid or <span style="font-style: italic">oc</span>).
</div>
<h4 class="pHeading3"><a name="wp1011860"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1011861"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011464"><code class="cCode">Fget, Fget32(3fml)</code></a>, <a href="rf3fml.html#wp1008129"><code class="cCode">Fnum, Fnum32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008162"> </a>
Fnmid_unload, Fnmid_unload32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008163"> </a>
<code class="cCode">Name</code>
</h4>
<p class="pBody"><a name="wp1008164"> </a>
<code class="cCode">Fnmid_unload()</code>, <code class="cCode">Fnmid_unload32()</code> - recover space from <code class="cCodeEmphasis">nm-&gt;id</code> mapping tables
</p>
<h4 class="pHeading3"><a name="wp1008165"> </a>
Synopsis
</h4>
<a name="wp1008166"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br />void Fnmid_unload(void) <br />#include &quot;fml32.h&quot; <br />void Fnmid_unload32(void)</pre></div><h4 class="pHeading3"><a name="wp1008167"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008168"> </a>
To recover data space used by the field tables loaded by <code class="cCode">Fldid()</code>, the user may unload the files by a call to the <code class="cCode">Fnmid_unload()</code> function.
</p>
<p class="pBody"><a name="wp1008169"> </a>
<code class="cCode">Fnmid_unload32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103042"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fnmid_unload()</code> or <code class="cCode">Fnmid_unload32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008170"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008171"> </a>
This function is declared as a <code class="cCode">void</code> and so does not return anything.
</p>
<h4 class="pHeading3"><a name="wp1008172"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008173"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011593"><code class="cCode">Fidnm_unload, Fidnm_unload32(3fml)</code></a>, <a href="rf3fml.html#wp1011702"><code class="cCode">Fldid, Fldid32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008129"> </a>
Fnum, Fnum32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008130"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008131"> </a>
<code class="cCode">Fnum()</code>, <code class="cCode">Fnum32()</code> - return count of all occurrences in buffer
</p>
<h4 class="pHeading3"><a name="wp1008132"> </a>
Synopsis
</h4>
<a name="wp1008133"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />FLDOCC <br />Fnum(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />FLDOCC32 <br />Fnum32(FBFR *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1008134"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008135"> </a>
<code class="cCode">Fnum()</code> returns the number of fields contained in the specified buffer. fbfr is a pointer to a fielded buffer. The <code class="cCode">FLD_FML32</code> and <code class="cCode">FLD_VIEW32</code> fields are each counted as a single field, regardless of the number of fields they contain.
</p>
<p class="pBody"><a name="wp1008136"> </a>
<code class="cCode">Fnum32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103051"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fnum()</code> or <code class="cCode">Fnum32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008137"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008138"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008139"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008140"> </a>
Under the following conditions, <code class="cCode">Fnum()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008141"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008142"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008143"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008144"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1008145"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008146"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1008195"><code class="cCode">Foccur, Foccur32(3fml)</code></a>, <a href="rf3fml.html#wp1008286"><code class="cCode">Fpres, Fpres32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008195"> </a>
Foccur, Foccur32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008196"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008197"> </a>
<code class="cCode">Foccur()</code>, <code class="cCode">Foccur32()</code> - return count of field occurrences in buffer
</p>
<h4 class="pHeading3"><a name="wp1008198"> </a>
Synopsis
</h4>
<a name="wp1008199"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />FLDOCC <br />Foccur(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />FLDOCC32 Foccur32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>)</pre></div><h4 class="pHeading3"><a name="wp1008200"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008201"> </a>
<code class="cCode">Foccur()</code> is used to determine the number of occurrences of the field specified by <code class="cCodeEmphasis">fieldid</code> in the buffer referenced by <code class="cCodeEmphasis">fbfr</code>. Occurrences of a field within an embedded FML32 buffer are not counted, as in the <code class="cCode">FLD_FML32</code> field type.
</p>
<p class="pBody"><a name="wp1008202"> </a>
<code class="cCode">Foccur32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103060"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Foccur()</code> or <code class="cCode">Foccur32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008203"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008204"> </a>
On success, <code class="cCode">Foccur()</code> returns the number of occurrences; if none are found, it returns&#160;0.
</p>
<p class="pBody"><a name="wp1008205"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008206"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008207"> </a>
Under the following conditions, <code class="cCode">Foccur()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008208"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008209"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008210"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008211"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1008212"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008213"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1008214"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008215"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1008129"><code class="cCode">Fnum, Fnum32(3fml)</code></a>, <a href="rf3fml.html#wp1008286"><code class="cCode">Fpres, Fpres32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008235"> </a>
Fojoin, Fojoin32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008236"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008237"> </a>
<code class="cCode">Fojoin()</code>, <code class="cCode">Fojoin32()</code> - outer join source into destination buffer
</p>
<a name="wp1008238"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fojoin(FBFR *<code class="cCodeEmphasis">dest</code>, FBFR *<code class="cCodeEmphasis">src</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fojoin32(FBFR32 *<code class="cCodeEmphasis">dest</code>, FBFR32 *<code class="cCodeEmphasis">src</code>)</pre></div><h4 class="pHeading3"><a name="wp1008239"> </a>
Description
</h4>
<p class="pBody"><a name="wp1064149"> </a>
<code class="cCode">Fojoin()</code> is similar to <code class="cCode">Fjoin()</code>, but it keeps fields from the destination buffer, dest, that have no corresponding fieldid/occurrence in the source buffer, src. Fields that exist in the source buffer that have no corresponding fieldid/occurrence in the destination buffer are not added to the destination buffer. If joining buffers results in the removal of a <code class="cCode">FLD_PTR</code> field, the memory area referenced by the pointer is not modified or freed.
</p>
<p class="pBody"><a name="wp1008241"> </a>
As with <code class="cCode">Fjoin()</code>, this function can fail for lack of space; it can be reissued to complete the operation after more space is allocated.
</p>
<p class="pBody"><a name="wp1008242"> </a>
<code class="cCode">Fojoin32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103069"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fojoin()</code> or <code class="cCode">Fojoin32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008243"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008244"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008245"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008246"> </a>
Under the following conditions, <code class="cCode">Fojoin()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008247"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008248"> </a>
&quot;fielded buffer not aligned&quot; <br />Either the source buffer or the destination buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008249"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008250"> </a>
&quot;buffer not fielded&quot; <br />Either the source buffer or the destination buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1008251"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1008252"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added or changed in a field buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pHeading3"><a name="wp1008253"> </a>
Example
</h4>
<p class="pBody"><a name="wp1008254"> </a>
In the following example, 
</p>
<a name="wp1008255"> </a><div class="pPreformatted"><pre><code class="cCode">if(Fojoin(dest,src) 0)<br />  F_error(&quot;pgm_name&quot;);</code></pre></div><p class="pBody"><a name="wp1008256"> </a>
if <code class="cCode">dest</code> has fields A, B, and two occurrences of C, and <code class="cCode">src</code> has fields A, C, and D, the resultant <code class="cCode">dest</code> will contain the source field value A, the destination field value B, the source field value C, and the second destination field value C.
</p>
<h4 class="pHeading3"><a name="wp1008257"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008258"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1006176"><code class="cCode">Fconcat, Fconcat32(3fml)</code></a>, <a href="rf3fml.html#wp1011677"><code class="cCode">Fjoin, Fjoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008359"><code class="cCode">Fproj, Fproj32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008286"> </a>
Fpres, Fpres32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008287"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008288"> </a>
<code class="cCode">Fpres()</code>, <code class="cCode">Fpres32()</code> - <code class="cCode">true</code> if field occurrence is present in buffer
</p>
<a name="wp1120732"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br /> <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fpres(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fpres32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>)</pre></div><h4 class="pHeading3"><a name="wp1008290"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008291"> </a>
<code class="cCode">Fpres()</code> is used to detect whether a given occurrence (<code class="cCodeEmphasis">oc</code>) of a specified field (<code class="cCodeEmphasis">fieldid</code>) exists in the buffer referenced by <code class="cCodeEmphasis">fbfr</code>. <code class="cCode">Fpres32()</code> does not check for occurrences of the specified field within an embedded buffer, as in the <code class="cCode">FLD_FML32</code> field type.
</p>
<p class="pBody"><a name="wp1008292"> </a>
<code class="cCode">Fpres32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103078"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fpres()</code> or <code class="cCode">Fpres32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008293"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008294"> </a>
<code class="cCode">Fpres()</code> returns <code class="cCode">true</code> if the specified occurrence exists and <code class="cCode">false</code> otherwise.
</p>
<h4 class="pHeading3"><a name="wp1008295"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008296"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a>, <a href="rf3fml.html#wp1008129"><code class="cCode">Fnum, Fnum32(3fml)</code></a>, <a href="rf3fml.html#wp1008195"><code class="cCode">Foccur, Foccur32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008320"> </a>
Fprint, Fprint32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008321"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008322"> </a>
<code class="cCode">Fprint()</code>, <code class="cCode">Fprint32()</code> - print buffer to standard output
</p>
<h4 class="pHeading3"><a name="wp1008323"> </a>
Synopsis
</h4>
<a name="wp1008324"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fprint(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fprint32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1008325"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008326"> </a>
<code class="cCode">Fprint()</code> prints the specified buffer to the standard output. fbfr is a pointer to a fielded buffer. For each field in the buffer, the output prints the field name and field value separated by a tab. <code class="cCode">Fname()</code> is used to determine the field name; if the field name cannot be determined, then the field identifier is printed. Non-printable characters in string and character array field values are represented by a backslash followed by their two-character hexadecimal value. A newline is printed following the output of the printed buffer.
</p>
<p class="pBody"><a name="wp1063810"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fprint32()</code> prints the field name or field identifier and the pointer value in hexadecimal. Although this function prints pointer information, the<code class="cCode"> Fextread32()</code> function ignores the <code class="cCode">FLD_PTR</code> field type.
</p>
<p class="pBody"><a name="wp1063811"> </a>
For values of type <code class="cCode">FLD_FML32</code>, <code class="cCode">Fprint32()</code> recursively prints the FML32 buffer, with leading tabs added for each level of nesting. For values of type <code class="cCode">FLD_VIEW32</code>, <code class="cCode">Fprint32()</code> prints the VIEW32 field name and structure member name/value pairs.
</p>
<p class="pBody"><a name="wp1008327"> </a>
<code class="cCode">Fprint32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103087"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fprint()</code> or <code class="cCode">Fprint32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008328"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008329"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008330"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008331"> </a>
Under the following conditions, <code class="cCode">Fprint()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008332"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008333"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008334"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008335"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1008336"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1008337"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed.
</div>
<h4 class="pHeading3"><a name="wp1008338"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008339"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011241"><code class="cCode">Fextread, Fextread32(3fml)</code></a>, <a href="rf3fml.html#wp1011422"><code class="cCode">Ffprint, Ffprint32(3fml)</code></a>, <a href="rf3fml.html#wp1011803"><code class="cCode">Fname, Fname32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008359"> </a>
Fproj, Fproj32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008360"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008361"> </a>
<code class="cCode">Fproj()</code>, <code class="cCode">Fproj32()</code> - projection on buffer
</p>
<h4 class="pHeading3"><a name="wp1008362"> </a>
Synopsis
</h4>
<a name="wp1008363"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fproj(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID *<code class="cCodeEmphasis">fieldid</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fproj32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 *<code class="cCodeEmphasis">fieldid</code>)</pre></div><h4 class="pHeading3"><a name="wp1008364"> </a>
Description
</h4>
<p class="pBody"><a name="wp1064158"> </a>
<code class="cCode">Fproj()</code> is used to update a buffer so as to keep only the desired fields. fbfr is a pointer to a fielded buffer. The desired fields are specified in an array of field identifiers pointed to by fieldid. The last entry in the array must be <code class="cCode">BADFLDID</code>. The update is done in place; fields that are not in the result of the projection are deleted from the fielded buffer. The array of field identifiers may be rearranged. (If they are not already in numeric order, they are sorted.) If updating buffers results in the removal of a <code class="cCode">FLD_PTR</code> field, the memory area referenced by the pointer is not modified or freed.
</p>
<p class="pBody"><a name="wp1008366"> </a>
<code class="cCode">Fproj32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103092"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fproj()</code> or <code class="cCode">Fproj32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1104511"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008368"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008369"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008370"> </a>
Under the following conditions, <code class="cCode">Fproj()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008371"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008372"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008373"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008374"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1008375"> </a>
Example
</h4>
<a name="wp1099111"> </a><div class="pPreformatted"><pre>#include &quot;fld.tbl.h&quot; <br />FBFR *fbfr; <br />FLDID fieldid[20]; <br />... <br />fieldid[0] = A;          /* field ID for field A */ <br />fieldid[1] = D;          /* field ID for field D */ <br />fieldid[2] = BADFLDID;   /* sentinel value */ <br />...  <br />if(Fproj(fbfr, fieldid)  0) <br />    F_error(&quot;pgm_name&quot;);</pre></div><p class="pBody"><a name="wp1008377"> </a>
If the buffer has fields A, B, C, and D, the example results in a buffer that contains only occurrences of fields A and D. The entries in the array of field identifiers do not need to be in any specific order, but the last value in the array of field identifiers must be field identifier 0 (<code class="cCode">BADFLDID</code>).
</p>
<h4 class="pHeading3"><a name="wp1008378"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008379"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011677"><code class="cCode">Fjoin, Fjoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008235"><code class="cCode">Fojoin, Fojoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008405"><code class="cCode">Fprojcpy, Fprojcpy32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008405"> </a>
Fprojcpy, Fprojcpy32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008406"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008407"> </a>
<code class="cCode">Fprojcpy()</code>, <code class="cCode">Fprojcpy32()</code> - projection and copy on buffer
</p>
<h4 class="pHeading3"><a name="wp1008408"> </a>
Synopsis
</h4>
<a name="wp1008409"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fprojcpy(FBFR *<code class="cCodeEmphasis">dest</code>, FBFR *<code class="cCodeEmphasis">src</code>, FLDID *<code class="cCodeEmphasis">fieldid</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fprojcpy32(FBFR32 *<code class="cCodeEmphasis">dest</code>, FBFR32 *<code class="cCodeEmphasis">src</code>, FLDID32 *<code class="cCodeEmphasis">fieldid</code>)</pre></div><h4 class="pHeading3"><a name="wp1008410"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008411"> </a>
<code class="cCode">Fprojcpy()</code> is similar to <code class="cCode">Fproj()</code> but the projection is done into a destination buffer instead of in-place. dest and src are pointers to the destination and source fielded buffers respectively. fieldid is a pointer to an array of field identifiers. Any fields in the destination buffer are first deleted and the results of the projection on the source buffer are put into the destination buffer. The source buffer is not changed. The array of field identifiers may be rearranged. (If they are not already in numeric order, they are sorted.) If updating buffers results in the removal of a <code class="cCode">FLD_PTR</code> field, the memory area referenced by the pointer is not modified or freed.
</p>
<p class="pBody"><a name="wp1008412"> </a>
This function can fail for lack of space; it can be reissued after allocating enough additional space to complete the operation.
</p>
<p class="pBody"><a name="wp1008413"> </a>
<code class="cCode">Fprojcpy32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103103"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fprojcpy()</code> or <code class="cCode">Fprojcpy32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008414"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1021256"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1021257"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1021258"> </a>
Under the following conditions, <code class="cCode">Fprojcpy()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008418"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1008419"> </a>
&quot;fielded buffer not aligned&quot; <br />Either the source buffer or the destination buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008420"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008421"> </a>
&quot;buffer not fielded&quot; <br />Either the source buffer or the destination buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1008422"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1008423"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be copied to the destination fielded buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pHeading3"><a name="wp1008424"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008425"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011677"><code class="cCode">Fjoin, Fjoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008235"><code class="cCode">Fojoin, Fojoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008359"><code class="cCode">Fproj, Fproj32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008455"> </a>
Fread, Fread32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008456"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008457"> </a>
<code class="cCode">Fread()</code>, <code class="cCode">Fread32()</code> - read fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1008458"> </a>
Synopsis
</h4>
<a name="wp1008459"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fread(FBFR *<code class="cCodeEmphasis">fbfr</code>, FILE *<code class="cCodeEmphasis">iop</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fread32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FILE32 *<code class="cCodeEmphasis">iop</code>)</pre></div><h4 class="pHeading3"><a name="wp1008460"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008461"> </a>
Fielded buffers may be read from file streams using <code class="cCode">Fread()</code>. fbfr is a pointer to a fielded buffer. iop is a pointer of type <code class="cCode">FILE</code> to the input stream. (See <code class="cCode">stdio</code>(3S) in a UNIX system reference manual for a discussion of streams). <code class="cCode">Fread()</code> reads the fielded buffer from the stream into <code class="cCodeEmphasis">fbfr</code>, clearing any data previously stored in the buffer, and recreates the buffer&#8217;s index. <code class="cCode">Fread32()</code> ignores the <code class="cCode">FLD_PTR</code> field type. No error is returned if a value of type <code class="cCode">FLD_PTR</code> is supplied to the function.
</p>
<p class="pBody"><a name="wp1008462"> </a>
<code class="cCode">Fread32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103112"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fread()</code> or <code class="cCode">Fread32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008463"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008464"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008465"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008466"> </a>
Under the following conditions, <code class="cCode">Fread()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008467"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008468"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008469"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008470"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>. This error is also returned if the data that is read is not a fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1008471"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1008472"> </a>
&quot;no space in fielded buffer&quot; <br />There is not enough space in the buffer to hold the fielded buffer being read from the stream.
</div>
<h4 class="pDefTerm"><a name="wp1008473"> </a>
[<code class="cCode">FEUNIX</code>] 
</h4><div class="pDefPara"><a name="wp1008474"> </a>
&quot;UNIX system call error&quot; <br />The <code class="cCode">read()</code> system call failed. The external integer <code class="cCode">errno</code> should have been set to indicate the error by the system call.
</div>
<h4 class="pHeading3"><a name="wp1008475"> </a>
Portability
</h4>
<p class="pBody"><a name="wp1008476"> </a>
This function is not supported using the Oracle Tuxedo System Workstation DLL for Windows.
</p>
<h4 class="pHeading3"><a name="wp1008477"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008478"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011635"><code class="cCode">Findex, Findex32(3fml)</code></a>, <a href="rf3fml.html#wp1009588"><code class="cCode">Fwrite, Fwrite32(3fml)</code></a>
</p>
<p class="pBody"><a name="wp1055828"> </a>
<code class="cCode">stdio</code>(3S) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008509"> </a>
Frealloc, Frealloc32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008510"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008511"> </a>
<code class="cCode">Frealloc()</code>, <code class="cCode">Frealloc32()</code> - reallocate fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1008512"> </a>
Synopsis
</h4>
<a name="wp1008513"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />FBFR * <br />Frealloc(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDOCC <code class="cCodeEmphasis">nf</code>, FLDLEN <code class="cCodeEmphasis">nv</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />FBFR32 * <br />Frealloc32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDOCC32 <code class="cCodeEmphasis">nf</code>, FLDLEN32 <code class="cCodeEmphasis">nv</code>)</pre></div><h4 class="pHeading3"><a name="wp1008514"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008515"> </a>
<code class="cCode">Frealloc()</code> can be used to reallocate space to enlarge a fielded buffer. fbfr is a pointer to a fielded buffer. The second and third parameters are the new number of fields, nf, and the new number of bytes value space, nv. These are not increments.
</p>
<p class="pBody"><a name="wp1008516"> </a>
<code class="cCode">Frealloc32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103121"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Frealloc()</code> or <code class="cCode">Frealloc32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008517"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008518"> </a>
On success, <code class="cCode">Frealloc()</code> returns a pointer to the reallocated FBFR.
</p>
<p class="pBody"><a name="wp1008519"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008520"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008521"> </a>
Under the following conditions, <code class="cCode">Frealloc()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008522"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1008523"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008524"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008525"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1008526"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1008527"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid (for example, number of fields is less than 0, V is 0 or total size is greater than 65534).
</div>
<h4 class="pDefTerm"><a name="wp1008528"> </a>
[<code class="cCode">FMALLOC</code>]
</h4><div class="pDefPara"><a name="wp1008529"> </a>
&quot;malloc failed&quot; <br />The new size is smaller than what is currently in the buffer, or allocation of space dynamically using <code class="cCode">realloc()</code> failed.
</div>
<h4 class="pHeading3"><a name="wp1008530"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008531"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1051680"><code class="cCode">Falloc, Falloc32(3fml)</code></a>, <a href="rf3fml.html#wp1011445"><code class="cCode">Ffree, Ffree32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008555"> </a>
Frstrindex, Frstrindex32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008556"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008557"> </a>
<code class="cCode">Frstrindex()</code>, <code class="cCode">Frstrindex32()</code> - restore index in a buffer
</p>
<h4 class="pHeading3"><a name="wp1008558"> </a>
Synopsis
</h4>
<a name="wp1120380"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Frstrindex(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDOCC <code class="cCodeEmphasis">numidx</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Frstrindex32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDOCC32 <code class="cCodeEmphasis">numidx</code>)</pre></div><h4 class="pHeading3"><a name="wp1008560"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008561"> </a>
A fielded buffer that has been unindexed may be reindexed by either calling <code class="cCode">Findex()</code> or <code class="cCode">Frstrindx()</code>. fbfr is a pointer to a fielded buffer. The former performs a total index calculation on the buffer, and is fairly expensive (requiring a full scan of the buffer). It should be used when an unindexed buffer has been altered, or the previous state of the buffer is unknown (for example, when it has been sent from one process to another without an index). <code class="cCode">Frstrindex()</code> is much faster, but may only be used if the buffer has not been altered since its previous unindexing operation. The second argument to <code class="cCode">Frstrindx()</code>, numidx, is the return from the <code class="cCode">Funindex()</code> function.
</p>
<p class="pBody"><a name="wp1008562"> </a>
<code class="cCode">Frstrindex32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103130"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Frstrindex()</code> or <code class="cCode">Frstrindex32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008563"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008564"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008565"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008566"> </a>
Under the following conditions, <code class="cCode">Frstrindex()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008567"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1008568"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008569"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008570"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1008571"> </a>
Example
</h4>
<p class="pBody"><a name="wp1008572"> </a>
In order to transmit a buffer without its index, something like the following should be performed: 
</p>
<a name="wp1008573"> </a><div class="pPreformatted"><pre>save = Funindex(fbfr); <br />num_to_send = Fused(fbfr); <br />transmit(fbfr,num_to_send);        /* A hypothetical function */  Frstrindx(fbfr,save);</pre></div><p class="pBody"><a name="wp1008574"> </a>
These four statements do the following: 
</p>
<a name="wp1008575"> </a><div class="pPreformatted"><pre>1. - /* unindex, saving for Frstrindx */ <br />2. - /* determine number of bytes to send */ <br />3. - /* send fbfr, without index */ <br />4. - /* restore index */</pre></div><p class="pBody"><a name="wp1008576"> </a>
In this case, <code class="cCode">transmit()</code> is passed a memory pointer and a length. The data to be transmitted begins at the memory pointer and has <code class="cCode">num_to_send</code> number of significant bytes. Once the buffer has been sent, its index may be restored (assuming <code class="cCode">transmit()</code> does not alter it in any way) using <code class="cCode">Frstrindex()</code>. On the receiving end of the transmission, the process accepting the fielded buffer would index it with <code class="cCode">Findex()</code>, as in: 
</p>
<a name="wp1008577"> </a><div class="pPreformatted"><pre>receive(fbfr); /* get fbfr from wherever .. into fbfr */ <br />Findex(fbfr);  /* index it */</pre></div><p class="pBody"><a name="wp1008578"> </a>
The receiving process cannot call <code class="cCode">Frstrindx()</code> because: 
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1008579"> </a>It did not call <code class="cCode">Funindex()</code> and so has no idea of what the value of the numidx argument to <code class="cCode">Frstrindex()</code> should be.</li>
<li><a name="wp1008580"> </a>The index itself is not available because it was not sent.</li>
</ol></div>
<p class="pBody"><a name="wp1008581"> </a>
The solution is to call <code class="cCode">Findex()</code> explicitly. Of course, the user is always free to transmit the indexed versions of a fielded buffer (that is, send <code class="cCode">Fsizeof(*</code><code class="cCodeEmphasis">fbfr</code><code class="cCode">)</code> bytes) and avoid the cost of <code class="cCode">Findex()</code> on the receiving side.
</p>
<h4 class="pHeading3"><a name="wp1055854"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1055855"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011635"><code class="cCode">Findex, Findex32(3fml)</code></a>, <a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a>, <a href="rf3fml.html#wp1008878"><code class="cCode">Funindex, Funindex32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1055856"> </a>
Fsizeof, Fsizeof32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008610"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008611"> </a>
<code class="cCode">Fsizeof()</code>, <code class="cCode">Fsizeof32()</code> - return size of fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1008612"> </a>
Synopsis
</h4>
<a name="wp1008613"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />long <br />Fsizeof(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />long <br />Fsizeof32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1008614"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008615"> </a>
<code class="cCode">Fsizeof()</code> returns the size of a fielded buffer in bytes. fbfr is a pointer to a fielded buffer.
</p>
<p class="pBody"><a name="wp1008616"> </a>
<code class="cCode">Fsizeof32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103139"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fsizeof()</code> or <code class="cCode">Fsizeof32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1103150"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008618"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008619"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008620"> </a>
Under the following conditions, <code class="cCode">Fsizeof()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008621"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008622"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008623"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008624"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1008625"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008626"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011605"><code class="cCode">Fidxused, Fidxused32(3fml)</code></a>, <a href="rf3fml.html#wp1009018"><code class="cCode">Fused, Fused32(3fml)</code></a>, <a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1006307"> </a>
Fstrerror, Fstrerror32(3fml)
</h2><h4 class="pHeading3"><a name="wp1006308"> </a>
Name
</h4>
<p class="pBody"><a name="wp1006309"> </a>
<code class="cCode">Fstrerror()</code>, <code class="cCode">Fstrerror32()</code> - get error message string for FML error
</p>
<h4 class="pHeading3"><a name="wp1006310"> </a>
Synopsis
</h4>
<a name="wp1009643"> </a><div class="pPreformatted"><pre>#include &lt;fml.h&gt; <br /> <br />char * <br />Fstrerror(int <span style="font-style: italic">err</span>) <br /> <br />#include &lt;fml32.h&gt; <br /> <br />char *<br />Fstrerror32(int <span style="font-style: italic">err</span>)</pre></div><h4 class="pHeading3"><a name="wp1006313"> </a>
Description
</h4>
<p class="pBody"><a name="wp1006314"> </a>
<code class="cCode">Fstrerror()</code> is used to retrieve the text of an error message from <code class="cCode">LIBFML_CAT</code>. err is the error code set in <code class="cCode">F_error</code> when a FML function call returns a -1 or other failure value.
</p>
<p class="pBody"><a name="wp1006315"> </a>
The user can use the pointer returned by <code class="cCode">Fstrerror()</code> as an argument to <code class="cCode">userlog()</code> or <code class="cCode">F_error</code>.
</p>
<p class="pBody"><a name="wp1006316"> </a>
<code class="cCode">Fstrerror32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103157"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fstrerror()</code> or <code class="cCode">Fstrerror32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1006317"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1006318"> </a>
If err is an invalid error code, <code class="cCode">Fstrerror()</code> returns a NULL. On success, the function returns a pointer to a string that contains the error message text.
</p>
<h4 class="pHeading3"><a name="wp1006319"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1006320"> </a>
<code class="cCode">Fstrerror()</code> returns a NULL on error, but does not set <code class="cCode">F_error</code>.
</p>
<h4 class="pHeading3"><a name="wp1006321"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1006322"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="../rf3c/rf3c.html">tpstrerror(3c)</a>, <a href="../rf3c/rf3c.html">userlog(3c)</a>, <a href="rf3fml.html#wp1005494"><code class="cCode">F_error, F_error32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008841"> </a>
Ftypcvt, Ftypcvt32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008842"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008843"> </a>
<code class="cCode">Ftypcvt()</code>, <code class="cCode">Ftypcvt32()</code> - convert from one field type to another
</p>
<h4 class="pHeading3"><a name="wp1008844"> </a>
Synopsis
</h4>
<a name="wp1008845"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />char * <br />Ftypcvt(FLDLEN *<code class="cCodeEmphasis">tolen</code>, int <code class="cCodeEmphasis">totype</code>, char *<code class="cCodeEmphasis">fromval</code>, int <code class="cCodeEmphasis">fromtype</code>, <br />  FLDLEN <code class="cCodeEmphasis">fromlen</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />char * <br />Ftypcvt32(FLDLEN32 *<code class="cCodeEmphasis">tolen</code>, int <code class="cCodeEmphasis">totype</code>, char *<code class="cCodeEmphasis">fromval</code>, int <code class="cCodeEmphasis">fromtype</code>, <br />  FLDLEN32 <code class="cCodeEmphasis">fromlen</code>)</pre></div><h4 class="pHeading3"><a name="wp1008846"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008847"> </a>
<code class="cCode">Ftypcvt()</code> converts the value <code class="cCode">*</code><code class="cCodeEmphasis">fromval</code>, which has type <code class="cCodeEmphasis">fromtype</code>, and length <code class="cCodeEmphasis">fromlen</code> (if <code class="cCodeEmphasis">fromtype</code> is <code class="cCode">FLD_CARRAY</code>; otherwise, <code class="cCodeEmphasis">fromlen</code> is inferred from <code class="cCodeEmphasis">fromtype</code>), to a value of type <code class="cCodeEmphasis">totype</code>. <code class="cCode">Ftypcvt()</code> returns a pointer to the converted value, and sets <code class="cCode">*</code><code class="cCodeEmphasis">tolen</code> to the converted length, upon success. Upon failure, <code class="cCode">Ftypcvt()</code> returns NULL.
</p>
<p class="pBody"><a name="wp1064617"> </a>
<code class="cCode">Ftypcvt32()</code> fails if any of the following field types is used: <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_MBSTRING</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>. If one of these field types is encountered, <code class="cCode">Ferror</code> is set to <code class="cCode">FEBADOP</code>.
</p>
<p class="pBody"><a name="wp1008848"> </a>
<code class="cCode">Ftypcvt32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103166"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Ftypcvt()</code> or <code class="cCode">Ftypcvt32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008849"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008850"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008851"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008852"> </a>
Under the following conditions, <code class="cCode">Ftypcvt()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008853"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1008854"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed when converting from a carray (or mbstring) to string.
</div>
<h4 class="pDefTerm"><a name="wp1008855"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1008856"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, a NULL <code class="cCodeEmphasis">tolen</code> or <code class="cCodeEmphasis">fromval</code> parameter was specified).
</div>
<h4 class="pDefTerm"><a name="wp1008857"> </a>
[<code class="cCode">FTYPERR</code>] 
</h4><div class="pDefPara"><a name="wp1008858"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1064850"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1064851"> </a>
&quot;invalid field type&quot;<br />An invalid field type (such as <code class="cCode">FLD_PTR</code>, <code class="cCode">FLD_FML32</code>, or <code class="cCode">FLD_VIEW32</code>) is specified.
</div>
<h4 class="pHeading3"><a name="wp1008859"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008860"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005186"><code class="cCode">CFadd, CFadd32(3fml)</code></a>, <a href="rf3fml.html#wp1005238"><code class="cCode">CFchg, CFchg32(3fml)</code></a>, <a href="rf3fml.html#wp1005292"><code class="cCode">CFfind, CFfind32(3fml)</code></a>, <a href="rf3fml.html#wp1005394"><code class="cCode">CFget, CFget32(3fml)</code></a>, <a href="rf3fml.html#wp1005445"><code class="cCode">CFgetalloc, CFgetalloc32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008861"> </a>
Ftype, Ftype32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008862"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008863"> </a>
<code class="cCode">Ftype()</code>, <code class="cCode">Ftype32()</code> - return pointer to type of field
</p>
<h4 class="pHeading3"><a name="wp1008864"> </a>
Synopsis
</h4>
<a name="wp1008865"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />char * <br />Ftype(FLDID <code class="cCodeEmphasis">fieldid</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />char * <br />Ftype32(FLDID32 <code class="cCodeEmphasis">fieldid</code>)</pre></div><h4 class="pHeading3"><a name="wp1008866"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008867"> </a>
<code class="cCode">Ftype()</code> returns a pointer to a string containing the name of the type of a field, given a field identifier, fieldid. For example, if the <code class="cCode">FLDID</code> of a field of type <code class="cCode">short</code> is supplied to <code class="cCode">Ftype()</code>, a pointer is returned to the string &#8220;short.&#8221; This data area is &#8220;read-only.&#8221;
</p>
<p class="pBody"><a name="wp1008868"> </a>
<code class="cCode">Ftype32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103175"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Ftype()</code> or <code class="cCode">Ftype32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008869"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008870"> </a>
On success, <code class="cCode">Ftype()</code> returns a pointer to a character string that identifies the field type.
</p>
<p class="pBody"><a name="wp1008871"> </a>
This function returns NULL on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008872"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008873"> </a>
Under the following conditions, <code class="cCode">Ftype()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008874"> </a>
[<code class="cCode">FTYPERR</code>] 
</h4><div class="pDefPara"><a name="wp1008875"> </a>
&quot;invalid field type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pHeading3"><a name="wp1008876"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008877"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011702"><code class="cCode">Fldid, Fldid32(3fml)</code></a>, <a href="rf3fml.html#wp1011720"><code class="cCode">Fldno, Fldno32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008878"> </a>
Funindex, Funindex32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008879"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008880"> </a>
<code class="cCode">Funindex()</code>, <code class="cCode">Funindex32()</code> - discard fielded buffer&#8217;s index
</p>
<h4 class="pHeading3"><a name="wp1008881"> </a>
Synopsis
</h4>
<a name="wp1008882"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />FLDOCC <br />Funindex(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />FLDOCC32 <br />Funindex32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1008883"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008884"> </a>
<code class="cCode">Funindex()</code> discards a fielded buffer&#8217;s index. fbfr is a pointer to a fielded buffer. When the function returns successfully, the buffer is unindexed. As a result, none of the buffer&#8217;s space is allocated to an index and more space is available to user fields (at the cost of potentially slower access time). Unindexing a buffer is useful when it is to be stored on disk or to be transmitted somewhere. In the first case disk space is conserved, in the second, transmission costs may be reduced.
</p>
<p class="pBody"><a name="wp1008885"> </a>
The number of significant bytes from the buffer start, after a buffer has been unindexed is determined by the function call: <code class="cCode">Fused(fbfr)</code>
</p>
<p class="pBody"><a name="wp1008886"> </a>
<code class="cCode">Funindex32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103184"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Funindex()</code> or <code class="cCode">Funindex32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008887"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008888"> </a>
<code class="cCode">Funindex()</code> returns the number of index elements the buffer has before the index is stripped.
</p>
<p class="pBody"><a name="wp1008889"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008890"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008891"> </a>
Under the following conditions, <code class="cCode">Funindex()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008892"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008893"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008894"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008895"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1008896"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008897"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011635"><code class="cCode">Findex, Findex32(3fml)</code></a>, <a href="rf3fml.html#wp1008555"><code class="cCode">Frstrindex, Frstrindex32(3fml)</code></a>, <a href="rf3fml.html#wp1055856"><code class="cCode">Fsizeof, Fsizeof32(3fml)</code></a>, <a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008945"> </a>
Funused, Funused32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008946"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008947"> </a>
<code class="cCode">Funused()</code>, <code class="cCode">Funused32()</code> - return number of unused bytes in fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1008948"> </a>
Synopsis
</h4>
<a name="wp1008949"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />long <br />Funused(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />long <br />Funused32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1008950"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008951"> </a>
<code class="cCode">Funused()</code> returns the amount of space currently unused in the buffer. Space is unused if it contains neither user data nor overhead data such as the header and index.
</p>
<p class="pBody"><a name="wp1008952"> </a>
fbfr is a pointer to a fielded buffer.
</p>
<p class="pBody"><a name="wp1008953"> </a>
<code class="cCode">Funused32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103200"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Funused()</code> or <code class="cCode">Funused32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008954"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008955"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008956"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008957"> </a>
Under the following conditions, <code class="cCode">Funused()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008958"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008959"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008960"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1008961"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1008962"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008963"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011605"><code class="cCode">Fidxused, Fidxused32(3fml)</code></a>, <a href="rf3fml.html#wp1009018"><code class="cCode">Fused, Fused32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008979"> </a>
Fupdate, Fupdate32(3fml)
</h2><h4 class="pHeading3"><a name="wp1008980"> </a>
Name
</h4>
<p class="pBody"><a name="wp1008981"> </a>
<code class="cCode">Fupdate()</code>, <code class="cCode">Fupdate32()</code> - update destination buffer with source
</p>
<h4 class="pHeading3"><a name="wp1008982"> </a>
Synopsis
</h4>
<a name="wp1008983"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fupdate(FBFR *<code class="cCodeEmphasis">dest</code>, FBFR *<code class="cCodeEmphasis">src</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fupdate32(FBFR32 *<code class="cCodeEmphasis">dest</code>, FBFR32 *<code class="cCodeEmphasis">src</code>)</pre></div><h4 class="pHeading3"><a name="wp1008984"> </a>
Description
</h4>
<p class="pBody"><a name="wp1008985"> </a>
<code class="cCode">Fupdate()</code> updates the destination buffer with the field values in the source buffer. dest and src are pointers to fielded buffers. For fields that match on fieldid/occurrence, the field value is updated in the destination buffer with the value in the source buffer. Fields in the destination buffer that have no corresponding field in the source buffer are left untouched. Fields in the source buffer that have no corresponding field in the destination buffer are added to the destination buffer.
</p>
<p class="pBody"><a name="wp1058290"> </a>
For values of type <code class="cCode">FLD_PTR</code>, <code class="cCode">Fupdate32()</code> stores the pointer value. The buffer pointed to by a <code class="cCode">FLD_PTR</code> field must be allocated using the <code class="cCode">tpalloc()</code> call. For values of type <code class="cCode">FLD_FML32</code>, <code class="cCode">Fupdate32()</code> stores the entire <code class="cCode">FLD_FML32</code> field value, except the index. For values of type <code class="cCode">FLD_VIEW32</code>, <code class="cCode">Fupdate32()</code> stores a pointer to a structure of type <code class="cCode">FVIEWFLD</code>, which contains <code class="cCodeEmphasis">vflags</code> (a flags field, currently unused and set to 0), <code class="cCodeEmphasis">vname</code><code class="cCode"> </code>(a character array containing the viewname), and <code class="cCodeEmphasis">data</code> (a pointer to the view data stored as a C structure). The application provides the <code class="cCodeEmphasis">vname</code> and <code class="cCodeEmphasis">data</code> to <code class="cCode">Fupdate32()</code>.
</p>
<p class="pBody"><a name="wp1008986"> </a>
<code class="cCode">Fupdate32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103209"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fupdate()</code> or <code class="cCode">Fupdate32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1008987"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1008988"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1008989"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1008990"> </a>
Under the following conditions, <code class="cCode">Fupdate()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1008991"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1008992"> </a>
&quot;fielded buffer not aligned&quot; <br />Either the source buffer or the destination buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1008993"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1008994"> </a>
&quot;buffer not fielded&quot; <br />The source or destination buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1008995"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1008996"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added or changed in the destination buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pHeading3"><a name="wp1008997"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1008998"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011677"><code class="cCode">Fjoin, Fjoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008235"><code class="cCode">Fojoin, Fojoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008359"><code class="cCode">Fproj, Fproj32(3fml)</code></a>, <a href="rf3fml.html#wp1008405"><code class="cCode">Fprojcpy, Fprojcpy32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009018"> </a>
Fused, Fused32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009019"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009020"> </a>
<code class="cCode">Fused()</code>, <code class="cCode">Fused32()</code> - return number of used bytes in fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1009021"> </a>
Synopsis
</h4>
<a name="wp1009022"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />long <br />Fused(FBFR *<code class="cCodeEmphasis">fbfr</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />long <br />Fused32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>)</pre></div><h4 class="pHeading3"><a name="wp1009023"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009024"> </a>
<code class="cCode">Fused()</code> returns the amount of used space in a fielded buffer in bytes, including both user data and the header (but not the index, which can be dropped at any time). fbfr is a pointer to a fielded buffer.
</p>
<p class="pBody"><a name="wp1009025"> </a>
<code class="cCode">Fused32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103218"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fused()</code> or <code class="cCode">Fused32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1103225"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009027"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009028"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009029"> </a>
Under the following conditions, <code class="cCode">Fused()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009030"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1009031"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1009032"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1009033"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pHeading3"><a name="wp1009034"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009035"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011605"><code class="cCode">Fidxused, Fidxused32(3fml)</code></a>, <a href="rf3fml.html#wp1008945"><code class="cCode">Funused, Funused32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009055"> </a>
Fvall, Fvall32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009056"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009057"> </a>
<code class="cCode">Fvall()</code>, <code class="cCode">Fvall32()</code> - return long value of field occurrence
</p>
<a name="wp1009058"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />long <br /> Fvall(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />long <br />Fvall32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>)</pre></div><h4 class="pHeading3"><a name="wp1009059"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009060"> </a>
<code class="cCode">Fvall()</code> works like <code class="cCode">Ffind()</code> for long and short values, but returns the actual value of the field as a long, instead of a pointer to the value. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field.
</p>
<p class="pBody"><a name="wp1009061"> </a>
If the specified field occurrence is not found, then 0 is returned. This function is useful for passing the value of a field to another function without checking the return value. This function is valid only for fields of type <code class="cCode">FLD_LONG</code> or <code class="cCode">FLD_SHORT</code>.
</p>
<p class="pBody"><a name="wp1009062"> </a>
<code class="cCode">Fvall32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103232"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvall()</code> or <code class="cCode">Fvall32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009063"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009064"> </a>
For fields of types other than <code class="cCode">FLD_LONG</code> or <code class="cCode">FLD_SHORT</code>, <code class="cCode">Fvall()</code> returns 0 and sets <code class="cCode">Ferror</code> to <code class="cCode">FTYPERR</code>.
</p>
<p class="pBody"><a name="wp1009065"> </a>
This function returns 0 on other errors and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009066"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009067"> </a>
Under the following conditions, <code class="cCode">Fvall()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009068"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1009069"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1009070"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1009071"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009072"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1009073"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1009074"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1009075"> </a>
&quot;invalid field type&quot; <br />Bad fieldid or the field type is not <code class="cCode">FLD_SHORT</code> or <code class="cCode">FLD_LONG</code>.
</div>
<h4 class="pHeading3"><a name="wp1009076"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009077"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a>, <a href="rf3fml.html#wp1009099"><code class="cCode">Fvals, Fvals32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009099"> </a>
Fvals, Fvals32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009100"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009101"> </a>
<code class="cCode">Fvals()</code>, <code class="cCode">Fvals32()</code> - return string value of field occurrence
</p>
<h4 class="pHeading3"><a name="wp1009102"> </a>
Synopsis
</h4>
<a name="wp1009103"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />char * <br />Fvals(FBFR *<code class="cCodeEmphasis">fbfr</code>, FLDID <code class="cCodeEmphasis">fieldid</code>, FLDOCC <code class="cCodeEmphasis">oc</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />char * <br />Fvals32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FLDID32 <code class="cCodeEmphasis">fieldid</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>)</pre></div><h4 class="pHeading3"><a name="wp1009104"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009105"> </a>
<code class="cCode">Fvals()</code> works like <code class="cCode">Ffind()</code> for string values but guarantees that a value is returned. fbfr is a pointer to a fielded buffer. fieldid is a field identifier. oc is the occurrence number of the field.
</p>
<p class="pBody"><a name="wp1009106"> </a>
If the specified field occurrence is not found, then the NULL string is returned. This function is useful for passing the value of a field to another function without checking the return value. This function is valid only for fields of type <code class="cCode">FLD_STRING</code>; the NULL string is automatically returned for other field types (that is, no conversion is done).
</p>
<p class="pBody"><a name="wp1009107"> </a>
<code class="cCode">Fvals32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103241"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvals()</code> or <code class="cCode">Fvals32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009108"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009109"> </a>
This function returns the NULL string on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009110"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009111"> </a>
Under the following conditions, <code class="cCode">Fvals()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009112"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1009113"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1009114"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1009115"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009116"> </a>
[<code class="cCode">FBADFLD</code>] 
</h4><div class="pDefPara"><a name="wp1009117"> </a>
&quot;unknown field number or type&quot; <br />A field identifier is specified which is not valid.
</div>
<h4 class="pDefTerm"><a name="wp1009118"> </a>
[<code class="cCode">FTYPERR</code>]
</h4><div class="pDefPara"><a name="wp1009119"> </a>
&quot;invalid field type&quot; <br />Bad fieldid or the field type is not <code class="cCode">FLD_STRING</code>.
</div>
<h4 class="pHeading3"><a name="wp1009120"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009121"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1005292"><code class="cCode">CFfind, CFfind32(3fml)</code></a>, <a href="rf3fml.html#wp1011288"><code class="cCode">Ffind, Ffind32(3fml)</code></a>, <a href="rf3fml.html#wp1009055"><code class="cCode">Fvall, Fvall32(3fml)</code></a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009148"> </a>
Fvftos, Fvftos32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009149"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009150"> </a>
<code class="cCode">Fvftos()</code>, <code class="cCode">Fvftos32()</code> - copy from fielded buffer to C structure
</p>
<h4 class="pHeading3"><a name="wp1009151"> </a>
Synopsis
</h4>
<a name="wp1009152"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fvftos(FBFR *<code class="cCodeEmphasis">fbfr</code>, char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">view</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fvftos32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">view</code>)</pre></div><h4 class="pHeading3"><a name="wp1009153"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009154"> </a>
The <code class="cCode">Fvftos()</code> function transfers data from a fielded buffer to a C structure. fbfr is a pointer to a fielded buffer. cstruct is a pointer to a C structure. view is a pointer to the name of a compiled view description.
</p>
<p class="pBody"><a name="wp1009155"> </a>
Fields are copied from the fielded buffer into the structure based on the member descriptions in the view. If a field in the fielded buffer has no corresponding member in the C structure, it is ignored. If a member specified in the C structure has no corresponding field in the fielded buffer, a NULL value is copied into the member. The NULL value used is definable for each member in the view description.
</p>
<p class="pBody"><a name="wp1009156"> </a>
To store multiple occurrences in the C structure, the structure member should be an array (for example, <code class="cCode">int zip</code>[4] can store 4 occurrences of <code class="cCode">zip</code>). If the buffer has fewer occurrences of the field than there are elements in the array, the extra element slots are assigned NULL values. On the other hand, if the buffer has more occurrences of the field than there are elements in the array, the surplus occurrences are ignored.
</p>
<p class="pBody"><a name="wp1009157"> </a>
There are view description options that inhibit mappings even though a mapping entry exists for a field identifier and a member. These options are initially specified in the viewfile, but can be changed at run time using <code class="cCode">Fvopt()</code>.
</p>
<p class="pBody"><a name="wp1009158"> </a>
<code class="cCode">Fvftos32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103250"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvftos()</code> or <code class="cCode">Fvftos32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009159"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009160"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009161"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009162"> </a>
Under the following conditions, <code class="cCode">Fvftos()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009163"> </a>
[<code class="cCode">FALIGNERR</code>]
</h4><div class="pDefPara"><a name="wp1009164"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1009165"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1009166"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009167"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1009168"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid, (for example, specifying a NULL <code class="cCodeEmphasis">cstruct</code> parameter to <code class="cCode">Fvftos</code>).
</div>
<h4 class="pDefTerm"><a name="wp1009169"> </a>
[<code class="cCode">FBADACM</code>] 
</h4><div class="pDefPara"><a name="wp1009170"> </a>
&quot;ACM contains negative value&quot; <br />An Associated Count Member should not be a negative value while transferring data from a structure to a fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1009171"> </a>
[<code class="cCode">FBADVIEW</code>]
</h4><div class="pDefPara"><a name="wp1009172"> </a>
&quot;cannot find or get view&quot; <br />The view description specified was NULL or was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pHeading3"><a name="wp1009173"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009174"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1009236"><code class="cCode">Fvopt, Fvopt32(3fml)</code></a>, <a href="../rf5/rf5.html">viewfile(5)</a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1103561"> </a>
Fvneeded, Fvneeded32(3fml)
</h2><h4 class="pHeading3"><a name="wp1103562"> </a>
Name
</h4>
<p class="pBody"><a name="wp1103563"> </a>
<code class="cCode">Fvneeded()</code>, <code class="cCode">Fvneeded32()</code> - computes size needed for <code class="cCode">VIEW</code> buffer
</p>
<h4 class="pHeading3"><a name="wp1103564"> </a>
Synopsis
</h4>
<a name="wp1103565"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />long <br />Fvneeded(char *<code class="cCodeEmphasis">subtype</code>)<br /> <br />#include &quot;fml32.h&quot; <br /> <br />long <br />Fvneeded32(char *<code class="cCodeEmphasis">subtype</code>)</pre></div><h4 class="pHeading3"><a name="wp1103883"> </a>
Description
</h4>
<p class="pBody"><a name="wp1103884"> </a>
<code class="cCode">Fvneeded()</code> returns the size of the <code class="cCode">VIEW</code> C structure. <code class="cCodeEmphasis">subtype</code> is the name of the <code class="cCode">VIEW</code>. You can call <code class="cCode">Fvneeded()</code> to determine the size of a <code class="cCode">VIEW</code> buffer to allocate. <code class="cCode">Fvneeded32()</code> is used with 32-bit <code class="cCode">VIEW</code>s.
</p>
<h4 class="pHeading3"><a name="wp1103571"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1103572"> </a>
<code class="cCode">Fvneeded()</code> returns the size of the <code class="cCode">VIEW</code> in number of bytes. This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1103573"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1103574"> </a>
Under the following conditions, <code class="cCode">Fvnull()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1103575"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1103576"> </a>
&quot;invalid argument to function&quot; <br />The requested <code class="cCode">VIEW</code> cannot be found in the viewfiles specified by <code class="cCode">VIEWDIR</code> and <code class="cCode">VIEWFILES</code> environment variables.
</div>
<h4 class="pHeading3"><a name="wp1103579"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1103586"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="../rf5/rf5.html">viewfile(5)</a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009198"> </a>
Fvnull, Fvnull32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009199"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009200"> </a>
<code class="cCode">Fvnull()</code>, <code class="cCode">Fvnull32()</code> - check if a structure element is NULL
</p>
<h4 class="pHeading3"><a name="wp1009201"> </a>
Synopsis
</h4>
<a name="wp1009202"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fvnull(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">cname</code>, FLDOCC <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">view</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fvnull32(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">cname</code>, FLDOCC32 <code class="cCodeEmphasis">oc</code>, char *<code class="cCodeEmphasis">view</code>)</pre></div><h4 class="pHeading3"><a name="wp1009203"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009204"> </a>
<code class="cCode">Fvnull()</code> is used to determine if an occurrence of a structure element is NULL. cstruct is a pointer to a C structure. <code class="cCodeEmphasis">cname</code> is a pointer to the name of an element within cstruct. oc is the occurrence number of the element. view is a pointer to the name of a compiled view description.
</p>
<p class="pBody"><a name="wp1009205"> </a>
Options of <code class="cCode">Fvopt()</code> such as do not affect this function.
</p>
<p class="pBody"><a name="wp1009206"> </a>
<code class="cCode">Fvnull32()</code> is used for views defined with <code class="cCode">viewc32</code> or <code class="cCode">VIEW32</code> typed buffers for larger views with more fields.
</p>
<p class="pBody"><a name="wp1103259"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvnull()</code> or <code class="cCode">Fvnull32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009207"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009208"> </a>
<code class="cCode">Fvnull()</code> returns 1, if the specified cname in a C structure is NULL and returns 0 if not NULL. This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009209"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009210"> </a>
Under the following conditions, <code class="cCode">Fvnull()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009211"> </a>
[<code class="cCode">FBADVIEW</code>] 
</h4><div class="pDefPara"><a name="wp1009212"> </a>
&quot;cannot find or get view&quot; <br />The view description specified was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009213"> </a>
[<code class="cCode">FNOCNAME</code>]
</h4><div class="pDefPara"><a name="wp1009214"> </a>
&quot;cname not found&quot; <br />The C structure field name is not found in the view description.
</div>
<h4 class="pHeading3"><a name="wp1009215"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009216"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1009236"><code class="cCode">Fvopt, Fvopt32(3fml)</code></a>, <a href="../rf5/rf5.html">viewfile(5)</a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009236"> </a>
Fvopt, Fvopt32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009237"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009238"> </a>
<code class="cCode">Fvopt()</code>, <code class="cCode">Fvopt32()</code> - change flag options of a mapping entry
</p>
<h4 class="pHeading3"><a name="wp1009239"> </a>
Synopsis
</h4>
<a name="wp1009240"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fvopt(char *<code class="cCodeEmphasis">cname</code>, int <code class="cCodeEmphasis">option</code>, char *<code class="cCodeEmphasis">view</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fvopt32(char *<code class="cCodeEmphasis">cname</code>, int <code class="cCodeEmphasis">option</code>, char *<code class="cCodeEmphasis">view</code>)</pre></div><h4 class="pHeading3"><a name="wp1009241"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009242"> </a>
<code class="cCode">Fvopt()</code> allows users to specify buffer-to-structure mapping options at run time. cname is a pointer to the name of an element in a view description, view. option specifies the desired setting for the mapping option. Valid options and their meanings are: 
</p>
<h4 class="pDefTerm"><a name="wp1009243"> </a>
<code class="cCode">F_FTOS</code> 
</h4><div class="pDefPara"><a name="wp1009244"> </a>
One-way mapping from fielded buffer to structure, flag <code class="cCode">S</code> in the view description.
</div>
<h4 class="pDefTerm"><a name="wp1009245"> </a>
<code class="cCode">F_STOF</code> 
</h4><div class="pDefPara"><a name="wp1009246"> </a>
One-way mapping from structure to fielded buffer, flag <code class="cCode">F</code> in the view description.
</div>
<h4 class="pDefTerm"><a name="wp1009247"> </a>
<code class="cCode">F_OFF</code> 
</h4><div class="pDefPara"><a name="wp1009248"> </a>
No mapping between the fielded buffer and the structure, flag <code class="cCode">N</code> in the view description.
</div>
<h4 class="pDefTerm"><a name="wp1009249"> </a>
<code class="cCode">F_BOTH</code> 
</h4><div class="pDefPara"><a name="wp1009250"> </a>
Two-way mapping between the fielded buffer and the structure, flag <code class="cCode">S</code>, <code class="cCode">F</code> in the view description.
</div>
<p class="pBody"><a name="wp1009251"> </a>
<code class="cCode">Fvopt32()</code> is used for views defined with <code class="cCode">viewc32</code> or <code class="cCode">VIEW32</code> typed buffers for larger views with more fields.
</p>
<p class="pBody"><a name="wp1103268"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvopt()</code> or <code class="cCode">Fvopt32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009252"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009253"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009254"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009255"> </a>
Under the following conditions, <code class="cCode">Fvopt()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009256"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1009257"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid (for example, specifying a NULL cname or view parameter or specifying an invalid option).
</div>
<h4 class="pDefTerm"><a name="wp1009258"> </a>
[<code class="cCode">FBADVIEW</code>] 
</h4><div class="pDefPara"><a name="wp1009259"> </a>
&quot;cannot find or get view&quot; <br />The view was not found in the files specified by <code class="cCode">VIEWDIR</code> and <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009260"> </a>
[<code class="cCode">FNOCNAME</code>] 
</h4><div class="pDefPara"><a name="wp1009261"> </a>
&quot;cname not found&quot; <br />The C structure field name is not found in the view description.
</div>
<h4 class="pHeading3"><a name="wp1009262"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009263"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="../rf5/rf5.html">viewfile(5)</a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009287"> </a>
Fvrefresh, Fvrefresh32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009288"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009289"> </a>
<code class="cCode">Fvrefresh()</code>, <code class="cCode">Fvrefresh32()</code> - copy from C structure to fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1009290"> </a>
Synopsis
</h4>
<a name="wp1009291"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />void <br />Fvrefresh() <br /> <br />#include &quot;fml32.h&quot; <br /> <br />void <br />Fvrefresh32()</pre></div><h4 class="pHeading3"><a name="wp1009292"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009293"> </a>
<code class="cCode">Fvrefresh()</code> clears and reinitializes the internal cache of view structure mappings. This is necessary only when frequently accessed views are updated dynamically.
</p>
<p class="pBody"><a name="wp1009294"> </a>
<code class="cCode">Fvrefresh32()</code> is used for views defined with <code class="cCode">viewc32</code> or <code class="cCode">VIEW32</code> typed buffers for larger views with more fields.
</p>
<p class="pBody"><a name="wp1103286"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvrefresh()</code> or <code class="cCode">Fvrefresh32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009295"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009296"> </a>
This routine is a void function and does not return a value.
</p>
<h4 class="pHeading3"><a name="wp1009297"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009298"> </a>
This routine is a void function and no error codes are set.
</p>
<h4 class="pHeading3"><a name="wp1009299"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009300"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009320"> </a>
Fvselinit, Fvselinit32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009321"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009322"> </a>
<code class="cCode">Fvselinit()</code>, <code class="cCode">Fvselinit32()</code> - initialize structure element to NULL
</p>
<h4 class="pHeading3"><a name="wp1009323"> </a>
Synopsis
</h4>
<a name="wp1009324"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fvselinit(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">cname</code>, char *<code class="cCodeEmphasis">view</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fvselinit32(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">cname</code>, char *<code class="cCodeEmphasis">view</code>)</pre></div><h4 class="pHeading3"><a name="wp1009325"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009326"> </a>
<code class="cCode">Fvselinit()</code> initializes an individual element of a C structure to its appropriate NULL value. cstruct is a pointer to a C structure. cname is a pointer to the name of an element of cstruct. view is a pointer to the name of a compiled view description.
</p>
<p class="pBody"><a name="wp1009327"> </a>
<code class="cCode">Fvselinit()</code> sets the associated count member of the element to 0 if the <code class="cCode">C</code> flag was used when the view was compiled, and sets the associated length member to the length of the associated NULL value if the <code class="cCode">L</code> flag was used in the viewfile.
</p>
<p class="pBody"><a name="wp1009328"> </a>
<code class="cCode">Fvselinit32()</code> is used for views defined with <code class="cCode">viewc32</code> or <code class="cCode">VIEW32</code> typed buffers for larger views with more fields.
</p>
<p class="pBody"><a name="wp1103295"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvselinit()</code> or <code class="cCode">Fvselinit32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009329"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009330"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009331"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009332"> </a>
Under the following conditions, <code class="cCode">Fvselinit()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009333"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1009334"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid (for example, specifying a NULL cstruct parameter invalid <code class="cCode">Fvselinit</code>).
</div>
<h4 class="pDefTerm"><a name="wp1009335"> </a>
[<code class="cCode">FBADVIEW</code>]
</h4><div class="pDefPara"><a name="wp1009336"> </a>
&quot;cannot find or get view&quot; <br />The view description specified was NULL or was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009337"> </a>
[<code class="cCode">FNOCNAME</code>] 
</h4><div class="pDefPara"><a name="wp1009338"> </a>
&quot;cname not found&quot; <br />The C structure field name is not found in the view description.
</div>
<h4 class="pHeading3"><a name="wp1009339"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009340"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1009364"><code class="cCode">Fvsinit, Fvsinit32(3fml)</code></a>, <a href="../rf5/rf5.html">viewfile(5)</a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009364"> </a>
Fvsinit, Fvsinit32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009365"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009366"> </a>
<code class="cCode">Fvsinit()</code>, <code class="cCode">Fvsinit32()</code> - initialize C structure to NULL
</p>
<h4 class="pHeading3"><a name="wp1009367"> </a>
Synopsis
</h4>
<a name="wp1009368"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fvsinit(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">view</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fvsinit32(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">view</code>)</pre></div><h4 class="pHeading3"><a name="wp1009369"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009370"> </a>
<code class="cCode">Fvsinit()</code> initializes all members in a C structure to the NULL values specified in the view description, view. cstruct is a pointer to a C structure. view is a pointer to a compiled view description.
</p>
<p class="pBody"><a name="wp1009371"> </a>
<code class="cCode">Fvsinit()</code> sets the associated count member of an element to 0 if the <code class="cCode">C</code> flag was used when the view was compiled, and sets the associated length member to the length of the associated NULL value if the <code class="cCode">L</code> flag was used in the viewfile.
</p>
<p class="pBody"><a name="wp1009372"> </a>
<code class="cCode">Fvsinit32()</code> is used for views defined with <code class="cCode">viewc32</code> or <code class="cCode">VIEW32</code> typed buffers for larger views with more fields.
</p>
<p class="pBody"><a name="wp1103307"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvsinit()</code> or <code class="cCode">Fvsinit32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009373"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009374"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009375"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009376"> </a>
Under the following conditions, <code class="cCode">Fvsinit()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009377"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1009378"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid (for example, specifying a NULL cstruct parameter invalid <code class="cCode">Fvsinit()</code>).
</div>
<h4 class="pDefTerm"><a name="wp1009379"> </a>
[<code class="cCode">FBADVIEW</code>] 
</h4><div class="pDefPara"><a name="wp1009380"> </a>
&quot;cannot find or get view&quot; <br />The view description specified was NULL or was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pHeading3"><a name="wp1009381"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009382"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1009320"><code class="cCode">Fvselinit, Fvselinit32(3fml)</code></a>, <a href="../rf5/rf5.html">viewfile(5)</a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009398"> </a>
Fvstof, Fvstof32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009399"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009400"> </a>
<code class="cCode">Fvstof()</code>, <code class="cCode">Fvstof32()</code> - copy from C structure to fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1009401"> </a>
Synopsis
</h4>
<a name="wp1009402"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fvstof(FBFR *<code class="cCodeEmphasis">fbfr</code>, char *<code class="cCodeEmphasis">cstruct</code>, int <code class="cCodeEmphasis">mode</code>, char *<code class="cCodeEmphasis">view</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fvstof32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, char *<code class="cCodeEmphasis">cstruct</code>, int <code class="cCodeEmphasis">mode</code>, char *<code class="cCodeEmphasis">view</code>)</pre></div><h4 class="pHeading3"><a name="wp1009403"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009404"> </a>
<code class="cCode">Fvstof()</code> transfers data from a C structure to a fielded buffer. fbfr is a pointer to a fielded buffer. cstruct is a pointer to a C structure. mode specifies the manner in which the transfer is made. view is a pointer to a compiled view description. mode has four possible values:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1009405"> </a><code class="cCode">FUPDATE </code></li>
<li><a name="wp1009406"> </a><code class="cCode">FOJOIN </code></li>
<li><a name="wp1009407"> </a><code class="cCode">FJOIN </code></li>
<li><a name="wp1009408"> </a><code class="cCode">FCONCAT</code></li>
</ul></div>
<p class="pBody"><a name="wp1009409"> </a>
The action of these modes are the same as that described in <code class="cCode">Fupdate()</code>, <code class="cCode">Fojoin()</code>, <code class="cCode">Fjoin()</code>, and <code class="cCode">Fconcat()</code>. One can even think of <code class="cCode">Fvstof()</code> as the same as these functions, except that where they specify a source buffer, <code class="cCode">Fvstof()</code> specifies a C structure. Bear in mind that <code class="cCode">FUPDATE</code> does not move structure elements that have NULL values.
</p>
<p class="pBody"><a name="wp1009410"> </a>
<code class="cCode">Fvstof32()</code> is used for views defined with <code class="cCode">viewc32</code> or <code class="cCode">VIEW32</code> typed buffers for larger views with more fields.
</p>
<p class="pBody"><a name="wp1103387"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvstof()</code> or <code class="cCode">Fvstof32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009411"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009412"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009413"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009414"> </a>
Under the following conditions, <code class="cCode">Fvstof()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009415"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1009416"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1009417"> </a>
[<code class="cCode">FNOTFLD</code>]
</h4><div class="pDefPara"><a name="wp1009418"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009419"> </a>
[<code class="cCode">FEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1009420"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid (for example, specifying a NULL cstruct parameter or an invalid mode to <code class="cCode">Fvstof()</code>)
</div>
<h4 class="pDefTerm"><a name="wp1009421"> </a>
[<code class="cCode">FNOSPACE</code>]
</h4><div class="pDefPara"><a name="wp1009422"> </a>
&quot;no space in fielded buffer&quot; <br />A field value is to be added or changed in a fielded buffer but there is not enough space remaining in the buffer.
</div>
<h4 class="pDefTerm"><a name="wp1009423"> </a>
[<code class="cCode">FBADACM</code>]
</h4><div class="pDefPara"><a name="wp1009424"> </a>
&quot;ACM contains negative value&quot; <br />An Associated Count Member should not be a negative value while transferring data from a structure to a fielded buffer.
</div>
<h4 class="pDefTerm"><a name="wp1009425"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1009426"> </a>
&quot;malloc failed&quot; <br />Allocation of space dynamically using <code class="cCode">malloc()</code> failed when converting from a carray (or mbstring) or string value.
</div>
<h4 class="pHeading3"><a name="wp1009427"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009428"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1006176"><code class="cCode">Fconcat, Fconcat32(3fml)</code></a>, <a href="rf3fml.html#wp1011677"><code class="cCode">Fjoin, Fjoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008235"><code class="cCode">Fojoin, Fojoin32(3fml)</code></a>, <a href="rf3fml.html#wp1008979"><code class="cCode">Fupdate, Fupdate32(3fml)</code></a>, <a href="rf3fml.html#wp1009148"><code class="cCode">Fvftos, Fvftos32(3fml)</code></a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009452"> </a>
Fvstot, Fvttos(3fml)
</h2><h4 class="pHeading3"><a name="wp1009453"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009454"> </a>
<code class="cCode">Fvstot()</code>, <code class="cCode">Fvttos()</code> - convert C structure to/from target record type
</p>
<h4 class="pHeading3"><a name="wp1009455"> </a>
Synopsis
</h4>
<a name="wp1009456"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />long <br />Fvstot(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">trecord</code>, long <code class="cCodeEmphasis">treclen</code>, char *<code class="cCodeEmphasis">viewname</code>) <br /> <br />long <br />Fvttos(char *<code class="cCodeEmphasis">cstruct</code>, char *<code class="cCodeEmphasis">trecord</code>, char *<code class="cCodeEmphasis">viewname</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fvstot32(char *cstruct, char *trecord, long treclen, char *viewname) <br /> <br />int <br />Fvttos32(char *cstruct, char *trecord, char *viewname) <br /> <br />int Fcodeset(char *translation_table)</pre></div><h4 class="pHeading3"><a name="wp1009457"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009458"> </a>
The <code class="cCode">Fvstot()</code> function transfers data from a C structure to a target record type. The <code class="cCode">Fvttos()</code> function transfers data from a target record to a C structure. trecord is a pointer to the target record. cstruct is a pointer to a C structure. viewname is a pointer to the name of a compiled view description. The <code class="cCode">VIEWDIR</code> and <code class="cCode">VIEWFILES</code> are used to find the directory and file containing the compiled view description.
</p>
<p class="pBody"><a name="wp1009459"> </a>
<code class="cCode">Fvttos32()</code> and <code class="cCode">Fvstot32()</code> are used with 32-bit VIEWS.
</p>
<p class="pBody"><a name="wp1009460"> </a>
To convert from an FML buffer to a target record, first call <code class="cCode">Fvftos()</code> to convert the FML buffer to a C structure, and call <code class="cCode">Fvstot()</code> to convert to a target record. To convert from a target record to an FML buffer, first call <code class="cCode">Fvttos()</code> to convert to a C structure and then call <code class="cCode">Fvstof()</code> to convert the structure to an FML buffer.
</p>
<p class="pBody"><a name="wp1103396"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fvstot()</code> or <code class="cCode">Fvttos()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009461"> </a>
Default Conversion-IBM/370
</h4>
<p class="pBody"><a name="wp1009462"> </a>
The default target is IBM/370 COBOL records. The default data conversion is done based on the following table. 
</p>
<p class="pGraphic"><a name="wp1019668"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1019739table1019669"><caption><a name="wp1019739"> </a>
Table&#160;2  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Default Data Conversion</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1019731"> </a>
Struct
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1019733"> </a>
Record
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019843"> </a>
float
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019845"> </a>
COMP-1
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019847"> </a>
double
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019849"> </a>
COMP-2
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019851"> </a>
long
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019853"> </a>
S9(9) COMP
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019855"> </a>
short
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019857"> </a>
S9(4) COMP
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019859"> </a>
int
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019861"> </a>
S9(9) COMP or S9(4) COMP
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019863"> </a>
dec_t(<span style="font-style: italic">m, n</span>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019865"> </a>
S9(2*<span style="font-style: italic">m</span>-(<span style="font-style: italic">n</span>+1))V9(<span style="font-style: italic">n</span>)COMP-3
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019867"> </a>
ASCII char
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019869"> </a>
EBCDIC char
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019871"> </a>
ASCII string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019873"> </a>
EBCDIC string
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019875"> </a>
carray
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1019877"> </a>
character array
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1163842"> </a>
mbstring
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1163844"> </a>
multibyte character array
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1009509"> </a>
No filler bytes are provided between fields in the IBM/370 record. The COBOL SYNC clause should not be specified for any data items that are a part of the structure corresponding to the view.
</p>
<p class="pBody"><a name="wp1009510"> </a>
An integer field is converted to either a four or two-byte integer depending on the size of integers on the machine on which the conversion is done.
</p>
<p class="pBody"><a name="wp1009511"> </a>
A string field in the view must be terminated with a NULL when converting to/from the IBM/370 format.
</p>
<p class="pBody"><a name="wp1009512"> </a>
The data in a carray or mbstring field is passed unchanged; no data translation is performed.
</p>
<p class="pBody"><a name="wp1009513"> </a>
Packed decimals exist in the IBM/370 environment as two decimal digits packed into one byte with the low-order half byte used to store the sign. The length of a packed decimal may be 1 to 16 bytes with storage available for 1 to 31 digits and a sign.
</p>
<p class="pBody"><a name="wp1009514"> </a>
Packed decimals are supported in C structures using the <code class="cCode">dec_t</code> field type. The <code class="cCode">dec_t</code> field has a defined size consisting of two numbers separated by a comma. The number to the left of the comma is the total number of bytes that the decimal occupies. The number to the right is the number of digits to the right of the decimal point. The formula for conversion is:
</p>
<a name="wp1009515"> </a><div class="pPreformatted"><pre>dec_t(<span style="font-style: italic">m, n</span>) =&gt; S9(2*<span style="font-style: italic">m</span>-(<span style="font-style: italic">n</span>+1))V9(<span style="font-style: italic">n</span>)COMP-3</pre></div><p class="pBody"><a name="wp1009516"> </a>
Decimal values may be converted to and from other data types (for example, int, long, string, double, and float) using the functions described in <code class="cCode">decimal()</code>.
</p>
<p class="pBody"><a name="wp1009517"> </a>
The following table provides the hex values for default character conversion of ASCII (on the left) to/from EBCDIC (on the right). 
</p>
<a name="wp1009518"> </a><div class="pPreformatted"><pre>| 00 00 |01 01 |02 02 |03 03 |04 37 |05 2d |06 2e |07 2f |<br />| 08 16 |09 05 |0a 25 |0b 0b |0c 0c |0d 0d |0e 0e |0f 0f |<br />| 10 10 |11 11 |12 12 |13 13 |14 3c |15 3d |16 32 |17 26 |<br />| 18 18 |19 19 |1a 3f |1b 27 |1c 1c |1d 1d |1e 1e |1f 1f |<br />| 20 40 |21 5a |22 7f |23 7b |24 5b |25 6c |26 50 |27 7d |<br />| 28 4d |29 5d |2a 5c |2b 4e |2c 6b |2d 60 |2e 4b |2f 61 |<br />| 30 f0 |31 f1 |32 f2 |33 f3 |34 f4 |35 f5 |36 f6 |37 f7 |<br />| 38 f8 |39 f9 |3a 7a |3b 5e |3c 4c |3d 7e |3e 6e |3f 6f |<br />| 40 7c |41 c1 |42 c2 |43 c3 |44 c4 |45 c5 |46 c6 |47 c7 |<br />| 48 c8 |49 c9 |4a d1 |4b d2 |4c d3 |4d d4 |4e d5 |4f d6 |<br />| 50 d7 |51 d8 |52 d9 |53 e2 |54 e3 |55 e4 |56 e5 |57 e6 |<br />| 58 e7 |59 e8 |5a e9 |5b ad |5c e0 |5d bd |5e 5f |5f 6d |<br />| 60 79 |61 81 |62 82 |63 83 |64 84 |65 85 |66 86 |67 87 |<br />| 68 88 |69 89 |6a 91 |6b 92 |6c 93 |6d 94 |6e 95 |6f 96 |<br />| 70 97 |71 98 |72 99 |73 a2 |74 a3 |75 a4 |76 a5 |77 a6 |<br />| 78 a7 |79 a8 |7a a9 |7b c0 |7c 6a |7d d0 |7e a1 |7f 07 |<br />| 80 20 |81 21 |82 22 |83 23 |84 24 |85 15 |86 06 |87 17 |<br />| 88 28 |89 29 |8a 2a |8b 2b |8c 2c |8d 09 |8e 0a |8f 1b |<br />| 90 30 |91 31 |92 1a |93 33 |94 34 |95 35 |96 36 |97 08 |<br />| 98 38 |99 39 |9a 3a |9b 3b |9c 04 |9d 14 |9e 3e |9f e1 |<br />| a0 41 |a1 42 |a2 43 |a3 44 |a4 45 |a5 46 |a6 47 |a7 48 |<br />| a8 49 |a9 51 |aa 52 |ab 53 |ac 54 |ad 55 |ae 56 |af 57 |<br />| b0 58 |b1 59 |b2 62 |b3 63 |b4 64 |b5 65 |b6 66 |b7 67 |<br />| b8 68 |b9 69 |ba 70 |bb 71 |bc 72 |bd 73 |be 74 |bf 75 |<br />| c0 76 |c1 77 |c2 78 |c3 80 |c4 8a |c5 8b |c6 8c |c7 8d |<br />| c8 8e |c9 8f |ca 90 |cb 9a |cc 9b |cd 9c |ce 9d |cf 9e |<br />| d0 9f |d1 a0 |d2 aa |d3 ab |d4 ac |d5 4a |d6 ae |d7 af |<br />| d8 b0 |d9 b1 |da b2 |db b3 |dc b4 |dd b5 |de b6 |df b7 |<br />| e0 b8 |e1 b9 |e2 ba |e3 bb |e4 bc |e5 4f |e6 be |e7 bf |<br />| e8 ca |e9 cb |ea cc |eb cd |ec ce |ed cf |ee da |ef db |<br />| f0 dc |f1 dd |f2 de |f3 df |f4 ea |f5 eb |f6 ec |f7 ed |<br />| f8 ee |f9 ef |fa fa |fb fb |fc fc |fd fd |fe fe |ff ff |</pre></div><p class="pBody"><a name="wp1009519"> </a>
An alternate character translation table can be used at run time by calling <code class="cCode">Fcodeset()</code>. The translation_table must point to 512 bytes of binary data. The first 256 bytes of data are interpreted as the ASCII to EBCDIC translation table. The second 256 bytes of data are interpreted as the EBCDIC to ASCII table. Any data after the 512th byte is ignored. If the pointer is NULL, the default translation is used.
</p>
<h4 class="pHeading3"><a name="wp1009520"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009521"> </a>
On success, <code class="cCode">Fvstot()</code> returns the length of the target record and <code class="cCode">Fvttos()</code> returns the length of the C structure.
</p>
<p class="pBody"><a name="wp1009522"> </a>
These functions return -1 on error and set <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009523"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009524"> </a>
Under the following conditions, <code class="cCode">Fvttos()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009525"> </a>
[<code class="cCode">FEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1009526"> </a>
&quot;invalid argument to function&quot; <br />One of the arguments to the function invoked was invalid (for example, specifying a NULL trecord or cstruct parameter to <code class="cCode">Fvttos()</code>). This error is also returned if a value is out of range when converting to or from a target record.
</div>
<h4 class="pDefTerm"><a name="wp1009527"> </a>
[<code class="cCode">FBADACM</code>] 
</h4><div class="pDefPara"><a name="wp1009528"> </a>
&quot;ACM contains negative value&quot; <br />An Associated Count Member cannot be a negative value.
</div>
<h4 class="pDefTerm"><a name="wp1009529"> </a>
[<code class="cCode">FBADVIEW</code>]
</h4><div class="pDefPara"><a name="wp1009530"> </a>
&quot;cannot find or get view&quot; <br />viewname was not found in the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009531"> </a>
[<code class="cCode">FNOSPACE</code>] 
</h4><div class="pDefPara"><a name="wp1009532"> </a>
&quot;no space in buffer&quot; <br />The target record is not large enough to hold the converted structure.
</div>
<h4 class="pDefTerm"><a name="wp1009533"> </a>
[<code class="cCode">FVFOPEN</code>] 
</h4><div class="pDefPara"><a name="wp1009534"> </a>
&quot;cannot find or open viewfile&quot; <br />While trying to find viewname, the program failed to find one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009535"> </a>
[<code class="cCode">FEUNIX</code>] 
</h4><div class="pDefPara"><a name="wp1009536"> </a>
&quot;operating system error&quot; <br />While trying to find viewname, the program failed to open one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> for reading.
</div>
<h4 class="pDefTerm"><a name="wp1009537"> </a>
[<code class="cCode">FVFSYNTAX</code>] 
</h4><div class="pDefPara"><a name="wp1009538"> </a>
&quot;bad viewfile&quot; <br />While trying to find viewname, one of the files specified by <code class="cCode">VIEWDIR</code> or <code class="cCode">VIEWFILES</code> was corrupted or not a viewfile.
</div>
<h4 class="pDefTerm"><a name="wp1009539"> </a>
[<code class="cCode">FMALLOC</code>] 
</h4><div class="pDefPara"><a name="wp1009540"> </a>
&quot;malloc failed&quot; <br />While trying to find viewname, <code class="cCode">malloc()</code> failed while allocating space to hold the view information.
</div>
<h4 class="pHeading3"><a name="wp1009541"> </a>
Example
</h4>
<a name="wp1079795"> </a><div class="pPreformatted"><pre>VIEW test.v <br /> <br />VIEW test <br />#type   cname   fbname  count   flag    size    null <br />float   float1  FLOAT1  1       -       -       0.0 <br />double  double1 DOUBLE1 1       -       -       0.0 <br />long    long1   LONG1   1       -       -       0 <br />short   short1  SHORT1  1       -       -       0 <br />int     int1    INT1    1       -       -       0 <br />dec_t   dec1    DEC1    1       -       4,2     0 <br />char    char1   CHAR1   1       -       -       &#39;&#39; <br />string  string1 STRING1 1       -       20      &#39;&#39; <br />carray  carray1 CARRAY1 1       -       20      &#39;&#39; <br />END <br /> <br />Equivalent COBOL Record <br /> <br />02 OUTPUT-REC.<br />        05 FLOAT1                          USAGE IS COMP-1. <br />        05 DOUBLE1                         USAGE IS COMP-2. <br />        05 LONG1                           PIC S9(9) USAGE IS COMP.<br />        05 SHORT1                          PIC S9(4) USAGE IS COMP.<br />        05 INT1                            PIC S9(9) USAGE IS COMP.<br />        05 DEC1                            PIC S9(5)V9(2) COMP-3.  <br />        05 CHAR1                           PIC X(01). <br />        05 STRING1                         PIC X(20). <br />        05 CARRAY1                         PIC X(20). <br /> <br />C Program <br /> <br />#include &quot;test.h&quot; <br />#include &quot;decimal.h&quot; <br /> <br />main() <br />{ <br /> <br />        struct test s1; <br />        char data[100]; <br /> <br />        s1.float1 = 1.0; <br />        s1.double1 = 2.0; <br />        s1.long1 = 3; <br />        s1.short1 = 4; <br />        s1.int1 = 5; <br />        deccvdbl(6.0,s1.dec1); <br />        s1.char1 = &#39;7&#39;; <br />        (void) strcpy(s1.string1, &quot;eight&quot;); <br />        (void) strcpy(s1.carray1, &quot;nine&quot;); <br /> <br />        if (Fvstot((char *)&amp;s1, data, reclen, &quot;test&quot;) == -1) {<br />          printf(&quot;Fvstot failed: %sn&quot;, Fstrerror(Ferror));<br />          exit(0);<br />        }<br />        /* transfer to target machine and get response */ <br />        ... <br /> <br />        /* translate back */ <br />        if (Fvttos(data, (char *)&amp;s1, &quot;test&quot;) == -1) {<br />          printf(&quot;Fvttos failed: %sn&quot;, Fstrerror(Ferror));<br />          exit(0); <br />        } <br /> <br />        /* use the structure */ <br />        ..... <br />        exit(0); <br />}</pre></div><h4 class="pHeading3"><a name="wp1009543"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1057002"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1009148"><code class="cCode">Fvftos, Fvftos32(3fml)</code></a>, <a href="rf3fml.html#wp1009398"><code class="cCode">Fvstof, Fvstof32(3fml)</code></a>, <a href="../rf5/rf5.html">viewfile(5)</a> 
</p>
<p class="pBody"><a name="wp1057006"> </a>
<code class="cCode">decimal</code>(3) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009588"> </a>
Fwrite, Fwrite32(3fml)
</h2><h4 class="pHeading3"><a name="wp1009589"> </a>
Name
</h4>
<p class="pBody"><a name="wp1009590"> </a>
<code class="cCode">Fwrite()</code>, <code class="cCode">Fwrite32()</code> - write fielded buffer
</p>
<h4 class="pHeading3"><a name="wp1009591"> </a>
Synopsis
</h4>
<a name="wp1009592"> </a><div class="pPreformatted"><pre>#include &lt;stdio.h&gt; <br />#include &quot;fml.h&quot; <br /> <br />int <br />Fwrite(FBFR *<code class="cCodeEmphasis">fbfr</code>, FILE *<code class="cCodeEmphasis">iop</code>) <br /> <br />#include &quot;fml32.h&quot; <br /> <br />int <br />Fwrite32(FBFR32 *<code class="cCodeEmphasis">fbfr</code>, FILE *<code class="cCodeEmphasis">iop</code>)</pre></div><h4 class="pHeading3"><a name="wp1009593"> </a>
Description
</h4>
<p class="pBody"><a name="wp1009594"> </a>
Fielded buffers may be written to streams by <code class="cCode">Fwrite()</code>. (See <code class="cCode">stdio</code>(3S) in a UNIX system reference manual for a discussion of streams). <code class="cCode">Fwrite()</code> discards a buffer&#8217;s index.
</p>
<p class="pBody"><a name="wp1009595"> </a>
fbfr is a pointer to a fielded buffer. iop is a pointer of type <code class="cCode">FILE</code> to the output stream.
</p>
<p class="pBody"><a name="wp1009596"> </a>
For the <code class="cCode">FLD_PTR</code> field type, only the pointer, not the data being pointed to, is written to the output stream. For the <code class="cCode">FLD_VIEW32</code> field type, only the <code class="cCode">FVIEWFLD</code> structure, not the data in the VIEW32 buffer, is written to the output stream.
</p>
<p class="pBody"><a name="wp1065919"> </a>
<code class="cCode">Fwrite32()</code> is used with 32-bit FML.
</p>
<p class="pBody"><a name="wp1103405"> </a>
A thread in a multithreaded application may issue a call to <code class="cCode">Fwrite()</code> or <code class="cCode">Fwrite32()</code> while running in any context state, including <code class="cCode">TPINVALIDCONTEXT</code>.
</p>
<h4 class="pHeading3"><a name="wp1009597"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1009598"> </a>
This function returns -1 on error and sets <code class="cCode">Ferror</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1009599"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1009600"> </a>
Under the following conditions, <code class="cCode">Fwrite()</code> fails and sets <code class="cCode">Ferror</code> to: 
</p>
<h4 class="pDefTerm"><a name="wp1009601"> </a>
[<code class="cCode">FALIGNERR</code>] 
</h4><div class="pDefPara"><a name="wp1009602"> </a>
&quot;fielded buffer not aligned&quot; <br />The buffer does not begin on the proper boundary.
</div>
<h4 class="pDefTerm"><a name="wp1009603"> </a>
[<code class="cCode">FNOTFLD</code>] 
</h4><div class="pDefPara"><a name="wp1009604"> </a>
&quot;buffer not fielded&quot; <br />The buffer is not a fielded buffer or has not been initialized by <code class="cCode">Finit()</code>.
</div>
<h4 class="pDefTerm"><a name="wp1009605"> </a>
[<code class="cCode">FEUNIX</code>]
</h4><div class="pDefPara"><a name="wp1009606"> </a>
&quot;UNIX system call error&quot; <br />The <code class="cCode">write</code> system call failed. The external integer <code class="cCode">errno</code> should have been set to indicate the error by the system call, and the external integer <code class="cCode">Uunixerr</code> (values defined in <code class="cCode">Uunix.h</code>) is set to the system call that returned the error.
</div>
<h4 class="pHeading3"><a name="wp1009607"> </a>
Portability
</h4>
<p class="pBody"><a name="wp1009608"> </a>
This function is not supported using the Oracle Tuxedo System Workstation DLL for Windows.
</p>
<h4 class="pHeading3"><a name="wp1009609"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1009610"> </a>
<a href="rf3fml.html#wp1006343">Introduction to FML Functions</a>, <a href="rf3fml.html#wp1011635"><code class="cCode">Findex, Findex32(3fml)</code></a>, <a href="rf3fml.html#wp1008455"><code class="cCode">Fread, Fread32(3fml)</code></a>
</p>
<p class="pBody"><a name="wp1057039"> </a>
<code class="cCode">stdio</code>(3S) in a UNIX system reference manual
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1167007"> </a>
tpconvfmb32(3fml)
</h2><h4 class="pHeading3"><a name="wp1167069"> </a>
Name
</h4>
<p class="pBody"><a name="wp1166934"> </a>
<code class="cCode">tpconvfmb32()</code> - convert multibyte characters from source encoding to target encoding
</p>
<h4 class="pHeading3"><a name="wp1167101"> </a>
Synopsis
</h4>
<a name="wp1166936"> </a><div class="pPreformatted"><pre>#include &lt;atmi.h&gt;<br />#include &quot;fml32.h&quot;</pre></div><a name="wp1166938"> </a><div class="pPreformatted"><pre>extern int tperrno;</pre></div><a name="wp1166939"> </a><div class="pPreformatted"><pre>int<br />tpconvfmb32 (FBFR32 **<code class="cCodeEmphasis">bufp</code>, FLDID32 *<code class="cCodeEmphasis">ids</code>, char *<code class="cCodeEmphasis">target_encoding</code>, <br />long <code class="cCodeEmphasis">flags</code>)</pre></div><h4 class="pHeading3"><a name="wp1167125"> </a>
Description
</h4>
<p class="pBody"><a name="wp1166942"> </a>
<code class="cCode">tpconvfmb32()</code> converts the multibyte characters in an <code class="cCode">FLD_MBSTRING</code> field in an FML32 typed buffer to a named target encoding. Specifically, <code class="cCode">tpconvfmb32()</code> <em class="cEmphasis">compares</em> the source encoding name specified for the <code class="cCode">FLD_MBSTRING</code> field <em class="cEmphasis">with</em> the target encoding name defined in <code class="cCodeEmphasis">target_encoding</code>; if the encoding names are different, <code class="cCode">tpconvfmb32()</code> converts the <code class="cCode">FLD_MBSTRING</code> field data to the target encoding.
</p>
<p class="pBody"><a name="wp1166943"> </a>
<code class="cCode">tpconvfmb32()</code> is an alternative to system-initiated encoding conversion. System-initiated encoding conversion of <code class="cCode">FLD_MBSTRING</code> field data is done automatically when the process <code class="cCode">TPMBACONV</code> environment variable is set to a non-NULL value.
</p>
<p class="pBody"><a name="wp1166944"> </a>
<code class="cCodeEmphasis">bufp</code> is a pointer to an FML32 typed buffer. It is reallocated internally if the size associated with the pointer is insufficient to handle the converted output data of the FML32 buffer. <code class="cCodeEmphasis">bufp</code> must be defined using the <code class="cCode">tpalloc()</code> function, not the <code class="cCode">Falloc()</code> function. If <code class="cCodeEmphasis">bufp</code> contains <code class="cCode">FLD_FML32</code> fields, they are checked recursively for <code class="cCode">FLD_MBSTRING</code> fields. If <code class="cCodeEmphasis">bufp</code> contains <code class="cCode">FLD_PTR</code> fields, they are skipped.
</p>
<p class="pBody"><a name="wp1166945"> </a>
<code class="cCodeEmphasis">ids</code> contains a pointer to an array of field ids that are to be converted. If <code class="cCodeEmphasis">ids</code> is NULL, all <code class="cCode">FLD_MBSTRING</code> fields found in <code class="cCodeEmphasis">bufp</code> are converted to the target encoding if required. The array, if used, must be terminated with 0 (i.e., <code class="cCode">BADFLDID</code>).
</p>
<p class="pBody"><a name="wp1166946"> </a>
<code class="cCodeEmphasis">target_encoding</code> is the target code-set encoding name used to convert the <code class="cCode">FLD_MBSTRING</code> fields in the <code class="cCodeEmphasis">bufp</code> message. If <code class="cCodeEmphasis">target_encoding</code> is NULL, <code class="cCode">tpconvfmb32()</code> uses the encoding name defined in the process <code class="cCode">TPMBENC</code> environment variable.
</p>
<p class="pBody"><a name="wp1166947"> </a>
<code class="cCodeEmphasis">flags</code> is not used by <code class="cCode">tpconvfmb32()</code>. It is passed to the buffer type switch function for user-defined conversion functions.
</p>
<h4 class="pHeading3"><a name="wp1168634"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1168635"> </a>
On success, <code class="cCode">tpconvfmb32()</code> returns 0. On error, <code class="cCode">tpconvfmb32()</code> returns -1 and sets <code class="cCode">tperrno</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1168636"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1168637"> </a>
Under the following conditions, <code class="cCode">tpconvfmb32()</code> fails and sets <code class="cCode">tperrno</code> to:
</p>
<h4 class="pDefTerm"><a name="wp1166950"> </a>
[<code class="cCode">TPEPROTO</code>]
</h4><div class="pDefPara"><a name="wp1166951"> </a>
<code class="cCodeEmphasis">bufp</code> translates to a Tuxedo buffer that does not have a buffer type switch conversion function.
</div>
<h4 class="pDefTerm"><a name="wp1166952"> </a>
[<code class="cCode">TPESYSTEM</code>]
</h4><div class="pDefPara"><a name="wp1166953"> </a>
A Tuxedo system error has occurred (e.g., <code class="cCodeEmphasis">bufp</code> does not correspond to a valid Tuxedo buffer).
</div>
<h4 class="pDefTerm"><a name="wp1166954"> </a>
 [<code class="cCode">TPEINVAL</code>]
</h4><div class="pDefPara"><a name="wp1166955"> </a>
<code class="cCodeEmphasis">target_encoding</code> or <code class="cCodeEmphasis">bufp</code> is NULL.
</div>
<h4 class="pDefTerm"><a name="wp1166956"> </a>
[<code class="cCode">TPEOS</code>]
</h4><div class="pDefPara"><a name="wp1166957"> </a>
An operating system error occurred. The external integer <code class="cCode">Uunixerr</code> (values defined in <code class="cCode">Uunix.h</code>) is set to the system call that returned the error.
</div>
<h4 class="pHeading3"><a name="wp1167185"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1166959"> </a>
<a href="rf3fml.html#wp1182217"><code class="cCode">Fmbpack32(3fml)</code></a>, <a href="rf3fml.html#wp1182256"><code class="cCode">Fmbunpack32(3fml)</code></a>, <a href="../rf3c/rf3c.html">tpalloc(3c)</a>, <a href="../rf3c/rf3c.html">tpsetmbenc(3c)</a>, <a href="../rf3c/rf3c.html">tuxgetmbaconv(3c)</a>, <a href="../rf3c/rf3c.html">tuxgetmbenc(3c)</a>, <a href="../rf3c/rf3c.html">tuxsetmbaconv(3c)</a>, <a href="../rf3c/rf3c.html">tuxsetmbenc(3c)</a> 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1213615"> </a>
tpconvvmb32(3fml)
</h2><h4 class="pHeading3"><a name="wp1213617"> </a>
Name
</h4>
<p class="pBody"><a name="wp1213661"> </a>
<code class="cCode">tpconvvmb32()</code> - converts the multibyte characters in an MBSTRING field in an VIEW32 typed buffer to a named target encoding
</p>
<h4 class="pHeading3"><a name="wp1213621"> </a>
Synopsis
</h4>
<p class="pBody"><a name="wp1213623"> </a>
<code class="cCode">#include &lt;atmi.h&gt;<br />#include &quot;fml32.h&quot;<br />extern int tperrno;</code>
</p>
<p class="pBody"><a name="wp1213628"> </a>
<code class="cCode">int<br />tpconvvmb32 (char **bufp, FLDID32 *ids, char *target_encoding, <br />long flags)</code>
</p>
<h4 class="pHeading3"><a name="wp1213632"> </a>
Description
</h4>
<p class="pBody"><a name="wp1213634"> </a>
Specifically, <code class="cCode">tpconvvmb32() </code>compares the source encoding name specified for the MBSTRING field with the target encoding name defined in <code class="cCode">target_encoding</code>; if the encoding names are different, <code class="cCode">tpconvvmb32()</code> converts the MBSTRING field data to the target encoding.
</p>
<p class="pBody"><a name="wp1213683"> </a>
<code class="cCode">tpconvvmb32()</code> is an alternative to system-initiated encoding conversion. System-initiated encoding conversion of MBSTRING field data is done automatically when the process <code class="cCode">TPMBACONV</code> environment variable is set to a non-<code class="cCode">NULL</code> value. 
</p>
<p class="pBody"><a name="wp1214478"> </a>
<code class="cCode">tpconvvmb32()</code> supports the following arguments:
</p>
<h4 class="pDefTerm"><a name="wp1213685"> </a>
<code class="cCode">bufp</code>
</h4><div class="pDefPara"><a name="wp1214319"> </a>
A pointer to an VIEW32 typed buffer. It is reallocated internally if the size associated with the pointer is insufficient to handle the converted output data of the VIEW32 buffer. 
<a name="wp1214504"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">bufp</code> must be defined using the <code class="cCode">tpalloc()</code> function, not <code class="cCode">Falloc()</code>.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1213687"> </a>
<code class="cCode">ids </code>
</h4><div class="pDefPara"><a name="wp1214325"> </a>
Contains a pointer to an array of field <code class="cCode">ids</code> that are to be converted. If <code class="cCode">ids</code> is <code class="cCode">NULL</code>, all MBSTRING fields found in <code class="cCode">bufp</code> are converted to the target encoding if required. The array, if used, must be terminated with 0 (i.e., <code class="cCode">BADFLDID</code>).
</div>
<h4 class="pDefTerm"><a name="wp1213689"> </a>
<code class="cCode">target_encoding</code>
</h4><div class="pDefPara"><a name="wp1214334"> </a>
The target code-set encoding name used to convert the MBSTRING fields in the <code class="cCode">bufp</code> message. If <code class="cCode">target_encoding</code> is <code class="cCode">NULL</code>, <code class="cCode">tpconvvmb32()</code> uses the encoding name defined in the process <code class="cCode">TPMBENC</code> environment variable.
</div>
<h4 class="pDefTerm"><a name="wp1213691"> </a>
<code class="cCode">flags</code>
</h4><div class="pDefPara"><a name="wp1214340"> </a>
Not used by <code class="cCode">tpconvvmb32()</code>. It is passed to the buffer type switch function for user-defined conversion functions.
</div>
<h4 class="pHeading3"><a name="wp1213712"> </a>
Return Values
</h4>
<p class="pBody"><a name="wp1213714"> </a>
On success, <code class="cCode">tpconvvmb32()</code> returns <code class="cCode">0</code>. On error, <code class="cCode">tpconvvmb32()</code> returns <code class="cCode">-1</code> and sets <code class="cCode">tperrno</code> to indicate the error condition.
</p>
<h4 class="pHeading3"><a name="wp1213716"> </a>
Errors
</h4>
<p class="pBody"><a name="wp1213718"> </a>
Under the following conditions, <code class="cCode">tpconvvmb32()</code> fails and sets <code class="cCode">tperrno</code> to:
</p>
<h4 class="pDefTerm"><a name="wp1213720"> </a>
[<code class="cCode">TPEPROTO</code>] 
</h4><div class="pDefPara"><a name="wp1213722"> </a>
bufp translates to a Tuxedo buffer that does not have a buffer type switch conversion function. 
</div>
<h4 class="pDefTerm"><a name="wp1213724"> </a>
[<code class="cCode">TPESYSTEM</code>] 
</h4><div class="pDefPara"><a name="wp1213726"> </a>
A Tuxedo system error has occurred (e.g., <code class="cCode">bufp</code> does not correspond to a valid Tuxedo buffer). 
</div>
<h4 class="pDefTerm"><a name="wp1213728"> </a>
[<code class="cCode">TPEINVAL</code>] 
</h4><div class="pDefPara"><a name="wp1213730"> </a>
<code class="cCode">target_encoding</code> or <code class="cCode">bufp</code> is NULL. 
</div>
<h4 class="pDefTerm"><a name="wp1213732"> </a>
[<code class="cCode">TPEOS</code>] 
</h4><div class="pDefPara"><a name="wp1213734"> </a>
An operating system error occurred. The external integer Uunixerr (values defined in Uunix.h) is set to the system call that returned the error. 
</div>
<h4 class="pHeading3"><a name="wp1213736"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1213738"> </a>
<a href="rf3fml.html#wp1182217"><code class="cCode">Fmbpack32(3fml)</code></a>, <a href="rf3fml.html#wp1182256"><code class="cCode">Fmbunpack32(3fml)</code></a>, <a href="../rf3c/rf3c.html">tpalloc(3c)</a>, <a href="../rf3c/rf3c.html">tpsetmbenc(3c)</a>, <a href="../rf3c/rf3c.html">tuxgetmbaconv(3c)</a>, <a href="../rf3c/rf3c.html">tuxgetmbenc(3c)</a>, <a href="../rf3c/rf3c.html">tuxsetmbaconv(3c)</a>, <a href="../rf3c/rf3c.html">tuxsetmbenc(3c)</a>
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="rf3fml.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq9" src="/global_resources/images/nexttop_disabled.gif" border="0" alt="Next" />
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
