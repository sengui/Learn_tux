<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="6" />
<meta name="LOC_US_CHANGE" content="41889" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/sec/fm/secadm.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/26/12 11:55:09" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Administering Security</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Using Security in ATMI Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="secovr.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="secpgm.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/sec.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1470324"> </a>
Administering Security
</h1>
<p class="pBody"><a name="wp1239329"> </a>
The following sections explain how to set security policies for an Oracle Tuxedo ATMI application:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1448047"> </a><a href="secadm.html#wp1239347">What Administering Security Means</a></li>
<li><a name="wp1239333"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1239337"> </a><a href="secadm.html#wp1239453">Setting the Oracle Tuxedo Registry</a></li>
<li><a name="wp1239341"> </a><a href="secadm.html#wp1239479">Configuring an ATMI Application for Security</a></li>
<li><a name="wp1314270"> </a><a href="secadm.html#wp1239505">Setting Up the Administration Environment</a></li>
<li><a name="wp1482608"> </a><a href="secadm.html#wp1239578">Administering Operating System (OS) Security</a></li>
<li><a name="wp1482624"> </a><a href="secadm.html#wp1409710">Administering Authentication</a></li>
<li><a name="wp1482633"> </a><a href="secadm.html#wp1302257">Specifying Principal Names</a></li>
<li><a name="wp1482639"> </a><a href="secadm.html#wp1284650">Mandating Interoperability Policy</a></li>
<li><a name="wp1482645"> </a><a href="secadm.html#wp1364663">Establishing a Link Between Domains</a></li>
<li><a name="wp1482651"> </a><a href="secadm.html#wp1433988">Setting ACL Policy</a></li>
<li><a name="wp1482657"> </a><a href="secadm.html#wp1448848">Setting Credential Policy</a></li>
<li><a name="wp1482664"> </a><a href="secadm.html#wp1239624">Administering Authorization</a></li>
<li><a name="wp1483303"> </a><a href="secadm.html#wp1239646">Administering Link-Level Encryption</a></li>
<li><a name="wp1483304"> </a><a href="secadm.html#wp1489429">Administering SSL Encryption</a></li>
<li><a name="wp1483308"> </a><a href="secadm.html#wp1485558">Administering Public Key Security</a></li>
<li><a name="wp1239345"> </a><a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a></li>
<li><a name="wp1472027"> </a><a href="secadm.html#wp1506493">Using the Kerberos Authentication Plug-in</a></li>
<li><a name="wp1475503"> </a><a href="secadm.html#wp1473144">Kerberos Plug-In</a></li>
<li><a name="wp1475511"> </a><a href="secadm.html#wp1472868">Kerberos Plug-In Pre-configuration</a></li>
<li><a name="wp1475632"> </a><a href="secadm.html#wp1471355">Kerberos Plug-In Configuration</a></li>
<li><a name="wp1472041"> </a><a href="secadm.html#wp1472034">Using the Cert-C PKI Encryption Plug-in</a></li>
<li><a name="wp1475638"> </a><a href="secadm.html#wp1474002">Cert-C PKI Encryption Plug-In</a></li>
<li><a name="wp1475644"> </a><a href="secadm.html#wp1474649">Cert-C PKI Encryption Plug-In Pre-configuration</a></li>
<li><a name="wp1475666"> </a><a href="secadm.html#wp1474018">Cert-C PKI Encryption Plug-In Configuration</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239347"> </a>
What Administering Security Means
</h2><p class="pBody"><a name="wp1239348"> </a>
Administering security for an ATMI application involves setting and enforcing security policies for the components of the application, including its clients, server machines, and gateway links. The application administrator sets the security policies for the ATMI application, and the Oracle Tuxedo system upon which the ATMI application is built enforces those policies.
</p>
<p class="pBody"><a name="wp1239349"> </a>
The Oracle Tuxedo system offers the following ATMI security capabilities:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239350"> </a>Authentication</li>
<li><a name="wp1239351"> </a>Authorization</li>
<li><a name="wp1239352"> </a>Auditing</li>
<li><a name="wp1239353"> </a>Link-level encryption</li>
<li><a name="wp1483316"> </a>SSL Encryption</li>
<li><a name="wp1271385"> </a>Public key security</li>
</ul></div>
<p class="pBody"><a name="wp1271386"> </a>
All but one of the security capabilities can be configured by the application administrator. The exception is auditing, which cannot be configured, as shown in <a href="secadm.html#wp1412676">Figure&#160;2-1</a>.
</p>
<div class="pFigureTitle"><a name="wp1412676"> </a>
Figure&#160;2-1  Administering ATMI Security
</div>

 
 <p class="pGraphic"><a name="wp1412746"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-01.gif" height="442" width="553" alt="Administering ATMI Security" id="wp1412678"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1239415"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1269759"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1269763"> </a><a href="secovr.html#wp1248085">What Security Means</a></li>
<li><a name="wp1269767"> </a><a href="secpgm.html#wp1258005">What Programming Security Means</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239429"> </a>
Security Administration Tasks
</h2><p class="pBody"><a name="wp1239430"> </a>
Security administration consists of the following tasks:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1276491"> </a><a href="secadm.html#wp1239453"><span class="cHyperlink">
Setting the Oracle Tuxedo Registry</span></a></li>
<li><a name="wp1276492"> </a><a href="secadm.html#wp1239479"><span class="cHyperlink">
Configuring an ATMI Application for Security</span></a></li>
<li><a name="wp1483334"> </a><a href="secadm.html#wp1239505"><span class="cHyperlink">
Setting Up the Administration Environment</span></a></li>
<li><a name="wp1483336"> </a><a href="secadm.html#wp1239578"><span class="cHyperlink">
Administering Operating System (OS) Security</span></a></li>
<li><a name="wp1483338"> </a><a href="secadm.html#wp1409710"><span class="cHyperlink">
Administering Authentication</span></a></li>
<li><a name="wp1483349"> </a><a href="secadm.html#wp1239624">Administering Authorization</a></li>
<li><a name="wp1239442"> </a><a href="secadm.html#wp1239646"><span class="cHyperlink">
Administering Link-Level Encryption</span></a></li>
<li><a name="wp1483356"> </a><a href="secadm.html#wp1489429">Administering SSL Encryption</a></li>
<li><a name="wp1239444"> </a><a href="secadm.html#wp1485558"><span class="cHyperlink">
Administering Public Key Security</span></a></li>
<li><a name="wp1483379"> </a><a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1239445"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239449"> </a><a href="secadm.html#wp1239453">Setting the Oracle Tuxedo Registry</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239453"> </a>
Setting the Oracle Tuxedo Registry
</h2><p class="pBody"><a name="wp1239454"> </a>
The application administrator needs to know about the Oracle Tuxedo registry if the ATMI application is to be configured with one or more custom security capabilities. On the other hand, if the ATMI application is to be configured only with default security, the Oracle Tuxedo registry does not need to be changed.
</p>
<p class="pBody"><a name="wp1239455"> </a>
The Oracle Tuxedo registry is a disk-based repository for storing information related to plug-in modules. Initially, this registry holds registration information about the default security plug-ins.
</p>
<h3 class="pHeading2"><a name="wp1239456"> </a>
Purpose of the Oracle Tuxedo Registry
</h3>
<p class="pBody"><a name="wp1239457"> </a>
Most Oracle middleware products use a common transaction processing (TP) infrastructure that consists of a set of core services, such as security. The TP infrastructure is available to ATMI applications through well defined interfaces. These interfaces allow application administrators to change the default behavior of the TP infrastructure by loading and linking their own service code modules, referred to as <em class="cEmphasis">plug-in modules </em>or simply <em class="cEmphasis">plug-ins</em>.
</p>
<p class="pBody"><a name="wp1269351"> </a>
The first step in loading a plug-in is to register the plug-in with the host operating system. Registering a plug-in adds an entry for the plug-in to the Oracle Tuxedo registry, which is a set of binary files that stores information about active plug-ins. There is one registry per Oracle Tuxedo installation.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239459"> </a>On a UNIX host machine, the Oracle Tuxedo registry is in the <code class="cCode">$TUXDIR/udataobj</code> directory.</li>
<li><a name="wp1239460"> </a>On a Windows 2003 host machine, the Oracle Tuxedo registry is in the <code class="cCode">%TUXDIR%\udataobj</code> directory.</li>
</ul></div>
<p class="pBody"><a name="wp1239461"> </a>
Every Workstation client and server machine in an ATMI application must use the same set of plug-in modules.
</p>
<h3 class="pHeading2"><a name="wp1239463"> </a>
Registering Plug-ins
</h3>
<p class="pBody"><a name="wp1242403"> </a>
The administrator of an ATMI application in which custom plug-ins will be used is responsible for registering those plug-ins and performing other registry related tasks. An administer can register plug-ins in the Oracle Tuxedo registry <em class="cEmphasis">only</em> from the local machine. That is, an administrator cannot register plug-ins while logged on to the host machine from a remote location.
</p>
<p class="pBody"><a name="wp1243191"> </a>
Three commands are available for administering plug-ins:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239465"> </a><code class="cCode">epifreg</code>&#8212;for registering a plug-in</li>
<li><a name="wp1239466"> </a><code class="cCode">epifunreg</code>&#8212;for unregistering a plug-in</li>
<li><a name="wp1313849"> </a><code class="cCode">epifregedt</code>&#8212;for editing registry information</li>
</ul></div>
<p class="pBody"><a name="wp1313850"> </a>
Instructions for using these commands are available in Developing Security Services for ATMI and CORBA Environments. (This document contains the specifications for the security plug-in interface, and describes the <em class="cEmphasis">plug-in framework</em> feature that makes the dynamic loading and linking of security plug-in modules possible.) Also, when installing custom plug-ins, the supplying third-party security vendor should provide instructions for using these commands to set up the Oracle Tuxedo registry to access the custom plug-ins.
</p>
<p class="pBody"><a name="wp1242786"> </a>
For more information about security plug-ins, including installation and configuration procedures, see your Oracle account executive.
</p>
<h3 class="pHeading2"><a name="wp1239473"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239477"> </a><a href="secadm.html#wp1239479">Configuring an ATMI Application for Security</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239479"> </a>
Configuring an ATMI Application for Security
</h2><p class="pBody"><a name="wp1239480"> </a>
An application administrator configures security for the ATMI application on the <code class="cCode">MASTER</code> machine when the application is inactive. The underlying Oracle Tuxedo system propagates the configuration information to the other machines in the ATMI application when the application is booted.
</p>
<p class="pBody"><a name="wp1239481"> </a>
As the administrator, you can configure security for your ATMI application by:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239482"> </a>Editing the configuration file (<code class="cCode">UBBCONFIG</code>)</li>
<li><a name="wp1239483"> </a>Changing the <code class="cCode">TM_MIB</code>, or</li>
<li><a name="wp1239484"> </a>Using the Oracle Administration Console</li>
</ul></div>
<p class="pBody"><a name="wp1239485"> </a>
The set of security parameters involved depends upon the security capability (authentication, authorization, link-level encryption, or public key) and whether you are using the default or custom security software.
</p>
<h3 class="pHeading2"><a name="wp1239486"> </a>
Editing the Configuration File
</h3>
<p class="pBody"><a name="wp1239487"> </a>
You can edit the <code class="cCode">UBBCONFIG</code> configuration file to set security policies for an ATMI application. The <code class="cCode">UBBCONFIG</code> configuration file may have any filename, as long as the content of the file conforms to the format described on the <a href="../rf5/rf5.html">UBBCONFIG(5)</a> reference page in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference.
</p>
<p class="pBody"><a name="wp1239490"> </a>
For more details about <code class="cCode">UBBCONFIG</code> and its binary equivalent, <code class="cCode">TUXCONFIG</code>, see <span class="cHyperlink">
<a href="../ads/adconf.html">&#8220;About the Configuration File&#8221; </a></span>and <span class="cHyperlink">
<a href="../ads/adfig.html">&#8220;Creating the Configuration File&#8221; </a></span>in Setting Up an Oracle Tuxedo Application.
</p>
<h3 class="pHeading2"><a name="wp1239491"> </a>
Changing the TM_MIB
</h3>
<p class="pBody"><a name="wp1311289"> </a>
The <code class="cCode">TM_MIB</code> defines a set of classes through which the fundamental aspects of an ATMI application may be configured and managed. Separate classes are designated for machines, servers, networks, and so on. You should use the reference page <a href="../rf5/rf5.html">TM_MIB(5)</a> in combination with the generic Management Information Base (MIB) reference page <a href="../rf5/rf5.html">MIB(5)</a> to format administrative requests and interpret administrative replies. The MIB reference pages are defined in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference.
</p>
<p class="pBody"><a name="wp1311290"> </a>
Other component MIBs, including the <code class="cCode">ACL_MIB</code>, <code class="cCode">DM_MIB</code>, and <code class="cCode">WS_MIB</code>, also play a role in managing security for an ATMI application. The reference page <a href="../rf5/rf5.html">ACL_MIB(5)</a> defines the <code class="cCode">ACL_MIB</code>, the reference page <a href="../rf5/rf5.html">DM_MIB(5)</a> defines the <code class="cCode">DM_MIB</code>, and the reference page <a href="../rf5/rf5.html">WS_MIB(5)</a> defines the <code class="cCode">WS_MIB</code>.
</p>
<p class="pBody"><a name="wp1416929"> </a>
For more information about Oracle Tuxedo MIBs, start with <a href="../rf5/rf5.html">MIB(5)</a> in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference. Also, see Introducing Oracle Tuxedo ATMI.
</p>
<h3 class="pHeading2"><a name="wp1239495"> </a>
Using the Oracle Administration Console
</h3>
<p class="pBody"><a name="wp1239496"> </a>
You can also use the Oracle Administration Console to change security policies for an ATMI application. The Oracle Administration Console is a Web-based tool used to configure, monitor, and dynamically re-configure an application.
</p>
<p class="pBody"><a name="wp1312082"> </a>
For details about the Oracle Administration Console, see Introducing Oracle Tuxedo ATMI.
</p>
<h3 class="pHeading2"><a name="wp1239498"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239502"> </a><a href="secadm.html#wp1239505">Setting Up the Administration Environment</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239505"> </a>
Setting Up the Administration Environment
</h2><p class="pBody"><a name="wp1239506"> </a>
The application administrator defines certain environment variables for an ATMI application as part of configuring the application. The values defined for the variables are absolute pathnames that reference Oracle Tuxedo executables and data libraries.
</p>
<p class="pBody"><a name="wp1311701"> </a>
Being able to find such files is essential to the job of administering an ATMI application. For example, all commands needed to manage application security are located in <code class="cCode">$TUXDIR/bin</code> on a UNIX host machine, and in <code class="cCode">%TUXDIR%\bin</code> on a Windows 2003 host machine.
</p>
<p class="pBody"><a name="wp1311704"> </a>
For details on setting up the administration environment, see Administering an Oracle Tuxedo Application at Run Time.
</p>
<h3 class="pHeading2"><a name="wp1239551"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239555"> </a><a href="secadm.html#wp1239578">Administering Operating System (OS) Security</a></li>
<li><a name="wp1239559"> </a><a href="secadm.html#wp1409710">Administering Authentication</a></li>
<li><a name="wp1239563"> </a><a href="secadm.html#wp1239624">Administering Authorization</a></li>
<li><a name="wp1239567"> </a><a href="secadm.html#wp1239646">Administering Link-Level Encryption</a></li>
<li><a name="wp1483383"> </a><a href="secadm.html#wp1489429"><span class="cHyperlink">
Administering SSL Encryption on page&#160;2-41</span></a></li>
<li><a name="wp1239571"> </a><a href="secadm.html#wp1485558">Administering Public Key Security</a></li>
<li><a name="wp1239575"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239578"> </a>
Administering Operating System (OS) Security
</h2><p class="pBody"><a name="wp1239579"> </a>
In addition to the security features in the ATMI environment of the Oracle Tuxedo product, the application administrator needs to take full advantage of the security features of the host operating system to control access to files, directories, and system resources.
</p>
<p class="pBody"><a name="wp1239580"> </a>
Most ATMI applications are managed by an application administrator who configures and boots the application, monitors the running application, and makes changes to it dynamically, as necessary. Because the ATMI application is started and run by the administrator, server programs are run with the administrator&#8217;s permissions and are therefore considered secure or &#8220;trusted.&#8221; This working method is supported by the login mechanism and the read and write permissions on the files, directories, and system resources provided by the underlying operating system.
</p>
<p class="pBody"><a name="wp1239581"> </a>
Clients, on the other hand, are not started by the administrator. Instead, they are run directly by users with their own permissions. As a result, clients are not trusted.
</p>
<p class="pBody"><a name="wp1244138"> </a>
In addition, users running native clients (that is, clients running on the same machine on which the server is running) have access to the configuration file and interprocess communication (IPC) mechanisms such as the <em class="cEmphasis">bulletin board</em> (in shared memory). Users running native clients always have such access, even when additional ATMI security is configured.
</p>
<h3 class="pHeading2"><a name="wp1239582"> </a>
Recommended Practices for OS Security
</h3>
<p class="pBody"><a name="wp1239583"> </a>
As the administrator, you can improve operating system security by observing the following general rules:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239584"> </a>Limit access to files and IPC resources to the application administrator.</li>
<li><a name="wp1239585"> </a>Have &#8220;trusted&#8221; client programs run only with the permissions of the administrator (using a <code class="cCode">setuid</code> utility).</li>
<li><a name="wp1239586"> </a>For maximum security on your operating system, allow only Workstation clients to access the application; client programs should not be allowed to run on the same machines on which application servers and administrative programs run.</li>
<li><a name="wp1239590"> </a>Combine all of these practices with ATMI security so that the application can identify any client making a request.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1239592"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239596"> </a><a href="secovr.html#wp1248293">Operating System (OS) Security</a></li>
<li><a name="wp1239600"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1409710"> </a>
Administering Authentication
</h2><p class="pBody"><a name="wp1409711"> </a>
Authentication allows communicating processes to prove their identities. It is the foundation for most other security capabilities.
</p>
<p class="pBody"><a name="wp1283878"> </a>
Except for the configuration instructions identified in this topic, the procedures for administering authentication depend upon the underlying authentication system of the application. For procedures to administer a custom authentication system, see the documentation for that system. For procedures to administer the default authentication system, see <a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a>.
</p>
<p class="pBody"><a name="wp1283882"> </a>
The following figure demonstrates the use of the <em class="cEmphasis">delegated trust authentication model</em> by applications running Oracle Tuxedo release 7.1 or later software. Workstation handlers (WSHs) and domain gateways (<code class="cCode">GWTDOMAINs</code>) are known as <em class="cEmphasis">trusted system gateway processes</em> in the delegated trust authentication model, which is described in <a href="secovr.html#wp1248320">Understanding Delegated Trust Authentication</a>.
</p>
<div class="pFigureTitle"><a name="wp1283382"> </a>
Figure&#160;2-2  Mutual Authentication in the Delegated Trust Authentication Model
</div>

 
 <p class="pGraphic"><a name="wp1283789"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-02.gif" height="262" width="555" alt="Mutual Authentication in the Delegated Trust Authentication Model" id="wp1283661"/></div><p class="pGraphic">

</p>
<a name="wp1302253"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Mutual authentication is not used for a native client, which authenticates with itself.</td>
</tr>
</table>

<p class="pBody"><a name="wp1304758"> </a>
The following topics provide the instructions needed to set up the configuration shown in the preceding figure. All of the topics involve authentication and the authentication plug-in.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1364427"> </a><span class="cHyperlink">
<a href="secadm.html#wp1302257">Specifying principal names</a></span></li>
<li><a name="wp1364432"> </a><span class="cHyperlink">
<a href="secadm.html#wp1284650">Mandating interoperability policy</a></span></li>
<li><a name="wp1364620"> </a><span class="cHyperlink">
<a href="secadm.html#wp1364663">Establishing a link between domains</a></span></li>
<li><a name="wp1364621"> </a><span class="cHyperlink">
<a href="secadm.html#wp1433988">Setting ACL policy</a></span></li>
<li><a name="wp1449173"> </a><span class="cHyperlink">
Setting credential policy</span></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1365347"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1365351"> </a><a href="secovr.html#wp1248314">Authentication</a></li>
<li><a name="wp1365355"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1365359"> </a><a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a></li>
<li><a name="wp1365363"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1365367"> </a><a href="secovr.html#wp1250398">Security Interoperability</a></li>
<li><a name="wp1365371"> </a><a href="secovr.html#wp1251179">Security Compatibility</a></li>
<li><a name="wp1419754"> </a><span class="cHyperlink">
&#8220;Oracle Tuxedo Domains (</span><a href="../int/intarch.html"></a>Multiple-Domain) Servers&#8221; in Introducing Oracle Tuxedo ATMI</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1302257"> </a>
Specifying Principal Names
</h2><p class="pBody"><a name="wp1393103"> </a>
As the administrator, you use the following configuration parameters to specify principal names for the workstation handler (WSH), domain gateway (<code class="cCode">GWTDOMAIN</code>), and server processes running in your ATMI application built with release 7.1 or later of the Oracle Tuxedo software.
</p>
<p class="pGraphic"><a name="wp1460319"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1395063table1394857">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1395063"> </a>
Parameter Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1395065"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1395067"> </a>
Setting
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1395081"> </a>
<code class="cCode">SEC_PRINCIPAL_NAME</code> in <code class="cCode">UBBCONFIG</code> (<code class="cCode">TA_SEC_PRINCIPAL_NAME</code> in <code class="cCode">TM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1395424"> </a>
During application booting, each WSH, domain gateway, and server process in the ATMI application calls the authentication plug-in to acquire security credentials for the <em class="cEmphasis">security principal name</em> specified in <code class="cCode">SEC_PRINCIPAL_NAME</code>.*
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1395106"> </a>
1 - 511 characters. If not specified at any level in the configuration hierarchy, the security principal name defaults to the <code class="cCode">DOMAINID</code> string specified in the <code class="cCode">UBBCONFIG</code> file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1395075"> </a>
<code class="cCode">CONNECTION_PRINCIPAL_NAME</code> for local domain access point in <code class="cCode">DMCONFIG</code> (<code class="cCode">TA_DMCONNPRINCIPALNAME</code> for <code class="cCode">LACCESSPOINT</code> in <code class="cCode">DM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1395077"> </a>
During application booting, each domain gateway process in the ATMI application calls the authentication plug-in a second time to acquire security credentials for the <em class="cEmphasis">connection principal name</em> specified in <code class="cCode">CONNECTION_PRINCIPAL_NAME</code>.*
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1395293"> </a>
1 - 511 characters. If not specified, the connection principal name defaults to the <code class="cCode">ACCESSPOINTID</code>** string for the local domain access point specified in the <code class="cCode">DMCONFIG</code> file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="3" rowspan="1"><div class="pCellBody"><a name="wp1402065"> </a>
<code class="cCode">&#160;*&#160;</code>The topics that follow explain how the system processes acquire credentials and why they need them.
</div>
<div class="pCellBody"><a name="wp1462160"> </a>
<code class="cCode">&#160;**</code>The <code class="cCode">ACCESSPOINTID</code> parameter is also known as <code class="cCode">DOMAINID</code>.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1393143"> </a>
<code class="cCode">SEC_PRINCIPAL_NAME</code> may be specified any of the following four levels in the configuration hierarchy:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1283319"> </a><code class="cCode">RESOURCES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_DOMAIN</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1283320"> </a><code class="cCode">MACHINES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_MACHINE</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1283321"> </a><code class="cCode">GROUPS</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_GROUP</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1283322"> </a><code class="cCode">SERVERS</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_SERVER</code> class in <code class="cCode">TM_MIB</code></li>
</ul></div>
<p class="pBody"><a name="wp1396382"> </a>
A security principal name at a particular configuration level can be overridden at a lower level. For example, suppose you configure <code class="cCode">terri</code> as the principal name for machine <code class="cCode">mach1</code>, and <code class="cCode">john</code> as the principal name for server <code class="cCode">serv1</code> running on <code class="cCode">mach1</code>. The processes on <code class="cCode">mach1</code> behave as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1396383"> </a>All WSH, domain gateway, and server processes on <code class="cCode">mach1</code> except <code class="cCode">serv1</code> processes use <code class="cCode">terri</code> as a principal name.</li>
<li><a name="wp1396384"> </a>All <code class="cCode">serv1</code> processes use <code class="cCode">john</code> as a principal name.</li>
</ul></div>
<a name="wp1501617"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Security principal information must be specified for all machines in a networked application (MP mode) configuration. If a boot failure occurs, examine the ULOG files on both sides of the connection where the failure occurred for more information about the cause of the failure.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1501618"> </a>
How System Processes Acquire Credentials
</h3>
<p class="pBody"><a name="wp1404105"> </a>
During application booting, each WSH, domain gateway, and server process in the ATMI application includes its <em class="cEmphasis">security principal name</em> as an argument when calling the authentication plug-in to (1) acquire security credentials and (2) get authorization and auditing tokens for itself. <a href="secadm.html#wp1404106">Figure&#160;2-3</a> demonstrates the procedure.
</p>
<div class="pFigureTitle"><a name="wp1404106"> </a>
Figure&#160;2-3  Acquiring Credentials and Tokens During Application Booting
</div>

 
 <p class="pGraphic"><a name="wp1402550"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-03.gif" height="556" width="557" alt="Acquiring Credentials and Tokens During Application Booting" id="wp1402250"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1402551"> </a>
Each domain gateway process in the application calls the authentication plug-in a second time to acquire credentials and tokens for its assigned <em class="cEmphasis">connection principal name</em>.
</p>
<h3 class="pHeading2"><a name="wp1396412"> </a>
Why System Processes Need Credentials
</h3>
<p class="pBody"><a name="wp1337096"> </a>
A WSH needs credentials so that it can authenticate Workstation clients that want to join the application, and to get authorization and auditing tokens for the authenticated Workstation clients. A WSH needs its own authorization and auditing tokens when handling requests from pre-release 7.1 clients (clients running Oracle Tuxedo release&#160;6.5 or earlier software) so that it can call the authentication plug-in to establish identities for the older clients. This behavior is described in <a href="secadm.html#wp1284650">Mandating Interoperability Policy</a>.
</p>
<p class="pBody"><a name="wp1376443"> </a>
A domain gateway needs one set of credentials so that it can authenticate remote domain gateways for the purpose of establishing links between ATMI applications, as described in <a href="secadm.html#wp1364663">Establishing a Link Between Domains</a>. (No authorization or auditing tokens are assigned to authenticated remote domain gateways.) A domain gateway acquires these credentials for the principal name specified in the <code class="cCode">CONNECTION_PRINCIPAL_NAME</code> parameter.
</p>
<p class="pBody"><a name="wp1379061"> </a>
A domain gateway needs a second set of credentials so that it can handle requests from pre-release 7.1 clients, which involves calling the authentication plug-in to establish identities for the older clients. This behavior is described in <a href="secadm.html#wp1284650">Mandating Interoperability Policy</a>. It also needs these credentials to establish identities when enforcing the local access control list (ACL) policy, as described in <a href="secadm.html#wp1433988">Setting ACL Policy</a>. A domain gateway acquires these credentials for the principal name specified in the <code class="cCode">SEC_PRINCIPAL_NAME</code> parameter.
</p>
<p class="pBody"><a name="wp1334498"> </a>
A system or application server needs its own authorization and auditing tokens when handling requests from pre-release 7.1 clients so that it can call the authentication plug-in to establish identities for the older clients. This behavior is described in <a href="secadm.html#wp1284650">Mandating Interoperability Policy</a>.
</p>
<p class="pBody"><a name="wp1338274"> </a>
A server also needs its own tokens when performing a <em class="cEmphasis">server permission upgrade</em>, which occurs when the authorization and auditing tokens of the server are assigned to messages that pass through the server but originate at a client. The service upgrade capability is described in <a href="secovr.html#wp1258983">Replacing Client Tokens with Server Tokens</a>.
</p>
<a name="wp1334502"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>An application server cannot call the authentication plug-in itself. It is the underlying system code that calls the authentication plug-in for the application server.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1404828"> </a>
Example UBBCONFIG Entries for Principal Names
</h3>
<p class="pBody"><a name="wp1404829"> </a>
The following example pertains to specifying security principal names in the <code class="cCode">UBBCONFIG</code> file using the <code class="cCode">SEC_PRINCIPAL_NAME</code> parameter. For an example of specifying connection principal names in the <code class="cCode">DMCONFIG</code> file using the <code class="cCode">CONNECTION_PRINCIPAL_NAME</code> parameter, see <a href="secadm.html#wp1365885">Example DMCONFIG Entries for Establishing a Link</a>.
</p>
<a name="wp1289420"> </a><div class="pPreformatted"><pre>*RESOURCES<br /><code class="cCode">SEC_PRINCIPAL_NAME&#160;&#160;&#160;&#160;&quot;Tommy&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.</pre></div><a name="wp1314159"> </a><div class="pPreformatted"><pre>*SERVERS<br />&quot;TMQUEUE&quot;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SRVGRP=&quot;QUEGROUP&quot;&#160;&#160;&#160;&#160;&#160;&#160;SRVID=1<br />&#160;&#160;&#160;CLOPT=&quot;-t -s secsdb:TMQUEUE&quot;<br />&#160;&#160;&#160;SEC_PRINCIPAL_NAME=&quot;TOUPPER&quot;</pre></div><h3 class="pHeading2"><a name="wp1365547"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1365555"> </a><a href="secadm.html#wp1284650">Mandating Interoperability Policy</a></li>
<li><a name="wp1365559"> </a><a href="secadm.html#wp1364663">Establishing a Link Between Domains</a></li>
<li><a name="wp1367773"> </a><a href="secadm.html#wp1433988">Setting ACL Policy</a></li>
<li><a name="wp1365563"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1284650"> </a>
Mandating Interoperability Policy
</h2><p class="pBody"><a name="wp1284651"> </a>
As the administrator, you use the <code class="cCode">CLOPT -t</code> option in the <code class="cCode">UBBCONFIG</code> file to allow WSH, domain gateway (<code class="cCode">GWTDOMAIN</code>), and server processes in your ATMI application to interoperate with machines running Oracle Tuxedo pre-release 7.1 (6.5 or earlier) software. In addition, you use the <code class="cCode">WSINTOPPRE71</code> environment variable to allow Workstation clients to interoperate with machines running Oracle Tuxedo pre-release 7.1 software. The following four figures show what interoperability means for these processes.
</p>
<div class="pFigureTitle"><a name="wp1292729"> </a>
Figure&#160;2-4  WSH Operating with Older Workstation Client
</div>

 
 <p class="pGraphic"><a name="wp1292793"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-04.gif" height="325" width="456" alt="WSH Operating with Older Workstation Client" id="wp1292731"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1318604"> </a>
In the preceding figure, the WSH authenticates with the Workstation client using an older (pre-release 7.1) authentication protocol, calls the internal impersonate user function to get authorization and auditing tokens for the client, and attaches the tokens to the client request. If the <code class="cCode">CLOPT -t</code> option is not specified for the workstation listener (WSL) that controls the WSH, no communication is possible between the newer WSH and the older Workstation client.
</p>
<a name="wp1328431"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The impersonate user function<em class="cEmphasis"> </em>involves calling the authentication plug-in to establish an identity for the older client. See <a href="secadm.html#wp1340041">Establishing an Identity for an Older Client</a> for details.</td>
</tr>
</table>

<div class="pFigureTitle"><a name="wp1327372"> </a>
Figure&#160;2-5  Older WSH Operating with Workstation Client
</div>

 
 <p class="pGraphic"><a name="wp1327452"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-05.gif" height="325" width="456" alt="Older WSH Operating with Workstation Client" id="wp1327374"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1327453"> </a>
In the preceding figure, the WSH authenticates with the Workstation client using an older (pre-release 7.1) authentication protocol; the client request does <em class="cEmphasis">not</em> receive authorization and auditing tokens. If the <code class="cCode">WSINTOPPRE71</code> environment variable is not set at the Workstation client or is set to <code class="cCode">N</code>, no communication is possible between the older WSH and the newer Workstation client.
</p>
<div class="pFigureTitle"><a name="wp1326419"> </a>
Figure&#160;2-6  Server Interoperating with Older ATMI Application
</div>

 
 <p class="pGraphic"><a name="wp1318756"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-06.gif" height="293" width="552" alt="Server Interoperating with Older ATMI Application" id="wp1318606"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1318757"> </a>
In the preceding figure, the local domain gateway (<code class="cCode">GWTDOMAIN</code>) in application 1 authenticates with the remote domain gateway in application 2 using an older (pre-release 7.1) authentication protocol. Upon receiving a request from a remote client, the local domain gateway calls the internal impersonate user function to get authorization and auditing tokens for the remote client and then attaches the tokens to the client request. For any outbound client request (client request originating in application 1 and destined for application&#160;2), the local domain gateway strips the tokens from the request before sending the request along with the client&#8217;s <em class="cEmphasis">application key</em> to the older application. (See <a href="secovr.html#wp1250204">Application Key</a> for a description of the application key.)
</p>
<p class="pBody"><a name="wp1343625"> </a>
If the <code class="cCode">CLOPT -t</code> option is not specified for the domain gateway, no communication is possible between the newer ATMI application and the older ATMI application.
</p>
<div class="pFigureTitle"><a name="wp1328698"> </a>
Figure&#160;2-7  Server Interoperating with Older Oracle Tuxedo Systems
</div>

 
 <p class="pGraphic"><a name="wp1318905"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-07.gif" height="303" width="551" alt="Server Interoperating with Older Oracle Tuxedo Systems" id="wp1318759"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1303233"> </a>
In the preceding figure, the destination server on machine 1 calls the internal impersonate user function to get authorization and auditing tokens for the remote client on machine 2, attaches the tokens to the client request, and then performs the request <em class="cEmphasis">assuming</em> the client passes any authorization checks. If the <code class="cCode">CLOPT -t</code> option is not specified for the server, no communication is possible between the newer server and the older client.
</p>
<a name="wp1343579"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Also, in the preceding figure, if the WSH on machine 1 receives a client request destined for a server on machine 2, the WSH strips the tokens from the request before sending the request along with the client&#8217;s application key to the older system. Similarly, if the native client on machine 1 sends a request to a server on machine 2, the native client strips the tokens from the request before sending the request along with the client&#8217;s application key to the older system. See <a href="secovr.html#wp1250204">Application Key</a> for a description of the application key.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1340041"> </a>
Establishing an Identity for an Older Client
</h3>
<p class="pBody"><a name="wp1340042"> </a>
For a WSH, domain gateway (<code class="cCode">GWTDOMAIN</code>), or server process to establish an identity for an older client, the process calls the internal impersonate user function to obtain authorization and auditing tokens for the older client. The following figure demonstrates the procedure.
</p>
<div class="pFigureTitle"><a name="wp1339884"> </a>
Figure&#160;2-8  Obtaining Authorization and Auditing Tokens for an Older Client
</div>

 
 <p class="pGraphic"><a name="wp1339964"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-08.gif" height="303" width="461" alt="Obtaining Authorization and Auditing Tokens for an Older Client" id="wp1339886"/></div><p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1340846"> </a>
How the WSH Establishes an Identity for an Older Client
</h4>
<p class="pBody"><a name="wp1404530"> </a>
When the <code class="cCode">CLOPT -t</code> option is specified, the WSH establishes an identity for an older client using the <code class="cCode">usrname</code> field of the <code class="cCode">TPINIT</code> buffer for C, or the <code class="cCode">USRNAME</code> field of the <code class="cCode">TPINFDEF-REC</code> record for COBOL. (The WSH receives a <code class="cCode">TPINIT</code> buffer/ <code class="cCode">TPINFDEF-REC</code> record from a client when the client attempts to join the application, as described in <a href="secpgm.html#wp1258178">Joining the ATMI Application</a>.) The WSH includes the user name as the principal name when calling the impersonate user function.
</p>
<p class="pBody"><a name="wp1340992"> </a>
For default authentication plug-ins, the impersonate user function finds the user name and its associated application key (user identifier, group identifier combination) in the local <code class="cCode">tpusr</code> file, and then includes the user name and application key in both the authorization and auditing tokens created for the older client. The <code class="cCode">tpusr</code> file is briefly described in <a href="secadm.html#wp1239982">Setting Up the User and Group Files</a>.
</p>
<h4 class="pHeading3"><a name="wp1404755"> </a>
How the Domain Gateway Establishes an Identity for an Older Client
</h4>
<p class="pBody"><a name="wp1340971"> </a>
When the <code class="cCode">CLOPT -t</code> option is specified, the domain gateway establishes an identity for an older client using the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> string configured for the remote domain access point. (The domain gateway searches the <code class="cCode">DM_REMOTE</code> section of the local <code class="cCode">BDMCONFIG</code> file&#8212;the binary equivalent of the <a href="../rf5/rf5.html">DMCONFIG(5)</a> file&#8212;to find the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> string for the remote domain access point. If not specified, the identity defaults to the <code class="cCode">ACCESSPOINTID</code> string for the remote domain access point.) The domain gateway uses the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> string as the principal name when calling the impersonate user function.
</p>
<p class="pBody"><a name="wp1382045"> </a>
For default authentication plug-ins, the impersonate user function finds the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> string and its associated application key in the local <code class="cCode">tpusr</code> file, and then includes that string (identity) and application key in both the authorization and auditing tokens created for the older client.
</p>
<h4 class="pHeading3"><a name="wp1404767"> </a>
How the Server Establishes an Identity for an Older Client
</h4>
<p class="pBody"><a name="wp1342204"> </a>
When the <code class="cCode">CLOPT -t</code> option is specified, the server establishes an identity for an older client using the client&#8217;s assigned application key. (The client request received by the server contains the client&#8217;s assigned application key.) The server finds the application key and its associated name in the local <code class="cCode">tpusr</code> file, and then includes the name as the principal name when calling the impersonate user function.
</p>
<p class="pBody"><a name="wp1340847"> </a>
For default authentication plug-ins, the impersonate user function finds the name and its associated application key in the local <code class="cCode">tpusr</code> file, and then includes the name and application key in both the authorization and auditing tokens created for the older client.
</p>
<h3 class="pHeading2"><a name="wp1339371"> </a>
Summarizing How the CLOPT -t Option Works
</h3>
<p class="pBody"><a name="wp1460401"> </a>
The following table summarizes the functionality of WSH, domain gateway, and server processes when interoperability <em class="cEmphasis">is</em> and is <em class="cEmphasis">not</em> allowed using the <code class="cCode">CLOPT -t</code> option.
</p>
<p class="pGraphic"><a name="wp1460462"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1460404table1460402"><caption><a name="wp1460404"> </a>
Table 2-1  Functionality of WSH, Domain Gateway, and Server Processes When Interoperability Is and Is Not Allowed&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1460413"> </a>
Process
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1460415"> </a>
Interoperability Allowed (CLOPT -t)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1460417"> </a>
Interoperability Not Allowed
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460419"> </a>
Workstation Handler (WSH)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460421"> </a>
If the WSH receives a request from a pre-release 7.1 Workstation client to join the application, the WSH authenticates the client using a pre-release 7.1 authentication protocol and calls the impersonate user function to get authorization and auditing tokens for the client <em class="cEmphasis">based on the user name given in the request</em>.
</div>
<div class="pCellBody"><a name="wp1460422"> </a>
When the WSH receives a service request from the authenticated Workstation client, it attaches the tokens to the client request and forwards the request to the destination server.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460424"> </a>
If the WSH receives a request from a pre-release 7.1 Workstation client to join the application, the WSH rejects the request. No communication is possible between the newer WSH and the older Workstation client.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460426"> </a>
Domain gateway (<code class="cCode">GWTDOMAIN</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460428"> </a>
When the domain gateway sets up a connection to a pre-release 7.1 remote domain gateway, it authenticates the remote domain gateway using a pre-release 7.1 authentication protocol and then sets up the network connection.
</div>
<div class="pCellBody"><a name="wp1462235"> </a>
When the domain gateway receives a client request from the older domain, the domain gateway calls the impersonate user function to get authorization and auditing tokens for the client <em class="cEmphasis">based on the </em><code class="cCode">LOCAL_PRINCIPAL_NAME</code> (defaults to <code class="cCode">ACCESSPOINTID</code>) <em class="cEmphasis">identity configured for the remote domain access point</em>, attaches the tokens to the client request, and then forwards the request to the destination server. The client has the same access permissions as the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> identity.
</div>
<div class="pCellBody"><a name="wp1460430"> </a>
For any outbound client request, the domain gateway strips the tokens from the request before sending the request along with the client&#8217;s application key to the older domain.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460432"> </a>
The domain gateway does <em class="cEmphasis">not</em> set up a connection to a pre-release 7.1 remote domain gateway. No communication is possible between the newer and older domains.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460434"> </a>
System or application server
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460436"> </a>
If the server receives a request from a remote client running Oracle Tuxedo pre-release 7.1 software, the server calls the impersonate user function to get authorization and auditing tokens for the client <em class="cEmphasis">based on the client&#8217;s assigned application key</em>, and then performs the client request assuming the client passes any authorization checks.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460438"> </a>
If the server receives a request from a remote client running Oracle Tuxedo pre-release 7.1 software, the server rejects the client request. No communication is possible between the newer server and the older client.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1460439"> </a>
Example UBBCONFIG Entries for Interoperability
</h3>
<p class="pBody"><a name="wp1303400"> </a>
In the following example, all WSHs controlled by the workstation listener (WSL) are configured for interoperability.
</p>
<a name="wp1297607"> </a><div class="pPreformatted"><pre>*SERVERS<br />WSL &#160;&#160;&#160;SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=<code class="cCodeEmphasis">server_number</code> ...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CLOPT=&quot;-A -t <code class="cCode">...</code>&quot;</pre></div><h3 class="pHeading2"><a name="wp1365730"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1367819"> </a><a href="secadm.html#wp1302257">Specifying Principal Names</a></li>
<li><a name="wp1367827"> </a><a href="secadm.html#wp1364663">Establishing a Link Between Domains</a></li>
<li><a name="wp1367831"> </a><a href="secadm.html#wp1433988">Setting ACL Policy</a></li>
<li><a name="wp1367835"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1454234"> </a><a href="secovr.html#wp1250398">Security Interoperability</a></li>
<li><a name="wp1454240"> </a><span class="cHyperlink">
&#8220;Setting Up Secur</span><a href="../rfcm/rfcmd.html"></a><a href="../add/addomc.html"></a>ity in a Domains Configuration&#8221; and <span class="cHyperlink">
&#8220;Setting Up Connections in a Domains Configur</span><a href="../rfcm/rfcmd.html"></a>ation&#8221; in Using the Oracle Tuxedo Domains Component</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1364663"> </a>
Establishing a Link Between Domains
</h2><p class="pBody"><a name="wp1369421"> </a>
When a domain gateway (<code class="cCode">GWTDOMAIN</code>) attempts to establish a network link with another domain gateway, the following major events occur.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1489188"> </a>The <em class="cEmphasis">initiator</em> domain gateway and the <em class="cEmphasis">target</em> domain gateway exchange SSL or link-level encryption (LLE) <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values to be used to set up SSL or LLE on the link between the gateways. If SSL is being used, the initiator and target domain gateways also authenticate each other through the use of SSL certificates.</li>
<p class="pBodyRelative"><a name="wp1489227"> </a>
LLE is described in <a href="secovr.html#wp1248847">Link-Level Encryption</a>. SSL is described in <a href="secovr.html#wp1303146">SSL Encryption</a>.
</p>
<li><a name="wp1369426"> </a>The initiator and target domain gateways authenticate one another through the exchange of security tokens <em class="cEmphasis">assuming</em> that both gateways are running Oracle Tuxedo release 7.1 or later software.</li>
<p class="pBodyRelative"><a name="wp1419871"> </a>
If one or both of the domain gateways are running Oracle Tuxedo pre-release 7.1 software, the gateway processes use an older (pre-release 7.1) authentication protocol when setting up the connection.
</p>
</ol></div>
<p class="pBody"><a name="wp1460611"> </a>
As the administrator, you use the following configuration parameter to establish a link between domain gateways running Oracle Tuxedo release 7.1 or later software.
</p>
<p class="pGraphic"><a name="wp1461208"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1460614table1460612">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1460614"> </a>
Parameter Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1460616"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1460618"> </a>
Setting
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="1" rowspan="2"><div class="pCellBody"><a name="wp1460620"> </a>
CONNECTION_PRINCIPAL_NAME in <code class="cCode">DMCONFIG</code> (<code class="cCode">TA_DM</code>CONNPRINCIPALNAME in <code class="cCode">DM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1462048"> </a>
When this parameter appears in the <code class="cCode">DM_LOCAL</code> section* of the <code class="cCode">DMCONFIG</code> file, its value becomes the principal name of the local domain access point when setting up a connection with a remote domain access point.
</div>
<div class="pCellBody"><a name="wp1460623"> </a>
For default authentication plug-ins, if a value is assigned to <code class="cCode">CONNECTION_PRINCIPAL_NAME</code> for the local domain access point, it must be the same as the value assigned to the <code class="cCode">ACCESSPOINTID</code> parameter* for the local domain access point. If these values do not match, the local domain gateway process will <em class="cEmphasis">not</em> boot, and the system will generate the following <a href="../rf3c/rf3c.html">userlog(3c)</a> message: <code class="cCode">ERROR: Unable to acquire credentials</code>.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460628"> </a>
1-511 characters. If not specified, the principal name defaults to the <code class="cCode">ACCESSPOINTID</code> string for the local domain access point.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460632"> </a>
When this parameter appears in the <code class="cCode">DM_REMOTE</code> section* of the <code class="cCode">DMCONFIG</code> file for a particular remote domain access point, its value becomes the principal name of the remote domain access point when setting up a connection with the local domain access point.
</div>
<div class="pCellBody"><a name="wp1460633"> </a>
For default authentication plug-ins, if a value is assigned to <code class="cCode">CONNECTION_PRINCIPAL_NAME</code> for a remote domain access point, it must be the same as the value assigned to the <code class="cCode">ACCESSPOINTID</code> parameter* for the remote domain access point. If these values do not match, any attempt to set up a connection between the local domain gateway and the remote domain gateway will fail, and the system will generate the following <a href="../rf3c/rf3c.html">userlog(3c)</a> message: <code class="cCode">ERROR: Unable to initialize administration key for domain </code><code class="cCodeEmphasis">domain_name</code>.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1460638"> </a>
1-511 characters. If not specified, the principal name defaults to the <code class="cCode">ACCESSPOINTID</code> string for the remote domain access point.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="3" rowspan="1"><div class="pCellBody"><a name="wp1460640"> </a>
<code class="cCode">*</code>The <code class="cCode">DM_LOCAL</code> section is also known as <code class="cCode">DM_LOCAL_DOMAINS</code>; the <code class="cCode">DM_REMOTE</code> section is also known as <code class="cCode">DM_REMOTE_DOMAINS</code>; and the <code class="cCode">ACCESSPOINTID</code> parameter is also known as <code class="cCode">DOMAINID</code>.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1460645"> </a>
<a href="secadm.html#wp1364671">Figure&#160;2-9</a> demonstrates how a link is established between domains using default authentication plug-ins.
</p>
<div class="pFigureTitle"><a name="wp1364671"> </a>
Figure&#160;2-9  Establishing a Link Between Domains Using Default Authentication
</div>

 
 <p class="pGraphic"><a name="wp1364942"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-09.gif" height="573" width="557" alt="Establishing a Link Between Domains Using Default Authentication" id="wp1364673"/></div><p class="pGraphic">

</p>
<a name="wp1380588"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The &#8220;Credentials&#8221; shown in the preceding figure were acquired by each domain gateway process at application booting using the CONNECTION_PRINCIPAL_NAME identity configured for the local domain access point.</td>
</tr>
</table>

<p class="pBody"><a name="wp1411659"> </a>
In the preceding figure, notice that the information exchanged between the initiator and target domain gateways involves the <code class="cCode">CONNECTION_PRINCIPAL_NAME</code> strings configured for the domain gateways, as specified in the <code class="cCode">BDMCONFIG</code> files. Each authentication plug-in uses the password assigned to the remote domain access point (as defined in the <code class="cCode">DM_PASSWORDS</code> section of the <code class="cCode">BDMCONFIG</code> file) to encrypt the string before transmitting it over the network, and uses the password assigned to the local domain access point (as defined in the <code class="cCode">DM_PASSWORDS</code> section of the <code class="cCode">BDMCONFIG</code> file) to decrypt the received string. The encryption algorithm used is 56-bit DES, where DES is an acronym for the Data Encryption Standard.
</p>
<p class="pBody"><a name="wp1364944"> </a>
For the encryption/decryption operation to succeed, the assigned password for the remote domain access point in the local <code class="cCode">BDMCONFIG</code> file must be the same as the assigned password for the local domain access point in the remote <code class="cCode">BDMCONFIG</code> file. (Similarly, if the domain security level is set to <code class="cCode">APP_PW</code>, the application passwords in the respective <code class="cCode">TUXCONFIG</code> files must be identical for the encryption/decryption operation to succeed.) For the authentication process to succeed, the received string must match the <code class="cCode">CONNECTION_PRINCIPAL_NAME</code> string configured for the sender.
</p>
<p class="pBody"><a name="wp1364945"> </a>
When the domain gateways pass the security checks, the link is established, and the gateways can forward service requests and receive replies over the established link.
</p>
<h3 class="pHeading2"><a name="wp1365885"> </a>
Example DMCONFIG Entries for Establishing a Link
</h3>
<p class="pBody"><a name="wp1365886"> </a>
In the following example, the configurations shown in the local <code class="cCode">DMCONFIG</code> file are used when establishing a connection through the local domain access point <code class="cCode">c01</code> and the remote domain access point <code class="cCode">b01</code>.
</p>
<a name="wp1435333"> </a><div class="pPreformatted"><pre><code class="cCode">*DM_LOCAL<br /></code># &lt;local domain access point name&gt; &lt;gateway group name&gt; &lt;domain type&gt; <br /># &lt;domain id&gt; [&lt;connection principal name&gt;] [&lt;security&gt;]...<br />c01 &#160;&#160;&#160;GWGRP=bankg1<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;TYPE=TDOMAIN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;ACCESSPOINTID=&quot;BA.CENTRAL01&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CONNECTION_PRINCIPAL_NAME=&quot;BA.CENTRAL01&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;SECURITY=DM_PW<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><a name="wp1435334"> </a><div class="pPreformatted"><pre><code class="cCode">*DM_REMOTE<br /></code># &lt;remote domain access point name&gt; &lt;domain type&gt; &lt;domain id&gt; <br /># [&lt;connection principal name&gt;]...<br />b01 &#160;&#160;&#160;TYPE=TDOMAIN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;ACCESSPOINTID=&quot;BA.BANK01&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CONNECTION_PRINCIPAL_NAME=&quot;BA.BANK01&quot;</pre></div><h3 class="pHeading2"><a name="wp1368772"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1367846"> </a><a href="secadm.html#wp1302257">Specifying Principal Names</a></li>
<li><a name="wp1367850"> </a><a href="secadm.html#wp1284650">Mandating Interoperability Policy</a></li>
<li><a name="wp1367858"> </a><a href="secadm.html#wp1433988">Setting ACL Policy</a></li>
<li><a name="wp1433978"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1433984"> </a><span class="cHyperlink">
&#8220;Setting Up Security in </span><a href="../add/addomc.html"></a>a Domains Configuration&#8221; in Using the Oracle Tuxedo Domains Component</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1433988"> </a>
Setting ACL Policy
</h2><p class="pBody"><a name="wp1371791"> </a>
As the administrator, you use the following configuration parameters to set and control the access control list (ACL) policy between ATMI applications running Oracle Tuxedo release 7.1 or later software.
</p>
<p class="pGraphic"><a name="wp1460156"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1408373table1408371">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1408373"> </a>
Parameter Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1408375"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1408377"> </a>
Setting
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1408635"> </a>
<code class="cCode">ACL_POLICY</code> in <code class="cCode">DMCONFIG</code> (<code class="cCode">TA_DMACLPOLICY</code> in <code class="cCode">DM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1408637"> </a>
May appear in the <code class="cCode">DM_REMOTE</code> section of the <code class="cCode">DMCONFIG</code> file for each remote domain access point. Its value for a particular remote domain access point determines whether or not the local domain gateway modifies the credential (identity) of service requests received from the remote domain.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1408639"> </a>
<code class="cCode">LOCAL</code> or <code class="cCode">GLOBAL</code>. Default is <code class="cCode">LOCAL</code>.
</div>
<div class="pCellBody"><a name="wp1408640"> </a>
<code class="cCode">LOCAL</code> means <em class="cEmphasis">replace</em> credential of any service request received from remote domain, and <code class="cCode">GLOBAL</code> means pass service requests with no change.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1408642"> </a>
<code class="cCode">LOCAL_PRINCIPAL_NAME</code> in <code class="cCode">DMCONFIG</code> (<code class="cCode">TA_DMLOCALPRINCIPALNAME</code> in <code class="cCode">DM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1408644"> </a>
May appear in the <code class="cCode">DM_REMOTE</code> section of the <code class="cCode">DMCONFIG</code> file for each remote domain access point. If the <code class="cCode">ACL_POLICY</code> parameter is set (or defaulted) to <code class="cCode">LOCAL</code> for a particular remote domain access point, the local domain gateway <em class="cEmphasis">replaces</em> the credential of any service request received from the remote domain <em class="cEmphasis">with</em> the principal name specified in the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> parameter for this remote domain access point.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1408646"> </a>
1-511 characters. If not specified, the principal name defaults to the <code class="cCode">ACCESSPOINTID</code> string for the remote domain access point.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1408369"> </a>
The following three figures show how the <code class="cCode">ACL_POLICY</code> configuration affects the operation of local domain gateway (<code class="cCode">GWTDOMAIN</code>) processes.
</p>
<div class="pFigureTitle"><a name="wp1344287"> </a>
Figure&#160;2-10  Establishing a Local ACL Policy
</div>

 
 <p class="pGraphic"><a name="wp1344438"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-10.gif" height="293" width="554" alt="Establishing a Local ACL Policy" id="wp1344289"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1355812"> </a>
In the preceding figure, each domain gateway (<code class="cCode">GWTDOMAIN</code>) modifies <em class="cEmphasis">inbound</em> client requests (requests originating from the remote application and received over the network connection) so that they take on the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> identity configured for the remote domain access point and thus have the same access permissions as that identity. Each domain gateway passes <em class="cEmphasis">outbound</em> client requests without change.
</p>
<p class="pBody"><a name="wp1355813"> </a>
In this configuration, each ATMI application has an ACL database containing entries <em class="cEmphasis">only</em> for users in its own domain. One such user is the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> identity configured for the remote domain access point.
</p>
<a name="wp1435463"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The preceding description also applies to ATMI applications running Oracle Tuxedo pre-release 7.1 software except that the system uses the <code class="cCode">ACCESSPOINTID</code> identity configured for the remote domain access point. Essentially, the local ACL policy is hardcoded in Oracle Tuxedo release 6.5 or earlier software.</td>
</tr>
</table>

<div class="pFigureTitle"><a name="wp1344441"> </a>
Figure&#160;2-11  Establishing a Global ACL Policy
</div>

 
 <p class="pGraphic"><a name="wp1345480"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-11.gif" height="293" width="553" alt="Establishing a Global ACL Policy" id="wp1345337"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1348549"> </a>
In the preceding figure, each domain gateway (<code class="cCode">GWTDOMAIN</code>) passes inbound and outbound client requests without change. In this configuration, each ATMI application has an ACL database containing entries for users in its own domain <em class="cEmphasis">as well as </em>users in the remote domain.
</p>
<div class="pFigureTitle"><a name="wp1348085"> </a>
Figure&#160;2-12  Establishing a One-way Local and One-way Global ACL Policy
</div>

 
 <p class="pGraphic"><a name="wp1348269"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-12.gif" height="293" width="552" alt="Establishing a One-way Local and One-way Global ACL Policy" id="wp1348087"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1348979"> </a>
In the preceding figure, the domain gateway (<code class="cCode">GWTDOMAIN</code>) in ATMI application 1 modifies inbound client requests so that they take on the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> identity configured for the remote domain access point for ATMI application 2 and thus have the same access permissions as that identity; the domain gateway passes outbound client requests without change. The domain gateway (<code class="cCode">GWTDOMAIN</code>) in ATMI application 2 passes inbound and outbound client requests without change.
</p>
<p class="pBody"><a name="wp1348435"> </a>
In this configuration, ATMI application 1 has an ACL database containing entries <em class="cEmphasis">only</em> for users in its own domain; one such user is the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> identity configured for the remote domain access point for application 2. ATMI application 2 has an ACL database containing entries for users in its own domain <em class="cEmphasis">as well as </em>users in ATMI application 1.
</p>
<h3 class="pHeading2"><a name="wp1351005"> </a>
Impersonating the Remote Domain Gateway
</h3>
<p class="pBody"><a name="wp1353302"> </a>
If the domain gateway receives a client request from a remote domain for which the <code class="cCode">ACL_POLICY</code> parameter is set (or defaulted) to <code class="cCode">LOCAL</code> in the local <code class="cCode">DMCONFIG</code> file, the domain gateway performs the following tasks.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1353758"> </a>Calls the internal impersonate user function to get authorization and auditing tokens for the client <em class="cEmphasis">based on the </em><code class="cCode">LOCAL_PRINCIPAL_NAME</code> <em class="cEmphasis">identity configured for the remote domain access point.</em></li>
<li><a name="wp1353767"> </a>Uses these tokens to overwrite the tokens already attached to the client request.</li>
<li><a name="wp1353774"> </a>Forwards the request to the destination server.</li>
</ol></div>
<p class="pBody"><a name="wp1353800"> </a>
For more detail on the impersonate user function, see <a href="secadm.html#wp1340041">Establishing an Identity for an Older Client</a>.
</p>
<h3 class="pHeading2"><a name="wp1349475"> </a>
Example DMCONFIG Entries for ACL Policy
</h3>
<p class="pBody"><a name="wp1390410"> </a>
In the following example, the connection through the remote domain access point <code class="cCode">b01</code> is configured for global ACL in the local <code class="cCode">DMCONFIG</code> file, meaning that the domain gateway process for domain access point <code class="cCode">c01</code> passes client requests <em class="cEmphasis">from</em> and <em class="cEmphasis">to</em> domain access point <code class="cCode">b01</code> without change. For global ACL, the LOCAL_PRINCIPAL_NAME entry for domain access point <code class="cCode">b01</code> is ignored.
</p>
<a name="wp1390411"> </a><div class="pPreformatted"><pre><code class="cCode">*DM_LOCAL<br /></code># &lt;local domain access point name&gt; &lt;gateway group name&gt; <br /># &lt;domain type&gt; &lt;domain id&gt; [&lt;connection principal name&gt;] <br /># [&lt;security&gt;]...<br />c01 &#160;&#160;&#160;GWGRP=bankg1<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;TYPE=TDOMAIN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;ACCESSPOINTID=&quot;BA.CENTRAL01&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CONNECTION_PRINCIPAL_NAME=&quot;BA.CENTRAL01&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;SECURITY=DM_PW<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><a name="wp1362771"> </a><div class="pPreformatted"><pre><code class="cCode">*DM_REMOTE<br /></code># &lt;remote domain access name&gt; &lt;domain type&gt; &lt;domain id&gt; <br /># [&lt;ACL policy&gt;] [&lt;connection principal name&gt;] <br /># [&lt;local principal name&gt;]...<br />b01 &#160;&#160;&#160;TYPE=TDOMAIN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;ACCESSPOINTID=&quot;BA.BANK01&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;ACL_POLICY=GLOBAL<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CONNECTION_PRINCIPAL_NAME=&quot;BA.BANK01&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOCAL_PRINCIPAL_NAME=&quot;BA.BANK01.BOB&quot;</pre></div><h3 class="pHeading2"><a name="wp1325403"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1367879"> </a><a href="secadm.html#wp1302257">Specifying Principal Names</a></li>
<li><a name="wp1367883"> </a><a href="secadm.html#wp1284650">Mandating Interoperability Policy</a></li>
<li><a name="wp1367887"> </a><a href="secadm.html#wp1364663">Establishing a Link Between Domains</a></li>
<li><a name="wp1367895"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1448848"> </a>
Setting Credential Policy
</h2><p class="pBody"><a name="wp1449019"> </a>
As the administrator, you use the following configuration parameter to set and control the credential policy between ATMI applications running Oracle Tuxedo release 8.0 or later software.
</p>
<p class="pGraphic"><a name="wp1456837"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1448995table1448993">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1448995"> </a>
Parameter Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1448997"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1448999"> </a>
Setting
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1449001"> </a>
<code class="cCode">CREDENTIAL_POLICY</code> in <code class="cCode">DMCONFIG</code> (<code class="cCode">TA_DMCREDENTIALPOLICY</code> in <code class="cCode">DM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1449003"> </a>
May appear in the <code class="cCode">DM_REMOTE</code> section of the <code class="cCode">DMCONFIG</code> file for each remote domain access point. Its value for a particular remote domain access point determines whether or not the local domain gateway removes the credential (identity) from a local service request destined for this remote domain access point.
</div>
<div class="pCellBody"><a name="wp1456972"> </a>
Note that the <code class="cCode">CREDENTIAL_POLICY</code> parameter controls whether or not the local domain gateway removes the credential from a local service request before sending the request to a remote domain. The <code class="cCode">ACL_POLICY</code> parameter controls whether or not the local domain gateway replaces the credential of a service request received from a remote domain with the principal name specified in the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> parameter.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1449005"> </a>
<code class="cCode">LOCAL</code> or <code class="cCode">GLOBAL</code>. Default is <code class="cCode">LOCAL</code>.
</div>
<div class="pCellBody"><a name="wp1457109"> </a>
LOCAL means remove the credential from a local service request destined for this remote domain access point, and GLOBAL means do <em class="cEmphasis">not</em> remove the credential from a local service request destined for this remote domain access point.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239624"> </a>
Administering Authorization
</h2><p class="pBody"><a name="wp1239625"> </a>
Authorization enforces limitations on user access to resources or facilities within an ATMI application in accordance with application-specific rules. Only when users are authenticated to join an ATMI application does authorization go into effect.
</p>
<p class="pBody"><a name="wp1239626"> </a>
The procedures for administering authorization depend upon the underlying authorization system of the ATMI application. For procedures to administer a custom authorization system, see the documentation for that system. For procedures to administer the default authorization system, see <a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a>.
</p>
<h3 class="pHeading2"><a name="wp1239630"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239634"> </a><a href="secovr.html#wp1248608">Authorization</a></li>
<li><a name="wp1269497"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1314313"> </a><a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a></li>
<li><a name="wp1239642"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1319700"> </a><a href="secovr.html#wp1251179">Security Compatibility</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239646"> </a>
Administering Link-Level Encryption
</h2><p class="pBody"><a name="wp1445899"> </a>
Link-level encryption establishes data privacy for messages moving over the network links that connect the machines in an ATMI application. There are three levels of link-level encryption (LLE) security: 0-bit (no encryption), 56-bit (International), and 128-bit (United States and Canada). The International LLE version allows 0-bit and 56-bit encryption. The United States and Canada LLE version allows 0, 56, and 128-bit encryption.
</p>
<p class="pBody"><a name="wp1445900"> </a>
LLE applies to the following types of ATMI links:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1445901"> </a>Workstation client to workstation handler (WSH)</li>
<li><a name="wp1239650"> </a>Bridge-to-Bridge</li>
<li><a name="wp1239651"> </a>Administrative utility (such as <code class="cCode">tmboot</code>) to <code class="cCode">tlisten</code></li>
<li><a name="wp1245103"> </a>Domain gateway to domain gateway</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1246794"> </a>
Understanding LLE min and max Values
</h3>
<p class="pBody"><a name="wp1298224"> </a>
Before you can configure LLE for your ATMI application, you need to be familiar with the LLE notation: (<code class="cCodeEmphasis">min</code>, <code class="cCodeEmphasis">max</code>). The defaults for these parameters are:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1298225"> </a>For <code class="cCodeEmphasis">min</code>: 0</li>
<li><a name="wp1489290"> </a>For <code class="cCodeEmphasis">max</code>: Number of bits that indicates the highest level of encryption possible for the installed LLE version</li>
</ul></div>
<p class="pBody"><a name="wp1489300"> </a>
For example, the default <code class="cCodeEmphasis">min</code> and <code class="cCodeEmphasis">max</code> values for LLE when the license file specifies <code class="cCode">STRENGTH=128 are </code>(0, 128). If you want to change the defaults, you can do so by assigning new values to <code class="cCodeEmphasis">min</code> and <code class="cCodeEmphasis">max</code> in the <code class="cCode">UBBCONFIG</code> file for your application.
</p>
<p class="pBody"><a name="wp1298784"> </a>
For more information, see <a href="secovr.html#wp1248857">How LLE Works</a> and <a href="secovr.html#wp1248866">Encryption Key Size Negotiation</a>.
</p>
<h3 class="pHeading2"><a name="wp1245106"> </a>
Verifying the Installed LLE Version
</h3>
<p class="pBody"><a name="wp1239654"> </a>
You can verify the LLE version installed on a machine by running the <code class="cCode">tmadmin</code> command in <code class="cCode">verbose</code> mode.
</p>
<a name="wp1239655"> </a><div class="pPreformattedRelative"><pre><code class="cCode">tmadmin -v</code></pre></div><p class="pBody"><a name="wp1492081"> </a>
Key lines from the local Oracle Tuxedo <code class="cCode">lic.txt</code> file will appear on your computer screen, similar to the sample display shown below. The sample entry STRENGTH=128 indicates a Tuxedo installation licensed for strong encryption.
</p>
<a name="wp1239657"> </a><div class="pPreformatted"><pre>[Oracle Tuxedo] VERSION=10.0<br />[LINK ENCRYPTION] VERSION=10.0<br />STRENGTH=128<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><p class="pBody"><a name="wp1391187"> </a>
All Oracle Tuxedo licenses are in the <code class="cCode">$TUXDIR/udataobj/lic.txt</code> file on a UNIX host machine, or in the <code class="cCode">%TUXDIR%\udataobj\lic.txt</code> file on a Windows 2003 host machine.
</p>
<h3 class="pHeading2"><a name="wp1239659"> </a>
How to Configure LLE on Workstation Client Links
</h3>
<p class="pBody"><a name="wp1239660"> </a>
If Workstation clients are included in an application, the administrator must configure one or more workstation listeners (WSLs) to listen for connection requests from Workstation clients. Each WSL uses one or more associated workstation handlers (WSHs) to handle the Workstation client workload. Each WSH can manage multiple Workstation clients by multiplexing all requests and replies with a particular Workstation client over a single connection.
</p>
<p class="pBody"><a name="wp1247184"> </a>
As the administrator, you enable Workstation client access to the ATMI application by specifying a WSL server in the <code class="cCode">SERVERS</code> section of the application&#8217;s <code class="cCode">UBBCONFIG</code> file. You need to specify the <code class="cCode">-z</code> and <code class="cCode">-Z</code> command-line options for the WSL server if you want to override the defaults for the LLE <code class="cCodeEmphasis">min</code> and <code class="cCodeEmphasis">max</code> parameters. (See <a href="secadm.html#wp1246794">Understanding LLE min and max Values</a> for details.) Of course, link-level encryption is possible only if LLE is installed on both the local machine and the Workstation client.
</p>
<a name="wp1247188"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>At the Workstation client end of a network connection, you use environment variables <code class="cCode">TMMINENCRYPTBITS</code> and <code class="cCode">TMMAXENCRYPTBITS</code> to override the defaults for the LLE <code class="cCodeEmphasis">min</code> and <code class="cCodeEmphasis">max</code> parameters.</td>
</tr>
</table>

<p class="pBody"><a name="wp1247189"> </a>
To configure LLE on Workstation client links, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1246999"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the application is inactive.</li>
<li><a name="wp1239664"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">SERVERS</code> section:</li>
<a name="wp1247966"> </a><div class="pPreformattedRelative"><pre>*SERVERS<br />WSL &#160;&#160;&#160;SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=<code class="cCodeEmphasis">server_number</code> ...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CLOPT=&quot;-A -- -z <code class="cCodeEmphasis">min</code> -Z <code class="cCodeEmphasis">max</code> ...&quot;</pre></div><li><a name="wp1239666"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
</ol></div>
<p class="pBody"><a name="wp1239667"> </a>
In the preceding example, when <a href="../rfcm/rfcmd.html">tmboot(1)</a> starts the ATMI application, it passes the &quot;-A -- -z <code class="cCodeEmphasis">min</code> -Z <code class="cCodeEmphasis">max</code>&quot; command-line options to the WSL server. When establishing a network link between a Workstation client and the WSH, the Workstation client and WSL negotiate the key size until they agree on the largest key size supported by both.
</p>
<p class="pBody"><a name="wp1239668"> </a>
See <a href="../rf5/rf5.html">WSL(5)</a>, <a href="../rf5/rf5.html">WS_MIB(5)</a>, and <a href="../rf5/rf5.html">UBBCONFIG(5)</a> in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference for additional information.
</p>
<h3 class="pHeading2"><a name="wp1239670"> </a>
How to Configure LLE on Bridge Links
</h3>
<p class="pBody"><a name="wp1239671"> </a>
The Oracle Tuxedo system architecture optimizes network communications by establishing a multiplexed <em class="cEmphasis">channel</em> among the machines in a multiple-machine application. Oracle Tuxedo messages flow in both directions over this channel, and the message traffic is managed by a specialized ATMI server known as a Bridge server.
</p>
<p class="pBody"><a name="wp1239672"> </a>
As the administrator, you place an entry in the <code class="cCode">NETWORK</code> section of the <code class="cCode">UBBCONFIG</code> file for each machine in an ATMI application on which a Bridge server resides. You need to specify the <code class="cCode">MINENCRYPTBITS</code> and <code class="cCode">MAXENCRYPTBITS</code> optional run-time parameters for the Bridge server if you want to override the defaults for the LLE <code class="cCodeEmphasis">min</code> and <code class="cCodeEmphasis">max</code> parameters. (See <a href="secadm.html#wp1246794">Understanding LLE min and max Values</a> for details.) Of course, Bridge-to-Bridge link-level encryption is possible only if LLE is installed on the machines where the Bridge servers reside.
</p>
<p class="pBody"><a name="wp1239673"> </a>
To configure LLE on Bridge links, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1239674"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the application is inactive.</li>
<li><a name="wp1239675"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">NETWORK</code> section:</li>
<a name="wp1239676"> </a><div class="pPreformattedRelative"><pre>*NETWORK<br />LMID &#160;&#160;NADDR=&quot;bridge_network_address&quot; BRIDGE=&quot;bridge_device&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;NLSADDR=&quot;listen_network_address&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MINENCRYPTBITS=min<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MAXENCRYPTBITS=max</pre></div><p class="pBodyRelative"><a name="wp1239677"> </a>
<code class="cCodeEmphasis">LMID</code> is the logical machine where the Bridge server resides; it has direct access to the network device specified in the <code class="cCode">BRIDGE</code> parameter.
</p>
<li><a name="wp1239678"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
</ol></div>
<p class="pBody"><a name="wp1247731"> </a>
In the preceding example, when <a href="../rfcm/rfcmd.html">tmboot(1)</a> starts the ATMI application, the Bridge server reads the <code class="cCode">TUXCONFIG</code> file to access various parameters, including <code class="cCode">MINENCRYPTBITS</code> and <code class="cCode">MAXENCRYPTBITS</code>. When establishing a network link with a remote Bridge server, the local and remote Bridge servers negotiate the key size until they agree on the largest key size supported by both.<a href="../rf5/rf5.html"></a>
</p>
<p class="pBody"><a name="wp1239680"> </a>
See <a href="../rf5/rf5.html">TM_MIB(5)</a> and UBBCONFIG(5) in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference for additional information.
</p>
<h3 class="pHeading2"><a name="wp1239681"> </a>
How to Configure LLE on tlisten Links
</h3>
<p class="pBody"><a name="wp1239682"> </a>
<a href="../rfcm/rfcmd.html">tlisten(1)</a> is a network-independent <em class="cEmphasis">listener</em> process that provides connections between nodes of a multiple-machine application, on which administrative utilities such as <a href="../rfcm/rfcmd.html">tmboot(1)</a> can run. The application administrator installs <code class="cCode">tlisten</code> on all machines defined in the <code class="cCode">NETWORK</code> section of the <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1239683"> </a>
To configure LLE on <code class="cCode">tlisten</code> links, follow the steps given in the previous topic, <a href="secadm.html#wp1239670">How to Configure LLE on Bridge Links</a>. If you so desire, you can start a separate instance of <code class="cCode">tlisten</code> on the local machine by entering a command such as:
</p>
<a name="wp1239687"> </a><div class="pPreformattedRelative"><pre><code class="cCode">tlisten -l </code><code class="cCodeEmphasis">nlsaddr </code>[-z <code class="cCodeEmphasis">min</code> -Z <code class="cCodeEmphasis">max</code>]</pre></div><p class="pBody"><a name="wp1417048"> </a>
The <code class="cCodeEmphasis">nlsaddr</code> value must be the same as that specified for the <code class="cCode">NLSADDR</code> parameter for this machine in the <code class="cCode">NETWORK</code> section of the <code class="cCode">UBBCONFIG</code> file. See <a href="../rfcm/rfcmd.html">tlisten(1)</a> in the Oracle Tuxedo Command Reference, and <a href="../rf5/rf5.html">TM_MIB(5)</a> and <a href="../rf5/rf5.html">UBBCONFIG(5)</a> in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference for additional information.
</p>
<h3 class="pHeading2"><a name="wp1239689"> </a>
How to Configure LLE on Domain Gateway Links
</h3>
<p class="pBody"><a name="wp1239690"> </a>
A domain gateway is a <code class="cCode">GWTDOMAIN</code> process that relays service requests and service replies between two or more ATMI applications. It provides interoperability through a specially designed transaction processing (TP) protocol that flows over network transport protocols such as TCP/IP.
</p>
<p class="pBody"><a name="wp1495162"> </a>
A domain gateway belongs to a <em class="cEmphasis">domain gateway group</em>, for which a Domains configuration file is required. A domain gateway group represents a local domain access point that communicates with one or more remote domain access points. Like the application configuration files, <code class="cCode">UBBCONFIG</code> and <code class="cCode">TUXCONFIG</code>, a Domains configuration file is created in text format and then converted to binary format. The text and binary files are referred to as <code class="cCode">DMCONFIG</code> and <code class="cCode">BDMCONFIG</code>, respectively. The <code class="cCode">DMCONFIG</code> and <code class="cCode">BDMCONFIG</code> files, and the environment variables associated with them, are described on reference page <a href="../rf5/rf5.html">DMCONFIG(5)</a> in Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference.
</p>
<p class="pBody"><a name="wp1471218"> </a>
As the administrator, you must place an entry in the <code class="cCode">DM_TDOMAIN</code> section of the <code class="cCode">DMCONFIG</code> file for each:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1471219"> </a>Local domain access point that will accept requests for local services from remote domain access points</li>
<li><a name="wp1471220"> </a>Remote domain access point accessible by a defined local domain access point</li>
<li><a name="wp1471221"> </a>TDomain session between specific local and remote access points</li>
</ul></div>
<p class="pBody"><a name="wp1471222"> </a>
You need to specify the <code class="cCode">MINENCRYPTBITS</code> and <code class="cCode">MAXENCRYPTBITS</code> optional run-time parameters for each domain access point and TDomain session for which you want to override the defaults for the LLE <code class="cCodeEmphasis">min</code> and <code class="cCodeEmphasis">max</code> parameters. (See <a href="secadm.html#wp1246794">Understanding LLE min and max Values</a> for details.) Of course, domain-to-domain link-level encryption is possible only if LLE is installed on the machines where the domains reside.
</p>
<p class="pBody"><a name="wp1239693"> </a>
To configure LLE on domain gateway links, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1239694"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1239695"> </a>Open <code class="cCode">DMCONFIG</code> with a text editor and add the following lines to the <code class="cCode">DM_TDOMAIN</code> section:</li>
<a name="wp1463018"> </a><div class="pPreformattedRelative"><pre><code class="cCode">*DM_TDOMAIN<br /></code># Local network addresses<br /><code class="cCodeEmphasis">LDOM</code> &#160;&#160;NWADDR=&quot;<code class="cCodeEmphasis">local_domain_network_address</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;NWDEVICE=&quot;<code class="cCodeEmphasis">local_domain_device</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MINENCRYPTBITS=<code class="cCodeEmphasis">min<br /></code>&#160;&#160;<code class="cCodeEmphasis">&#160;&#160;&#160;&#160;&#160;</code>MAXENCRYPTBITS=<code class="cCodeEmphasis">max<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;.</pre></div><a name="wp1471229"> </a><div class="pPreformattedRelative"><pre># Remote network addresses<br /><code class="cCodeEmphasis">RDOM</code> &#160;&#160;NWADDR=&quot;<code class="cCodeEmphasis">remote_domain_network_address</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;NWDEVICE=&quot;<code class="cCodeEmphasis">remote_domain_device</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MINENCRYPTBITS=<code class="cCodeEmphasis">min<br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCodeEmphasis">&#160;&#160;</code>MAXENCRYPTBITS=<code class="cCodeEmphasis">max<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;.</pre></div><a name="wp1471230"> </a><div class="pPreformattedRelative"><pre># TDomain network addresses<br /><code class="cCodeEmphasis">RDOM</code> &#160;&#160;<code class="cCode">NWADDR=</code>&quot;<code class="cCodeEmphasis">remote_domain_network_address</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;NWDEVICE=&quot;<code class="cCodeEmphasis">remote_domain_device</code>&quot;<br /><code class="cCode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;CONNECTION_POLICY=ON_START<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">LACCESSPOINT=</code>&quot;<code class="cCodeEmphasis">local_domain_access_point_identifier</code>&quot;<br /><code class="cCode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FAILOVERSEQ=100<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MINENCRYPTBITS=<code class="cCodeEmphasis">min<br /></code>&#160;&#160;<code class="cCodeEmphasis">&#160;&#160;&#160;&#160;&#160;</code>MAXENCRYPTBITS=<code class="cCodeEmphasis">max</code></pre></div><a name="wp1462985"> </a><div class="pPreformattedRelative"><pre><code class="cCodeEmphasis">LDOM</code> is replaced with a local domain access point identifier, and <code class="cCodeEmphasis">RDOM</code> is replaced with a remote domain access point identifier.</pre></div><li><a name="wp1358775"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">dmloadcf(1)</a>. The <code class="cCode">dmloadcf</code> command parses <code class="cCode">DMCONFIG</code> and loads the binary <code class="cCode">BDMCONFIG</code> file to the location referenced by the <code class="cCode">BDMCONFIG</code> variable.</li>
</ol></div>
<p class="pBody"><a name="wp1239700"> </a>
In the preceding example, when <a href="../rfcm/rfcmd.html">tmboot(1)</a> starts the ATMI application, each domain gateway reads the <code class="cCode">BDMCONFIG</code> file to access various parameters, including <code class="cCode">MINENCRYPTBITS</code> and <code class="cCode">MAXENCRYPTBITS</code>, and propagates those parameters to its local and remote domains. When the local domain is establishing a network link with a remote domain, the two domains negotiate the key size until they agree on the largest key size supported by both.
</p>
<p class="pBody"><a name="wp1498897"> </a>
See <a href="../rf5/rf5.html">DMCONFIG(5)</a> in Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference for additional information. Also, see <span class="cHyperlink">
<a href="../add/addomc.html">&#8220;Setting Up Security in a Domains Configuration&#8221; </a></span>in Using the Oracle Tuxedo Domains Component.
</p>
<h3 class="pHeading2"><a name="wp1312289"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239706"> </a><a href="secovr.html#wp1248847">Link-Level Encryption</a></li>
<li><a name="wp1239710"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1319668"> </a><a href="secovr.html#wp1250398">Security Interoperability</a></li>
<li><a name="wp1319747"> </a><a href="secovr.html#wp1251179">Security Compatibility</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1489429"> </a>
Administering SSL Encryption
</h2><p class="pBody"><a name="wp1490980"> </a>
SSL encryption establishes data privacy for messages moving between the machines in an ATMI application.  The industry-standard TLS 1.0 protocol is used for SSL encryption.  Customers licensed for 128-bit encryption can use 256-bit, 128-bit, 56-bit, and 0-bit SSL ciphers, and customers licensed for 56-bit encryption can use 56-bit and 0-bit SSL ciphers.
</p>
<h3 class="pHeading2"><a name="wp1489431"> </a>
Understanding SSL min and max Values
</h3>
<p class="pBody"><a name="wp1484063"> </a>
Before you can configure SSL for your ATMI application, you need to be familiar with the SSL notation: (<code class="cCodeEmphasis">min</code>, <code class="cCodeEmphasis">max</code>). The defaults for these parameters are:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1484064"> </a>For <code class="cCodeEmphasis">min</code>: 0</li>
<li><a name="wp1484065"> </a>For <code class="cCodeEmphasis">max</code>: Number of bits that indicates the highest level of encryption possible for the installed SSL version</li>
</ul></div>
<p class="pBody"><a name="wp1489364"> </a>
For example, the default <code class="cCodeEmphasis">min</code> and <code class="cCodeEmphasis">max</code> values for SSL when the license file specifies <code class="cCode">STRENGTH=128</code> (0, 256). 256-bit SSL encryption is allowed even for license files that specify <code class="cCode">STRENGTH=128</code>. If the license file specifies STRENGTH=56, then the max value for SSL and LLE is 56.
</p>
<p class="pBody"><a name="wp1489362"> </a>
If you want to change the defaults, you can do so by assigning new values to <code class="cCodeEmphasis">min</code> and <code class="cCodeEmphasis">max</code> in the <code class="cCode">UBBCONFIG</code> file for your application. For more information, see <a href="secovr.html#wp1301876">How the SSL Protocol Works</a> and <a href="secovr.html#wp1248866">Encryption Key Size Negotiation</a>.
</p>
<h3 class="pHeading2"><a name="wp1484074"> </a>
Verifying the Installed SSL Version
</h3>
<p class="pBody"><a name="wp1489405"> </a>
You can verify the SSL version installed on a machine by running the tmadmin -v command.
</p>
<a name="wp1484076"> </a><div class="pPreformattedRelative"><pre><code class="cCode">tmadmin -v</code></pre></div><p class="pBody"><a name="wp1484077"> </a>
Key lines from the local Oracle Tuxedo <code class="cCode">lic.txt</code> file will appear on your computer screen, similar to the sample display shown below. The sample entry STRENGTH=256 indicates SSL when the license file specifies <code class="cCode">STRENGTH=128</code>.
</p>
<a name="wp1489468"> </a><div class="pPreformatted"><pre>INFO: Oracle Tuxedo, VERSION=10.0, 32-bit, Patch Level (none)<br />INFO: Serial #: 616351266349-2327268507960, Expiration 2007-11-13, Maxusers 1000<br />0<br />INFO: Acme Corporation<br />INFO: 128-bit Encryption Package<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><p class="pBody"><a name="wp1484079"> </a>
All Oracle Tuxedo licenses are in the <code class="cCode">$TUXDIR/udataobj/lic.txt</code> file on a UNIX host machine, or in the <code class="cCode">%TUXDIR%\udataobj\lic.txt</code> file on a Windows 2003 host machine.
</p>
<h3 class="pHeading2"><a name="wp1483721"> </a>
How to Configure SSL on Workstation Client Links
</h3>
<p class="pBody"><a name="wp1484696"> </a>
To configure SSL on Workstation client links, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1484697"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the application is inactive.</li>
<li><a name="wp1489672"> </a><code class="cCode">SEC_PRINCIPAL_NAME</code>, <code class="cCode">SEC_PRINCIPAL_LOCATION</code>, and <code class="cCode">SEC_PRINCIPAL_PASSVAR</code> parameters must be specified.  This may be done in the <code class="cCode">*RESOURCES</code>, <code class="cCode">*MACHINES</code>, <code class="cCode">*GROUPS</code>, or <code class="cCode">*SERVERS</code> sections.</li>
<a name="wp1489673"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>In general, it is recommended to specify these parameters at the highest level possible to avoid duplicating information in the UBBCONFIG and to avoid multiple password prompts if running tmloadcf interactively.</td>
</tr>
</table>

<li><a name="wp1484698"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">SERVERS</code> sections:</li>
<a name="wp1484699"> </a><div class="pPreformattedRelative"><pre>*SERVERS<br />WSL &#160;&#160;&#160;SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=<code class="cCodeEmphasis">server_number</code> ...<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;CLOPT=&quot;-A -- -z <code class="cCodeEmphasis">min</code> -Z <code class="cCodeEmphasis">max </code>-n &lt;network_address&gt; -S &lt;secure port&gt; [-a] [-R &lt;renegotiation_interval&gt;] ...&quot;</pre></div><p class="pBodyRelative"><a name="wp1489721"> </a>
If the secure port is set to the same port used in the network address then the WSL will accept only SSL connections; if different ports are used, the same WSL can accept both non-SSL and SSL connections.
</p>
<p class="pBodyRelative"><a name="wp1489895"> </a>
If -a (mutual authentication) is being used, the WSC must set the <code class="cCode">SEC_PRINCIPAL_NAME</code>, <code class="cCode">SEC_PRINCIPAL_LOCATION</code>, and <code class="cCode">SEC_PRINCIPAL_PASSWORD</code> environment variables. These environment variables are not needed if mutual authentication is not in use.
</p>
<li><a name="wp1484703"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1483807"> </a>
How to Configure SSL on Bridge Links
</h3>
<p class="pBody"><a name="wp1484634"> </a>
To configure SSL on Bridge links, follow these steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1489518"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the application is inactive.</li>
<li><a name="wp1489531"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">RESOURCES</code> and <code class="cCode">NETWORK</code> sections:</li>
<a name="wp1489962"> </a><div class="pPreformattedRelative"><pre>*RESOURCES<br />OPTIONS SSL,LAN<br />SSL_RENEGOTIATION (optional)&#160;&#160;&#160;[value]</pre></div><a name="wp1489963"> </a><div class="pPreformattedRelative"><pre>*NETWORK<br />LMID &#160;&#160;NADDR=&quot;bridge_network_address&quot; BRIDGE=&quot;bridge_device&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;NLSADDR=&quot;listen_network_address&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MINENCRYPTBITS=min<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MAXENCRYPTBITS=max</pre></div><p class="pBodyRelative"><a name="wp1489975"> </a>
<code class="cCode">SEC_PRINCIPAL_NAME</code>, <code class="cCode">SEC_PRINCIPAL_LOCATION</code>, and <code class="cCode">SEC_PRINCIPAL_PASSVAR</code> must be specifed in the <code class="cCode">*RESOURCES</code> and/or <code class="cCode">*MACHINES</code> sections.
</p>
<p class="pBodyRelative"><a name="wp1489970"> </a>
<code class="cCodeEmphasis">LMID</code> is the logical machine where the Bridge server resides; it has direct access to the network device specified in the <code class="cCode">BRIDGE</code> parameter.
</p>
<li><a name="wp1484642"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1483811"> </a>
How to Configure SSL on tlisten Links
</h3>
<p class="pBody"><a name="wp1484530"> </a>
To configure SSL on <code class="cCode">tlisten</code> links, follow the steps given in the previous topic, <a href="secadm.html#wp1239670">How to Configure LLE on Bridge Links</a>. You must enter the following command:
</p>
<a name="wp1484532"> </a><div class="pPreformattedRelative"><pre><code class="cCode">tlisten -l </code><code class="cCodeEmphasis">nlsaddr </code>[-z <code class="cCodeEmphasis">min</code> -Z <code class="cCodeEmphasis">max</code>][-s][-c &lt;sec_principal_location&gt;][-n &lt;sec_principal_name&gt;][-p &lt;sec_principal_passvar&gt;]</pre></div><a name="wp1484539"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The <code class="cCode">-s</code> option specifies an SSL connection instead of an LLE connection.</td>
</tr>
</table>

<a name="wp1491553"> </a><table class="ListNote">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The -c, -n, and -p options specify SSL security principal information and must match the values specified for the <code class="cCode">SEC_PRINCIPAL_NAME</code>, <code class="cCode">SEC_PRINCIPAL_LOCATION</code>, and <code class="cCode">SEC_PRINCIPAL PASSVAR</code> in the <code class="cCode">UBBCONFIG</code> file.</td>
</tr>
</table>
<h3 class="pHeading2"><a name="wp1483815"> </a>
How to Configure SSL on Domain Gateway Links
</h3>
<p class="pBody"><a name="wp1484573"> </a>
To configure SSL on domain gateway links, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1484574"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1485388"> </a>Open <code class="cCode">DMCONFIG</code> with a text editor and add the following lines to the <code class="cCode">DM_TDOMAIN</code> section:<br /><code class="cCode">*DM_TDOMAIN<br /># SSL<br />DEFAULT: NWPROTOCOL={SSL|SSL_ONE_WAY}<br />SSL_RENEGOTIATION =</code> [value]<br /><code class="cCode"><br /></code># Local network addresses<br /><code class="cCodeEmphasis">LDOM</code> &#160;&#160;<code class="cCode">NWADDR=</code>&quot;<code class="cCodeEmphasis">local_domain_network_address</code>&quot;<br /><code class="cCode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;NWDEVICE=</code>&quot;<code class="cCodeEmphasis">local_domain_device</code>&quot;<br /><code class="cCode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;MINENCRYPTBITS=</code><code class="cCodeEmphasis">min<br /></code><code class="cCode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;MAXENCRYPTBITS=</code><code class="cCodeEmphasis">max<br /></code><code class="cCode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code></li>
<a name="wp1484577"> </a><div class="pPreformattedRelative"><pre># Remote network addresses<br /><code class="cCodeEmphasis">RDOM</code> &#160;&#160;NWADDR=&quot;<code class="cCodeEmphasis">remote_domain_network_address</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;NWDEVICE=&quot;<code class="cCodeEmphasis">remote_domain_device</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MINENCRYPTBITS=<code class="cCodeEmphasis">min<br /></code>&#160;&#160;&#160;&#160;&#160;<code class="cCodeEmphasis">&#160;&#160;</code>MAXENCRYPTBITS=<code class="cCodeEmphasis">max<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;.</pre></div><a name="wp1484578"> </a><div class="pPreformattedRelative"><pre># TDomain network addresses<br /><code class="cCodeEmphasis">RDOM</code> &#160;&#160;<code class="cCode">NWADDR=</code>&quot;<code class="cCodeEmphasis">remote_domain_network_address</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;NWDEVICE=&quot;<code class="cCodeEmphasis">remote_domain_device</code>&quot;<br /><code class="cCode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;CONNECTION_POLICY=ON_START<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">LACCESSPOINT=</code>&quot;<code class="cCodeEmphasis">local_domain_access_point_identifier</code>&quot;<br /><code class="cCode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;FAILOVERSEQ=100<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MINENCRYPTBITS=<code class="cCodeEmphasis">min<br /></code>&#160;&#160;<code class="cCodeEmphasis">&#160;&#160;&#160;&#160;&#160;</code>MAXENCRYPTBITS=<code class="cCodeEmphasis">max</code></pre></div><a name="wp1484579"> </a><div class="pPreformattedRelative"><pre><code class="cCodeEmphasis">LDOM</code> is replaced with a local domain access point identifier, and <code class="cCodeEmphasis">RDOM</code> is replaced with a remote domain access point identifier.</pre></div><li><a name="wp1490145"> </a><code class="cCode">SEC_PRINCIPAL_NAME</code>, <code class="cCode">SEC_PRINCIPAL_LOCATION</code>, and <code class="cCode">SEC_PRINCIPAL_PASSWORD</code> must be specified in the UBBCONFIG file.</li>
<li><a name="wp1490132"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">dmloadcf(1)</a>. The <code class="cCode">dmloadcf</code> command parses <code class="cCode">DMCONFIG</code> and loads the binary <code class="cCode">BDMCONFIG</code> file to the location referenced by the <code class="cCode">BDMCONFIG </code>variable.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1484253"> </a>
Development Process for the SSL Protocol
</h3>
<p class="pBody"><a name="wp1490163"> </a>
Using the SSL protocol in a Tuxedo application is primarily an administration process. <a href="secadm.html#wp1484278">Table&#160;2-2</a> lists the administration steps required to set up the infrastructure required to use the SSL protocol and configure the servers and clients in your application to use SSL. 
</p>
<p class="pBody"><a name="wp1485950"> </a>
For a detailed description of the administration steps, see <span class="cHyperlink">
<a href="../security/certs.html">&#8220;Managing Public Key Security&#8221; </a></span>and <span class="cHyperlink">
<a href="../security/config.html">&#8220;Configuring the SSL Protocol&#8221; </a></span>in Using Security in CORBA Applications.
</p>
<p class="pBody"><a name="wp1499308"> </a>
Once the administration steps are complete, you can use either password authentication or certificate authentication in your Tuxedo application. The steps are similar for CORBA application authentication. For more information, see <span class="cHyperlink">
<a href="../security/writewle.html">&#8220;Writing a CORBA Application That Implements Security&#8221; </a></span>in Using Security in CORBA Applications. 
</p>
<a name="wp1499310"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If you are using the Oracle CORBA C++ ORB as a server application, the ORB can also be configured to use the SSL protocol. For more information, see <span class="cHyperlink">
<a href="../security/config.html">&#8220;Configuring the SSL Protocol&#8221; </a></span>in Using Security in CORBA Applications.</td>
</tr>
</table>

<p class="pGraphic"><a name="wp1484332"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1484278table1484273"><caption><a name="wp1484278"> </a>
Table 2-2  Administration Steps for the SSL Protocol&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1484282"> </a>
Step
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1484284"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484286"> </a>
1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484288"> </a>
Set up an LDAP-enabled directory service. You will be prompted for the name of the LDAP server during the installation of the Oracle Tuxedo product.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484290"> </a>
2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484292"> </a>
Install the license for the SSL protocol.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484294"> </a>
3
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484296"> </a>
Obtain a digital certificate and private key for the Oracle Tuxedo application from a certificate authority.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484298"> </a>
4
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484300"> </a>
Publish the digital certificates for the Oracle Tuxedo application and the certificate authority in the LDAP-enabled directory service.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484302"> </a>
5
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484305"> </a>
Define the <code class="cCode">SEC_PRINCIPAL_NAME</code>, <code class="cCode">SEC_PRINCIPAL_LOCATION</code>, and <code class="cCode">SEC_PRINCIPAL_PASSVAR</code> parameters for the Tuxedo server process in the<code class="cCode"> UBBCONFIG</code> file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484307"> </a>
6
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1491060"> </a>
Change to &quot;Set the UBBCONFIG parameters, DMCONFIG parameters, WSL CLOPT, JSL CLOPT, or ISL CLOPT so that SSL is turned on.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484311"> </a>
7
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1491078"> </a>
Define a port for SSL communication in the appropriate configuration file or server CLOPT.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484315"> </a>
8
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484318"> </a>
Create a Trusted Certificate Authority file (<code class="cCode">trust_ca.cer</code>) that defines the certificate authorities trusted by the Oracle Tuxedo application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484320"> </a>
9
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1491089"> </a>
Change to &quot;Use the tmloadcf and/or dmloadcf commands to load the appropriate configuration file(s).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484324"> </a>
10
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484327"> </a>
Optionally, create a Peer Rules file (<code class="cCode">peer_val.rul</code>) for the Oracle Tuxedo product.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484329"> </a>
11
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1484331"> </a>
Optionally, modify the LDAP Search filter file to reflect the directory hierarchy in place in your enterprise.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1493436"> </a>
If you use the SSL protocol with password authentication, you need to set the <code class="cCode">SECURITY</code> parameter in the <code class="cCode">UBBCONFIG</code> file to desired level of authentication and if appropriate, configure the Authentication Server (<code class="cCode">AUTHSRV</code>). For information about the administration steps for password authentication, see <span class="cHyperlink">
<a href="../sec/secadm.html">&#8220;Password Authentication&#8221; </a></span>in <em class="cEmphasis">Using Secuity in ATMI Applications.</em>.
</p>
<p class="pBody"><a name="wp1484345"> </a>
<a href="secadm.html#wp1484347">Figure&#160;2-13</a> illustrates the configuration of a Tuxedo application that uses the SSL protocol.
</p>
<div class="pFigureTitle"><a name="wp1484347"> </a>
Figure&#160;2-13  Configuration for Using the SSL Protocol in a Tuxedo Application
</div>

 
 <p class="pGraphic"><a name="wp1485529"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/clientSS_2.png" alt="Configuration for Using the SSL Protocol in a Tuxedo Application" id="wp1485527" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1485564"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1485574"> </a><a href="secovr.html#wp1303146">SSL Encryption</a></li>
<li><a name="wp1485578"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1485583"> </a><a href="../rf5/rf5.html">UBBCONFIG(5)</a><code class="cCode"> </code>Resources Section</li>
<li><a name="wp1485604"> </a>DM_MIB<a href="../rf5/rf5.html"></a>(5) <code class="cCode">T_DM_TDOMAIN</code> Class</li>
<li><a name="wp1485584"> </a><a href="../rf5/rf5.html">DMCONFIG(5)</a><code class="cCode"> DM_TDOMAIN</code> section</li>
<li><a name="wp1485590"> </a>WS_M<a href="../rf5/rf5.html"></a>IB(5) <code class="cCode">T_WSL</code> Class</li>
<li><a name="wp1485668"> </a><span class="cHyperlink">
<a href="../security/publickey.html">Using Security in CORBA Applications</a></span></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1485558"> </a>
Administering Public Key Security
</h2><p class="pBody"><a name="wp1485533"> </a>
The most effective way to make a distributed ATMI application secure is to combine link-level encryption with public key encryption. Public key encryption is the framework on which public key security is built.
</p>
<p class="pBody"><a name="wp1248957"> </a>
Public key security allows you to incorporate message-based digital signatures and message-based encryption into your ATMI applications. Together, these capabilities provide data integrity and privacy, which are especially important when an ATMI application interacts with other ATMI applications or Workstation clients from outside the company.
</p>
<h3 class="pHeading2"><a name="wp1252231"> </a>
Recommended Practices for Public Key Security
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1252232"> </a>The ATMI application&#8217;s operating environment largely determines the level of security achieved. For maximum safety, install hardware devices that protect private key information.</li>
<li><a name="wp1252233"> </a>Establish policies regarding key expiration intervals and key renewal procedures. Expiration of a Certification Authority&#8217;s certificate might have a dramatic impact on system operation, and should be anticipated so updated user certificates can be issued in advance.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1252457"> </a>
Assigning Public-Private Key Pairs
</h3>
<p class="pBody"><a name="wp1257223"> </a>
Application administrators and developers need to choose a Certification Authority to provide public-private key pairs and the digital certificates associated with them. Then they must decide how to assign the key pairs to the ATMI application. There are many options for assigning key pairs. An administrator can assign one or more of the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1253191"> </a>One public-private key to an entire ATMI application</li>
<li><a name="wp1253192"> </a>A public-private key pair to each machine in an ATMI application</li>
<li><a name="wp1253193"> </a>A public-private key pair to each server in an ATMI application</li>
<li><a name="wp1253194"> </a>A public-private key pair to each service in an ATMI application</li>
<li><a name="wp1253195"> </a>A public-private key pair to each end user</li>
</ul></div>
<p class="pBody"><a name="wp1253197"> </a>
Application administrators and developers are responsible for choosing a method of assigning key pairs and assigning them. Once key pairs are assigned, however, no more administrative work is required; the plug-ins for public key security distribute and manage the keys.
</p>
<h3 class="pHeading2"><a name="wp1254373"> </a>
Setting Digital Signature Policy
</h3>
<p class="pBody"><a name="wp1257260"> </a>
As the administrator, you use the following configuration parameters to set the digital signature policy for your ATMI application.
</p>
<p class="pGraphic"><a name="wp1488456"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1359321table1257816">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1359321"> </a>
Parameter Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1359323"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1359325"> </a>
Setting
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359327"> </a>
<code class="cCode">SIGNATURE_AHEAD</code> in <code class="cCode">UBBCONFIG</code> (<code class="cCode">TA_SIGNATURE_AHEAD</code> in <code class="cCode">TM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359329"> </a>
Maximum permissible time difference between (1) the timestamp value attached to a digitally signed message buffer and (2) the time at which the message buffer is received. If the signature timestamp is too far into the future, the receiving process rejects the message buffer.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359331"> </a>
1-2147483647 seconds. Default is 3600 seconds (one hour).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359333"> </a>
<code class="cCode">SIGNATURE_BEHIND</code> in <code class="cCode">UBBCONFIG</code> (<code class="cCode">TA_SIGNATURE_BEHIND</code> in <code class="cCode">TM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359335"> </a>
Maximum permissible time difference between (1) the time at which a digitally signed message buffer is received and (2) the timestamp value attached to the message buffer. If the signature timestamp is too far into the past, the receiving process rejects the message buffer.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359337"> </a>
1-2147483647 seconds. Default is 604800 seconds (one week).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359339"> </a>
<code class="cCode">SIGNATURE_REQUIRED</code> in <code class="cCode">UBBCONFIG</code> (<code class="cCode">TA_SIGNATURE_REQUIRED</code> in <code class="cCode">TM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359341"> </a>
Determines whether a receiving process will accept <em class="cEmphasis">only</em> message buffers that are digitally signed.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1359343"> </a>
<code class="cCode">Y</code> (yes&#8212;digital signature is required) or <code class="cCode">N</code> (no&#8212;digital signature is not required). Default is <code class="cCode">N</code>.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1254374"> </a>
Setting a Postdated Limit for Signature Timestamps
</h4>
<p class="pBody"><a name="wp1259444"> </a>
<code class="cCode">SIGNATURE_AHEAD</code> is specified at the domain-wide level of the configuration hierarchy, meaning that the value you assign to it applies to all processes running in the ATMI application. Domain-wide parameters are set in the <code class="cCode">RESOURCES</code> section in the <code class="cCode">UBBCONFIG</code> file, and the <code class="cCode">T_DOMAIN</code> class in the <code class="cCode">TM_MIB</code>.
</p>
<p class="pBody"><a name="wp1239780"> </a>
The <code class="cCode">SIGNATURE_AHEAD</code> parameter establishes the maximum permissible time difference between (1) the timestamp attached to the incoming message buffer and (2) the current time shown on the verifying system&#8217;s local clock. The minimum value is 1 second; the maximum, 2147483647 seconds. The default is 3600 seconds (one hour).
</p>
<p class="pBody"><a name="wp1239781"> </a>
If the attached timestamp shows a time too far into the future, the signature is considered invalid. This parameter is useful for rejecting signatures that are postdated, while allowing a certain amount of leeway for unsynchronized local clocks.
</p>
<h5 class="pHeading4"><a name="wp1260808"> </a>
Example UBBCONFIG Entries for Postdated Limit
</h5>
<a name="wp1260809"> </a><div class="pPreformatted"><pre>*RESOURCES<br /><code class="cCode">SIGNATURE_AHEAD</code> 2400</pre></div><h4 class="pHeading3"><a name="wp1239782"> </a>
Setting a Predated Limit for Signature Timestamps
</h4>
<p class="pBody"><a name="wp1259689"> </a>
<code class="cCode">SIGNATURE_BEHIND</code> is specified at the domain-wide level of the configuration hierarchy, meaning that the value you assign to it applies to all processes running in the ATMI application. Domain-wide parameters are set in the <code class="cCode">RESOURCES</code> section in the <code class="cCode">UBBCONFIG</code> file, and the <code class="cCode">T_DOMAIN</code> class in the <code class="cCode">TM_MIB</code>.
</p>
<p class="pBody"><a name="wp1259690"> </a>
The <code class="cCode">SIGNATURE_BEHIND</code> parameter establishes the maximum permissible time difference between (1) the current time shown on the verifying system&#8217;s local clock and (2) the timestamp attached to the incoming message buffer. The minimum value is 1 second; the maximum, 2147483647 seconds. The default is 604800 seconds (one week).
</p>
<p class="pBody"><a name="wp1239785"> </a>
If the attached timestamp shows a time too far into the past, the signature is considered invalid. This parameter is useful for resisting replay attacks, in which a valid signed buffer is injected into the system a second time. However, in a system with asynchronous communication&#8212;for example, in a system in which disk-based queues are used&#8212;buffers signed a long time ago may still be considered valid. So, in a system with asynchronous communication, you may want to increase the <code class="cCode">SIGNATURE_BEHIND</code> setting.
</p>
<h5 class="pHeading4"><a name="wp1260937"> </a>
Example UBBCONFIG Entries for Predated Limit
</h5>
<a name="wp1260938"> </a><div class="pPreformatted"><pre>*RESOURCES<br /><code class="cCode">SIGNATURE_BEHIND</code> 300000</pre></div><h4 class="pHeading3"><a name="wp1239786"> </a>
Enforcing the Signature Policy for Incoming Messages
</h4>
<p class="pBody"><a name="wp1260063"> </a>
<code class="cCode">SIGNATURE_REQUIRED</code> may be specified any of the following four levels in the configuration hierarchy:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1261075"> </a><code class="cCode">RESOURCES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_DOMAIN</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1261076"> </a><code class="cCode">MACHINES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_MACHINE</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1261077"> </a><code class="cCode">GROUPS</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_GROUP</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1261078"> </a><code class="cCode">SERVICES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_SERVICE</code> class in <code class="cCode">TM_MIB</code></li>
</ul></div>
<p class="pBody"><a name="wp1260068"> </a>
Setting <code class="cCode">SIGNATURE_REQUIRED</code> to <code class="cCode">Y</code> (yes) at a particular level means that signatures are required for all processes running at that level or below. For example, setting <code class="cCode">SIGNATURE_REQUIRED</code> to <code class="cCode">Y</code> for a machine named <code class="cCode">mach1</code> means that all processes running on <code class="cCode">mach1</code> will accept only incoming messages that are digitally signed.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239788"> </a>Set at the domain-wide level (<code class="cCode">RESOURCES</code> section or <code class="cCode">T_DOMAIN</code> class), this parameter covers all application services advertised within the domain, including those advertised by gateway processes. The default is <code class="cCode">N</code>.</li>
<li><a name="wp1239789"> </a>Set at the machine level (<code class="cCode">MACHINES</code> section or <code class="cCode">T_MACHINE</code> class), this parameter covers all application services advertised on a particular machine, including those advertised by gateway processes. The default is <code class="cCode">N</code>.</li>
<li><a name="wp1239790"> </a>Set at the group level (<code class="cCode">GROUPS</code> section or <code class="cCode">T_GROUP</code> class), this parameter covers all application services advertised by a particular group, including those advertised by gateway processes. The default is <code class="cCode">N</code>.</li>
<li><a name="wp1239791"> </a>Set at the service level (<code class="cCode">SERVICES</code> section <code class="cCode">T_SERVICE</code> class), this parameter covers all instances of a particular service advertised within the domain, including those advertised by gateway processes. The default is <code class="cCode">N</code>.</li>
</ul></div>
<p class="pBody"><a name="wp1239792"> </a>
You may specify both SIGNATURE_REQUIRED=Y and ENCRYPTION_REQUIRED=Y <em class="cEmphasis">together</em> at the domain-wide level, machine level, group level, or service level. See <a href="secadm.html#wp1359137">Enforcing the Encryption Policy for Incoming Messages</a> for a description of ENCRYPTION_REQUIRED.
</p>
<h5 class="pHeading4"><a name="wp1239793"> </a>
Qualifier
</h5>
<p class="pBody"><a name="wp1239794"> </a>
The enforcement policy for <code class="cCode">SIGNATURE_REQUIRED</code> applies only to application services, application events, and application enqueue requests. It does not apply to system-generated service invocations and system event postings.
</p>
<h5 class="pHeading4"><a name="wp1239795"> </a>
Example
</h5>
<p class="pBody"><a name="wp1239796"> </a>
To configure <code class="cCode">SIGNATURE_REQUIRED</code> for a machine named <code class="cCode">mach1</code>, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1239797"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1239798"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">MACHINES</code> section:</li>
<a name="wp1239799"> </a><div class="pPreformattedRelative"><pre>*MACHINES<br />mach1 &#160;LMID=&quot;<code class="cCodeEmphasis">machine_logical_name</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;TUXCONFIG=&quot;<code class="cCodeEmphasis">absolute_path_name_to_tuxconfig_file</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;TUXDIR=&quot;<code class="cCodeEmphasis">absolute_path_name_to_BEA_Tuxedo_directory</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;APPDIR=&quot;<code class="cCodeEmphasis">absolute_path_name_to_application_directory</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIGNATURE_REQUIRED=Y</pre></div><li><a name="wp1239800"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
</ol></div>
<p class="pBody"><a name="wp1423904"> </a>
In the preceding example, when <a href="../rfcm/rfcmd.html">tmboot(1)</a> starts the ATMI application, it passes the SIGNATURE_REQUIRED=Y parameter to the machine named <code class="cCode">mach1</code>. At that point, all application services advertised by <code class="cCode">mach1</code>, including those advertised by gateway processes, are allowed to accept only messages that include valid digital signatures. If a process controlled by <code class="cCode">mach1</code> receives a message that does <em class="cEmphasis">not</em> include a valid digital signature, the system takes the following actions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1423905"> </a>Generates a <a href="../rf3c/rf3c.html">userlog(3c)</a> message (severity <code class="cCode">WARN</code>)</li>
<li><a name="wp1423907"> </a>Discards the buffer as if it were never received by the process</li>
</ul></div>
<a name="wp1422316"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>A NULL (empty) buffer cannot be digitally signed, meaning that the system rejects any NULL buffer received by a process requiring digital signatures, in the manner stated in the preceding bullet list.</td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1239805"> </a>
How the EventBroker Signature Policy Is Enforced
</h4>
<p class="pBody"><a name="wp1239806"> </a>
When digital signatures are attached to a posted message buffer, these signatures are preserved and forwarded along with the message buffer to subscribers for the relevant event.
</p>
<p class="pBody"><a name="wp1424806"> </a>
If the <a href="../rf5/rf5.html">TMUSREVT(5)</a> system server is running in a domain, machine, or server group that requires digital signatures, it rejects any incoming posting without a <code class="cCode">TPSIGN_OK</code> composite signature status&#8212;see <a href="secpgm.html#wp1312897">Understanding the Composite Signature Status</a>.
</p>
<p class="pBody"><a name="wp1239809"> </a>
Possible subscription notification actions that the <code class="cCode">TMUSREVT</code> server might take include invoking a service or enqueuing a message. If the target service or queue requires a valid digital signature, but one is not attached to the posted message, the subscription notification action fails.
</p>
<p class="pBody"><a name="wp1317866"> </a>
System events (events that are posted by the system itself and processed by the <code class="cCode">TMSYSEVT</code> server) may be digitally signed. The administrative policies regarding digital signature do <em class="cEmphasis">not</em> apply to the <a href="../rf5/rf5.html">TMSYSEVT(5)</a> server.
</p>
<h4 class="pHeading3"><a name="wp1239810"> </a>
How the /Q Signature Policy Is Enforced
</h4>
<p class="pBody"><a name="wp1239811"> </a>
When digital signatures are attached to a queued buffer, the signatures are preserved in the queue and forwarded to the dequeuing process. Also, if a message is processed by <a href="../rf5/rf5.html">TMQFORWARD(5)</a> to invoke a service, signatures are preserved.
</p>
<p class="pBody"><a name="wp1239812"> </a>
If the <a href="../rf5/rf5.html">TMQUEUE(5)</a> system server is running in a domain, machine, or server group that requires digital signatures, it rejects any incoming enqueue request without a <code class="cCode">TPSIGN_OK</code> composite signature status&#8212;see <a href="secpgm.html#wp1312897">Understanding the Composite Signature Status</a>. In addition, the <code class="cCode">TMQUEUE</code> server requires a digital signature if such a policy is in effect for the service name associated with the queue space.
</p>
<h4 class="pHeading3"><a name="wp1239813"> </a>
How the Remote Client Signature Policy Is Enforced
</h4>
<p class="pBody"><a name="wp1239814"> </a>
If the workstation handler (WSH) is running in a domain, machine, or server group that requires digital signatures, it rejects any incoming message buffer containing application data without a <code class="cCode">TPSIGN_OK</code> composite signature status&#8212;see <a href="secpgm.html#wp1312897">Understanding the Composite Signature Status</a>.
</p>
<h3 class="pHeading2"><a name="wp1261257"> </a>
Setting Encryption Policy
</h3>
<p class="pBody"><a name="wp1363660"> </a>
As the administrator, you use the following configuration parameter to set the encryption policy for your ATMI application.
</p>
<p class="pGraphic"><a name="wp1488460"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1363663table1363661">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1363663"> </a>
Parameter Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1363665"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1363667"> </a>
Setting
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1363669"> </a>
<code class="cCode">ENCRYPTION_REQUIRED</code> in <code class="cCode">UBBCONFIG</code> (<code class="cCode">TA_ENCRYPTION_REQUIRED</code> in <code class="cCode">TM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1363763"> </a>
Determines whether a receiving process will accept <em class="cEmphasis">only</em> message buffers that are encrypted.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1363765"> </a>
<code class="cCode">Y</code> (yes&#8212;encryption is required) or <code class="cCode">N</code> (no&#8212;encryption is not required). Default is <code class="cCode">N</code>.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1359137"> </a>
Enforcing the Encryption Policy for Incoming Messages
</h4>
<p class="pBody"><a name="wp1359138"> </a>
<code class="cCode">ENCRYPTION_REQUIRED</code> may be specified at any of the following four levels in the configuration hierarchy:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1261035"> </a><code class="cCode">RESOURCES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_DOMAIN</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1261036"> </a><code class="cCode">MACHINES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_MACHINE</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1260963"> </a><code class="cCode">GROUPS</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_GROUP</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1260964"> </a><code class="cCode">SERVICES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_SERVICE</code> class in <code class="cCode">TM_MIB</code></li>
</ul></div>
<p class="pBody"><a name="wp1260965"> </a>
Setting <code class="cCode">ENCRYPTION_REQUIRED</code> to <code class="cCode">Y</code> (yes) at a particular level means that encryption is required for all processes running at that level or below. For example, setting <code class="cCode">ENCRYPTION_REQUIRED</code> to <code class="cCode">Y</code> for a machine named <code class="cCode">mach1</code> means that all processes running on <code class="cCode">mach1</code> will accept only incoming messages that are encrypted.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239818"> </a>Set at the domain-wide level (<code class="cCode">RESOURCES</code> section or <code class="cCode">T_DOMAIN</code> class), this parameter covers all application services advertised within the domain, including those advertised by gateway processes. The default is <code class="cCode">N</code>.</li>
<li><a name="wp1239819"> </a>Set at the machine level (<code class="cCode">MACHINES</code> section or <code class="cCode">T_MACHINE</code> class), this parameter covers all application services advertised on a particular machine, including those advertised by gateway processes. The default is <code class="cCode">N</code>.</li>
<li><a name="wp1239820"> </a>Set at the group level (<code class="cCode">GROUPS</code> section or <code class="cCode">T_GROUP</code> class), this parameter covers all application services advertised by a particular group, including those advertised by gateway processes. The default is <code class="cCode">N</code>.</li>
<li><a name="wp1239821"> </a>Set at the service level (<code class="cCode">SERVICES</code> section <code class="cCode">T_SERVICE</code> class), this parameter covers all instances of a particular service advertised within the domain, including those advertised by gateway processes. The default is <code class="cCode">N</code>.</li>
</ul></div>
<p class="pBody"><a name="wp1239822"> </a>
You may specify both ENCRYPTION_REQUIRED=Y and SIGNATURE_REQUIRED=Y <em class="cEmphasis">together</em> at the domain-wide level, machine level, group level, or service level. See <a href="secadm.html#wp1239786">Enforcing the Signature Policy for Incoming Messages</a> for a description of SIGNATURE_REQUIRED.
</p>
<h5 class="pHeading4"><a name="wp1239823"> </a>
Qualifier
</h5>
<p class="pBody"><a name="wp1239824"> </a>
The enforcement policy for <code class="cCode">ENCRYPTION_REQUIRED</code> applies only to application services, application events, and application enqueue requests. It does not apply to system-generated service invocations and system event postings.
</p>
<h5 class="pHeading4"><a name="wp1239825"> </a>
Example
</h5>
<p class="pBody"><a name="wp1239826"> </a>
To configure <code class="cCode">ENCRYPTION_REQUIRED</code> for a server group named <code class="cCode">STDGRP</code>, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1239827"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1239828"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">GROUPS</code> section:</li>
<a name="wp1239829"> </a><div class="pPreformattedRelative"><pre>*GROUPS<br />STDGRP LMID=&quot;<code class="cCodeEmphasis">machine_logical_name</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;GRPNO=&quot;<code class="cCodeEmphasis">server_group_number</code>&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;ENCRYPTION_REQUIRED=Y</pre></div><li><a name="wp1239830"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
</ol></div>
<p class="pBody"><a name="wp1423590"> </a>
In the preceding example, when <a href="../rfcm/rfcmd.html">tmboot(1)</a> starts the ATMI application, it passes the ENCRYPTION_REQUIRED=Y parameter to the server group named <code class="cCode">STDGRP</code>. At that point, all application services advertised by <code class="cCode">STDGRP</code>, including those advertised by gateway processes, are allowed to accept only messages protected by an encryption envelope. If a process controlled by <code class="cCode">STDGRP</code> receives an unencrypted message, the system takes the following actions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1423591"> </a>Generates a <a href="../rf3c/rf3c.html">userlog(3c)</a> message (severity <code class="cCode">ERROR</code>)</li>
<li><a name="wp1423593"> </a>Discards the buffer as if it were never received by the process</li>
</ul></div>
<a name="wp1423031"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>A NULL (empty) buffer cannot be encrypted, meaning that the system rejects any NULL buffer received by a process requiring encryption, in the manner stated in the preceding bullet list.</td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1239835"> </a>
How the EventBroker Encryption Policy Is Enforced
</h4>
<p class="pBody"><a name="wp1239836"> </a>
When a posted message buffer is encrypted, encryption envelopes are preserved and forwarded, along with the encrypted message content, to subscribers for the relevant event.
</p>
<p class="pBody"><a name="wp1239837"> </a>
If the <a href="../rf5/rf5.html">TMUSREVT(5)</a> system server is running in a domain, machine, or server group that requires encryption, it rejects any incoming posting message that is not encrypted.
</p>
<p class="pBody"><a name="wp1239839"> </a>
Possible subscription notification actions that the <code class="cCode">TMUSREVT</code> server might take include invoking a service or enqueuing a message. If the target service or queue requires encrypted input, but the posted message is not encrypted, the subscription notification action fails. Also, if the subscriber does not possess an appropriate decryption key, the event notification action fails.
</p>
<p class="pBody"><a name="wp1317880"> </a>
System events (events that are posted by the system itself and processed by the <code class="cCode">TMSYSEVT</code> server) may be encrypted. The administrative policies regarding encryption do <em class="cEmphasis">not</em> apply to the <a href="../rf5/rf5.html">TMSYSEVT(5)</a> server.
</p>
<h4 class="pHeading3"><a name="wp1239840"> </a>
How the /Q Encryption Policy Is Enforced
</h4>
<p class="pBody"><a name="wp1239841"> </a>
When a queued message buffer is encrypted, this status is preserved in the queue, and the buffer is forwarded, in encrypted form, to the dequeuing process. Also, if a message is processed by <a href="../rf5/rf5.html">TMQFORWARD(5)</a> to invoke a service, encryption status is preserved.
</p>
<p class="pBody"><a name="wp1239842"> </a>
If the <a href="../rf5/rf5.html">TMQUEUE(5)</a> system server is running in a domain, machine, or server group that requires encryption, it rejects any incoming enqueue request that is not encrypted. In addition, the <code class="cCode">TMQUEUE</code> server requires encryption if such a policy is in effect for the service name associated with the queue space.
</p>
<h4 class="pHeading3"><a name="wp1239843"> </a>
How the Remote Client Encryption Policy Is Enforced
</h4>
<p class="pBody"><a name="wp1239844"> </a>
If the workstation handler (WSH) is running in a domain, machine, or server group that requires encryption, it rejects any incoming message buffer containing an unencrypted application data buffer.
</p>
<h3 class="pHeading2"><a name="wp1251962"> </a>
Initializing Decryption Keys Through the Plug-ins
</h3>
<p class="pBody"><a name="wp1363870"> </a>
As the administrator, you use the following configuration parameters to specify principal names and decryption keys for the system processes running in your ATMI application.
</p>
<p class="pGraphic"><a name="wp1488464"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1391034table1363871">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1391034"> </a>
Parameter Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1391036"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1391038"> </a>
Setting
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391040"> </a>
<code class="cCode">SEC_PRINCIPAL_NAME</code> in <code class="cCode">UBBCONFIG</code> (<code class="cCode">TA_SEC_PRINCIPAL_NAME</code> in <code class="cCode">TM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391042"> </a>
The name of the target principal, which becomes the identity of one or more system processes.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391044"> </a>
1-511 characters.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391046"> </a>
<code class="cCode">SEC_PRINCIPAL_LOCATION</code> in <code class="cCode">UBBCONFIG</code> (<code class="cCode">TA_SEC_PRINCIPAL_LOCATION</code> in <code class="cCode">TM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391048"> </a>
The location of the file or device where the decryption (private) key for the target principal resides.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391050"> </a>
0-1023 characters. If not specified, defaults to a <code class="cCode">NULL</code> (zero length) string.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391052"> </a>
<code class="cCode">SEC_PRINCIPAL_PASSVAR</code> in <code class="cCode">UBBCONFIG</code> (<code class="cCode">SEC_PRINCIPAL_PASSVAR</code> in <code class="cCode">TM_MIB</code>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391054"> </a>
The variable in which the password for the target principal is stored.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1391056"> </a>
0-31 characters. If not specified, defaults to a <code class="cCode">NULL</code> (zero length) string.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1364324"> </a>
This trio of configuration parameters can be specified at any of the following four levels in the configuration hierarchy:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1261086"> </a><code class="cCode">RESOURCES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_DOMAIN</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1261087"> </a><code class="cCode">MACHINES</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_MACHINE</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1261088"> </a><code class="cCode">GROUPS</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_GROUP</code> class in <code class="cCode">TM_MIB</code></li>
<li><a name="wp1261089"> </a><code class="cCode">SERVERS</code> section in <code class="cCode">UBBCONFIG</code> or <code class="cCode">T_SERVER</code> class in <code class="cCode">TM_MIB</code></li>
</ul></div>
<p class="pBody"><a name="wp1264492"> </a>
A principal name and decryption key at a particular configuration level can be overridden at a lower level. For example, suppose you configure a principal name and decryption key for machine <code class="cCode">mach1</code>, and a principal name and decryption key for a server called <code class="cCode">serv1</code> running on <code class="cCode">mach1</code>. The processes on <code class="cCode">mach1</code> behave as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1264493"> </a>All processes on <code class="cCode">mach1</code> except <code class="cCode">serv1</code> processes use the decryption key assigned to <code class="cCode">mach1</code> to decrypt any received message buffer that is encrypted.</li>
<li><a name="wp1264494"> </a>All <code class="cCode">serv1</code> processes use the decryption key assigned to <code class="cCode">serv1</code> to decrypt any received message buffer that is encrypted.</li>
</ul></div>
<p class="pBody"><a name="wp1264504"> </a>
Configured decryption keys are automatically opened when an ATMI application is booted. <a href="secadm.html#wp1263585">Figure&#160;2-14</a> demonstrates how the process works.
</p>
<div class="pFigureTitle"><a name="wp1263585"> </a>
Figure&#160;2-14  How a Decryption Key Is Initialized Example
</div>

 
 <p class="pGraphic"><a name="wp1263642"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-14.gif" height="611" width="552" alt="How a Decryption Key Is Initialized Example" id="wp1263587"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1274146"> </a>
The following is a detailed description of how the operation shown in the preceding figure is performed.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1264086"> </a>The administrator defines <code class="cCode">SEC_PRINCIPAL_NAME</code>, <code class="cCode">SEC_PRINCIPAL_LOCATION</code>, and <code class="cCode">SEC_PRINCIPAL_PASSVAR</code> at a particular level in the ATMI application&#8217;s <code class="cCode">UBBCONFIG</code> file.</li>
<li><a name="wp1264616"> </a>The administrator loads the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
<li><a name="wp1264629"> </a>When prompted, the administrator enters and then re-enters the password for the target principal.</li>
<li><a name="wp1264392"> </a>The administrator enters the <a href="../rfcm/rfcmd.html">tmboot(1)</a> command to boot the ATMI application.</li>
<li><a name="wp1264684"> </a>During the boot process, the <code class="cCode">map_proof</code> plug-in reads <code class="cCode">SEC_PRINCIPAL_NAME</code>, <code class="cCode">SEC_PRINCIPAL_LOCATION</code>, and <code class="cCode">SEC_PRINCIPAL_PASSVAR</code>, analyzes their values, and then determines whether the calling process has proven its right to access the requested decryption key. (Having access to a decryption key, or private key, is equivalent to possessing the principal&#8217;s identity.)</li>
<li><a name="wp1264370"> </a>If the password associated with <code class="cCode">SEC_PRINCIPAL_PASSVAR</code> matches the assigned password for the principal specified in <code class="cCode">SEC_PRINCIPAL_NAME</code>, the <code class="cCode">map_proof</code> plug-in passes the name, location, and password of the principal to the <code class="cCode">PKi_init</code> plug-in.</li>
<li><a name="wp1264785"> </a>The <code class="cCode">PKi_init</code> plug-in calls <a href="../rf3c/rf3c.html">tpkey_open(3c)</a> with the name, location, and password of the principal as arguments. It returns a decryption key handle for the principal.</li>
</ol></div>
<p class="pBody"><a name="wp1265015"> </a>
Each time you invoke <code class="cCode">tmloadcf</code> to load the configuration, you are prompted to enter the password for each of the decryption keys configured with <code class="cCode">SEC_PRINCIPAL_PASSVAR</code>. If you want to avoid having to enter each password manually, you can write a script that automatically enters the passwords. The script must include a definition of each password variable, and it must end with the following line:
</p>
<a name="wp1265042"> </a><div class="pPreformattedRelative"><pre>tmloadcf -y <code class="cCodeEmphasis">ubbconfig_name</code> &lt; /dev/null</pre></div><p class="pBody"><a name="wp1266859"> </a>
No application process has permission to close a decryption key opened during ATMI application booting. The decryption keys stay open until you run the <a href="../rfcm/rfcmd.html">tmshutdown(1)</a> command to shut down the ATMI application.
</p>
<h5 class="pHeading4"><a name="wp1265121"> </a>
Example UBBCONFIG Entries for Principal Names and Decryption Keys
</h5>
<a name="wp1266538"> </a><div class="pPreformatted"><pre>*RESOURCES<br /><code class="cCode">SEC_PRINCIPAL_NAME&#160;&#160;&#160;&#160;&#160;&quot;Tommy&quot;<br />SEC_PRINCIPAL_LOCATION&#160;&quot;/home/jhn/secsapp/cert/tommy.pvk&quot;<br />SEC_PRINCIPAL_PASSVAR&#160;&#160;&quot;TOMMY_VAR&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.</pre></div><a name="wp1314090"> </a><div class="pPreformatted"><pre>*SERVERS<br />&quot;TMQUEUE&quot;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SRVGRP=&quot;QUEGROUP&quot;&#160;&#160;&#160;&#160;&#160;&#160;SRVID=1<br />&#160;&#160;&#160;CLOPT=&quot;-s secsdb:TMQUEUE&quot;<br />&#160;&#160;&#160;SEC_PRINCIPAL_NAME=&#160;&#160;&#160;&#160;&quot;TOUPPER&quot;<br />&#160;&#160;&#160;SEC_PRINCIPAL_LOCATION=&quot;/home/jhn/secsapp/cert/TOUPPER.pvk&quot;<br /><code class="cCode">&#160;&#160;&#160;SEC_PRINCIPAL_PASSVAR=&#160;&quot;TOUPPER_VAR&quot;</code></pre></div><h3 class="pHeading2"><a name="wp1239845"> </a>
Failure Reporting and Auditing
</h3>
<p class="pBody"><a name="wp1299725"> </a>
This topic explains how the system manages errors found through digital signatures and message encryption.
</p>
<h4 class="pHeading3"><a name="wp1239846"> </a>
Digital Signature Error Handling
</h4>
<p class="pBody"><a name="wp1239847"> </a>
If message tampering is detected (that is, if the composite signature status is either <code class="cCode">TPSIGN_TAMPERED_MESSAGE</code> or <code class="cCode">TPSIGN_TAMPERED_CERT</code>&#8212;see <a href="secpgm.html#wp1312897">Understanding the Composite Signature Status</a>), the system takes the following actions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1423562"> </a>Generates a <a href="../rf3c/rf3c.html">userlog(3c)</a> message (severity <code class="cCode">ERROR</code>)</li>
<li><a name="wp1423564"> </a>Discards the buffer as if it were never received by the process</li>
</ul></div>
<p class="pBody"><a name="wp1239851"> </a>
If any individual signature associated with an expired certificate, revoked certificate, expired signature, or postdated signature is detected, the system takes the following actions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1423553"> </a>Generates a <code class="cCode">userlog()</code> message (severity <code class="cCode">WARN</code>)</li>
<li><a name="wp1239854"> </a>Discards the buffer as if it were never received by the process <em class="cEmphasis">unless</em> the buffer&#8217;s composite signature status is <code class="cCode">TPSIGN_OK</code> or <code class="cCode">TPSIGN_UNKNOWN</code></li>
</ul></div>
<p class="pBody"><a name="wp1424728"> </a>
If a process that requires a valid digital signature (based on the <code class="cCode">SIGNATURE_REQUIRED=Y</code> setting) receives a message with the composite signature status <code class="cCode">TPSIGN_UNKNOWN</code>, the system takes the following actions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1423287"> </a>Generates a <code class="cCode">userlog()</code> message (severity <code class="cCode">WARN</code>)</li>
<li><a name="wp1423289"> </a>Discards the buffer as if it were never received by the process</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1239859"> </a>
Encryption Error Handling
</h4>
<p class="pBody"><a name="wp1239860"> </a>
If a process receives an encrypted message but does not possess an open decryption key matching one of the message&#8217;s encryption envelopes, the system takes the following actions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239861"> </a>Generates a <a href="../rf3c/rf3c.html">userlog(3c)</a> message (severity <code class="cCode">ERROR</code>)</li>
<li><a name="wp1239863"> </a>Discards the buffer as if it were never received by the process</li>
</ul></div>
<p class="pBody"><a name="wp1239864"> </a>
If a process that requires encrypted input (based on the <code class="cCode">ENCRYPTION_REQUIRED=Y</code> setting) receives an unencrypted message, the system takes the following actions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1423281"> </a>Generates a <code class="cCode">userlog()</code> message (severity <code class="cCode">ERROR</code>)</li>
<li><a name="wp1423283"> </a>Discards the buffer as if it were never received by the process</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1239871"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239875"> </a><a href="secovr.html#wp1302040">Public Key Security</a></li>
<li><a name="wp1269606"> </a><a href="secovr.html#wp1250009">Public Key Implementation</a></li>
<li><a name="wp1239883"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1319627"> </a><a href="secovr.html#wp1250398">Security Interoperability</a></li>
<li><a name="wp1319762"> </a><a href="secovr.html#wp1251179">Security Compatibility</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239885"> </a>
Administering Default Authentication and Authorization
</h2><p class="pBody"><a name="wp1254721"> </a>
Default authentication and authorization work in the same manner that authentication and authorization have worked since they were first made available with the Oracle Tuxedo system.
</p>
<p class="pBody"><a name="wp1254768"> </a>
Default authentication provides three levels of security: no authentication (<code class="cCode">NONE</code>), application password (<code class="cCode">APP_PW</code>), and user-level authentication (<code class="cCode">USER_AUTH</code>). Default authorization provides two levels of security: optional access control list (<code class="cCode">ACL</code>) and mandatory access control list (<code class="cCode">MANDATORY_ACL</code>). Only when users are authenticated to join an ATMI application does the access control list become active.
</p>
<h3 class="pHeading2"><a name="wp1239887"> </a>
Designating a Security Level
</h3>
<p class="pBody"><a name="wp1239888"> </a>
As the administrator, you can use one of three ways to designate a security level for an ATMI application: by editing the <code class="cCode">UBBCONFIG</code> configuration file, by changing the <code class="cCode">TM_MIB</code>, or by using the Oracle Administration Console.
</p>
<h4 class="pHeading3"><a name="wp1239889"> </a>
Establishing Security by Editing the Configuration File
</h4>
<p class="pBody"><a name="wp1239907"> </a>
In your <code class="cCode">UBBCONFIG</code> file, set the <code class="cCode">SECURITY</code> parameter to the appropriate value:
</p>
<a name="wp1239908"> </a><div class="pPreformatted"><pre>SECURITY {NONE | APP_PW | USER_AUTH | ACL | MANDATORY_ACL}</pre></div><p class="pBody"><a name="wp1239909"> </a>
The default is <code class="cCode">NONE</code>. If <code class="cCode">SECURITY</code> is set to <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>, then a system-supplied authentication server named <code class="cCode">AUTHSVR</code> is invoked to perform per-user authentication.
</p>
<p class="pBody"><a name="wp1239910"> </a>
If you select any value other than NONE, make sure that the value of the <code class="cCode">APPDIR</code> variable is unique for each ATMI application running on the <code class="cCode">MASTER</code> site. Multiple ATMI applications cannot share the same application directory if security features are being used.
</p>
<h4 class="pHeading3"><a name="wp1239911"> </a>
Establishing Security by Changing the TM_MIB
</h4>
<p class="pBody"><a name="wp1239912"> </a>
To designate a security level through the <code class="cCode">TM_MIB</code>, you must assign a value to the <code class="cCode">TA_SECURITY</code> attribute in the <code class="cCode">T_DOMAIN</code> class. When an ATMI application is inactive, the administrator can <code class="cCode">SET</code> the value of <code class="cCode">TA_SECURITY</code> to any of the values that are valid in <code class="cCode">UBBCONFIG</code>. To complete this task, run the administrative interface <a href="../rf3c/rf3c.html">tpadmcall(3c)</a>.
</p>
<h4 class="pHeading3"><a name="wp1239913"> </a>
Establishing Security by Using the Oracle Administration Console
</h4>
<p class="pBody"><a name="wp1239914"> </a>
You can also designate a security level through the Oracle Administration Console. The Oracle Administration Console is a Web-based tool used to configure, monitor, and dynamically reconfigure an ATMI application.
</p>
<h3 class="pHeading2"><a name="wp1239915"> </a>
Configuring the Authentication Server
</h3>
<p class="pBody"><a name="wp1262702"> </a>
The Oracle Tuxedo server called <code class="cCode">AUTHSVR</code> provides a single service, <code class="cCode">AUTHSVC</code>, which performs authentication. <code class="cCode">AUTHSVC</code> is advertised by the <code class="cCode">AUTHSVR</code> server as <code class="cCode">..AUTHSVC</code> when the security level is set to <code class="cCode">ACL</code> or <code class="cCode">MANDATORY_ACL</code>.
</p>
<p class="pBody"><a name="wp1262703"> </a>
To add <code class="cCode">AUTHSVC</code> to an ATMI application, you need to define <code class="cCode">AUTHSVC</code> as the authentication service and <code class="cCode">AUTHSVR</code> as the authentication server in the <code class="cCode">UBBCONFIG</code> file. For example:
</p>
<a name="wp1239918"> </a><div class="pPreformatted"><pre>*RESOURCES<br />SECURITY   USER_AUTH<br />AUTHSVC &#160;&#160;&#160;AUTHSVC<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><a name="wp1239920"> </a><div class="pPreformatted"><pre>*SERVERS<br />AUTHSVR SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=1 RESTART=Y GRACE=600 MAXGEN=2 CLOPT=&quot;-A&quot;</pre></div><p class="pBody"><a name="wp1361048"> </a>
If you omit the parameter-value entry <code class="cCode">AUTHSVC &#160;AUTHSVC</code>, the system calls <code class="cCode">AUTHSVC</code> by default.
</p>
<p class="pBody"><a name="wp1361092"> </a>
As another example:
</p>
<a name="wp1361049"> </a><div class="pPreformatted"><pre>*RESOURCES<br />SECURITY   ACL<br />AUTHSVC &#160;&#160;&#160;..AUTHSVC<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><a name="wp1361050"> </a><div class="pPreformatted"><pre>*SERVERS<br />AUTHSVR SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=1 RESTART=Y GRACE=600 MAXGEN=2 CLOPT=&quot;-A&quot;</pre></div><p class="pBody"><a name="wp1361103"> </a>
If you omit the parameter-value entry <code class="cCode">AUTHSVC &#160;..AUTHSVC</code>, the system calls <code class="cCode">..AUTHSVC</code> by default.
</p>
<p class="pBody"><a name="wp1262609"> </a>
<code class="cCode">AUTHSVR</code> may be replaced with an authentication server that implements logic specific to the ATMI application. For example, a company may want to develop a custom authentication server so that it can use the popular Kerberos mechanism for authentication.
</p>
<p class="pBody"><a name="wp1262624"> </a>
To add a custom authentication service to an ATMI application, you need to define your authentication service and server in the <code class="cCode">UBBCONFIG</code> file. For example:
</p>
<a name="wp1262625"> </a><div class="pPreformatted"><pre>*RESOURCES<br />SECURITY   USER_AUTH<br />AUTHSVC &#160;&#160;&#160;KERBEROS<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><a name="wp1262627"> </a><div class="pPreformatted"><pre>*SERVERS<br />KERBEROSSVR SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=1 RESTART=Y GRACE=600 MAXGEN=2 CLOPT=&quot;-A&quot;</pre></div><a name="wp1465558"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td></td></tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1504992"> </a>To use the WebLogic Server as your security database to authenticate Tuxedo users, you must implement single point security administration using <code class="cCode">LAUTHSVR</code> as your authentication server. For information about <code class="cCode">LAUTHSVR</code> and single point security administration with WebLogic Server, refer to <a href="sngleadm.html">Implementing Single Point Security Administration</a>.</li>
<li><a name="wp1504972"> </a>To use the LDAP repository as your security database to authenticate and authorize Tuxedo users, you must implement extensible security administration using XAUTHSVR as your authentication and authorization server. For information about XAUTHSVR and extensible security administration, refer to <code class="cHyperlinkCode">
XAUTHSVR(5)</code> in File Formats, Data Descriptions, MIBs, and System Processes Reference.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1239922"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239926"> </a><a href="secadm.html#wp1239944">How to Enable Application Password Security</a></li>
<li><a name="wp1239930"> </a><a href="secadm.html#wp1239966">How to Enable User-Level Authentication Security</a></li>
<li><a name="wp1239934"> </a><a href="secadm.html#wp1240103">Enabling Access Control Security</a></li>
<li><a name="wp1269661"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1239942"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1465583"> </a><a href="sngleadm.html">Implementing Single Point Security Administration</a></li>
<li><a name="wp1361154"> </a><a href="../rf5/rf5.html">AUTHSVR(5)</a> in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239944"> </a>
How to Enable Application Password Security
</h2><p class="pBody"><a name="wp1239945"> </a>
Default authentication offers an <em class="cEmphasis">application password</em> security level that you invoke by specifying <code class="cCode">SECURITY APP_PW</code> in your configuration file. This level requires that every client provide an application password as part of the process of joining the ATMI application. The administrator defines a single password for the entire ATMI application and gives the password only to authorized users.
</p>
<p class="pBody"><a name="wp1239946"> </a>
To enable the <code class="cCode">APP_PW</code> security level, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1239947"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1239948"> </a>Set the <code class="cCode">SECURITY</code> parameter in the <code class="cCode">RESOURCES</code> section of the <code class="cCode">UBBCONFIG</code> file to <code class="cCode">APP_PW</code>.</li>
<li><a name="wp1239949"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
<li><a name="wp1267735"> </a>The system prompts you for a password. The password you enter may be up to 30 characters long. It becomes the password for the ATMI application and remains in effect until you change it by using the <code class="cCode">passwd</code> command of <code class="cCode">tmadmin</code>.</li>
<li><a name="wp1239951"> </a>Distribute the application password to authorized users of the ATMI application through an offline means such as telephone or letter.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1239952"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1239956"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1239960"> </a><a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a></li>
<li><a name="wp1239964"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1239966"> </a>
How to Enable User-Level Authentication Security
</h2><p class="pBody"><a name="wp1239967"> </a>
Default authentication offers a <em class="cEmphasis">user-level authentication</em> security level that you invoke by specifying <code class="cCode">SECURITY USER_AUTH</code> in your configuration file. This security level requires that in addition to the application password, each client must provide a valid username and user-specific data, such as a password, to join the ATMI application. The per-user password must match the password associated with the combination user-client name stored in a file named <code class="cCode">tpusr</code>. The checking of per-user password against the password and user-client name in <code class="cCode">tpusr</code> is carried out by the authentication service <code class="cCode">AUTHSVC</code>, which is provided by the authentication server <code class="cCode">AUTHSVR</code>.
</p>
<p class="pBody"><a name="wp1239968"> </a>
To enable the <code class="cCode">USER_AUTH</code> security level, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1239969"> </a>Set up the <code class="cCode">UBBCONFIG</code> file.</li>
<li><a name="wp1239970"> </a>Set up the user and group files.</li>
</ol></div>
<p class="pBody"><a name="wp1267392"> </a>
Instructions for these steps are provided in the following two topics.
</p>
<h3 class="pHeading2"><a name="wp1239971"> </a>
Setting Up the UBBCONFIG File
</h3>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1239972"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1239973"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">RESOURCES</code> and <code class="cCode">SERVERS</code> sections:</li>
<a name="wp1239974"> </a><div class="pPreformattedRelative"><pre>*RESOURCES<br />SECURITY &#160;&#160;USER_AUTH<br />AUTHSVC &#160;&#160;&#160;AUTHSVC<br />&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.</pre></div><a name="wp1239976"> </a><div class="pPreformattedRelative"><pre>*SERVERS<br />AUTHSVR SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=1 RESTART=Y GRACE=600 MAXGEN=2 CLOPT=&quot;-A&quot;</pre></div><p class="pBodyRelative"><a name="wp1239977"> </a>
CLOPT=&quot;-A&quot; causes <a href="../rfcm/rfcmd.html">tmboot(1)</a> to pass only the default command-line options (invoked by &quot;-A&quot;) to <code class="cCode">AUTHSVR</code> when <code class="cCode">tmboot</code> starts the ATMI application. By default, <code class="cCode">AUTHSVR</code> uses the client user information in a file named <code class="cCode">tpusr</code> to authenticate clients that want to join the ATMI application. <code class="cCode">tpusr</code> resides in the directory referenced by the first pathname defined in the ATMI application&#8217;s <code class="cCode">APPDIR</code> variable.
</p>
<li><a name="wp1239978"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
<li><a name="wp1267753"> </a>The system prompts you for a password. The password you enter may be up to 30 characters long. It becomes the password for the ATMI application and remains in effect until you change it by using the <code class="cCode">passwd</code> command of <code class="cCode">tmadmin</code>.</li>
<li><a name="wp1267435"> </a>Distribute the application password to authorized users of the ATMI application through an offline means such as telephone or letter.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1239982"> </a>
Setting Up the User and Group Files
</h3>
<p class="pBody"><a name="wp1239983"> </a>
<code class="cCode">AUTHSVR</code> and the access control checking feature available with the default authorization system require a user file named <code class="cCode">tpusr</code>, which contains a list of client users allowed to join the ATMI application. <code class="cCode">tpusr</code> is maintained by the application administrator using the <a href="../rfcm/rfcmd.html">tpusradd(1)</a>, <a href="../rfcm/rfcmd.html">tpusrdel(1)</a>, and <a href="../rfcm/rfcmd.html">tpusrmod(1)</a> commands. The <code class="cCode">AUTHSVR</code> server takes as input the client user information stored in the <code class="cCode">tpusr</code> file; it uses this information to authenticate clients that want to join the ATMI application.
</p>
<p class="pBody"><a name="wp1240022"> </a>
The following display is a sample entry in the <code class="cCode">tpusr</code> file.
</p>
<p class="pGraphic"><a name="wp1316847"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-15.gif" height="53" width="456" alt="How a Decryption Key Is Initialized Example" id="wp1316805"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1316848"> </a>
<code class="cCode">AUTHSVR</code> and the access control checking feature also require a group file named <code class="cCode">tpgrp</code>, which contains a list of groups associated with the client users allowed to join the ATMI application; <code class="cCode">tpgrp</code> is maintained by the application administrator using the <a href="../rfcm/rfcmd.html">tpgrpadd(1)</a>, <a href="../rfcm/rfcmd.html">tpgrpdel(1)</a>, and <a href="../rfcm/rfcmd.html">tpgrpmod(1)</a> commands.
</p>
<p class="pBody"><a name="wp1306228"> </a>
<code class="cCode">AUTHSVC</code> assigns an authenticated client user an <em class="cEmphasis">application key</em>, which contains a user identifier and associated group identifier for the USER_AUTH, ACL, or MANDATORY_ACL security level. (See <a href="secovr.html#wp1250204">Application Key</a> for more information about application keys.)
</p>
<p class="pBody"><a name="wp1240045"> </a>
The following display is a sample entry in the <code class="cCode">tpgrp</code> file.
</p>
<p class="pGraphic"><a name="wp1316889"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-16.gif" height="54" width="456" alt="How a Decryption Key Is Initialized Example" id="wp1240029"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1240047"> </a>
As the administrator, you must define lists of users and groups in the <code class="cCode">tpusr</code> and <code class="cCode">tpgrp</code> files, both of which are located in the directory referenced by the first path name defined in the ATMI application&#8217;s <code class="cCode">APPDIR</code> variable. The files are colon-delimited, flat text files, readable and writable only by the application&#8217;s administrator.
</p>
<h4 class="pHeading3"><a name="wp1240048"> </a>
Converting System Security Data Files to Oracle Tuxedo User and Group Files
</h4>
<p class="pBody"><a name="wp1240049"> </a>
You may already have files containing lists of users and groups on your host system. You can use them as the user and group files for your ATMI application, but only after converting them to the format required by the Oracle Tuxedo system. To convert your files, run the <a href="../rfcm/rfcmd.html">tpaclcvt(1)</a> command, as shown in the following sample procedure. The sample procedure is written for a UNIX host machine.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1240051"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1240052"> </a>To convert the <code class="cCode">/etc/password</code> file into the format needed by the Oracle Tuxedo system, enter the following command.</li>
<a name="wp1240053"> </a><div class="pPreformattedRelative"><pre>tpaclcvt -u /etc/password</pre></div><p class="pBodyRelative"><a name="wp1240054"> </a>
This command creates the <code class="cCode">tpusr</code> file and stores the converted data in it. If the <code class="cCode">tpusr</code> file already exists, <code class="cCode">tpaclcvt</code> adds the converted data to the file, but it does <em class="cEmphasis">not</em> add duplicate user information to the file.
</p>
</ol></div>
<a name="wp1240055"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>For systems on which a shadow password file is used, you are prompted to enter a password for each user in the file.</td>
</tr>
</table>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1240056"> </a>To convert the <code class="cCode">/etc/group</code> file into the format needed by the Oracle Tuxedo system, enter the following command.</li>
<a name="wp1240057"> </a><div class="pPreformattedRelative"><pre>tpaclcvt -g /etc/group</pre></div><p class="pBodyRelative"><a name="wp1240058"> </a>
This command creates the <code class="cCode">tpgrp</code> file and stores the converted data in it. If the <code class="cCode">tpgrp</code> file already exists, <code class="cCode">tpaclcvt</code> adds the converted data to the file, but it does <em class="cEmphasis">not</em> add duplicate group information to the file.
</p>
</ol></div>
<h4 class="pHeading3"><a name="wp1268871"> </a>
Adding, Modifying, or Deleting Users and Groups
</h4>
<p class="pBody"><a name="wp1299924"> </a>
The Oracle Tuxedo system requires that you maintain a list of your application users in a file named <code class="cCode">tpusr</code>, and a list of groups, in a file named <code class="cCode">tpgrp</code>. There are two methods of modifying the entries in these files: by issuing commands or by changing the values of the appropriate attributes in the <code class="cCode">ACL_MIB</code>.
</p>
<h5 class="pHeading4"><a name="wp1299925"> </a>
Changing Entries for Users and Groups Through Commands
</h5>
<p class="pBody"><a name="wp1268330"> </a>
You can add, modify, or delete entries in the <code class="cCode">tpusr</code> and <code class="cCode">tpgrp</code> files at any time by running one of the following commands.
</p>
<p class="pGraphic"><a name="wp1488532"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1268528table1268345">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1268528"> </a>
Run . . .
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1268530"> </a>
To . . .
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1268532"> </a>
An Entry in This File
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268534"> </a>
<a href="../rfcm/rfcmd.html">tpusradd(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268536"> </a>
Add
</div>
</td>
    <td class="straddledcells" colspan="1" rowspan="3"><div class="pCellBody"><a name="wp1268538"> </a>
<code class="cCode">tpusr</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268540"> </a>
<a href="../rfcm/rfcmd.html">tpusrmod(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268542"> </a>
Modify
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268546"> </a>
<a href="../rfcm/rfcmd.html">tpusrdel(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268548"> </a>
Delete
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268552"> </a>
<a href="../rfcm/rfcmd.html">tpgrpadd(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268554"> </a>
Add
</div>
</td>
    <td class="straddledcells" colspan="1" rowspan="3"><div class="pCellBody"><a name="wp1268556"> </a>
<code class="cCode">tpgrp</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268558"> </a>
<a href="../rfcm/rfcmd.html">tpgrpmod(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268560"> </a>
Modify
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268564"> </a>
<a href="../rfcm/rfcmd.html">tpgrpdel(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268566"> </a>
Delete
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1268576"> </a>
To run any of these commands, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1268577"> </a>For an inactive ATMI application, make sure you are working from the application <code class="cCode">MASTER</code> machine. For an active ATMI application, you may work from any machine in the configuration.</li>
<li><a name="wp1268578"> </a>For specific instructions on running a command, see the entry for that command in Oracle Tuxedo Command Reference.</li>
</ol></div>
<h5 class="pHeading4"><a name="wp1240087"> </a>
Changing Entries for Users and Groups Through the ACL_MIB
</h5>
<p class="pBody"><a name="wp1268890"> </a>
If you prefer not to use the command-line interface, you can add, modify, or delete user entries in <code class="cCode">tpusr</code> by changing the appropriate attribute values in the <code class="cCode">T_ACLPRINCIPAL</code> class in the <a href="../rf5/rf5.html">ACL_MIB(5)</a>. This method is more efficient than the command-line interface if you want to add several user entries simultaneously, since <a href="../rfcm/rfcmd.html">tpusradd(1)</a> allows you to add only one user at a time.
</p>
<p class="pBody"><a name="wp1268003"> </a>
Similarly, you can add, modify, or delete group entries in <code class="cCode">tpgrp</code> by changing the appropriate attribute values in the <code class="cCode">T_ACLGROUP</code> class in the <a href="../rf5/rf5.html">ACL_MIB(5)</a>. This method is more efficient than the command-line interface if you want to add several group entries simultaneously, since <a href="../rfcm/rfcmd.html">tpgrpadd(1)</a> allows you to add only one group at a time.
</p>
<p class="pBody"><a name="wp1268069"> </a>
Of course, the easiest way to access the <code class="cCode">MIB</code> is via the Oracle Administration Console.
</p>
<h3 class="pHeading2"><a name="wp1240089"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1240093"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1240097"> </a><a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a></li>
<li><a name="wp1240101"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1240103"> </a>
Enabling Access Control Security
</h2><p class="pBody"><a name="wp1240104"> </a>
Default authorization consists of an access control checking feature that determines which users can execute a service, post an event, or enqueue (or dequeue) a message on an application queue. There are two levels of access control security: optional access control list (<code class="cCode">ACL</code>) and mandatory access control list (<code class="cCode">MANDATORY_ACL</code>). Only when users are authenticated to join an ATMI application does the access control list become active.
</p>
<p class="pBody"><a name="wp1240105"> </a>
By using an access control list, an administrator can organize users into groups and associate the groups with objects that the member users have permission to access. Access control is done at the group level for the following reasons:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1240106"> </a>System administration is simplified. It is easier to give a group of people access to a new service than it is to give individual users access to the service.</li>
<li><a name="wp1240107"> </a>Performance is improved. Because access permission needs to be checked for each invocation of an entity, permission should be resolved quickly. Because there are fewer groups than users, it is quicker to search through a list of privileged groups than it is to search through a list of privileged users.</li>
</ul></div>
<p class="pBody"><a name="wp1240108"> </a>
The access control checking feature is based on three files that are created and maintained by the application administrator:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1268139"> </a><code class="cCode">tpusr</code> contains a list of users</li>
<li><a name="wp1268151"> </a><code class="cCode">tpgrp</code> contains a list of groups</li>
<li><a name="wp1268126"> </a><code class="cCode">tpacl</code> contains a list of mappings of groups to application entities (such as services) known as the access control list (ACL)</li>
</ul></div>
<p class="pBody"><a name="wp1268133"> </a>
By parsing the client&#8217;s <em class="cEmphasis">application key</em>, which contains information identifying the client as a valid user and valid group member, an entity (such as a service, event, or application queue) can identify the group to which the user belongs; by checking the <code class="cCode">tpacl</code> file, an entity can determine whether the client&#8217;s group has access permission.
</p>
<p class="pBody"><a name="wp1268247"> </a>
The application administrator, application operator, and processes or service requests running with the privileges of the application administrator/operator are <em class="cEmphasis">not</em> subject to ACL permission checking.
</p>
<p class="pBody"><a name="wp1240109"> </a>
If user-level ACL entries are needed, they may be implemented by creating a group for each user, and then mapping the group to the appropriate application entities in the <code class="cCode">tpacl</code> file.
</p>
<h3 class="pHeading2"><a name="wp1240110"> </a>
How to Enable Optional ACL Security
</h3>
<p class="pBody"><a name="wp1240111"> </a>
Default authentication offers an <em class="cEmphasis">optional ACL </em>(<code class="cCode">ACL</code>) security level that you invoke by specifying <code class="cCode">SECURITY ACL</code> in your configuration file. This security level requires that each client provide an application password, a username, and user-specific data, such as a password, to join the ATMI application. If there is no entry in the <code class="cCode">tpacl</code> file associated with the target application entity, the user is permitted to access the entity.
</p>
<p class="pBody"><a name="wp1268283"> </a>
This security level enables an administrator to configure access for only those resources that need more security. That is, there is no need to add entries to the <code class="cCode">tpacl</code> file for services, events, or application queues that are open to everyone. Of course, if there <em class="cEmphasis">is</em> an entry in the <code class="cCode">tpacl</code> file associated with the target application entity and a user attempts to access that entity, the user <em class="cEmphasis">must</em> be a member of a group that is allowed to access that entity; otherwise, permission is denied.
</p>
<p class="pBody"><a name="wp1240112"> </a>
To enable the <code class="cCode">ACL</code> security level, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1240113"> </a>Set up the <code class="cCode">UBBCONFIG</code> file.</li>
<li><a name="wp1240114"> </a>Set up the ACL file.</li>
</ol></div>
<p class="pBody"><a name="wp1267415"> </a>
Instructions for these steps are provided in the following two topics.
</p>
<h4 class="pHeading3"><a name="wp1240115"> </a>
Setting Up the UBBCONFIG File
</h4>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1240116"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1240117"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">RESOURCES</code> and <code class="cCode">SERVERS</code> sections:</li>
<a name="wp1248096"> </a><div class="pPreformattedRelative"><pre>*RESOURCES<br />SECURITY &#160;&#160;ACL<br />AUTHSVC &#160;&#160;&#160;..AUTHSVC<br />&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.</pre></div><a name="wp1240120"> </a><div class="pPreformattedRelative"><pre>*SERVERS<br />AUTHSVR SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=1 RESTART=Y GRACE=600 MAXGEN=2 CLOPT=&quot;-A&quot;</pre></div><p class="pBodyRelative"><a name="wp1240121"> </a>
CLOPT=&quot;-A&quot; causes <a href="../rfcm/rfcmd.html">tmboot(1)</a> to pass only the default command-line options (invoked by &quot;-A&quot;) to <code class="cCode">AUTHSVR</code> when <code class="cCode">tmboot</code> starts the ATMI application. By default, <code class="cCode">AUTHSVR</code> uses the client user information in a file named <code class="cCode">tpusr</code> to authenticate clients that want to join the ATMI application. <code class="cCode">tpusr</code> resides in the directory referenced by the first pathname defined in the ATMI application&#8217;s <code class="cCode">APPDIR</code> variable.
</p>
<li><a name="wp1240122"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
<li><a name="wp1267771"> </a>The system prompts you for a password. The password you enter may be up to 30 characters long. It becomes the password for the ATMI application and remains in effect until you change it by using the <code class="cCode">passwd</code> command of <code class="cCode">tmadmin</code>.</li>
<li><a name="wp1267453"> </a>Distribute the application password to authorized users of the ATMI application through an offline means such as telephone or letter.</li>
</ol></div>
<h4 class="pHeading3"><a name="wp1240126"> </a>
Setting Up the ACL File
</h4>
<p class="pBody"><a name="wp1240127"> </a>
The access control checking feature requires a user file named <code class="cCode">tpusr</code>, a group file named <code class="cCode">tpgrp</code>, and an ACL file named <code class="cCode">tpacl</code>. The ACL file contains mappings of groups to application entities. An entity may be a service, event, or application queue.
</p>
<p class="pBody"><a name="wp1240155"> </a>
The following display is a sample entry in the <code class="cCode">tpacl</code> file.
</p>
<p class="pGraphic"><a name="wp1316935"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-2-1-17.gif" height="54" width="456" alt="How a Decryption Key Is Initialized Example" id="wp1240132"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1240157"> </a>
As the administrator, you must define the entries in the <code class="cCode">tpacl</code> file, which is located in the directory referenced by the first pathname defined in the ATMI application&#8217;s <code class="cCode">APPDIR</code> variable. The file is a colon-delimited, flat text file, readable and writable only by the application&#8217;s administrator.
</p>
<p class="pBody"><a name="wp1268845"> </a>
There are two methods of modifying the ACL entries in the <code class="cCode">tpacl</code> file: by issuing commands or by changing the values of the appropriate attributes in the <code class="cCode">ACL_MIB</code>.
</p>
<h5 class="pHeading4"><a name="wp1268846"> </a>
Changing ACL Entries Through Commands
</h5>
<p class="pBody"><a name="wp1268693"> </a>
You can add, modify, or delete ACL entries in the <code class="cCode">tpacl</code> file at any time by running one of the following commands.
</p>
<p class="pGraphic"><a name="wp1488570"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1268761table1268694">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1268761"> </a>
Run . . .
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1268763"> </a>
To . . .
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268765"> </a>
<a href="../rfcm/rfcmd.html">tpacladd(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268767"> </a>
Add an entry
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268769"> </a>
<a href="../rfcm/rfcmd.html">tpaclmod(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268771"> </a>
Modify an entry
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268773"> </a>
<a href="../rfcm/rfcmd.html">tpacldel(1)</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1268775"> </a>
Delete an entry
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1268737"> </a>
To run any of these commands, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1268738"> </a>For an inactive ATMI application, make sure you are working from the application <code class="cCode">MASTER</code> machine. For an active ATMI application, you may work from any machine in the configuration.</li>
<li><a name="wp1268739"> </a>For specific instructions on running a command, see the entry for that command in Oracle Tuxedo Command Reference.</li>
</ol></div>
<h5 class="pHeading4"><a name="wp1267269"> </a>
Changing ACL Entries Through the ACL_MIB
</h5>
<p class="pBody"><a name="wp1240207"> </a>
If you prefer not to use the command-line interface, you can add, modify, or delete ACL entries in <code class="cCode">tpacl</code> by changing the appropriate attribute values in the <code class="cCode">T_ACLPERM</code> class in the <a href="../rf5/rf5.html">ACL_MIB(5)</a>. This method is more efficient than the command-line interface if you want to add several ACL entries simultaneously, since <a href="../rfcm/rfcmd.html">tpacladd(1)</a> allows you to add only one ACL entry at a time.
</p>
<p class="pBody"><a name="wp1267855"> </a>
Of course, the easiest way to access the <code class="cCode">MIB</code> is via the Oracle Administration Console.
</p>
<h3 class="pHeading2"><a name="wp1240208"> </a>
How to Enable Mandatory ACL Security
</h3>
<p class="pBody"><a name="wp1306365"> </a>
Default authentication offers a <em class="cEmphasis">mandatory ACL </em>security level that you invoke by specifying <code class="cCode">SECURITY MANDATORY_ACL</code> in your configuration file. This security level requires that each client provide an application password, a username, and user-specific data, such as a password, to join the ATMI application. If there is no entry in the <code class="cCode">tpacl</code> file associated with the target application entity, the client is <em class="cEmphasis">not</em> permitted to access the entity. In other words, an entry <em class="cEmphasis">must</em> exist in the <code class="cCode">tpacl</code> file for every application entity that a client needs to access. For this reason, this level is called <em class="cEmphasis">mandatory</em>.
</p>
<p class="pBody"><a name="wp1268294"> </a>
Of course, if there <em class="cEmphasis">is</em> an entry in the <code class="cCode">tpacl</code> file associated with the target application entity and a user attempts to access that entity, the user <em class="cEmphasis">must</em> be a member of a group that is allowed to access that entity; otherwise, permission is denied.
</p>
<p class="pBody"><a name="wp1240210"> </a>
To enable the <code class="cCode">MANDATORY_ACL</code> security level, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1240211"> </a>Set up the <code class="cCode">UBBCONFIG</code> file.</li>
<li><a name="wp1240212"> </a>Set up the ACL file.</li>
</ol></div>
<p class="pBody"><a name="wp1267423"> </a>
Instructions for these steps are provided in the following two topics.
</p>
<h4 class="pHeading3"><a name="wp1240213"> </a>
Setting Up the UBBCONFIG File
</h4>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1240214"> </a>Ensure that you are working on the ATMI application <code class="cCode">MASTER</code> machine and that the ATMI application is inactive.</li>
<li><a name="wp1240215"> </a>Open <code class="cCode">UBBCONFIG</code> with a text editor and add the following lines to the <code class="cCode">RESOURCES</code> and <code class="cCode">SERVERS</code> sections:</li>
<a name="wp1248133"> </a><div class="pPreformattedRelative"><pre>*RESOURCES<br />SECURITY &#160;&#160;MANDATORY_ACL<br />AUTHSVC &#160;&#160;&#160;..AUTHSVC<br />&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.<br />&#160;&#160;&#160;&#160;&#160;.</pre></div><a name="wp1240218"> </a><div class="pPreformattedRelative"><pre>*SERVERS<br />AUTHSVR SRVGRP=&quot;<code class="cCodeEmphasis">group_name</code>&quot; SRVID=1 RESTART=Y GRACE=600 MAXGEN=2 CLOPT=&quot;-A&quot;</pre></div><p class="pBodyRelative"><a name="wp1240219"> </a>
CLOPT=&quot;-A&quot; causes <a href="../rfcm/rfcmd.html">tmboot(1)</a> to pass only the default command-line options (invoked by &quot;-A&quot;) to <code class="cCode">AUTHSVR</code> when <code class="cCode">tmboot</code> starts the ATMI application. By default, <code class="cCode">AUTHSVR</code> uses the client user information in a file named <code class="cCode">tpusr</code> to authenticate clients that want to join the ATMI application. <code class="cCode">tpusr</code> resides in the directory referenced by the first pathname defined in the ATMI application&#8217;s <code class="cCode">APPDIR</code> variable.
</p>
<li><a name="wp1240220"> </a>Load the configuration by running <a href="../rfcm/rfcmd.html">tmloadcf(1)</a>. The <code class="cCode">tmloadcf</code> command parses <code class="cCode">UBBCONFIG</code> and loads the binary <code class="cCode">TUXCONFIG</code> file to the location referenced by the <code class="cCode">TUXCONFIG</code> variable.</li>
<li><a name="wp1240221"> </a>The system prompts you for a password. The password you enter may be up to 30 characters long. It becomes the password for the ATMI application and remains in effect until you change it by using the <code class="cCode">passwd</code> command of <code class="cCode">tmadmin</code>.</li>
<li><a name="wp1267459"> </a>Distribute the application password to authorized users of the ATMI application through an offline means such as telephone or letter.</li>
</ol></div>
<h4 class="pHeading3"><a name="wp1240223"> </a>
Setting Up the ACL File
</h4>
<p class="pBody"><a name="wp1240227"> </a>
See <a href="secadm.html#wp1240126">Setting Up the ACL File</a>.
</p>
<h3 class="pHeading2"><a name="wp1240228"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1240232"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1240236"> </a><a href="secadm.html#wp1239885">Administering Default Authentication and Authorization</a></li>
<li><a name="wp1505211"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1505261"> </a>
How to Enable Generic LDAP Based Security
</h3>
<p class="pBody"><a name="wp1505262"> </a>
Generic LDAP based security includes the user-level authentication and access control security. 
</p>
<p class="pBody"><a name="wp1505263"> </a>
With this security mechanism, authentication and authorization are performed by invoking <code class="cCode">TUXEDO &quot;..ATNSVC&quot;</code> and <code class="cCode">&quot;..ATZSVC&quot;</code> administrative services. It provides flexibility for Oracle Tuxedo user to store their security information in independent repository and access these security information from the <code class="cCode">&quot;..ATNSVC&quot;</code> and <code class="cCode">&quot;..ATZSVC&quot;</code> services. Oracle Tuxedo supplies a default implementation of <code class="cCode">XAUTHSVR</code> server which advertises these two administrative services. With this implementation, the security information, including Tuxedo user ID, password, and service access privilege, are stored in LDAP repositories. 
</p>
<p class="pBody"><a name="wp1505264"> </a>
Each client must provide a valid user name and user-specific password, to join the ATMI application. The user password must match the password stored in LDAP repositories. Each client must be granted with proper privilege before it can access Tuxedo services successfully. 
</p>
<p class="pBody"><a name="wp1505266"> </a>
To enable the LDAP based security with default <code class="cCode">XAUTHSVR</code> implementation, follow these steps.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1505267"> </a><a href="secadm.html#wp1505273">Setting Up the UBBCONFIG File</a></li>
<li><a name="wp1505268"> </a><a href="secadm.html#wp1507656">Setting Up the XAUTHSVR Server Configuration File</a></li>
<li><a name="wp1505269"> </a><a href="secadm.html#wp1506187">Setting Up the LDAP Repository</a></li>
<li><a name="wp1505270"> </a><a href="secadm.html#wp1506498">Setting Up the Authorization Cache</a></li>
</ol></div>
<p class="pBody"><a name="wp1505272"> </a>
Instructions for these steps are provided in the following topics.
</p>
<h4 class="pHeading3"><a name="wp1505273"> </a>
Setting Up the UBBCONFIG File
</h4>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1505274"> </a>Open UBBCONFIG with a text editor.</li>
<li><a name="wp1507539"> </a>In the RESOURCES section, do the following:</li>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<li><a name="wp1507686"> </a>Set the <code class="cCode">SECURITY</code> parameter to one of these values: <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code> or <code class="cCode">MANDATORY_ACL</code>.</li>
<li><a name="wp1505434"> </a>Set the <code class="cCode">OPTIONS</code> parameter to <code class="cCode">EXT_AA</code>.</li>
<li><a name="wp1507588"> </a>Do one of the following:</li>
<div class="pSmartList3Bullet"><ul class="SmartList3Bullet">
<li><a name="wp1507589"> </a>If the SECURITY parameter is set to <code class="cCode">ACL</code> or <code class="cCode">MANDATORY_ACLAUTHSVC</code>, set <code class="cCode">AUTHSVC</code> to <code class="cCode">..AUTHSVC</code>, which is the service name advertised by the <code class="cCode">XAUTHSVR</code> server.</li>
<li><a name="wp1505411"> </a>If the SECURITY parameter is set to USER_AUTH, set AUTHSVC to AUTHSVC, which is the service name advertised by the <code class="cCode">XAUTHSVR</code> server.</li>
</ul></div>
</ol></div>
<li><a name="wp1505279"> </a>Set up <code class="cCode">XAUTHSVR</code> in the <code class="cCode">SERVERS</code> section.</li>
</ol></div>
<p class="pBody"><a name="wp1505280"> </a>
The following is an example of configuration in <code class="cCode">UBBCONFIG</code>:
</p>
<a name="wp1505617"> </a><div class="pPreformatted"><pre>* RESOURCES</pre></div><a name="wp1507681"> </a><div class="pPreformatted"><pre>SECURITY &#160;&#160;&#160;&#160;ACL</pre></div><a name="wp1507682"> </a><div class="pPreformatted"><pre>AUTHSVC    ..AUTHSVC</pre></div><a name="wp1507683"> </a><div class="pPreformatted"><pre>OPTIONS&#160;&#160;&#160; &#160;&#160;&#160;EXT_AA</pre></div><a name="wp1507653"> </a><div class="pPreformatted"><pre>*SERVERS </pre></div><a name="wp1507654"> </a><div class="pPreformatted"><pre>XAUTHSVR SRVGRP=&quot;group_name&quot; SRVID=1 RESTART=Y </pre></div><h4 class="pHeading3"><a name="wp1507656"> </a>
Setting Up the XAUTHSVR Server Configuration File
</h4>
<p class="pBody"><a name="wp1507644"> </a>
<code class="cCode">XAUTHSVR</code> server configuration file is used for <code class="cCode">XAUTHSVR</code> to locate the LDAP repository. By default, the configuration file named <code class="cCode">tpldap.xauth</code> resides in <code class="cCode">$TUXDIR/udataobj</code> directory. You can specify a customized location with &quot;-f&quot; option to <code class="cCode">XAUTHSVR</code> server. <code class="cCode">XAUTHSVR</code> server allows you to store your authentication and authorization information in separate LDAP repositories. You can specify an ATN configuration file with &quot;-n&quot; option and &quot;-z&quot; option respectively. All these configuration files share the same format.
</p>
<p class="pBody"><a name="wp1505701"> </a>
<a href="secadm.html#wp1505771">Table&#160;2-3</a> defines the <code class="cCode">XAUTHSVR</code> configuration file keywords.
</p>
<p class="pGraphic"><a name="wp1505702"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1505771table1505769"><caption><a name="wp1505771"> </a>
Table 2-3  XAUTHSVR Configuration File Keywords

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1505777"> </a>
Keyword
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1505779"> </a>
Value Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1505781"> </a>
Usage
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505783"> </a>
FILE_VERSION
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505785"> </a>
numeric 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505787"> </a>
The configuration file version. The default is 1. This should remains in 1.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505789"> </a>
LDAP_VERSION
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505791"> </a>
numeric 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505793"> </a>
The LDAP protocol version. Valid values are 2 and 3. The default is 3. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505795"> </a>
BINDDN
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505797"> </a>
string 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506027"> </a>
The DN used to bind to an LDAP server. Usually the DN represents a LDAP administrator. The default is &quot;<code class="cCode">cn=Admin</code>&quot;. 
</div>
<div class="pCellBody"><a name="wp1506028"> </a>
The <code class="cCode">tpldapconf</code> command can be used to create B<code class="cCode">INDDN</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505801"> </a>
BASE
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505803"> </a>
string 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505805"> </a>
LDAP search base. The default is &quot; <code class="cCode">ou=people,ou=aa,dc=mydomain</code>&quot;, where <code class="cCode">mydomain</code> is the root node of the authentication or authorization security repository. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505807"> </a>
PASSWORD
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505809"> </a>
string 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506073"> </a>
The password for bind DN. This is a required keyword and the password is encrypted in clear text. 
</div>
<div class="pCellBody"><a name="wp1506074"> </a>
The <code class="cCode">tpldapconf</code> command can be used to create the encrypted password.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505813"> </a>
LDAP_ADDR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505815"> </a>
string 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505817"> </a>
A comma-separated list of LDAP address containing hostnames and ports. The syntax is <code class="cCode">[//]hostname[:port]</code>. The default value for port is 7001. If <code class="cCode">LDAP_ADDR</code> is not specified, <code class="cCode">XAUTHSVR</code> regards <code class="cCode">localhost:7001</code> as the location to contact the LDAP server. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505819"> </a>
UID_KW
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505821"> </a>
string 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505823"> </a>
The keyword used in user unique identification search in the authentication security repository. The default value is &quot;<code class="cCode">uid</code>&quot;.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505825"> </a>
PWD_KW
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505827"> </a>
string 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505829"> </a>
The keyword used in user password search in the authentication security repository. The default value is &quot;<code class="cCode">userPassword</code>&quot;.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505831"> </a>
MEMBEROF_KW
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1505833"> </a>
string 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506129"> </a>
The keyword used in group membership search. The default value is &quot;<code class="cCode">memberof</code>&quot;.
</div>
<div class="pCellBody"><a name="wp1506130"> </a>
Different LDAP servers use different key name to identify the user&#39;s group membership. When using OVD with virtual member plugin enabled, the keyword is &quot;<code class="cCode">memberof</code>&quot;.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1506187"> </a>
Setting Up the LDAP Repository
</h4>
<p class="pBody"><a name="wp1506188"> </a>
The security information in the LDAP repository follows below schema.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1506189"> </a><code class="cCodeBold">inetOrgPerson</code>: This object class holds the entries that represent people. The definition follows RFC 4519 &amp; 2798 standard except that the attribute &quot;<code class="cCode">uid</code>&quot; length is limited to up to 30 characters. Each Oracle Tuxedo user is saved as an entry in this class. The information including user identification and user password is used for user-level authentication.</li>
<li><a name="wp1506190"> </a><code class="cCodeBold">groupOfUniqueNames</code>: This object classes holds the entries that represents a set of named objects including the information relevant to purpose or maintenance of the set. The definition follows RFC 4519 standard. This class groups a list of users that can be granted with certain sort of permissions. Groups can be nested. The permission granted to a parent group also applies to its child groups.</li>
<li><a name="wp1506191"> </a><code class="cCodeBold">Orcljaznpermission</code>: This object class holds the tuxedo permission object consisting of the attributes shown in <a href="secadm.html#wp1506243">Table&#160;2-4</a>. This object consists of two parts. One is the permission, which describes the resource types, target resource, and actions on the target resource. The other is the assigned groups or users, which are granted with this permission. </li>
</ul></div>
<p class="pBody"><a name="wp1506192"> </a>
<a href="secadm.html#wp1506243">Table&#160;2-4</a> defines the <code class="cCode">orcljaznpermission</code> class attributes.
</p>
<p class="pGraphic"><a name="wp1505704"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1506243table1506241"><caption><a name="wp1506243"> </a>
Table 2-4  orcljaznpermission Class Attributes

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1506251"> </a>
Attribute
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1506253"> </a>
Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1506255"> </a>
Constraints
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1506257"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506259"> </a>
Cn
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506261"> </a>
String:
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506263"> </a>
Single-valued, unique, required
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506265"> </a>
Permission name
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506267"> </a>
Displayname
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506269"> </a>
String:
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506271"> </a>
String:
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506273"> </a>
Display name
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506275"> </a>
Description
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506277"> </a>
String:
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506279"> </a>
String:
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506281"> </a>
Description
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506283"> </a>
OrclJpsResourceTypeName
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506285"> </a>
String:
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506287"> </a>
Single valued
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506289"> </a>
Type name of the resource to be protected. To define a Tuxedo service, this attribute should be specified to &quot;<code class="cCode">SERVICE</code>&quot;.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506291"> </a>
Orcljaznpermissiontarget
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506293"> </a>
String:
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506295"> </a>
Single valued
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506297"> </a>
Name of the resource to be protected. To define a Tuxedo service, this attribute should be specified as the service name.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506299"> </a>
Orcljaznpermissionactions
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506301"> </a>
String:
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1506303"> </a>
Single valued
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1507210"> </a>
List of the assigned actions, separated by comma.
</div>
<div class="pCellBody"><a name="wp1506474"> </a>
To define a Tuxedo service, this attribute should be specified to &quot;<code class="cCode">EXECUTE</code>&quot;.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1506498"> </a>
Setting Up the Authorization Cache
</h4>
<p class="pBody"><a name="wp1507228"> </a>
In order to improve ATZ performance, the new ATZ mechanism introduces a roll-up cache, in which privileges of specific user identifiers are stored, to every Tuxedo server. To meet various ATZ requirements, the cache is configurable and flexible at each Tuxedo server level.
</p>
<p class="pBody"><a name="wp1506500"> </a>
Three environment variables control the basic behaviors of the cache. After defining an ENVFILE parameter for a specific server entry in TUXCONFIG, these environment variables can be defined for each Tuxedo server entry in the <code class="cCode">SERVERS</code> section in <code class="cCode">UBBCONFIG</code>.
</p>
<h4 class="pDefTerm"><a name="wp1506501"> </a>
TMATZPRIVILEGEMAX
</h4><div class="pDefPara"><a name="wp1506502"> </a>
It specifies the maximum number of privileges entries. When the privileges number in the cache reaches this threshold, the new entry replaces an old one. Remaining time-to-live of privileges is evaluated for Tuxedo to choose the &quot; most useless&quot; entry in the ATZ cache.  If this environment variable is set to 0, ATZ cache in Tuxedo server is disabled and all ATZ requests are dispatched to ATZ service. If this environment variable is not defined explicitly, the default value is 100. The valid value range is from 0 to 32767. The size of one privilege entry in the ATZ cache is 50 bytes or so.
</div>
<h4 class="pDefTerm"><a name="wp1506503"> </a>
TMATZRESOURCEMAX
</h4><div class="pDefPara"><a name="wp1506504"> </a>
It specifies the maximum number of resource entries which can be allocated for a specific Tuxedo Server. When the resource number in the cache reaches this threshold, both the resource and new privilege are not added into the cache and the subsequent access requests to the resource are routed to the ATZ server until an available resource slot is found. Tuxedo keeps a reference number to each resource entry occupied by the cached privileges. When no privilege occupies the specific resource entry, it will be cleared from the cache. 
<a name="wp1506505"> </a>
If this environment variable is not defined explicitly, the value is set to the current number of advertised services. Meanwhile, the value of <code class="cCode">TMATZPRIVILEGEMAX</code> must be set bigger than or equal to the value of <code class="cCode">TMATZRESOURCEMAX</code>, otherwise <code class="cCode">TMATZPRIVILEGEMAX</code> will be set to the equal value of <code class="cCode">TMATZRESOURCEMAX</code>.
<a name="wp1506506"> </a>
The valid value range is from 0 to 32767. The size of one resource entry in the ATZ cache is 148 bytes or so.
<a name="wp1506507"> </a>
If this environment variable is set to 0, the ATZ cache in Tuxedo server is disabled and all ATZ requests are dispatched to ATZ service.
</div>
<h4 class="pDefTerm"><a name="wp1506508"> </a>
TMATZEXP
</h4><div class="pDefPara"><a name="wp1507383"> </a>
It specifies the maximum lifetime of a specific privilege in minutes. When the lifetime of a privilege reaches this threshold, the privilege is removed from the cache. If this environment variable of a Tuxedo server is set to 0, all privileges stored in the Tuxedo server have infinite lifetime and never expire. If this environment variable is not defined explicitly, the default value is 10. The valid value range is from 0 to 525600. 525600 indicates the privilege life in cache is 1 year.
<a name="wp1506511"> </a>
The following sample demonstrates how to calculate the total memory size occupied by an ATZ cache in a specific Tuxedo server.
<a name="wp1506512"> </a>
Suppose there is a server accessing 10 /Q message queues, which correspond to 10 resource entries, and there are 100 potential users invoking services of this server, so we assume <code class="cCode">TMATZRESOURCE</code> value is 10 and <code class="cCode">MAX TMATZPRIVILEGEMAX</code> value is 1000.
<a name="wp1506514"> </a>
According to the occupied memory size formula:  [Max resource entry] * [Resource entry size] + [Max privilege entry]*[privilege entry size]
<a name="wp1506515"> </a>
the result of above case is:
</div>
<div class="pDefParaCont"><a name="wp1507404"> </a>
(10*148 + 1000*50)= 51480 (51 KB)
</div>
<h3 class="pHeading2"><a name="wp1506658"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1506659"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1506663"> </a><a href="secadm.html#wp1239885"><span class="cHyperlink">
Administering Default Authentication and Authorization on page&#160;2-61</span></a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1506493"> </a>
Using the Kerberos Authentication Plug-in
</h2><p class="pBody"><a name="wp1505214"> </a>
Kerberos is a network authentication protocol. It is designed to provide strong authentication for client/server applications by using secret-key cryptography. The Kerberos authentication protocol provides a mechanism for mutual authentication between a client and a server, or between one server and another, before opening a network connection between them. The protocol assumes that initial transactions between clients and servers take place on an open network where most computers are not physically secure. It also assumes that packets traveling along the network can be monitored and modified at will.
</p>
<p class="pBody"><a name="wp1471608"> </a>
After using Kerberos to prove the identity of a client and server, their communications can be encrypted to ensure privacy and data integrity. Refer to the <a href="secadm.html#wp1471435">See Also</a> section for more information about Kerberos.
</p>
<p class="pBody"><a name="wp1473134"> </a>
The following sections describe the Kerberos authentication plug-in feature included in Tuxedo:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1473138"> </a><a href="secadm.html#wp1473144">Kerberos Plug-In</a></li>
<li><a name="wp1473570"> </a><a href="secadm.html#wp1472868">Kerberos Plug-In Pre-configuration</a></li>
<li><a name="wp1473142"> </a><a href="secadm.html#wp1471355">Kerberos Plug-In Configuration</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1473144"> </a>
Kerberos Plug-In
</h2><p class="pBody"><a name="wp1473530"> </a>
Tuxedo provides a general security framework that can be customized. This framework is further enhanced with the inclusion of a Kerberos plug-in.
</p>
<h3 class="pHeading2"><a name="wp1473146"> </a>
Kerberos Supported Platforms
</h3>
<p class="pBody"><a name="wp1473147"> </a>
Currently the Kerberos plug-in supports the following platforms:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1473148"> </a>Microsoft Kerberos bundled with Windows 2000/2003 server</li>
<li><a name="wp1473149"> </a>Kerberos V systems on HP-UX(PA-RISC) provided by HP</li>
<li><a name="wp1473150"> </a>Kerberos V systems on Solaris 9 (SPARC) provided by Sun Microsystems </li>
</ul></div>
<h3 class="pHeading2"><a name="wp1473168"> </a>
Kerberos Plug-in Features
</h3>
<p class="pBody"><a name="wp1473169"> </a>
The Kerberos Plug-in is a dynamic library that must be registered into the Tuxedo system, and a Kerberos authentication server (<a href="../rf5/rf5.html">KAUTHSVR(5)</a>). The Tuxedo implementation of the Kerberos plug-in supports the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1473170"> </a>Authentication between Tuxedo native client and server</li>
<li><a name="wp1473171"> </a>Full support of Tuxedo ACL security mechanism</li>
</ul></div>
<a name="wp1473172"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Authentication between the security protocols of Tuxedo workstation client and workstation handler, authentication between two domain gateways and CORBA components are not supported.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1472868"> </a>
Kerberos Plug-In Pre-configuration
</h2><p class="pBody"><a name="wp1472869"> </a>
To use Kerberos authentication, you must make sure the following system requirements are set up properly:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1472870"> </a>Supported systems run well with the correct Kerberos settings</li>
<li><a name="wp1472871"> </a>User/service accounts are set correctly</li>
<li><a name="wp1472872"> </a>The Kerberos authentication server key table is created correctly on UNIX</li>
<li><a name="wp1472873"> </a>Kerberos interoperability between UNIX and Windows is set correctly and verified if a heterogeneous (UNIX/Windows mixed) environment is needed.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1471355"> </a>
Kerberos Plug-In Configuration
</h2><p class="pBody"><a name="wp1471356"> </a>
This section provides configuration information to get the Kerberos plug-in set up and running.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1471364"> </a><a href="secadm.html#wp1471382">Configure the Kerberos Plug-in</a></li>
<li><a name="wp1471368"> </a><a href="secadm.html#wp1471408">Configure KAUTHSVR</a></li>
<li><a name="wp1471372"> </a><a href="secadm.html#wp1471426">Configure Tuxedo Native Client</a></li>
</ol></div>
<p class="pBody"><a name="wp1471373"> </a>
Each of these steps are explained in more detail in the subsections that follow.
</p>
<h3 class="pHeading2"><a name="wp1471382"> </a>
Configure the Kerberos Plug-in
</h3>
<p class="pBody"><a name="wp1473229"> </a>
You must first register the Kerberos plug-in on UNIX and Windows platforms. 
</p>
<p class="pBody"><a name="wp1471746"> </a>
The Kerberos plug-in must be configured using the EPIF commands <code class="cCode">epifreg</code> and <code class="cCode">epifregedt</code>. These commands will automatically add the plug-in to the Tuxedo registry in UNIX and Windows. For example:
</p>
<div class="pCodeTitle"><a name="wp1471384"> </a>
Listing&#160;2-1	   UNIX Registration
</div> <a name="wp1471385"> </a><div class="pPreformatted"><pre>epifreg -r -p krb5/atn -i engine/security/authentication -o SYSTEM -v 1.0 \<br />-f $TUXDIR/lib/libkrb5atn.so \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-e krb5_plugin_entry \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-u KRB5_CONFIG=/etc/krb5.conf \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-u KRB5_KDC=/etc/krb5.kdc\<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-u KAUTHSVRPRINC=&quot;krbauth@host.yourcomany.com&quot;<br />epifregedt -s -k SYSTEM/interfaces/engine/security/authentication \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-a Selector=native/security/authentication \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-a native/security/authentication=krb5/atn</pre></div><div class="pCodeTitle"><a name="wp1471387"> </a>
Listing&#160;2-2	   Windows Registration
</div> <a name="wp1471388"> </a><div class="pPreformatted"><pre>epifreg -r -p krb5/atn -i engine/security/authentication -o SYSTEM -v 1.0 \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-f %TUXDIR%\bin\libkrb5atn.dll \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-e krb5_plugin_entry \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-u KAUTHSVRPRINC=&quot;krbauth/host.yourcomany.com@REALM&quot;<br />epifregedt -s -k SYSTEM/interfaces/engine/security/authentication \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-a Selector=native/security/authentication \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-a native/security/authentication=krb5/atn</pre></div><a name="wp1473269"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>On a Windows platform, the plug-in <code class="cCode">KRB5_CONFIG</code> and <code class="cCode">KRB5_KDC</code> parameters are not required. These parameters are used on a UNIX platform to locate the Kerberos-related configuration files. <code class="cCode">KAUTHSVRPRINC</code> specifies the principal name for the <code class="cCode">KAUTHSVR</code> server and Tuxedo clients use it as the server principal name. </td></tr>
</table>

<a name="wp1473261"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>On UNIX platforms, the GSS format is used. Because Microsoft does not support standard GSS name representation, the <code class="cCode">KAUTHSVRPRINC</code> parameter must be given a complete Kerberos realm name.</td>
</tr>
</table>
<a name="wp1471391"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The name format is illustrated as follows:</td>
</tr>
</table>
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1471392"> </a>A UNIX Tuxedo client must use GSS format to access <code class="cCode">KAUTHSVR</code>.</li>
<li><a name="wp1472053"> </a>A WindowsTuxedo client always uses the <em class="cEmphasis">complete Kerberos realm name</em> to access <code class="cCode">KAUTHSVR</code>.</li>
</ul></div>
<a name="wp1472054"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td><code class="cCode">KAUTHSVRPRINC</code> can also be set as an environment variable.</td>
</tr>
</table>
<h4 class="pHeading3"><a name="wp1471395"> </a>
Restore Default Plug-in
</h4>
<p class="pBody"><a name="wp1471396"> </a>
The following commands restore the plug-in to its default state.
</p>
<div class="pCodeTitle"><a name="wp1471398"> </a>
Listing&#160;2-3	   Restore Default Plug-In Settings
</div> <a name="wp1471399"> </a><div class="pPreformatted"><pre>epifreg -r -p bea/native/atn \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-i engine/security/authentication \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;-v 1.0 -f libtux.so -e _ep_dl_atnlcl<br />epifregedt -s -k SYSTEM/interfaces/engine/security/authentication \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-a Selector=native/security/authentication \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-a native/security/authentication=bea/native/atn</pre></div><a name="wp1471406"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>In <a href="secadm.html#wp1471398">Listing&#160;2-3</a>, <code class="cCode">libtux.so</code> is used as an example. You must use the file name <code class="cCode">libtux</code> plus your <span style="font-style: italic">platform specific </span>dynamic library extension.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1471408"> </a>
Configure KAUTHSVR
</h3>
<p class="pBody"><a name="wp1471409"> </a>
<code class="cCode">KAUTHSVR</code> is a Tuxedo server located in <code class="cCode">TUXDIR/bin</code> directory and must be manually configured in the <code class="cCode">UBBCONFIG</code> file. <code class="cCode">KAUTHSVR</code> authenticates client identity by validating the client security token. It addresses the Tuxedo ACL mechanism when the security level is set above <code class="cCode">&quot;USER_AUTH&quot;</code> in the <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1471412"> </a>
The following are examples of how <code class="cCode">KAUTHSVR</code> is configured in the <code class="cCode">UBBCONFIG</code> file for both UNIX and Windows:
</p>
<div class="pCodeTitle"><a name="wp1471413"> </a>
Listing&#160;2-4	   UNIX UBBCONFIG KAUTHSVR Configuration
</div> <a name="wp1471414"> </a><div class="pPreformatted"><pre>*RESOURCES<br />IPCKEY                  66666<br />MASTER                  SITE1<br />MODEL                   MP<br /><br />SECURITY       MANDATORY_ACL<br /><br />*SERVERS<br /><br />KAUTHSVR SRVGRP=SECGRP SRVID=100 GRACE=0 MAXGEN=2 CLOPT=&quot;-A -- -k /etc/krbauth.kt -p krbauth@host.yourcomany.com&quot;</pre></div><a name="wp1471416"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The <code class="cCode">-k</code> option allows you to provide the <code class="cCode">KAUTHSVR</code> Kerberos key table file location.</td></tr>
</table>

<a name="wp1471970"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The <code class="cCode">-p</code> option indicates <code class="cCode">KAUTHSVR</code> principal name.</td>
</tr>
</table>
<a name="wp1471966"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td><code class="cCode">KAUTHSVR</code> running on UNIX platforms must use the GSS format.</td>
</tr>
</table>
<div class="pCodeTitle"><a name="wp1471417"> </a>
Listing&#160;2-5	   Windows UBBCONFIG KAUTHSVR Configuration
</div> <a name="wp1478206"> </a><div class="pPreformatted"><pre>*RESOURCES<br />IPCKEY                  66666<br />MASTER                  SITE1<br />MODEL                   MP<br /><br />SECURITY       MANDATORY_ACL<br /><br />*SERVERS<br /><br />KAUTHSVR SRVGRP=GROUP3 SRVID=100 GRACE=0 MAXGEN=2<br />SEC_PRINCIPAL_NAME=&quot;kauthsvc&quot; SEC_PRINCIPAL_PASSVAR=test CLOPT=&quot;-A -- -p<br />krbauth/host.yourcomany.com@REALM&quot;</pre></div><a name="wp1471976"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The <code class="cCode">-p</code> option indicates <code class="cCode">KAUTHSVR</code> principal name. </td></tr>
</table>

<a name="wp1472000"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Instead of using the <code class="cCode">-k</code> option, Windows platforms must use the following two arguments:</td>
</tr>
</table>
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1471421"> </a><code class="cCode">SEC_PRINCIPAL_NAME</code> represents <code class="cCode">KAUTHSVR</code>, it does not represent the server principal name (which is represented by the -p option).</li>
<li><a name="wp1471995"> </a><code class="cCode">SEC_PRINCIPAL_PASSVAR</code> is the internal password variable. It is not the <span style="font-style: italic">true</span> password that is required when <code class="cCode">tmloadcf</code> creates the <code class="cCode">TUXCONFIG</code> file. The <code class="cCode">tmloadcf</code> password input must be same as the <code class="cCode">KAUTHSVR</code> account password in a Windows domain.</li>
</ul></div>
<a name="wp1471997"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td><code class="cCode">KAUTHSVR</code> running on Windows platform must use the <em style="font-style: italic" class="cEmphasis">complete </em><span style="font-style: normal">Kerberos realm name</span>.</td>
</tr>
</table>
<h3 class="pHeading2"><a name="wp1471426"> </a>
Configure Tuxedo Native Client
</h3>
<p class="pBody"><a name="wp1471427"> </a>
To use the Tuxedo native client with Kerberos enabled, you must first obtain a valid <code class="cCode">TGT</code> from the <code class="cCode">KDC</code> using <code class="cCode">kinit</code> or other similar commands. 
</p>
<p class="pBody"><a name="wp1471428"> </a>
No programming APIs are required. Also, if <code class="cCode">USER_AUTH</code> is specified, the Tuxedo user name is not required in the <code class="cCode">tpusr</code> file. However, a user name is required for <code class="cCode">ACL</code> and <code class="cCode">MANDATORY_ACL</code> security level.
</p>
<h3 class="pHeading2"><a name="wp1471429"> </a>
Limitations
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1473282"> </a>Kerberos Plug-In only works on systems where the plug-in is installed and registered to Tuxedo through <code class="cCode">epif*</code> commands. If the Tuxedo administrator does not register the <code class="cCode">libkrb5atn</code> to Tuxedo, the default plug-in still works and the default Tuxedo security mechanism takes effect. <code class="cCode">KAUTHSVR</code> supports full function of <code class="cCode">AUTHSVR</code> in addition to Kerberos authentication.</li>
<li><a name="wp1473283"> </a>Even if the Kerberos plug-in is configured on a system running WSH, the workstation clients connected to this system use the Tuxedo default security mechanism. This is because the protocol between workstation client and WSH is not affected using this feature.</li>
<li><a name="wp1473284"> </a>Although CORBA native clients can take advantage of Kerberos support, we do <em class="cEmphasis">not</em> support CORBA remote clients using Kerberos. ISH will report an error when the Kerberos plug-in is installed.</li>
</ul></div>
<a name="wp1473285"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Authentication between the security protocols of Tuxedo workstation client and workstation handler, authentication between two domain gateways and CORBA components are not supported.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1471435"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1471436"> </a><a href="../rf5/rf5.html">KAUTHSVR(5)</a></li>
<li><a name="wp1472214"> </a><a href="http://web.mit.edu/kerberos/www/">Kerberos Introduction from MIT (tap://web.mit.edu/kerberos/wow/)</a></li>
<li><a name="wp1472215"> </a>Microsoft White Papers and Guide for Kerberos (tap://www.microsoft.com/windows2000/technologies/security/kerberos/default.asp)</li>
<li><a name="wp1471440"> </a>RFC 1510, Kerberos protocol (tap://www.ietf.org/raft/rfc1510.txt)</li>
<li><a name="wp1471441"> </a>RFC 2743, GSSAPI (tap://www.ietf.org/raft/rfc2743.txt)</li>
<li><a name="wp1471442"> </a>RFC 1509, GSSAPI, c-bindings.(http://www.ietf.org/raft/rfc1509.txt)</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1472034"> </a>
Using the Cert-C PKI Encryption Plug-in
</h2><p class="pBody"><a name="wp1474109"> </a>
The Cert-C based PKI (public key infrastructure) plug-in utilizes the public key encryption algorithm to provide you with the ability to:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1477225"> </a>sign - assign a signature to a Tuxedo typed buffer</li>
<li><a name="wp1477226"> </a>seal - encrypt a Tuxedo typed buffer, and </li>
<li><a name="wp1477227"> </a>envelope - provide access to the user signature and encryption information associated with the Tuxedo typed buffer</li>
</ul></div>
<p class="pBody"><a name="wp1475727"> </a>
The following sections describe the Cert-C PKI encryption feature included in Tuxedo:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1475731"> </a><a href="secadm.html#wp1474002">Cert-C PKI Encryption Plug-In</a></li>
<li><a name="wp1475697"> </a><a href="secadm.html#wp1474649">Cert-C PKI Encryption Plug-In Pre-configuration</a></li>
<li><a name="wp1475701"> </a><a href="secadm.html#wp1474018">Cert-C PKI Encryption Plug-In Configuration</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1474002"> </a>
Cert-C PKI Encryption Plug-In
</h2><p class="pBody"><a name="wp1474003"> </a>
The Tuxedo Cert-C PKI encryption plug-in plug-in uses LDAP version 2 or higher as the storage mechanism for the publicly accessible user certificates. LDAP is a commonly used and deployed network directory service.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1474649"> </a>
Cert-C PKI Encryption Plug-In Pre-configuration 
</h2><p class="pBody"><a name="wp1473930"> </a>
To use the Tuxedo Cert-C PKI encryption plug-in, you must make sure of the following system requirements:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1472855"> </a>Access to a configured LDAP server</li>
<li><a name="wp1474017"> </a>User certificates stored in the LDAP are entered in the following format: <code class="cCode">cn=user name</code></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1474018"> </a>
Cert-C PKI Encryption Plug-In Configuration
</h2><p class="pBody"><a name="wp1472428"> </a>
To use this plug-in, you must run a command script to configure Tuxedo in order to use this plug-in as the default PKI plug-in.
</p>
<p class="pBody"><a name="wp1473834"> </a>
The Tuxedo Cert-C plug-in utilizes four interface groups in the Tuxedo Security PIF and is configured using PIF registry commands. The required interface groups are:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1472894"> </a><a href="secadm.html#wp1472493">Configure Certificate Lookup</a></li>
<li><a name="wp1472895"> </a><a href="secadm.html#wp1475769">Configure Key Management</a></li>
<li><a name="wp1472896"> </a><a href="secadm.html#wp1472467">Configure Certificate Parsing</a> </li>
<li><a name="wp1472897"> </a><a href="secadm.html#wp1472468">Configure Certificate Validation</a></li>
</ul></div>
<p class="pBody"><a name="wp1473996"> </a>
In the Tuxedo environment, only user names are available in the plug-in at runtime. In order to get the proper search information, it assumes that a certificate stored in the LDAP with a <code class="cCode">cn=user name</code> entry is a Tuxedo user name.
</p>
<h3 class="pHeading2"><a name="wp1472493"> </a>
Configure Certificate Lookup
</h3>
<p class="pBody"><a name="wp1472902"> </a>
This interface group expects a user certificate to be located on an LDAP server and it has access permission to read these certificates. The certificate lookup interface has four parameters that must be configured. The parameters are described as follows:
</p>
<h4 class="pDefTerm"><a name="wp1472903"> </a>
<code class="cCode">ldapUserCertificate</code>
</h4><div class="pDefPara"><a name="wp1472904"> </a>
LDAP server configuration parameter that identifies where the plug-in can obtain user certificates. The network address for the LDAP host is specified in this parameter as a string variable. It also contains the TCP LDAP port number. The syntax of this parameter is <code class="cCode">LDAP:URL</code>. For example:
</div>
<div class="pDefParaCont"><a name="wp1472905"> </a>
<code class="cCode">ldapUserCertificate=ldap://sagamore:389</code>
<a name="wp1472906"> </a>
This example tells the Cert-C plug-in that the LDAP server is located on a machine called &#8220;sagamore&#8221;, and it is listening on port 389.
</div>
<h4 class="pDefTerm"><a name="wp1472918"> </a>
<code class="cCode">ldapBaseObject</code>
</h4><div class="pDefPara"><a name="wp1472919"> </a>
LDAP server configuration parameter that identifies the base DN where the LDAP search should start. For example:
</div>
<div class="pDefParaCont"><a name="wp1472920"> </a>
<code class="cCode">ldapBaseObject=&quot;ou=Engineer Test,o=ABC Company,c=US&quot;</code>
<a name="wp1472921"> </a>
This example initiates a search from the directory information tree &quot;<code class="cCode">ou=Engineer Test</code>, <code class="cCode">o=ABC Company</code>, <code class="cCode">c=US&quot;</code>
</div>
<h4 class="pDefTerm"><a name="wp1472922"> </a>
<code class="cCode">ldapFilterAttribute</code>
</h4><div class="pDefPara"><a name="wp1477418"> </a>
LDAP server configuration parameter that identifies the search filter used in an LDAP search when retrieving a certificate by subject name. This parameter is a string variable and follows the same syntax as <code class="cCode">ldapBaseDNAttribute</code>. For example:
</div>
<div class="pDefParaCont"><a name="wp1472923"> </a>
<code class="cCode">ldapFilterAttribute=&quot;cn&quot;</code>
<a name="wp1472925"> </a>
This example tells the Cert-C plug-in to use <code class="cCode">&quot;cn&quot;</code> as a filter.
</div>
<h4 class="pDefTerm"><a name="wp1474237"> </a>
<code class="cCode">ldapBaseDNAttribute</code>
</h4><div class="pDefPara"><a name="wp1477438"> </a>
LDAP server configuration parameter that is used in an LDAP search to build the base DN. This parameter is a string variable consisting of a comma-separated list of DN attributes, such as c, o. An optional blank space can follow the commas. For example:
</div>
<div class="pDefParaCont"><a name="wp1474238"> </a>
<code class="cCode">ldapBaseDNAttribute=&quot;c</code>, <code class="cCode">o</code>, <code class="cCode">ou</code>, <code class="cCode">cn&quot;</code>
<a name="wp1474240"> </a>
This example tells the Cert-C plug-in to use the <code class="cCode">&quot;c&quot;</code>, <code class="cCode">&quot;o&quot;</code>, <code class="cCode">&quot;ou&quot;</code>, <code class="cCode">&quot;cn&quot;</code> attributes when constructing the DN for a search.
</div>
<h5 class="pHeading4"><a name="wp1500689"> </a>
OpenLDAP for X.509 Certificate Lookup
</h5>
<p class="pBody"><a name="wp1500690"> </a>
To enable OpenLDAP for X.509 certificate lookup, execute the command shown in <a href="secadm.html#wp1500670">Listing&#160;2-6</a> to modify Tuxedo PKI plug-in information:
</p>
<div class="pCodeTitle"><a name="wp1500670"> </a>
Listing&#160;2-6	   OpenLDAP Command
</div> <a name="wp1500710"> </a><div class="pPreformatted"><pre><code class="cCode">epifreg -r -p security/BEA/certificate_lookup -i engine/security/certificate_lookup -v 1.0 -f &#39;libplugin.&lt;suffix&gt;&#39; -e _ep_dl_certlookup -u userCertificateLdap=ldap:/&lt;ldap_host_name&gt;:&lt;ldap_port&gt;/ -u ldapBaseObject=&#39;&lt;your_ldap_base&gt;&#39; -u binaryCertificate=&#39;YES&#39;.</code></pre></div><p class="pBody"><a name="wp1500429"> </a>
Where:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1500581"> </a><code class="cCode">&lt;suffix&gt;</code> is the proper suffix for the shared library ( for example, <code class="cCode">libplugin.dll </code>for Windows, and<code class="cCode"> libplugin.so.71</code> for Solaris). </li>
<li><a name="wp1500582"> </a><code class="cCode">ldap_host_name</code> is the name of the host where the LDAP server is running</li>
<li><a name="wp1500583"> </a><code class="cCode">ldap_port</code> is the LDAP server port number (for example, <code class="cCode">userCertificateLdap=ldap:/cerebrum:389/)</code>.</li>
<li><a name="wp1500434"> </a><code class="cCode">your_ldap_base</code> is the base of your LDAP DIT (for example, <code class="cCode">ldapBaseObject=&#39;ou=Accounting,o=ABC Company,c=US&#39;)</code></li>
</ul></div>
<a name="wp1500437"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You may also need to modify the <code class="cCode">bea_ldap_filter.dat</code> file which is located in <code class="cCode">$TUXDIR/udataobj/security</code>. </td>
</tr>
</table>

<p class="pBody"><a name="wp1500555"> </a>
<a href="secadm.html#wp1500440">Listing&#160;2-7</a> displays a filter example.
</p>
<div class="pCodeTitle"><a name="wp1500440"> </a>
Listing&#160;2-7	   Filter Example
</div> <a name="wp1500535"> </a><div class="pPreformatted"><pre>&quot;BEA_person_lookup&quot;<br />&#160;&#160;&#160;&#160;&quot;.*&#39; 	&#160;&#160;&#160;&#160;&quot; &quot; &quot;(|(objectClass=inetOrgPerson)(cn=%v))&quot;					 &quot;username&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;(|(objectClass=inetOrgPerson) (cn=%v*))&quot; &quot;start of <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;username&quot;<br /><br />&quot;BEA_issuer_lookup&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;.*&quot;	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &quot; <br />&quot;(&amp;(objectClass=certificationAuthority)(cn=%v)(sn=%v))&quot;	 &quot;exact match on <br />sn, cn&quot;</pre></div><h3 class="pHeading2"><a name="wp1475769"> </a>
Configure Key Management
</h3>
<p class="pBody"><a name="wp1475770"> </a>
The location of the private key is the only configuration parameter that must be specified for key management interface.
</p>
<h4 class="pHeading3"><a name="wp1472983"> </a>
decPassword
</h4>
<p class="pBody"><a name="wp1477461"> </a>
Optional parameter. It is a string variable that gives the Cert-C PKI encryption plug-in the password to decrypt the private key wrapped in encrypted private key information format. For example:
</p>
<p class="pBody"><a name="wp1477489"> </a>
<code class="cCode">decPassword=&quot;abc123&quot;</code>
</p>
<p class="pBody"><a name="wp1477490"> </a>
The plug-in assumes the private key information file follows the <code class="cCode">&quot;&lt;subject_name&gt;.epk&quot;</code> naming scheme.
</p>
<a name="wp1474918"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">decPassword</code> and <code class="cCode">privateKeyDir</code> can be overridden by using the <a href="../rf3c/rf3c.html">tpkey_open(3c)</a> <code class="cCode">identity_proof</code> and <code class="cCode">location</code> parameters.</td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1472994"> </a>
privateKeyDir
</h4>
<p class="pBody"><a name="wp1472995"> </a>
A string variable parameter in file URL format. It indicates the default location of the private key. For example:
</p>
<p class="pBody"><a name="wp1472996"> </a>
<code class="cCode">privateKeyDir=file:///c:\home\certs\</code>
</p>
<p class="pBody"><a name="wp1472997"> </a>
This example tells the Cert-C PKI encryption plug-in to look for a private key in the <code class="cCode">c:\home\certs </code>directory. The private key can be a binary file that conforms with PKCS #8. It must have a <code class="cCode">.pvt</code> or <code class="cCode">.epk</code> extension. 
</p>
<p class="pBody"><a name="wp1474947"> </a>
If the password is given in the <code class="cCode">&quot;decPassword&quot;</code> path or <code class="cCode">tpkey_open(..., identity_proof, ...)</code>, then the <code class="cCode">.epk</code> file will be searched first, if not found then it will try <code class="cCode">.pvt</code> file. If the password is not given in the <code class="cCode">&quot;decPassword&quot;</code> path or <code class="cCode">tpkey_open(..., identity_proof, ...)</code>, then only<code class="cCode"> .pvt</code> file is searched.
</p>
<h3 class="pHeading2"><a name="wp1472467"> </a>
Configure Certificate Parsing
</h3>
<p class="pBody"><a name="wp1472491"> </a>
No special configuration parameter is needed to utilize the certificate parsing interface. It is initialized automatically.
</p>
<a name="wp1477517"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Certificates must be X.509-compatible in DER format.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1472468"> </a>
Configure Certificate Validation
</h3>
<p class="pBody"><a name="wp1473046"> </a>
This interface group allows the Cert-C PKI encryption plug-in to examine a certificate and to determine its validity based on trusted certificate authorities, chains of trust, certificate revocation list. There are two configuration parameters associated wither certificate validation:
</p>
<h4 class="pHeading3"><a name="wp1473047"> </a>
caCertificateFile
</h4>
<p class="pBody"><a name="wp1477536"> </a>
A string variable configuration parameter in file <code class="cCode">URL</code> format. It points to a single certificate whose public key is trusted by the user. The certificate can be self-signed. If the certificate chain validates this trusted certificate the certificate is deemed a &#8220;good&#8221; certificate.For example:
</p>
<a name="wp1477532"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>There is only one certificate validation chain level. That is, all user certificates are issued directly by the root <code class="cCode">CA</code> configured in <code class="cCode">caCertificateFile.</code></td>
</tr>
</table>

<p class="pBody"><a name="wp1473049"> </a>
<code class="cCode">caCertificateFile=file:///c:\home\certs\root.cer</code>
</p>
<p class="pBody"><a name="wp1473050"> </a>
This example indicates that the trusted root certificate is located at directory called <code class="cCode">c:\home\certs</code> and is named <code class="cCode">root.cer</code>.
</p>
<h4 class="pHeading3"><a name="wp1474363"> </a>
crlFile
</h4>
<p class="pBody"><a name="wp1477542"> </a>
A string variable configuration parameter in file <code class="cCode">URL</code> format. It points to a single <code class="cCode">CRL</code> that is to be used to verify the resulting certificate path; in another word, it determines whether the certificate in question is being revoked by its issuer or not. For example:
</p>
<p class="pBody"><a name="wp1474371"> </a>
<code class="cCode">crlFile=file:///c:\home\certs\revoke.crl</code>
</p>
<p class="pBody"><a name="wp1474372"> </a>
This example indicates which <code class="cCode">CRL</code> is used to determine if the certificate has not been revoked by its issuer.
</p>
<h3 class="pHeading2"><a name="wp1472581"> </a>
Sample Registry Command File
</h3>
<p class="pBody"><a name="wp1472582"> </a>
The following is a sample command for modifying the Tuxedo registry database on a Windows platform using the Cert-C PKI encryption plug-in.
</p>
<a name="wp1475083"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>On a UNIX platform, you must:</td>
</tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1475432"> </a>use the file name <code class="cCode">libcertctux</code> plus your <span style="font-style: italic">platform specific </span>dynamic library extension instead of <code class="cCode">certctux.dll</code> used in Windows. For example:<br /><br />Solaris: <code class="cCode">libcertctux.so.71<br /></code>HP-UX: <code class="cCode">libcertctux.sl</code></li>
<li><a name="wp1475437"> </a>change the file <code class="cCode">URL</code> to UNIX format</li>
<div class="pCodeTitle"><a name="wp1475084"> </a>
Listing&#160;2-8	   Sample Command for Modifying Tuxedo Registry Database on Windows
</div> </ul></div>
<p class="pBody"><a name="wp1472594"> </a>
<code class="cCode">REM **********************************************************<br />REM ** Modify Validation Interface **<br />REM **********************************************************<br />epifreg -r -p bea/cert-c/certificate_validation -i engine/security/certificate_validation -v 1.0 -f certctux.dll -e _ep_dl_certc_validate_certificate -u caCertificateFile=file:///c:\home\certs\root.cer -u crlFile=file:///c:\home\certs\revoke.crl<br /><br />epifreg -s -k SYSTEM/impl/bea/valfile -a InterceptionSeq=bea/cert-c/certification_validation<br /><br />epifregedt -s -k SYSTEM/interfaces/engine/security/certificate_validation -a DefaultImpl=bea/valfile<br /><br />REM **********************************************************<br />REM ** Modify  Lookup Interface **<br />REM **********************************************************<br /><br />epifreg -r -p bea/cert-c/certificate_lookup -i engine/security/certificate_lookup -v 1.0 -f certctux.dll -e _ep_dl_certc_certificate_lookup -u ldapUserCertificate=ldap://sagamore:389 -u ldapBaseObject=&quot;ou=Engineer Test,o=ABC Company,c=US&quot; -u ldapFilterAttribute=&quot;cn&quot; -u ldapBaseDNAttribue=&quot;c,o,ou,cn&quot;<br /><br />epifregedt -s -k SYSTEM/interfaces/engine/security/certificate_lookup -a DefaultImpl=bea/cert-c/certificate_lookup<br /><br />REM **********************************************************<br />REM ** Modify  Key Management Interface **<br />REM **********************************************************<br /><br />epifreg -r -p bea/cert-c/key_management -i engine/security/key_management -v 1.0 -f certctux.dll -e _ep_dl_certc_key_management -u privateKeyDir=file:///c:\home\certs\ <br /><br />epifregedt -s -k SYSTEM/interfaces/engine/security/key_management -a DefaultImpl=bea/cert-c/key_management<br /><br />REM **********************************************************<br />REM ** Modify  Certificate Parsing Interfaces **<br />REM **********************************************************<br /><br />epifreg -r -p bea/cert-c/certificate_parsing -i engine/security/certificate_parsing -v 1.0 -f certctux.dll -e _ep_dl_certc_certificate_parsing<br /><br />epifregedt -s -k SYSTEM/interfaces/engine/security/certificate_parsing -a DefaultImpl=bea/cert-c/certificate_parsing</code>
</p>
<h3 class="pHeading2"><a name="wp1472504"> </a>
Limitations
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1472845"> </a>The <code class="cCode">&quot;cn&quot;</code> attribute of distinguished name is used as key for certificate lookup, so the DN must contains the <code class="cCode">&quot;cn=&quot;</code> attribute.</li>
<li><a name="wp1474684"> </a>There are two possible places to put a name in an X.509 v3 KC:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1477573"> </a>One is the subject field in the base PKC, often called the Distinguished Name or DN field. </li>
<li><a name="wp1477575"> </a>The other is the <code class="cCode">subjectAltName</code> extension. This plug-in does not support <code class="cCode">subjectAltName</code> extension.</li>
<a name="wp1475920"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Wildcards used in a name are not supported. Empty subject fields are not allowed.</td>
</tr>
</table>

</ul></div>
<li><a name="wp1475940"> </a>The following <code class="cCode">tpkey_getinfo()</code> attributes cannot retrieve <code class="cCode">ENCRYPT_ALG</code>, <code class="cCode">ENCRYPT_BITS</code>, <code class="cCode">SIGNATURE_ALG</code>, or <code class="cCode">SIGNATURE_BITS </code>information using the Cert-C PKI encryption plug-in:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1476156"> </a><code class="cCode">TPKEY_SIGNATURE:</code> cannot retrieve <code class="cCode">ENCRYPT_ALG</code>, <code class="cCode">ENCRYPT_BITS</code></li>
<li><a name="wp1475927"> </a><code class="cCode">TPKEY_ENCRYPT:</code> cannot retrieve <code class="cCode">SIGNATURE_BITS</code></li>
<li><a name="wp1475929"> </a><code class="cCode">TPKEY_AUTOSIGN:</code> cannot retrieve <code class="cCode">ENCRYPT_ALG</code>, <code class="cCode">ENCRYPT_BITS</code> </li>
<li><a name="wp1475930"> </a><code class="cCode">TPKEY_AUTOENCRYPT:</code> cannot retrieve <code class="cCode">SIGNATURE_BITS</code></li>
<a name="wp1476232"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">TPKEY_DECRYPT:</code> <span style="font-style: italic">can</span> retrieve <code class="cCode">ENCRYPT_ALG</code>, <code class="cCode">ENCRYPT_BITS</code>, <code class="cCode">SIGNATURE_ALG</code>, or <code class="cCode">SIGNATURE_BITS </code>information<br /><code class="cCode"><br />TPKEY_AUTOSIGN|TPKEY_DECRYPT:</code> <span style="font-style: italic">can</span> retrieve <code class="cCode">ENCRYPT_ALG</code>, <code class="cCode">ENCRYPT_BITS</code>, <code class="cCode">SIGNATURE_ALG</code>, or <code class="cCode">SIGNATURE_BITS </code>information</td>
</tr>
</table>

</ul></div>
</ul></div>
<h3 class="pHeading2"><a name="wp1476724"> </a>
See Also
</h3>
<p class="pBody"><a name="wp1473082"> </a>
<a href="../rf3c/rf3c.html">tpkey_open(3c)</a>
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="secadm.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="secovr.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="secpgm.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
