<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="2" />
<meta name="LOC_US_CHANGE" content="41848" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/sec/fm/secovr.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/26/12 11:54:58" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Introducing ATMI Security</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Using Security in ATMI Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="secadm.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/sec.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1298489"> </a>
Introducing ATMI Security
</h1>
<p class="pBody"><a name="wp1248067"> </a>
The following sections describe the various security capabilities available with the Oracle Tuxedo system for ATMI applications:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1284475"> </a><a href="secovr.html#wp1248085">What Security Means</a></li>
<li><a name="wp1248071"> </a><a href="secovr.html#wp1248107">Security Plug-ins</a></li>
<li><a name="wp1248075"> </a><a href="secovr.html#wp1248175">ATMI Security Capabilities</a></li>
<li><a name="wp1304345"> </a><a href="secovr.html#wp1248293">Operating System (OS) Security</a></li>
<li><a name="wp1304349"> </a><a href="secovr.html#wp1248314">Authentication</a></li>
<li><a name="wp1304357"> </a><a href="secovr.html#wp1248750">Auditing</a></li>
<li><a name="wp1304365"> </a><a href="secovr.html#wp1248847">Link-Level Encryption</a></li>
<li><a name="wp1304390"> </a><a href="secovr.html#wp1303146">SSL Encryption</a></li>
<li><a name="wp1304410"> </a><a href="secovr.html#wp1302040">Public Key Security</a></li>
<li><a name="wp1304430"> </a><a href="secovr.html#wp1249333">Message-based Digital Signature</a></li>
<li><a name="wp1304441"> </a><a href="secovr.html#wp1249893">Message-based Encryption</a></li>
<li><a name="wp1304449"> </a><a href="secovr.html#wp1250009">Public Key Implementation</a></li>
<li><a name="wp1248079"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1248083"> </a><a href="secovr.html#wp1250398">Security Interoperability</a></li>
<li><a name="wp1304464"> </a><a href="secovr.html#wp1251179">Security Compatibility</a></li>
<li><a name="wp1312751"> </a><a href="secovr.html#wp1312187">Denial-of-Service (DoS) Defense</a></li>
<li><a name="wp1312759"> </a><a href="secovr.html#wp1312700">Password Pair Protection</a></li>
</ul></div>
<a name="wp1281916"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The Oracle Tuxedo product includes environments that allow you to build both Application-to-Transaction Monitor Interfaces (ATMI) and CORBA applications. This topic explains how to implement security in an ATMI application. For information about implementing security in a CORBA application, see Using Security in CORBA Applications.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1248085"> </a>
What Security Means
</h2><p class="pBody"><a name="wp1248086"> </a>
Security refers to techniques for ensuring that data stored in a computer or passed between computers is not compromised. Most security measures involve <em class="cEmphasis">passwords</em> and <em class="cEmphasis">data encryption</em>, where a password is a secret word or phrase that gives a user access to a particular program or system, and data encryption is the translation of data into a form that is unintelligible without a deciphering mechanism.
</p>
<p class="pBody"><a name="wp1248087"> </a>
Distributed applications such as those used for electronic commerce (e-commerce) offer many access points for malicious people to intercept data, disrupt operations, or generate fraudulent input; the more distributed a business becomes, the more vulnerable it is to attack. Thus, the distributed computing software, or middleware, upon which such applications are built must provide security.
</p>
<p class="pBody"><a name="wp1248088"> </a>
The Oracle Tuxedo product provides several security capabilities for ATMI applications, most of which can be customized for your particular needs.
</p>
<h3 class="pHeading2"><a name="wp1248089"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248093"> </a><a href="secovr.html#wp1248107">Security Plug-ins</a></li>
<li><a name="wp1248097"> </a><a href="secovr.html#wp1248175">ATMI Security Capabilities</a></li>
<li><a name="wp1248101"> </a><a href="secadm.html#wp1239347">What Administering Security Means</a></li>
<li><a name="wp1248105"> </a><a href="secpgm.html#wp1258005">What Programming Security Means</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1248107"> </a>
Security Plug-ins
</h2><p class="pBody"><a name="wp1248108"> </a>
As shown in <a href="secovr.html#wp1248109">Figure&#160;1-1</a>, all but one of the security capabilities available with the ATMI environment of the Oracle Tuxedo product are implemented through a <em class="cEmphasis">plug-in interface</em>, which allows Oracle Tuxedo customers to independently define and dynamically add their own <em class="cEmphasis">security</em> <em class="cEmphasis">plug-ins</em>. A security plug-in is a code module that implements a particular security capability.
</p>
<div class="pFigureTitle"><a name="wp1248109"> </a>
Figure&#160;1-1  Oracle Tuxedo ATMI Plug-in Security Architecture
</div>

 
 <p class="pGraphic"><a name="wp1248166"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-01.gif" height="266" width="554" alt="Oracle Tuxedo ATMI Plug-in Security Architecture" id="wp1248111"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1315428"> </a>
The specifications for the security plug-in interface are not generally available, but are available to third-party security vendors. Third-party security vendors can enter into a special agreement with Oracle Systems to develop security plug-ins for Oracle Tuxedo. Oracle Tuxedo customers who want to customize a security capability must contact one of these vendors. For example, an Oracle Tuxedo customer who wants a custom implementation of public key security must contact a third-party security vendor who can provide the appropriate plug-ins. For more information about security plug-ins, including installation and configuration procedures, see your Oracle account executive.
</p>
<h3 class="pHeading2"><a name="wp1248169"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248173"> </a><a href="secovr.html#wp1248175">ATMI Security Capabilities</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1248175"> </a>
ATMI Security Capabilities
</h2><p class="pBody"><a name="wp1248176"> </a>
The Oracle Tuxedo system can enforce security in a number of ways, which includes using the security features of the host operating system to control access to files, directories, and system resources. <a href="secovr.html#wp1248179">Table&#160;1-1</a> describes the security capabilities available with the ATMI environment of the Oracle Tuxedo product.
</p>
<p class="pGraphic"><a name="wp1305638"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1248179table1248177"><caption><a name="wp1248179"> </a>
Table 1-1  ATMI Security Capabilities&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1248187"> </a>
Security Capability
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248189"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248191"> </a>
Plug-in Interface
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248193"> </a>
Default Implementation
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248196"> </a>
<span class="cHyperlink">
<a href="secovr.html#wp1248293">Operating system security</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248198"> </a>
Controls access to files, directories, and system resources.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248200"> </a>
N/A
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248202"> </a>
N/A
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248205"> </a>
<span class="cHyperlink">
<a href="secovr.html#wp1248314">Authentication</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248207"> </a>
Proves the stated identity of users or system processes; safely remembers and transports identity information; and makes identity information available when needed.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248209"> </a>
Implemented as a single interface
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248212"> </a>
The <span class="cHyperlink">
<a href="secovr.html#wp1250071">default authentication plug-in </a></span>provides security at three levels: <em class="cEmphasis">no authentication</em>, <em class="cEmphasis">application password</em>, and <em class="cEmphasis">user-level authentication</em>. This plug-in works the same way the Oracle Tuxedo implementation of authentication has worked since it was first made available with the Oracle Tuxedo system.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248215"> </a>
<span class="cHyperlink">
<a href="secovr.html#wp1248608">Authorization</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248217"> </a>
Controls access to resources based on identity or other information.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248219"> </a>
Implemented as a single interface
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248222"> </a>
The <span class="cHyperlink">
<a href="secovr.html#wp1250071">default authorization plug-in</a></span> provides security at two levels: <em class="cEmphasis">optional access control lists</em> and <em class="cEmphasis">mandatory access control lists</em>. This plug-in works the same way the Oracle Tuxedo implementation of authorization has worked since it was first made available with the Oracle Tuxedo system.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248225"> </a>
<span class="cHyperlink">
<a href="secovr.html#wp1248750">Auditing</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248227"> </a>
Safely collects, stores, and distributes information about operating requests and their outcomes.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248229"> </a>
Implemented as a single interface
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248231"> </a>
Default auditing security is implemented by the Oracle Tuxedo EventBroker and user log (<code class="cCode">ULOG</code>) features.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248234"> </a>
<span class="cHyperlink">
<a href="secovr.html#wp1248847">Link-level encryption</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248237"> </a>
Uses <span class="cHyperlink">
<a href="secovr.html#wp1249291">symmetric</a></span> key encryption to establish data privacy for messages moving over the network links that connect the machines in an ATMI application.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248239"> </a>
N/A
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248241"> </a>
RC4 symmetric key encryption.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1301652"> </a>
<a href="secovr.html#wp1303146">SSL encryption</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306000"> </a>
Uses the industry-standard TLS 1.0 protocol to establish data privacy for messages moving over the network links that connect the machines in an ATMI application.
</div>
<div class="pCellBody"><a name="wp1301654"> </a>
(TLS is the successor standard to the SSL protocol.)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1301656"> </a>
N/A
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1301658"> </a>
Certicom 3.1.8 SSL software
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248244"> </a>
<span class="cHyperlink">
<a href="secovr.html#wp1302040">Public key security</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248247"> </a>
Uses public key (or <span class="cHyperlink">
<a href="secovr.html#wp1249270">asymmetric</a></span> key) encryption to establish end-to-end digital signing and data privacy between ATMI application clients and servers. Complies with the PKCS-7 standard.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248251"> </a>
Implemented as <span class="cHyperlink">
<a href="secovr.html#wp1250009">six interfaces</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248253"> </a>
Default public key security supports the following algorithms:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1248255"> </a><span class="cHyperlink">
<a href="secovr.html#wp1249270">RSA</a></span> public key algorithm</li>
<li><a name="wp1248258"> </a><span class="cHyperlink">
<a href="secovr.html#wp1249270">RSA </a></span>and <span class="cHyperlink">
<a href="secovr.html#wp1249274">DSA </a></span>digital signature algorithms</li>
<li><a name="wp1248261"> </a><span class="cHyperlink">
<a href="secovr.html#wp1249281">DES-CBC</a></span>, <span class="cHyperlink">
<a href="secovr.html#wp1249284">two-key triple-DES</a></span>, and <span class="cHyperlink">
<a href="secovr.html#wp1249288">RC2</a></span> symmetric key algorithms</li>
<li><a name="wp1248265"> </a><span class="cHyperlink">
<a href="secovr.html#wp1249295">MD5</a></span> and <span class="cHyperlink">
<a href="secovr.html#wp1249295">SHA-1</a></span> message digest algorithms</li>
</ul></div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1248266"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248270"> </a><a href="secovr.html#wp1248293">Operating System (OS) Security</a></li>
<li><a name="wp1248274"> </a><a href="secovr.html#wp1248314">Authentication</a></li>
<li><a name="wp1248278"> </a><a href="secovr.html#wp1248608">Authorization</a></li>
<li><a name="wp1248282"> </a><a href="secovr.html#wp1248750">Auditing</a></li>
<li><a name="wp1248286"> </a><a href="secovr.html#wp1248847">Link-Level Encryption</a></li>
<li><a name="wp1301733"> </a><a href="secovr.html#wp1303146"><span class="cHyperlink">
SSL Encryption on page&#160;1-27</span></a></li>
<li><a name="wp1248290"> </a><a href="secovr.html#wp1302040">Public Key Security</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1248293"> </a>
Operating System (OS) Security
</h2><p class="pBody"><a name="wp1248294"> </a>
On host operating systems with underlying security features, such as file permissions, the operating-system level of security is the first line of defense. An application administrator can use file permissions to grant or deny access privileges to specific users or groups of users.
</p>
<p class="pBody"><a name="wp1248295"> </a>
Most ATMI applications are managed by an application administrator who configures the application, starts it, and monitors the running application dynamically, making changes as necessary. Because the ATMI application is started and run by the administrator, server programs are run with the administrator&#8217;s permissions and are therefore considered secure or &#8220;trusted.&#8221; This working method is supported by the login mechanism and the read and write permissions on the files, directories, and system resources provided by the underlying operating system.
</p>
<p class="pBody"><a name="wp1248296"> </a>
Client programs are run directly by users with the users&#8217; own permissions. In addition, users running native clients (that is, clients running on the same machine on which the server program is running) have access to the <code class="cCode">UBBCONFIG</code> configuration file and interprocess communication (IPC) mechanisms such as the <em class="cEmphasis">bulletin board</em> (a reserved piece of shared memory in which parameters governing the ATMI application and statistics about the application are stored).
</p>
<p class="pBody"><a name="wp1248297"> </a>
For ATMI applications running on platforms that support greater security, a more secure approach is to limit access to the files and IPC mechanisms to the application administrator and to have &#8220;trusted&#8221; client programs run with the permissions of the administrator (using the setuid command on a UNIX host machine or the equivalent command on another platform). For the most secure operating system security, allow only Workstation clients to access the application; client programs should not be allowed to run on the same machines on which application server and administrative programs run.
</p>
<h3 class="pHeading2"><a name="wp1248298"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248302"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1309958"> </a><a href="secadm.html#wp1239578">Administering Operating System (OS) Security</a></li>
<li><a name="wp1309960"> </a><span class="cHyperlink">
&#8220;About the C</span><a href="../rfcm/rfcmd.html"></a>onfiguration File&#8221; and <span class="cHyperlink">
&#8220;Creating the </span><a href="../ads/adfig.html"></a>Configuration File&#8221; in Setting Up an Oracle Tuxedo Application</li>
<li><a name="wp1248310"> </a><a href="../rf5/rf5.html">UBBCONFIG(5)</a> in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1248314"> </a>
Authentication
</h2><p class="pBody"><a name="wp1248315"> </a>
Authentication allows communicating processes to mutually prove identification. The authentication plug-in interface in the ATMI environment of the Oracle Tuxedo product can accommodate various security-provider authentication plug-ins using various authentication technologies, including <em class="cEmphasis">shared-secret password</em>, <em class="cEmphasis">one-time password</em>, <em class="cEmphasis">challenge-response</em>, and <em class="cEmphasis">Kerberos</em>. The interface closely follows the generic security service (GSS) application programming interface (API) where applicable; the GSSAPI is a published standard of the Internet Engineering Task Force. The authentication plug-in interface is designed to make integration of third-party vendor security products with the Oracle Tuxedo system as easy as possible, assuming the security products have been written to the GSSAPI.
</p>
<h3 class="pHeading2"><a name="wp1248317"> </a>
Authentication Plug-in Architecture
</h3>
<p class="pBody"><a name="wp1248318"> </a>
The underlying plug-in interface for authentication security is implemented as a single plug-in. The plug-in may be the default authentication plug-in or a custom authentication plug-in.
</p>
<h3 class="pHeading2"><a name="wp1248320"> </a>
Understanding Delegated Trust Authentication
</h3>
<p class="pBody"><a name="wp1248321"> </a>
Direct end-to-end mutual authentication in a distributed enterprise middleware environment such as the Oracle Tuxedo system can be prohibitively expensive, especially when accomplished with security mechanisms optimized for long-duration connections. It is not efficient for clients to establish direct network connections with each server process, nor is it practical to exchange and verify multiple authentication messages as part of processing each service request. Instead, the ATMI applications use a <em class="cEmphasis">delegated trust</em> authentication model, as shown in <a href="secovr.html#wp1248322">Figure&#160;1-2</a>.
</p>
<div class="pFigureTitle"><a name="wp1248322"> </a>
Figure&#160;1-2  ATMI Delegated Trust Authentication Model
</div>

 
 <p class="pGraphic"><a name="wp1248390"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-02.gif" height="286" width="463" alt="ATMI Delegated Trust Authentication Model" id="wp1248324"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1248391"> </a>
A Workstation client authenticates to a <em class="cEmphasis">trusted system gateway process</em>, the workstation handler (WSH), at initialization time. A native client authenticates within itself, as explained later in this discussion. After a successful authentication, the authentication software assigns a security <em class="cEmphasis">token</em> to the client. A token is an opaque data structure suitable for transfer between processes. The WSH safely stores the token for the authenticated Workstation client, or the authenticated native client safely stores the token for itself.
</p>
<p class="pBody"><a name="wp1248392"> </a>
As a client request flows through a trusted gateway, the gateway attaches the client&#8217;s security token to the request. The security token travels with the client&#8217;s request message, and is delivered to the destination server process(es) for authorization checking and auditing purposes.
</p>
<p class="pBody"><a name="wp1248393"> </a>
In this model, the gateway trusts that the authentication software will verify the identity of the client and generate an appropriate token. Servers, in turn, trust that the gateway process will attach the correct security token. Servers also trust that any other servers involved in the processing of a client request will safely deliver the token.
</p>
<h3 class="pHeading2"><a name="wp1248394"> </a>
Establishing a Session
</h3>
<p class="pBody"><a name="wp1248395"> </a>
<a href="secovr.html#wp1248396">Figure&#160;1-3</a> shows the control flow inside the ATMI environment of the Oracle Tuxedo system while a session is being established between a Workstation client and the WSH. The Workstation client and WSH are attempting to establish a long-term mutually authenticated connection by exchanging messages.
</p>
<div class="pFigureTitle"><a name="wp1248396"> </a>
Figure&#160;1-3  Client-WSH Authentication
</div>

 
 <p class="pGraphic"><a name="wp1248559"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-03.gif" height="231" width="458" alt="Client-WSH Authentication" id="wp1248398"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1248560"> </a>
The <em class="cEmphasis">initiator process</em> (may be thought of as a middleware client process) creates a <em class="cEmphasis">session context</em> by repeatedly calling the Oracle Tuxedo &#8220;initiate security context&#8221; function until a return code indicates success or failure. A session context associates identity information with an authenticated user.
</p>
<p class="pBody"><a name="wp1248561"> </a>
When a Workstation client calls <a href="../rf3c/rf3c.html">tpinit(3c)</a> for C or <a href="../rf3cbl/rf3cbl.html">TPINITIALIZE(3cbl)</a> for COBOL to join an ATMI application, the Oracle Tuxedo system begins its response by first calling the internal &#8220;acquire credentials&#8221; function to obtain a session credential handle, and then calling the internal &#8220;initiate security context&#8221; function to obtain a session context. Each invocation of the &#8220;initiate security context&#8221; function takes an input <em class="cEmphasis">session token</em> (when one is available) and returns an output <em class="cEmphasis">session token</em>. A session token carries a protocol for verifying a user&#8217;s identity. The initiator process passes the output session token to the session&#8217;s <em class="cEmphasis">target process</em> (WSH), where it is exchanged for another input token. The exchange of tokens continues until both processes have completed mutual authentication.
</p>
<p class="pBody"><a name="wp1248562"> </a>
A security-provider authentication plug-in defines the content of the session context and session token for its security implementation, so ATMI authentication must treat the session context and session token as opaque objects. The number of tokens passed back and forth is not defined, and may vary based on the architecture of the authentication system.
</p>
<p class="pBody"><a name="wp1248563"> </a>
For a native client initiating a session, the initiator process and the target process are the same; the process may be thought of as a middleware client process. The middleware client process calls the security provider&#8217;s authentication plug-in to authenticate the native client.
</p>
<h3 class="pHeading2"><a name="wp1248564"> </a>
Getting Authorization and Auditing Tokens
</h3>
<p class="pBody"><a name="wp1248565"> </a>
After a successful authentication, the trusted gateway calls two Oracle Tuxedo internal functions that retrieve an <em class="cEmphasis">authorization</em> <em class="cEmphasis">token</em> and an <em class="cEmphasis">auditing</em> <em class="cEmphasis">token</em> for the client, which the gateway stores for safekeeping. Together, these tokens represent the user identity of a security context. The term <em class="cEmphasis">security token</em> refers collectively to the authorization and auditing tokens.
</p>
<p class="pBody"><a name="wp1248566"> </a>
When default authentication is used, the authorization token carries two pieces of information:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248567"> </a><span style="font-style: normal">Principal name</span>&#8212;the name of an authenticated user.</li>
<li><a name="wp1248568"> </a><span style="font-style: normal">Application key</span>&#8212;a 32-bit value that uniquely identifies the client initiating the request message. See <a href="secovr.html#wp1250204">Application Key</a> for more detail.</li>
</ul></div>
<p class="pBody"><a name="wp1248572"> </a>
In addition, when default authentication is used, the auditing token carries the same two pieces of information: <em class="cEmphasis">principal name</em> and <em class="cEmphasis">application key</em>.
</p>
<p class="pBody"><a name="wp1248573"> </a>
Like the session token, the authentication and auditing tokens are opaque; their contents are determined by the security provider. The authorization token can be used for performing authorization (permission) checks. The auditing token can be used for recording audit information. In some ATMI applications, it is useful to keep separate user identities for authorization and auditing.
</p>
<h3 class="pHeading2"><a name="wp1258983"> </a>
Replacing Client Tokens with Server Tokens
</h3>
<p class="pBody"><a name="wp1258984"> </a>
As shown in <a href="secovr.html#wp1258722">Figure&#160;1-4</a>, there are situations where a client service request forwarded by a server takes on the identity of the server. The server replaces the client tokens attached to the request with its own tokens and then forwards the service request to the destination service.
</p>
<div class="pFigureTitle"><a name="wp1258722"> </a>
Figure&#160;1-4  Server Permission Upgrade Example
</div>

 
 <p class="pGraphic"><a name="wp1258806"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-04.gif" height="336" width="554" alt="Server Permission Upgrade Example" id="wp1258724"/></div><p class="pGraphic">

</p>
<a name="wp1264153"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>See <a href="secadm.html#wp1302257">Specifying Principal Names</a> for an understanding of how servers acquire their own authorization and auditing tokens and why they need them.</td>
</tr>
</table>

<p class="pBody"><a name="wp1276675"> </a>
The feature demonstrated in the preceding figure is known as <em class="cEmphasis">server permission upgrade</em>, which operates in the following manner: whenever a server calls a <em class="cEmphasis">dot</em> service (a system-supplied service having a beginning period in its name&#8212;such as <code class="cCode">.TMIB</code>), the service request takes on the identity of the server and thus acquires the access permissions of the server. A server&#8217;s access permissions are those of the application (system) administrator. Thus, certain requests that would be denied if the client called the dot service directly would be allowed if the client sent the requests to a server, and the server forwarded the requests to the dot service. For more information about dot services, see the <code class="cCode">.TMIB</code> service description on the <a href="../rf5/rf5.html">MIB(5)</a> reference page in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference.
</p>
<h3 class="pHeading2"><a name="wp1248578"> </a>
Implementing Custom Authentication
</h3>
<p class="pBody"><a name="wp1248579"> </a>
You can provide authentication for your ATMI application by using the default plug-in or a custom plug-in. You choose a plug-in by configuring the Oracle Tuxedo <em class="cEmphasis">registry</em>, a tool that controls all security plug-ins.
</p>
<p class="pBody"><a name="wp1248580"> </a>
If you want to use the default authentication plug-in, you do not need to configure the registry. If you want to use a custom authentication plug-in, however, you must configure the registry for your plug-in before you can install it. For more detail about the registry, see <a href="secadm.html#wp1239453">Setting the Oracle Tuxedo Registry</a>.
</p>
<h3 class="pHeading2"><a name="wp1248585"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248589"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1248593"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1248597"> </a><a href="secadm.html#wp1409710">Administering Authentication</a></li>
<li><a name="wp1248601"> </a><a href="secpgm.html#wp1258083">Programming an ATMI Application with Security</a></li>
<li><a name="wp1248604"> </a><a href="secpgm.html#wp1258115">Writing Security Code So Client Programs Can Join the ATMI Application</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1248608"> </a>
Authorization
</h2><p class="pBody"><a name="wp1248609"> </a>
Authorization allows administrators to control access to ATMI applications. Specifically, an administrator can use authorization to allow or disallow <em class="cEmphasis">principals</em> (authenticated users) to use resources or facilities in an ATMI application.
</p>
<h3 class="pHeading2"><a name="wp1248611"> </a>
Authorization Plug-in Architecture
</h3>
<p class="pBody"><a name="wp1248612"> </a>
A fanout is an umbrella plug-in to which individual plug-in implementations are connected. As shown in <a href="secovr.html#wp1248613">Figure&#160;1-5</a>, the authorization plug-in interface is implemented as a fanout.
</p>
<div class="pFigureTitle"><a name="wp1248613"> </a>
Figure&#160;1-5  Authorization Plug-in Architecture
</div>

 
 <p class="pGraphic"><a name="wp1248651"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-05.gif" height="193" width="458" alt="Authorization Plug-in Architecture" id="wp1248615"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1248652"> </a>
The default authorization implementation consists of a fanout plug-in and a default authorization plug-in. A custom implementation consists of the fanout plug-in, the default authorization plug-in, and one or more custom authorization plug-ins.
</p>
<p class="pBody"><a name="wp1248653"> </a>
In a fanout plug-in model, a caller sends a request to the fanout plug-in. The fanout plug-in passes the request to each of the subordinate plug-ins, and receives a response from each. Finally, the fanout plug-in forms a composite response from the individual responses, and sends the composite response to the caller.
</p>
<p class="pBody"><a name="wp1248654"> </a>
The purpose of an authorization request is to determine whether a client operation should be allowed or whether the results of an operation should be kept <em class="cEmphasis">unchanged</em>. Each authorization plug-in returns one of three responses: <em class="cEmphasis">permit</em>, <em class="cEmphasis">deny</em>, or <em class="cEmphasis">abstain</em>. The <em class="cEmphasis">abstain</em> response gives writers of authorization plug-ins a graceful way to handle situations that are not accommodated by the original plug-in, such as names of operations that are added to the system after the plug-in is installed.
</p>
<p class="pBody"><a name="wp1248655"> </a>
The authorization fanout plug-in forms a composite response as described in <a href="secovr.html#wp1248658">Table&#160;1-2</a>. For default authorization, the composite response is determined solely by the default authorization plug-in.</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1248658table1248656"><caption><a name="wp1248658"> </a>
Table 1-2  Authorization Composite Responses&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1248662"> </a>
If Plug-ins Return . . . 
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248664"> </a>
The Composite Response Is . . .
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248666"> </a>
All <em class="cEmphasis">permit</em> or a combination of <em class="cEmphasis">permit</em> and <em class="cEmphasis">abstain</em>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248668"> </a>
<em class="cEmphasis">permit</em>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248670"> </a>
At least one <em class="cEmphasis">deny</em>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248672"> </a>
<em class="cEmphasis">deny</em>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248674"> </a>
All abstain
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248676"> </a>
<em class="cEmphasis">deny</em> <br />&#160;&#160;&#160;If the <code class="cCode">SECURITY</code> parameter in the ATMI application&#8217;s <code class="cCode">UBBCONFIG</code> file is set to <code class="cCode">MANDATORY_ACL</code>
</div>
<div class="pCellBody"><a name="wp1248677"> </a>
<em class="cEmphasis">permit</em> <br />&#160;&#160;&#160;If the <code class="cCode">SECURITY</code> parameter is <em class="cEmphasis">not</em> set in the ATMI application&#8217;s <code class="cCode">UBBCONFIG</code> file or is set to any value other than <code class="cCode">MANDATORY_ACL</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pBody">
 
</p>
<p class="pBody"><a name="wp1248678"> </a>
As an example of custom authorization, consider a banking application in which a user is identified as a member of the <code class="cCode">Customer</code> group, and the following conditions are in effect:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248679"> </a>The default authorization plug-in allows any user in the <code class="cCode">Customer</code> group to withdraw money from a particular account.</li>
<li><a name="wp1248680"> </a>A custom authorization plug-in allows any user in the <code class="cCode">Customer</code> group to withdraw money from a particular account but only on Monday through Friday between 9:00 A.M. and 5:00 P.M.</li>
<li><a name="wp1248681"> </a>A second custom authorization plug-in allows any user in the <code class="cCode">Customer</code> group to withdraw money from a particular account but only if the amount being withdrawn is less than $10,000.</li>
</ul></div>
<p class="pBody"><a name="wp1248682"> </a>
So, if a user in the <code class="cCode">Customer</code> group attempts to withdraw $500.00 on Monday at 10 A.M., the operation is allowed. If the same user attempts the same withdrawal on Saturday morning, the operation is <em class="cEmphasis">not</em> allowed.
</p>
<p class="pBody"><a name="wp1248683"> </a>
Many other custom authorization scenarios are possible. Feel free to improvise; define the conditions that best serve the needs of your business.
</p>
<h3 class="pHeading2"><a name="wp1248684"> </a>
How the Authorization Plug-in Works
</h3>
<p class="pBody"><a name="wp1248685"> </a>
Authorization decisions are based partly on user identity, which is stored in an <em class="cEmphasis">authorization token</em>. Because authorization tokens are generated by the authentication security plug-in, providers of authentication and authorization plug-ins need to ensure that these plug-ins work together.
</p>
<p class="pBody"><a name="wp1248686"> </a>
An Oracle Tuxedo system process or server (such as /Q server <a href="../rf5/rf5.html">TMQUEUE(5)</a> or EventBroker server <a href="../rf5/rf5.html">TMUSREVT(5)</a>) calls the authorization plug-in when it receives a client request. In response, the authorization plug-in performs a pre-operation check and returns whether the operation should be allowed.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248687"> </a>If allowed, the system carries out the client request.</li>
<li><a name="wp1248688"> </a>If not allowed, the system does not carry out the client request.</li>
</ul></div>
<p class="pBody"><a name="wp1248689"> </a>
If the client operation is allowed, the Oracle Tuxedo system process or server may call the authorization plug-in after the client operation completes. In response, the authorization plug-in performs a post-operation check and returns whether the results of the operation are acceptable.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248690"> </a>If acceptable, the system accepts the operation results.</li>
<li><a name="wp1248691"> </a>If not unacceptable, the system either modifies the operation results or rolls back (reverses) the operation.</li>
</ul></div>
<p class="pBody"><a name="wp1248692"> </a>
These calls are system-level calls, not application-level calls. An ATMI application cannot call the authorization plug-in.
</p>
<p class="pBody"><a name="wp1248693"> </a>
The authorization process is somewhat different for (1) users of the default authorization plug-in provided by the Oracle Tuxedo system and (2) users of one or more custom authorization plug-ins. The default plug-in does not support post-operation checks. If the default authorization plug-in receives a post-operation check request, it returns immediately and does nothing.
</p>
<p class="pBody"><a name="wp1248694"> </a>
The custom plug-ins support both pre-operation and post-operation checks.
</p>
<h4 class="pHeading3"><a name="wp1248695"> </a>
Default Authorization
</h4>
<p class="pBody"><a name="wp1248696"> </a>
When default authorization is called by an ATMI process to perform a pre-operation check in response to a client request, the authorization plug-in performs the following tasks.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1248697"> </a>Gets information from the client&#8217;s authorization token by calling the authentication plug-in.</li>
<p class="pBodyRelative"><a name="wp1248698"> </a>
Because the authorization token is created by the authentication plug-in, the authorization plug-in has no record of the token&#8217;s content. This information is necessary for the authorization process.
</p>
<li><a name="wp1248699"> </a>Performs a pre-operation check.</li>
<p class="pBodyRelative"><a name="wp1248700"> </a>
The authorization plug-in determines whether that operation should be allowed by examining the client&#8217;s authorization token, the access control list (ACL), and the configured security level (optional or mandatory ACL) of the ATMI application.
</p>
<li><a name="wp1248701"> </a>Issues a decision about whether the operation will be performed.</li>
<p class="pBodyRelative"><a name="wp1248702"> </a>
The authorization <em class="cEmphasis">fanout</em> plug-in receives a decision (<em class="cEmphasis">permit</em> or <em class="cEmphasis">deny</em>) from the default authorization plug-in and operates on its behalf.
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1248703"> </a>If the decision is to permit the client operation, the fanout plug-in returns <em class="cEmphasis">permit</em> to the calling process. The system carries out the client request.</li>
<li><a name="wp1248704"> </a>If the decision is to deny the operation, the fanout plug-in returns <em class="cEmphasis">deny </em>to the calling process. The system does not carry out the client request.</li>
</ul></div>
</ol></div>
<h4 class="pHeading3"><a name="wp1248705"> </a>
Custom Authorization
</h4>
<p class="pBody"><a name="wp1248706"> </a>
Users of one or more custom authorization plug-ins may take advantage of additional functionality offered by the ATMI environment of the Oracle Tuxedo product. Specifically, the custom plug-ins may perform an additional check after an operation occurs.
</p>
<p class="pBody"><a name="wp1248707"> </a>
When custom authorization is called by an ATMI process to perform a pre-operation check in response to a client request, the authorization plug-in performs the following tasks.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1248708"> </a>Gets information from the client&#8217;s authorization token by calling the authentication plug-in.</li>
<li><a name="wp1248709"> </a>Performs a pre-operation check.</li>
<p class="pBodyRelative"><a name="wp1248710"> </a>
The authorization plug-in determines whether the operation should be allowed by examining the operation, the client&#8217;s authorization token, and associated data. &#8220;Associated data&#8221; may include user data and the security level of the ATMI application.
</p>
<p class="pBodyRelative"><a name="wp1248711"> </a>
If necessary, in order to satisfy authorization requirements, the authorization plug-in may modify the user data before the operation is performed.
</p>
<li><a name="wp1248712"> </a>Issues a decision about whether the operation will be performed.</li>
<p class="pBodyRelative"><a name="wp1248713"> </a>
The authorization <em class="cEmphasis">fanout</em> plug-in makes the ultimate decision by checking the individual responses (<em class="cEmphasis">permit</em>, <em class="cEmphasis">deny</em>, <em class="cEmphasis">abstain</em>) of its subordinate plug-ins.
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1248714"> </a>If the fanout plug-in allows the client operation, it returns <em class="cEmphasis">permit</em> to the calling process. The system carries out the client request.</li>
<li><a name="wp1248715"> </a>If the fanout plug-in does not allow the operation, it returns <em class="cEmphasis">deny</em> to the calling process. The system does not carry out the client request.</li>
</ul></div>
</ol></div>
<p class="pBody"><a name="wp1248716"> </a>
If the client operation is allowed, custom authorization may be called by the ATMI process to perform a post-operation check after the client operation completes. If so, the authorization plug-in performs the following tasks.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1248717"> </a>Gets information from the client&#8217;s authorization token by calling the authentication plug-in.</li>
<li><a name="wp1248718"> </a>Performs a post-operation check.</li>
<p class="pBodyRelative"><a name="wp1248719"> </a>
The authorization plug-in determines whether the operation results are acceptable by examining the operation, the client&#8217;s authorization token, and associated data. &#8220;Associated data&#8221; may include user data and the security level of the ATMI application.
</p>
<li><a name="wp1248720"> </a>Issues a decision about whether the operation results are acceptable.</li>
<p class="pBodyRelative"><a name="wp1248721"> </a>
The authorization <em class="cEmphasis">fanout</em> plug-in makes the ultimate decision by checking the individual responses (<em class="cEmphasis">permit</em>, <em class="cEmphasis">deny</em>, <em class="cEmphasis">abstain</em>) of its subordinate plug-ins.
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1248722"> </a>If the fanout plug-in decides that the operation results are acceptable, it returns <em class="cEmphasis">permit</em> to the calling process. The system accepts the operation results.</li>
<li><a name="wp1248723"> </a>If the fanout plug-in does not allow the operation, it returns <em class="cEmphasis">deny</em> to the calling process. The system either modifies the operation results or rolls back (reverses) the operation.</li>
</ul></div>
</ol></div>
<p class="pBody"><a name="wp1248724"> </a>
A post-operation check is useful for label-based security models. For example, suppose that a user is authorized to access CONFIDENTIAL documents but performs an operation that retrieves a TOP SECRET document. (Often, a document&#8217;s classification label is not easily determined until <em class="cEmphasis">after</em> the document has been retrieved.) In this case, the post-operation check is an efficient means to either deny the operation or modify the output data by expunging any restricted information.
</p>
<h3 class="pHeading2"><a name="wp1248725"> </a>
Implementing Custom Authorization
</h3>
<p class="pBody"><a name="wp1248726"> </a>
You can provide authorization for your ATMI application by using the default plug-in or adding one or more custom plug-ins. You choose a plug-in by configuring the Oracle Tuxedo <em class="cEmphasis">registry</em>, a tool that controls all security plug-ins.
</p>
<p class="pBody"><a name="wp1248727"> </a>
If you want to use the default authorization plug-in, you do not need to configure the registry. If you want to add one or more custom authorization plug-ins, however, you must configure the registry for your additional plug-ins before you can install them. For more detail about the registry, see <a href="secadm.html#wp1239453">Setting the Oracle Tuxedo Registry</a>.
</p>
<h3 class="pHeading2"><a name="wp1248731"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248735"> </a><a href="secovr.html#wp1250071">Default Authentication and Authorization</a></li>
<li><a name="wp1248739"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1248743"> </a><a href="secadm.html#wp1239624">Administering Authorization</a></li>
<li><a name="wp1248747"> </a><a href="secpgm.html#wp1258083">Programming an ATMI Application with Security</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1248750"> </a>
Auditing
</h2><p class="pBody"><a name="wp1248751"> </a>
Auditing provides a means to collect, store, and distribute information about operating requests and their outcomes. Audit-trail records may be used to determine which principals performed, or attempted to perform, actions that violated the security levels of an ATMI application. They may also be used to determine which operations were attempted, which ones failed, and which ones successfully completed.
</p>
<p class="pBody"><a name="wp1248752"> </a>
How auditing is done (that is, how information is collected, processed, protected, and distributed) depends on the auditing plug-in.
</p>
<h3 class="pHeading2"><a name="wp1248753"> </a>
Auditing Plug-in Architecture
</h3>
<p class="pBody"><a name="wp1248754"> </a>
A fanout is an umbrella plug-in to which individual plug-in implementations are connected. As shown in <a href="secovr.html#wp1248755">Figure&#160;1-6</a>, the auditing plug-in interface is implemented as a fanout.
</p>
<div class="pFigureTitle"><a name="wp1248755"> </a>
Figure&#160;1-6  Auditing Plug-in Architecture
</div>

 
 <p class="pGraphic"><a name="wp1248793"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-06.gif" height="194" width="456" alt="Auditing Plug-in Architecture" id="wp1248757"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1248794"> </a>
The default auditing implementation consists of a fanout plug-in and a default auditing plug-in. A custom implementation consists of the fanout plug-in, the default auditing plug-in, and one or more custom auditing plug-ins.
</p>
<p class="pBody"><a name="wp1248795"> </a>
In a fanout plug-in model, a caller sends a request to the fanout plug-in. The fanout plug-in passes the request to each of the subordinate plug-ins, and receives a response from each. Finally, the fanout plug-in forms a composite response from the individual responses, and sends the composite response to the caller.
</p>
<p class="pBody"><a name="wp1248796"> </a>
The purpose of an auditing request is to record an event. Each auditing plug-in returns one of two responses: <em class="cEmphasis">success </em>(the audit succeeded&#8212;logged the event) or <em class="cEmphasis">failure </em>(the audit failed&#8212;did not log the event). The auditing fanout plug-in forms a composite response in the following manner: if all responses are <em class="cEmphasis">success</em>, the composite response is <em class="cEmphasis">success</em>; otherwise, the composite response is <em class="cEmphasis">failure</em>.
</p>
<p class="pBody"><a name="wp1248797"> </a>
For default auditing, the composite response is determined solely by the default auditing plug-in. For custom auditing, the composite response is determined by the fanout plug-in after collecting the responses of the subordinate plug-ins. For more insight into how fanouts work, see <a href="secovr.html#wp1248611">Authorization Plug-in Architecture</a>.
</p>
<h3 class="pHeading2"><a name="wp1248801"> </a>
How the Auditing Plug-in Works
</h3>
<p class="pBody"><a name="wp1248802"> </a>
Auditing decisions are based partly on user identity, which is stored in an <em class="cEmphasis">auditing token</em>. Because auditing tokens are generated by the authentication security plug-in, providers of authentication and auditing plug-ins need to ensure that these plug-ins work together.
</p>
<p class="pBody"><a name="wp1253056"> </a>
An ATMI system process or server (such as /Q server <a href="../rf5/rf5.html">TMQUEUE(5)</a> or EventBroker server <a href="../rf5/rf5.html">TMUSREVT(5)</a>) calls the auditing plug-in when it receives a client request. Because it is called before an operation begins, the auditing plug-in can audit operation attempts and store data if that data will be needed later for a post-operation audit. In response, the auditing plug-in performs a pre-operation audit and returns whether the audit succeeded.
</p>
<p class="pBody"><a name="wp1248804"> </a>
The ATMI system process or server may call the auditing plug-in after the client operation is performed. In response, the auditing plug-in performs a post-operation audit and returns whether the audit succeeded.
</p>
<p class="pBody"><a name="wp1248805"> </a>
In addition, an ATMI system process or server may call the auditing plug-in when a potential security violation occurs. (Suspicion of a security violation arises when a pre-operation or post-operation <em class="cEmphasis">authorization</em> check fails, or when an attack on security is detected.) In response, the auditing performs a post-operation audit and returns whether the audit succeeded.
</p>
<p class="pBody"><a name="wp1248806"> </a>
These calls are system-level calls, not application-level calls. An ATMI application cannot call the auditing plug-in.
</p>
<p class="pBody"><a name="wp1248807"> </a>
The auditing process is somewhat different for (1) users of the default auditing plug-in provided by the Oracle Tuxedo system and (2) users of one or more custom auditing plug-ins. The default plug-in does not support pre-operation audits. If the default auditing plug-in receives a pre-operation audit request, it returns immediately and does nothing.
</p>
<p class="pBody"><a name="wp1248808"> </a>
The custom plug-ins support both pre-operation and post-operation audits.
</p>
<h4 class="pHeading3"><a name="wp1248809"> </a>
Default Auditing
</h4>
<p class="pBody"><a name="wp1248810"> </a>
The default auditing implementation consists of the Oracle Tuxedo EventBroker component and userlog (<code class="cCode">ULOG</code>). These utilities report only security violations; they do not report which operations were attempted, which ones failed, and which ones successfully completed.
</p>
<p class="pBody"><a name="wp1248811"> </a>
When default auditing is called by an ATMI process to perform a post-operation audit when a security violation is suspected, the auditing plug-in performs the following tasks.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1248812"> </a>Gets information from the client&#8217;s auditing token by calling the authentication plug-in.</li>
<p class="pBodyRelative"><a name="wp1248813"> </a>
Because the auditing token is created by the authentication plug-in, the auditing plug-in has no record of the token&#8217;s content. This information is necessary for the auditing process.
</p>
<li><a name="wp1248814"> </a>Performs a post-operation audit.</li>
<p class="pBodyRelative"><a name="wp1248815"> </a>
The auditing plug-in examines the client&#8217;s auditing token and the security violation delivered in the post-operation audit request.
</p>
<li><a name="wp1248816"> </a>Issues a decision about whether the post-operation audit succeeded.</li>
<p class="pBodyRelative"><a name="wp1248817"> </a>
The auditing <em class="cEmphasis">fanout</em> plug-in receives a decision (<em class="cEmphasis">success</em> or <em class="cEmphasis">failure</em>) from the default auditing plug-in and operates on its behalf.
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1248818"> </a>If the decision is <em class="cEmphasis">success</em>, the post-operation audit succeeded. The auditing fanout plug-in returns <em class="cEmphasis">success</em> to the calling process and logs the security violation.</li>
<li><a name="wp1248819"> </a>If the decision is <em class="cEmphasis">failure</em>, the post-operation audit failed. The auditing fanout returns <em class="cEmphasis">failure</em> to the calling process.</li>
</ul></div>
</ol></div>
<h4 class="pHeading3"><a name="wp1248820"> </a>
Custom Auditing
</h4>
<p class="pBody"><a name="wp1248821"> </a>
Users of one or more custom auditing plug-ins may take advantage of additional functionality offered by the ATMI environment of the Oracle Tuxedo product. Specifically, the custom plug-ins may perform an additional audit before an operation occurs.
</p>
<p class="pBody"><a name="wp1248822"> </a>
When custom auditing is called by an ATMI process to perform a pre-operation audit in response to a client request, the auditing plug-in performs the following tasks.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1248823"> </a>Gets information from the client&#8217;s auditing token by calling the authentication plug-in.</li>
<li><a name="wp1248824"> </a>Performs a pre-operation audit.</li>
<p class="pBodyRelative"><a name="wp1248825"> </a>
The auditing plug-in examines the client&#8217;s auditing token and may store user data if that data will be needed later for a post-operation audit.
</p>
<li><a name="wp1248826"> </a>Issues a decision about whether the pre-operation audit succeeded.</li>
<p class="pBodyRelative"><a name="wp1248827"> </a>
The auditing <em class="cEmphasis">fanout</em> plug-in makes the ultimate decision by checking the individual responses (<em class="cEmphasis">success</em> or <em class="cEmphasis">failure</em>) from its subordinate plug-ins.
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1248828"> </a>If the composite decision is <em class="cEmphasis">success</em>, the pre-operation audit succeeded. The auditing fanout plug-in returns <em class="cEmphasis">success</em> to the calling process and logs the client&#8217;s attempt to perform the operation.</li>
<li><a name="wp1248829"> </a>If the composite decision is <em class="cEmphasis">failure</em>, the pre-operation audit failed. The auditing fanout returns <em class="cEmphasis">failure</em> to the calling process.</li>
</ul></div>
</ol></div>
<p class="pBody"><a name="wp1248830"> </a>
Custom auditing may be called by the ATMI process to perform a post-operation audit after the client operation is performed. If so, the auditing plug-in performs the following tasks.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1248831"> </a>Gets information from the client&#8217;s auditing token by calling the authentication plug-in.</li>
<li><a name="wp1248832"> </a>Performs a post-operation audit.</li>
<p class="pBodyRelative"><a name="wp1248833"> </a>
The auditing plug-in examines the client&#8217;s auditing token, the completion status delivered in the post-operation audit request, and any data stored during the pre-operation audit.
</p>
<li><a name="wp1248834"> </a>Issues a decision about whether the post-operation audit succeeded.</li>
<p class="pBodyRelative"><a name="wp1248835"> </a>
The auditing <em class="cEmphasis">fanout</em> plug-in decides if the post-operation audit succeeded or failed by checking the individual responses (<em class="cEmphasis">success</em> or <em class="cEmphasis">failure</em>) from its subordinate plug-ins.
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1248836"> </a>If the composite decision is <em class="cEmphasis">success</em>, the post-operation audit succeeded. The auditing fanout plug-in returns <em class="cEmphasis">success</em> to the calling process and logs the completion status of the operation.</li>
<li><a name="wp1248837"> </a>If the composite decision is <em class="cEmphasis">failure</em>, the post-operation audit failed. The auditing fanout returns <em class="cEmphasis">failure</em> to the calling process.</li>
</ul></div>
</ol></div>
<p class="pBody"><a name="wp1248838"> </a>
An operation is considered successful if it passes both pre- and post-operation audits, and the operation itself is successful. Some companies collect and store both pre- and post-operation auditing data, even though such data can occupy a lot of disk space.
</p>
<h3 class="pHeading2"><a name="wp1248839"> </a>
Implementing Custom Auditing
</h3>
<p class="pBody"><a name="wp1248840"> </a>
You can provide auditing for your ATMI application by using the default plug-in or adding one or more custom plug-ins. You choose a plug-in by configuring the Oracle Tuxedo <em class="cEmphasis">registry</em>, a tool that controls all security plug-ins.
</p>
<p class="pBody"><a name="wp1248841"> </a>
If you want to use the default auditing plug-in, you do not need to configure the registry. If you want to add one or more custom auditing plug-ins, however, you must configure the registry for your additional plug-ins before you can install them. For more detail about the registry, see <a href="secadm.html#wp1239453">Setting the Oracle Tuxedo Registry</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1248847"> </a>
Link-Level Encryption
</h2><p class="pBody"><a name="wp1248848"> </a>
Link-level encryption (LLE) establishes data privacy for messages moving over the network links that connect the machines in an ATMI application. It employs the symmetric key encryption technique (specifically, RC4), which uses the same key for encryption and decryption.
</p>
<p class="pBody"><a name="wp1248849"> </a>
When LLE is being used, the Oracle Tuxedo system encrypts data before sending it over a network link and decrypts it as it comes off the link. The system repeats this encryption/decryption process at every link through which the data passes. For this reason, LLE is referred to as a point-to-point facility.
</p>
<p class="pBody"><a name="wp1248850"> </a>
LLE can be used on the following types of ATMI application links:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248851"> </a>Workstation client to workstation handler (WSH)</li>
<li><a name="wp1248852"> </a>Bridge-to-Bridge</li>
<li><a name="wp1248853"> </a>Administrative utility (such as <code class="cCode">tmboot</code> or <code class="cCode">tmshutdown</code>) to <code class="cCode">tlisten</code></li>
<li><a name="wp1248854"> </a>Domain gateway to domain gateway</li>
</ul></div>
<p class="pBody"><a name="wp1248855"> </a>
There are three levels of LLE security: 0-bit (no encryption), 56-bit (International), and 128-bit (United States and Canada). The International LLE version allows 0-bit and 56-bit encryption. The United States and Canada LLE version allows 0, 56, and 128-bit encryption.
</p>
<h3 class="pHeading2"><a name="wp1248857"> </a>
How LLE Works
</h3>
<p class="pBody"><a name="wp1248858"> </a>
LLE control parameters and underlying communication protocols are different for various link types, but the setup is basically the same in all cases:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248859"> </a>An <em class="cEmphasis">initiator </em>process begins the communication session.</li>
<li><a name="wp1248860"> </a>A <em class="cEmphasis">target </em>process receives the initial connection.</li>
<li><a name="wp1248861"> </a>Both processes are aware of the link-level encryption feature, and have two configuration parameters.</li>
<p class="pBodyRelative"><a name="wp1248862"> </a>
The first configuration parameter is the <em class="cEmphasis">minimum</em> encryption level that a process will accept. It is expressed as a key length: 0, 56, or 128 bits.
</p>
<p class="pBodyRelative"><a name="wp1248863"> </a>
The second configuration parameter is the <em class="cEmphasis">maximum</em> encryption level a process can support. It also is expressed as a key length: 0, 56, or 128 bits.
</p>
</ul></div>
<p class="pBody"><a name="wp1248864"> </a>
For convenience, the two parameters are denoted as (<code class="cCodeEmphasis">min</code>, <code class="cCodeEmphasis">max</code>) in the discussion that follows. For example, the values &#8220;(56, 128)&#8221; for a process mean that the process accepts at least 56-bit encryption but can support up to 128-bit encryption.
</p>
<h3 class="pHeading2"><a name="wp1248866"> </a>
Encryption Key Size Negotiation
</h3>
<p class="pBody"><a name="wp1248867"> </a>
When two processes at the opposite ends of a network link need to communicate, they must first agree on the size of the key to be used for encryption. This agreement is resolved through a two-step process of negotiation.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1248868"> </a>Each process identifies its own <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values.</li>
<li><a name="wp1248869"> </a>Together, the two processes find the largest key size supported by both.</li>
</ol></div>
<h4 class="pHeading3"><a name="wp1248870"> </a>
Determining Min-Max Values
</h4>
<p class="pBody"><a name="wp1248871"> </a>
When either of the two processes starts up, the local Oracle Tuxedo software (1) checks the bit-encryption capability of the installed LLE version by checking the LLE licensing information in the <code class="cCode">lic.txt</code> file and (2) checks the LLE <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the particular link type as specified in the two configuration files. The local software then proceeds as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1248872"> </a>If the configured <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values accommodate the installed LLE version, then the local software assigns those values as the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the process.</li>
<li><a name="wp1248873"> </a>If the configured <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values do <em class="cEmphasis">not</em> accommodate the installed LLE version, for example, if the International LLE version is installed but the configured <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values are (128, 128), then the local software issues a run-time error; link-level encryption is <em class="cEmphasis">not</em> possible at this point.</li>
<li><a name="wp1248874"> </a>If there are no <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values specified in the configurations for a particular link type, then the local software assigns 0 as the minimum value and assigns the highest bit-encryption rate possible for the installed LLE versions as the maximum value, that is, (0, 128) for the LLE when the license file specifies <code class="cCode">STRENGTH=128.</code></li>
</ul></div>
<h4 class="pHeading3"><a name="wp1248875"> </a>
Finding a Common Key Size
</h4>
<p class="pBody"><a name="wp1248876"> </a>
After the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values are determined for the two processes, the negotiation of key size begins. The negotiation process need not be encrypted or hidden. Once a key size is agreed upon, it remains in effect for the lifetime of the network connection.
</p>
<p class="pBody"><a name="wp1248877"> </a>
<a href="secovr.html#wp1248880">Table&#160;1-3</a> shows which key size, if any, is agreed upon by two processes when all possible combinations of <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values are negotiated. The header row holds the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for one process; the far left column holds the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the other.
</p>
<p class="pGraphic"><a name="wp1248991"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1248880table1248878"><caption><a name="wp1248880"> </a>
Table 1-3  Interprocess Negotiation Results

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col">&#160;</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248896"> </a>
(0, 0)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248898"> </a>
(0, 56)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248900"> </a>
(0, 128)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248902"> </a>
(56, 56)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248904"> </a>
(56, 128)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1248906"> </a>
(128, 128)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1248908"> </a>
(0, 0)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248910"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248912"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248914"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248916"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248918"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248920"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1248922"> </a>
(0, 56)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248924"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248926"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248928"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248930"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248932"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248934"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1248936"> </a>
(0, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248938"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248940"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248942"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248944"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248946"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248948"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1248950"> </a>
(56, 56)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248952"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248954"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248956"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248958"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248960"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248962"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1248964"> </a>
(56, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248966"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248968"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248970"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248972"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248974"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248976"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1248978"> </a>
(128, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248980"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248982"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248984"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248986"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248988"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1248990"> </a>
128
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1248993"> </a>
Backward Compatibility of LLE
</h3>
<p class="pBody"><a name="wp1248994"> </a>
The ATMI environment of the Oracle Tuxedo product offers some backward compatibility for LLE.
</p>
<h4 class="pHeading3"><a name="wp1248995"> </a>
Interoperating with Release 6.5 Oracle Tuxedo Software
</h4>
<p class="pBody"><a name="wp1248996"> </a>
<a href="secovr.html#wp1248999">Table&#160;1-4</a> shows which key size, if any, is agreed upon by two ATMI applications when one of them is running under release 6.5 and the other under release 7.1 or later. The header row holds the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the process running under release 7.1 or later; the far left column holds the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the process running under release 6.5.
</p>
<p class="pGraphic"><a name="wp1249110"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1248999table1248997"><caption><a name="wp1248999"> </a>
Table 1-4  Negotiation Results When Interoperating with Release 6.5 Oracle Tuxedo Software&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col">&#160;</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249015"> </a>
(0, 0)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249017"> </a>
(0, 56)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249019"> </a>
(0, 128)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249021"> </a>
(56, 56)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249023"> </a>
(56, 128)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249025"> </a>
(128, 128)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249027"> </a>
(0, 0)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249029"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249031"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249033"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249035"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249037"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249039"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249041"> </a>
(0, 40)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249043"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249045"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249047"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249049"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249051"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249053"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249055"> </a>
(0, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249057"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249059"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249061"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249063"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249065"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249067"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249069"> </a>
(40, 40)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249071"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249073"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249075"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249077"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249079"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249081"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249083"> </a>
(40, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249085"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249087"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249089"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249091"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249093"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249095"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249097"> </a>
(128, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249099"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249101"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249103"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249105"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249107"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249109"> </a>
128
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1249111"> </a>
If your current Oracle Tuxedo installation is configured for (0, 56), (0, 128), (56,&#160;56), or (56, 128), and you want to interoperate with a release 6.5 ATMI application that is configured for a maximum LLE level of 40 bits, then any negotiation results in an automatic upgrade to 56.
</p>
<p class="pBody"><a name="wp1249112"> </a>
The negotiation result in this case is the same as the negotiation result for two sites running release 6.5 and configured for a maximum LLE level of 40 bits. In both scenarios, the negotiation results in an automatic upgrade to 56.
</p>
<h4 class="pHeading3"><a name="wp1249113"> </a>
Interoperating with Pre-Release 6.5 Oracle Tuxedo Software
</h4>
<p class="pBody"><a name="wp1249114"> </a>
<a href="secovr.html#wp1249117">Table&#160;1-5</a> shows which key size, if any, is agreed upon by two ATMI applications when one of them is running under pre-release 6.5 and the other under release 7.1 or later. The header row holds the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the process running under release 7.1 or later; the far left column holds the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the process running under pre-release 6.5.
</p>
<p class="pGraphic"><a name="wp1249228"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1249117table1249115"><caption><a name="wp1249117"> </a>
Table 1-5  Negotiation Results When Interoperating with Pre-Release 6.5 Oracle Tuxedo Software

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col">&#160;</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249133"> </a>
(0, 0)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249135"> </a>
(0, 56)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249137"> </a>
(0, 128)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249139"> </a>
(56, 56)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249141"> </a>
(56, 128)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1249143"> </a>
(128, 128)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249145"> </a>
(0, 0)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249147"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249149"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249151"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249153"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249155"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249157"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249159"> </a>
(0, 40)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249161"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249163"> </a>
40
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249165"> </a>
40
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249167"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249169"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249171"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249173"> </a>
(0, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249175"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249177"> </a>
40
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249179"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249181"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249183"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249185"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249187"> </a>
(40, 40)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249189"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249191"> </a>
40
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249193"> </a>
40
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249195"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249197"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249199"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249201"> </a>
(40, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249203"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249205"> </a>
40
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249207"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249209"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249211"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249213"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1249215"> </a>
(128, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249217"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249219"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249221"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249223"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249225"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1249227"> </a>
128
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1249229"> </a>
If your current Oracle Tuxedo installation is configured for (0, 56) or (0, 128), and you want to interoperate with a pre-release 6.5 ATMI applications that is configured for a maximum LLE level of 40 bits, then the result of any negotiation is 40.
</p>
<p class="pBody"><a name="wp1249230"> </a>
If your current Oracle Tuxedo installation is configured for (56, 56), (56, 128), or (128,&#160;128), then your system <em class="cEmphasis">cannot</em> interoperate with a pre-release 6.5 ATMI application that is configured for a maximum LLE level of 40 bits. Attempts to negotiate a common key size fail.
</p>
<h3 class="pHeading2"><a name="wp1249231"> </a>
WSL/WSH Connection Timeout During Initialization
</h3>
<p class="pBody"><a name="wp1249232"> </a>
The length of time a Workstation client can take for initialization is limited. By default, this interval is 30 seconds in an ATMI application not using LLE, and 60 seconds in an ATMI application using LLE. The 60-second interval includes the time needed to negotiate an encrypted link. This time limit can be changed when LLE is configured by changing the value of the <code class="cCode">MAXINITTIME</code> parameter for the workstation listener (WSL) server in the <code class="cCode">UBBCONFIG</code> file, or the value of the <code class="cCode">TA_MAXINITTIME</code> attribute in the <code class="cCode">T_WSL</code> class of the <a href="../rf5/rf5.html">WS_MIB(5)</a>.
</p>
<h3 class="pHeading2"><a name="wp1249234"> </a>
LLE Installation and Licensing
</h3>
<p class="pBody"><a name="wp1249235"> </a>
As part of the Oracle Tuxedo system, LLE software is delivered on the Oracle Tuxedo CD-ROM. If you have an Oracle Tuxedo release 7.1 license to use LLE in the United States and Canada, you can use 56-bit or 128-bit encryption. If you have a license to use LLE on an Oracle Tuxedo system outside the United States and Canada, you can use 56-bit encryption.
</p>
<p class="pBody"><a name="wp1249236"> </a>
All Oracle Tuxedo licenses are stored in the <code class="cCode">$TUXDIR/udataobj/lic.txt</code> file on a UNIX host machine, or in the <code class="cCode">%TUXDIR%\udataobj\lic.txt</code> file on a Windows host machine.
</p>
<p class="pBody"><a name="wp1249237"> </a>
The following listing is an excerpt from a sample license file for running LLE in the United States and Canada.
</p>
<a name="wp1249238"> </a><div class="pPreformatted"><pre>[Oracle Tuxedo]<br />VERSION=9.1<br />LICENSEE=ACME CORPORATION<br />SERIAL=155566678<br />ORDERID=<br />USERS=1000<br />EXPIRATION=2006-01-31<br />SIGNATURE=TXmtx+AhQdJgr3sjjznBqRB7SP9Jgr3UzAKctjz+e6RmsFSAhUAhStj<br />&#160;&#160;&#160;znBQdL9n=</pre></div><a name="wp1249239"> </a><div class="pPreformatted"><pre>[LINK ENCRYPTION]<br />VERSION=9.1<br />LICENSEE=ACME CORPORATION<br />SERIAL=155566678<br />ORDERID=<br />USERS=1000<br />STRENGTH=128<br />EXPIRATION=2006-01-31<br />SIGNATURE=TXUAhSPnx2C9kMC0CFG+e6Rgr3UzmsFKRBPdJASAhU7KctjznBqFQsj<br />&#160;&#160;&#160;jznBdh0h=<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><h3 class="pHeading2"><a name="wp1249240"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249244"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1249248"> </a><a href="secadm.html#wp1239646">Administering Link-Level Encryption</a></li>
<li><a name="wp1249249"> </a><span class="cHyperlink">
&#8220;Distributing A</span><a href="../ads/addist.html"></a>TMI Applications Across a Network&#8221; and <span class="cHyperlink">
&#8220;Creating the Configuration File for a Distributed </span><a href="../ads/adsdis.html"></a>ATMI Application&#8221; in Setting Up an Oracle Tuxedo Application</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1303146"> </a>
SSL Encryption
</h2><p class="pBody"><a name="wp1301851"> </a>
The Oracle Tuxedo product provides the industry-standard SSL protocol to establish secure communications between client and server applications. When using the SSL protocol, principals use digital certificates to prove their identity to a peer.
</p>
<a name="wp1306056"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The actual network protocol used is TLS 1.0, which is the successor to the SSL protocol, but this document will follow common usage and refer to this protocol as SSL Encryption.</td>
</tr>
</table>

<p class="pBody"><a name="wp1301855"> </a>
Like LLE, the SSL protocol can be used with password authentication to provide confidentiality and integrity to communication between the client application and the Oracle Tuxedo domain. When using the SSL protocol with password authentication, you are prompted for the password of the Listener/Handler (IIOP, Workstation, or JOLT) defined by the <code class="cCode">SEC_PRINCIPAL_NAME</code> parameter when you enter the<code class="cCode"> tmloadcf</code> command.
</p>
<p class="pBody"><a name="wp1301673"> </a>
SSL can be used on the following types of ATMI application links:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1301674"> </a>Client to server handler (IIOP, Workstation, or JOLT)</li>
<li><a name="wp1301675"> </a>Bridge-to-Bridge</li>
<li><a name="wp1301676"> </a>Administrative utility (such as <code class="cCode">tmboot</code> or <code class="cCode">tmshutdown</code>) to <code class="cCode">tlisten</code></li>
<li><a name="wp1301677"> </a>Domain gateway to domain gateway</li>
</ul></div>
<p class="pBody"><a name="wp1306069"> </a>
There are four levels of SSL security: 0-bit (no encryption), 56-bit, 128-bit, and 256-bit. If the SSL section of the Tuxedo license file specifies <code class="cCode">STRENGTH=56</code>, only 0-bit and 56-bit SSL ciphers can be used. If the SSL section of the Tuxedo license file specifies <code class="cCode">STRENGTH=128</code>, then 0-bit, 56-bit, 128-bit, and 256-bit SSL ciphers can be used.
</p>
<h3 class="pHeading2"><a name="wp1301876"> </a>
How the SSL Protocol Works
</h3>
<p class="pBody"><a name="wp1301877"> </a>
The SSL protocol works in the following manner:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1301878"> </a>The Target Process presents its digital certificate to the initiating application.</li>
<li><a name="wp1301879"> </a>The initiating application compares the digital certificate of the Target Process against its list of trusted certificate authorities.</li>
<li><a name="wp1301880"> </a>If the initiating application validates the digital certificate of the Target Process, the application and the Target Process establish an SSL connection. </li>
<p class="pBodyRelative"><a name="wp1301881"> </a>
The initiating application can then use either password or certificate authentication to authenticate itself to the Oracle Tuxedo domain.
</p>
</ol></div>
<p class="pBody"><a name="wp1301885"> </a>
<a href="secovr.html#wp1301887">Figure&#160;1-7</a> illustrates how the SSL protocol works.
</p>
<div class="pFigureTitle"><a name="wp1301887"> </a>
Figure&#160;1-7  How the SSL Protocol Works in a Tuxedo Application
</div>

 
 <p class="pGraphic"><a name="wp1314551"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/auth4.png" alt="How the SSL Protocol Works in a Tuxedo Application" id="wp1314549" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1314558"> </a>
Requirements for Using the SSL Protocol
</h3>
<p class="pBody"><a name="wp1303035"> </a>
To use the SSL protocol in an ATMI application, you need to install a license that enables the use of the SSL protocol and PKI. For information about installing the license for the security features, see <a href="../install/index.html"><a href="../install/index.html">Installing the Oracle Tuxedo System</a>.
</p>
<a name="wp1306224"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>256-bit SSL is possible even if the license file specifies <code class="cCode">STRENGTH=128</code>.</td>
</tr>
</table>

<p class="pBody"><a name="wp1306190"> </a>
The implementation of the SSL protocol is flexible enough to fit into most public key infrastructures. The default implementation of the plug-in frame work in the Oracle Tuxedo product requires that digital certificates are stored in an LDAP-enabled directory. You can choose any LDAP-enabled directory service. You also need to choose the certificate authority from which to obtain digital certificates and private keys used in a Tuxedo application. You must have an LDAP-enabled directory service and a certificate authority in place before using the SSL protocol in a Tuxedo application.
</p>
<h3 class="pHeading2"><a name="wp1302129"> </a>
Encryption Key Size Negotiation
</h3>
<p class="pBody"><a name="wp1302130"> </a>
When two processes at the opposite ends of a network link need to communicate, they must first agree on the size of the key to be used for encryption. This agreement is resolved through a two-step process of negotiation.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1302131"> </a>Each process identifies its own <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values.</li>
<li><a name="wp1302132"> </a>Together, the two processes find the largest key size supported by both.</li>
</ol></div>
<h4 class="pHeading3"><a name="wp1302133"> </a>
Determining Min-Max Values
</h4>
<p class="pBody"><a name="wp1302134"> </a>
When either of the two processes starts up, the local Oracle Tuxedo software (1) checks the bit-encryption capability of the installed SSL version by checking the SSL licensing information in the <code class="cCode">lic.txt</code> file and (2) checks the SSL <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the particular link type as specified in the two configuration files. The local software then proceeds as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1302135"> </a>If the configured <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values accommodate the installed SSL version, then the local software assigns those values as the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the process.</li>
<li><a name="wp1306249"> </a>If the configured <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values do <em class="cEmphasis">not</em> accommodate the installed SSL version, for example, if the International SSL version is installed but the configured <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values are (128, 256), then the local software issues a run-time error; it is not possible to negotiate a connection at this point.</li>
<li><a name="wp1306272"> </a>If there are no <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values specified in the configurations for a particular link type, then the local software assigns 0 as the minimum value and assigns the highest bit-encryption rate possible for the installed SSL versions as the maximum value, that is, (0, 256) for a Tuxedo installation licensed for strong SSL encryption.</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1302138"> </a>
Finding a Common Key Size
</h4>
<p class="pBody"><a name="wp1317053"> </a>
After the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values are determined for the two processes, the negotiation of key size begins. The negotiation process need not be encrypted or hidden. Once a key size is agreed upon, it remains in effect for the lifetime of the network connection.
</p>
<p class="pBody"><a name="wp1317057"> </a>
<a href="secovr.html#wp1311444">Table&#160;1-6</a> shows which key size, if any, is agreed upon by two processes when all possible combinations of <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values are negotiated. The header row holds the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for one process; the far left column holds the <code class="cCodeEmphasis">min</code>-<code class="cCodeEmphasis">max</code> values for the other.
</p>
<p class="pGraphic"><a name="wp1311635"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1311444table1311442"><caption><a name="wp1311444"> </a>
Table 1-6  Interprocess Negotiation Results (0, 0) to (56, 256)

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col">&#160;</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311462"> </a>
(0, 0)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311464"> </a>
(0, 56)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311466"> </a>
(0, 128)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311468"> </a>
(0, 256)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311470"> </a>
(56, 56)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311472"> </a>
(56, 128)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311474"> </a>
(56, 256)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311476"> </a>
(0, 0)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311478"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311480"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311482"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311484"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311486"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311488"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311490"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311492"> </a>
(0, 56)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311494"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311496"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311498"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311500"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311502"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311504"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311506"> </a>
56
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311508"> </a>
(0, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311510"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311512"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311514"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311516"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311518"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311520"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311522"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311524"> </a>
(0, 256)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311526"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311528"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311530"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311532"> </a>
256
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311534"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311536"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311538"> </a>
256
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311540"> </a>
(56, 56)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311542"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311544"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311546"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311548"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311550"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311552"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311554"> </a>
56
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311556"> </a>
(56, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311558"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311560"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311562"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311564"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311566"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311568"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311570"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311572"> </a>
(56, 256)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311574"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311576"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311578"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311580"> </a>
256
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311582"> </a>
56
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311584"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311586"> </a>
256
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311588"> </a>
(128, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311590"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311592"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311594"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311596"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311598"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311600"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311602"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311604"> </a>
(128,256)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311606"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311608"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311610"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311612"> </a>
256
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311614"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311616"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311618"> </a>
256
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311620"> </a>
(256,256)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311622"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311624"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311626"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311628"> </a>
256
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311630"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311632"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311634"> </a>
256
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pGraphic"><a name="wp1311838"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1311923table1311645"><caption><a name="wp1311923"> </a>
Table 1-7  Interprocess Negotiation Results (128, 128) to (256, 256)

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col">&#160;</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311933"> </a>
(128, 128) 
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311935"> </a>
(128, 256)
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1311937"> </a>
(256, 256)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311939"> </a>
(0, 0)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311941"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312057"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312059"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311947"> </a>
(0, 56)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311949"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312061"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312063"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311955"> </a>
(0, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311957"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311959"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311961"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311963"> </a>
(0, 256)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311965"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311967"> </a>
256
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311969"> </a>
256
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311971"> </a>
(56, 56)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311973"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312071"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311977"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311979"> </a>
(56, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311981"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311983"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311985"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311987"> </a>
(56, 256)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311989"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311991"> </a>
256
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311993"> </a>
256
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1311995"> </a>
(128, 128)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311997"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1311999"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312001"> </a>
ERROR
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1312003"> </a>
(128,256)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312005"> </a>
128
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312007"> </a>
256
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312009"> </a>
256
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1312011"> </a>
(256,256)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312013"> </a>
ERROR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312015"> </a>
256
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312017"> </a>
256
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1311643"> </a>
Backward Compatibility of SSL
</h3>
<p class="pBody"><a name="wp1311638"> </a>
In order to use SSL between two Tuxedo processes, both processes must be running Tuxedo 10.0 or later (except when using the CORBA SSL capabilities described in &quot;Using Security in CORBA Applications.&quot;  It is possible to specify both non-SSL and SSL ports for WSL and JSL processes and to specify SSL or LLE connectivity for individual entries in the *DM_TDOMAIN section of a DMCONFIG file.  In this way, it is possible to gradually migrate a workstation or domain application to use SSL as individual workstation clients and Tuxedo domains are upgraded to Tuxedo 10.
</p>
<a name="wp1306570"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>It is not possible to use SSL between BRIDGE and tlisten processes in an MP mode application until all machines in the Tuxedo domain are upgraded to Tuxedo 10.0 or later.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1302494"> </a>
WSL/WSH Connection Timeout During Initialization
</h3>
<p class="pBody"><a name="wp1302495"> </a>
The length of time a Workstation client can take for initialization is limited. By default, this interval is 60. The 60-second interval includes the time needed to negotiate an encrypted link. This time limit can be changed when WSL is configured by changing the value of the <code class="cCode">MAXINITTIME</code> parameter for the workstation listener (WSL) server in the <code class="cCode">UBBCONFIG</code> file, or the value of the <code class="cCode">TA_MAXINITTIME</code> attribute in the <code class="cCode">T_WSL</code> class of the <a href="../rf5/rf5.html">WS_MIB(5)</a>.
</p>
<h3 class="pHeading2"><a name="wp1314604"> </a>
Supported Cipher Suites
</h3>
<p class="pBody"><a name="wp1314605"> </a>
A cipher suite is a SSL encryption method that includes the key exchange algorithm, the symmetric encryption algorithm, and the secure hash algorithm used to protect the integrity of the communication. For example, the cipher suite <code class="cCode">RSA_WITH_RC4_128_MD5</code> uses RSA for key exchange, RC4 with a 128-bit key for bulk encryption, and MD5 for message digest. 
</p>
<p class="pBody"><a name="wp1314610"> </a>
The ATMI security environment supports the cipher suites described in <a href="secovr.html#wp1314614">Table&#160;1-8</a>.
</p>
<p class="pGraphic"><a name="wp1314697"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1314614table1314611"><caption><a name="wp1314614"> </a>
Table 1-8  SSL Cipher Suites Supported by the ATMI Security Environment

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1314620"> </a>
Cipher Suite
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1314622"> </a>
Key Exchange Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1314624"> </a>
Symmetric Key <br />Strength
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314626"> </a>
TLS_RSA_WITH_AES_256_CBC_SHA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314628"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314630"> </a>
256
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314632"> </a>
<code class="cCode">SSL_RSA_WITH_RC4_128_SHA</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314634"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314636"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314638"> </a>
<code class="cCode">SSL_RSA_WITH_RC4_128_MD5</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314640"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314642"> </a>
128
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314644"> </a>
<code class="cCode">SSL_RSA_WITH_DES_CDC_SHA</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314646"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314648"> </a>
56
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314650"> </a>
<code class="cCode">SSL_RSA_EXPORT_WITH_RC4_40_MD5</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314652"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314654"> </a>
40
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314656"> </a>
<code class="cCode">SSL_RSA_EXPORT_WITH_DES40_CBC_SHA</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314658"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314660"> </a>
40
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314662"> </a>
<code class="cCode">SSL_RSA_EXPORT_WITH_RC2_CBC_40_MD5</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314664"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314666"> </a>
40
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314668"> </a>
<code class="cCode">SSL_DH_DSS_EXPORT_WITH_DES40_CBC_SHA</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314670"> </a>
Diffie- Hellman
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314672"> </a>
40
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314674"> </a>
<code class="cCode">SSL_DH_RSA_EXPORT_WITH_DES40_CBC_SHA</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314676"> </a>
Diffie- Hellman
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314678"> </a>
40
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314680"> </a>
<code class="cCode">SSL_RSA_WITH_3DES_EDE_CBC_SHA</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314682"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314684"> </a>
112
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314686"> </a>
SSL_RSA_WITH_NULL_SHA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314688"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314690"> </a>
0
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314692"> </a>
SSL_RSA_WITH_NULL_MD5
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314694"> </a>
RSA
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1314696"> </a>
0
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1302500"> </a>
SSL Installation and Licensing
</h3>
<p class="pBody"><a name="wp1302501"> </a>
As part of the Oracle Tuxedo system, SSL software is delivered on the Oracle Tuxedo CD-ROM. If you have an Oracle Tuxedo release 7.1 license to use SSL you can use 256-bit encryption.
</p>
<p class="pBody"><a name="wp1302502"> </a>
All Oracle Tuxedo licenses are stored in the <code class="cCode">$TUXDIR/udataobj/lic.txt</code> file on a UNIX host machine, or in the <code class="cCode">%TUXDIR%\udataobj\lic.txt</code> file on a Windows host machine.
</p>
<p class="pBody"><a name="wp1302503"> </a>
The following listing is an excerpt from a sample license file for running SSL.
</p>
<a name="wp1302504"> </a><div class="pPreformatted"><pre>[Oracle Tuxedo]<br />VERSION=10.0<br />LICENSEE=ACME CORPORATION<br />SERIAL=155566678<br />ORDERID=<br />USERS=1000<br />EXPIRATION=2006-01-31<br />SIGNATURE=TXmtx+AhQdJgr3sjjznBqRB7SP9Jgr3UzAKctjz+e6RmsFSAhUAhStj<br />&#160;&#160;&#160;znBQdL9n=</pre></div><a name="wp1302505"> </a><div class="pPreformatted"><pre>[SSL ENCRYPTION]<br />VERSION=10.0<br />LICENSEE=ACME CORPORATION<br />SERIAL=155566678<br />ORDERID=<br />USERS=1000<br />STRENGTH=128<br />EXPIRATION=2006-01-31<br />SIGNATURE=TXUAhSPnx2C9kMC0CFG+e6Rgr3UzmsFKRBPdJASAhU7KctjznBqFQsj<br />&#160;&#160;&#160;jznBdh0h=<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><h3 class="pHeading2"><a name="wp1302506"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1302510"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1302514"> </a><a href="secadm.html#wp1489429">Administering SSL Encryption</a></li>
<li><a name="wp1317564"> </a><span class="cHyperlink">
&#8220;Distributing ATMI</span><a href="../ads/addist.html"></a> Applications Across a Network&#8221; and <span class="cHyperlink">
&#8220;Creating the Configuration File for a Distributed AT</span><a href="../ads/adsdis.html"></a>MI Application&#8221; on page&#160;10-1 in Setting Up an Oracle Tuxedo Application</li>
<li><a name="wp1317572"> </a><span class="cHyperlink">
<a href="../security/publickey.html">Using Security in CORBA Applications</a></span></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1302040"> </a>
Public Key Security
</h2><p class="pBody"><a name="wp1249256"> </a>
Public key security provides two capabilities that make end-to-end digital signing and data encryption possible:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249257"> </a>Message-based digital signature</li>
<li><a name="wp1249258"> </a>Message-based encryption</li>
</ul></div>
<p class="pBody"><a name="wp1249259"> </a>
Message-based digital signature allows the recipient (or recipients) of a message to identify and authenticate both the sender and the sent message. Digital signature provides solid proof of the originator and content of a message; a sender cannot falsely repudiate responsibility for a message to which that sender&#8217;s digital signature is attached. Thus, for example, Bob cannot issue a request for a withdrawal from his bank account and later claim that someone else issued that request.
</p>
<p class="pBody"><a name="wp1249260"> </a>
In addition, message-based encryption protects the confidentiality of messages by ensuring that only designated recipients can decrypt and read them.
</p>
<h3 class="pHeading2"><a name="wp1249261"> </a>
PKCS-7 Compliant
</h3>
<p class="pBody"><a name="wp1249262"> </a>
Informal but recognized industry standards for public key software have been issued by a group of leading communications companies, led by RSA Laboratories. These standards are called Public-Key Cryptography Standards, or PKCS. The public key software in the ATMI environment of the Oracle Tuxedo software complies with the PKCS-7 standard.
</p>
<p class="pBody"><a name="wp1249263"> </a>
PKCS-7 is a <em class="cEmphasis">hybrid cryptosystem</em> architecture. A <em class="cEmphasis">symmetric key algorithm</em> with a random <em class="cEmphasis">session key </em>is used to encrypt a message, and a <em class="cEmphasis">public key algorithm</em> is used to encrypt the random session key. A random number generator creates a new session key for each communication, which makes it difficult for a would-be attacker to reuse previous communications.
</p>
<h3 class="pHeading2"><a name="wp1249265"> </a>
Supported Algorithms for Public Key Security
</h3>
<p class="pBody"><a name="wp1249266"> </a>
All the algorithms on which public key security is based are well known and commercially available. To select the algorithms that will best serve your ATMI application, consider the following factors: speed, degree of security, and licensing restrictions (for example, the United States government restricts the algorithms that it allows to be exported to other countries).
</p>
<h4 class="pHeading3"><a name="wp1249267"> </a>
Public Key Algorithms
</h4>
<p class="pBody"><a name="wp1249268"> </a>
The public key security in the ATMI environment of the Oracle Tuxedo product supports any public key algorithms supported by the underlying plug-ins, including RSA, ElGamal, and Rabin. (RSA stands for Rivest, Shamir, and Adelman, the inventors of the RSA algorithm.) All these algorithms can be used for digital signatures and encryption.
</p>
<p class="pBody"><a name="wp1249270"> </a>
Public key (or <em class="cEmphasis">asymmetric key</em>) algorithms such as RSA are implemented through a pair of different but mathematically related keys:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249271"> </a>A public key (which is distributed widely) for verifying a digital signature or transforming data into a seemingly unintelligible form.</li>
<li><a name="wp1249272"> </a>A private key (which is always kept secret) for creating a digital signature or returning the data to its original form.</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1249273"> </a>
Digital Signature Algorithms
</h4>
<p class="pBody"><a name="wp1249274"> </a>
The public key security in the ATMI environment of the Oracle Tuxedo product supports any digital signature algorithms supported by the underlying plug-ins, including RSA, ElGamal, Rabin, and Digital Signature Algorithm (DSA). With the exception of DSA, all these algorithms can be used for digital signatures and encryption. DSA can be used for digital signatures but not for encryption.
</p>
<p class="pBody"><a name="wp1249276"> </a>
Digital signature algorithms are simply public key algorithms used to provide digital signatures. DSA is also a public key algorithm (implemented through public-private key pairs), but it can only be used to provide digital signatures, not encryption.
</p>
<h4 class="pHeading3"><a name="wp1249277"> </a>
Symmetric Key Algorithms
</h4>
<p class="pBody"><a name="wp1249278"> </a>
Public key security supports the following three symmetric key algorithms:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249279"> </a>DES-CBC (Data Encryption Standard for Cipher Block Chaining)</li>
<p class="pBodyRelative"><a name="wp1249281"> </a>
DES-CBC is a 64-bit block cipher run in Cipher Block Chaining (CBC) mode. It provides 56-bit keys (8 parity bits are stripped from the full 64-bit key) and is exportable outside the United States.
</p>
<li><a name="wp1249282"> </a>Two-key triple-DES (Data Encryption Standard)</li>
<p class="pBodyRelative"><a name="wp1249284"> </a>
Two-key triple-DES is a 128-bit block cipher run in Encrypt-Decrypt-Encrypt (EDE) mode. Two-key triple-DES provides two 56-bit keys (in effect, a 112-bit key) and is <em class="cEmphasis">not</em> exportable outside the United States.
</p>
<p class="pBodyRelative"><a name="wp1249285"> </a>
For some time it has been common practice to protect and transport a key for DES encryption with triple-DES, which means that the input data (in this case the single-DES key) is encrypted, decrypted, and then encrypted again (an encrypt-decrypt-encrypt process). The same key is used for the two encryption operations.
</p>
<li><a name="wp1249286"> </a>RC2 (Rivest&#8217;s Cipher 2)</li>
<p class="pBodyRelative"><a name="wp1249288"> </a>
RC2 is a variable key-size block cipher with a key size range of 40 to 128 bits. It is faster than DES and is exportable with a key size of 40 bits. A 56-bit key size is allowed for foreign subsidiaries and overseas offices of United States companies. In the United States, RC2 can be used with keys of virtually unlimited length, although the ATMI public key security restricts the key length to 128 bits.
</p>
</ul></div>
<p class="pBody"><a name="wp1249289"> </a>
Oracle Tuxedo customers cannot expand or modify this list of algorithms.
</p>
<p class="pBody"><a name="wp1249291"> </a>
In symmetric key algorithms, the same key is used to encrypt and decrypt a message. The public key encryption system uses symmetric key encryption to encrypt a message sent between two communicating entities. Symmetric key encryption operates at least 1000 times faster than public key cryptography.
</p>
<p class="pBody"><a name="wp1249292"> </a>
A block cipher is a type of symmetric key algorithm that transforms a fixed-length block of <em class="cEmphasis">plaintext</em> (unencrypted text) data into a block of <em class="cEmphasis">ciphertext</em> (encrypted text) data of the same length. This transformation takes place in accordance with the value of a randomly generated session key. The fixed length is called the block size.
</p>
<h4 class="pHeading3"><a name="wp1249293"> </a>
Message Digest Algorithms
</h4>
<p class="pBody"><a name="wp1249295"> </a>
Public key security supports any message digest algorithms supported by the underlying plug-ins, including MD5, SHA-1 (Secure Hash Algorithm 1), and many others. Both MD5 and SHA-1 are well known, one-way hash algorithms. A one-way hash algorithm takes a message and converts it into a fixed string of digits, which is referred to as a <em class="cEmphasis">message digest </em>or <em class="cEmphasis">hash value</em>.
</p>
<p class="pBody"><a name="wp1249296"> </a>
MD5 is a high-speed, 128-bit hash; it is intended for use with 32-bit machines. SHA-1 offers more security by using a 160-bit hash, but is slower than MD5.
</p>
<h3 class="pHeading2"><a name="wp1249297"> </a>
Public Key Installation and Licensing
</h3>
<p class="pBody"><a name="wp1249298"> </a>
As part of the Oracle Tuxedo system, the software for message-based digital signature and message-based encryption is delivered on the Oracle Tuxedo CD-ROM, but cannot be used without a separate license. All Oracle Tuxedo licenses are in the <code class="cCode">$TUXDIR/udataobj/lic.txt</code> file on a UNIX host machine, or in the <code class="cCode">%TUXDIR%\udataobj\lic.txt</code> file on a Windows 2003 host machine.
</p>
<p class="pBody"><a name="wp1249299"> </a>
The following listing is an excerpt from a sample license file for message-based digital signature and message-based encryption.
</p>
<a name="wp1249300"> </a><div class="pPreformatted"><pre>[Oracle Tuxedo]<br />VERSION=9.1<br />LICENSEE=ACME CORPORATION<br />SERIAL=155566678<br />ORDERID=<br />USERS=1000<br />EXPIRATION=2006-01-31<br />SIGNATURE=TXmtx+AhQdJgr3sjjznBqRB7SP9Jgr3UzAKctjz+e6RmsFSAhUAhStj<br />&#160;&#160;&#160;znBQdL9n=<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.<br />&#160;&#160;&#160;.</pre></div><a name="wp1249301"> </a><div class="pPreformatted"><pre>[PK ENCRYPTION]<br />VERSION=9.1<br />LICENSEE=ACME CORPORATION<br />SERIAL=155566678<br />ORDERID=<br />USERS=1000<br />STRENGTH=128<br />EXPIRATION=2006-01-31<br />SIGNATURE=TX0CFHkaBpKpAlXGEtQqi+/jJvMo1VB9AhUAUAkizwsgYefRwQJDNTF<br />&#160;&#160;&#160;0205b1ik=</pre></div><a name="wp1249302"> </a><div class="pPreformatted"><pre>[PK SIGNATURE]<br />VERSION=9.1<br />LICENSEE=ACME CORPORATION<br />SERIAL=155566678<br />ORDERID=<br />USERS=1000<br />STRENGTH=128<br />EXPIRATION=2006-01-31<br />SIGNATURE=TX0CiqA5FCAXJFXUEGvAki+gL+i09eRep9hYdshS/8a70MIJQChUAk9<br />&#160;&#160;&#160;zIAhUIH4=</pre></div><h3 class="pHeading2"><a name="wp1249303"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249307"> </a><a href="secovr.html#wp1249333">Message-based Digital Signature</a></li>
<li><a name="wp1249311"> </a><a href="secovr.html#wp1249893">Message-based Encryption</a></li>
<li><a name="wp1249315"> </a><a href="secovr.html#wp1250009">Public Key Implementation</a></li>
<li><a name="wp1249319"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1249323"> </a><a href="secadm.html#wp1485558">Administering Public Key Security</a></li>
<li><a name="wp1249327"> </a><a href="secpgm.html#wp1258083">Programming an ATMI Application with Security</a></li>
<li><a name="wp1249331"> </a><a href="secpgm.html#wp1258289">Writing Security Code to Protect Data Integrity and Privacy</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1249333"> </a>
Message-based Digital Signature
</h2><p class="pBody"><a name="wp1249334"> </a>
Message-based digital signatures enhance ATMI security by allowing a message originator to prove its identity, and by binding that proof to a specific message buffer. Mutually authenticated and tamper-proof communication is considered essential for ATMI applications that transport data over the Internet, either between companies or between a company and the general public. It also is critical for ATMI applications deployed over insecure internal networks.
</p>
<p class="pBody"><a name="wp1249335"> </a>
The scope of protection for a message-based digital signature is end-to-end: a message buffer is protected from the time it leaves the originating process until the time it is received at the destination process. It is protected at all intermediate transit points, including temporary message queues, disk-based queues, and system processes, and during transmission over inter-server network links.
</p>
<p class="pBody"><a name="wp1249336"> </a>
<a href="secovr.html#wp1249338">Figure&#160;1-8</a> shows how end-to-end message-based digital signature works.
</p>
<div class="pFigureTitle"><a name="wp1249338"> </a>
Figure&#160;1-8  ATMI PKCS-7 End-to-End Digital Signing
</div>

 
 <p class="pGraphic"><a name="wp1249449"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-08.gif" height="426" width="555" alt="ATMI PKCS-7 End-to-End Digital Signing" id="wp1249340"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1249450"> </a>
Message-based digital signature involves generating a digital signature by computing a message digest on the message, and then encrypting the message digest with the sender&#8217;s private key. The recipient verifies the signature by decrypting the encrypted message digest with the signer&#8217;s public key, and then comparing the recovered message digest to an independently computed message digest. The signer&#8217;s public key either is contained in a <em class="cEmphasis">digital certificate</em> included in the signer information, or is referenced by an issuer-distinguished name and issuer-specific serial number that uniquely identify the certificate for the public key.
</p>
<h3 class="pHeading2"><a name="wp1249451"> </a>
Digital Certificates
</h3>
<p class="pBody"><a name="wp1249452"> </a>
Digital certificates are electronic files used to uniquely identify individuals and resources over networks such as the Internet. A digital certificate securely binds the identity of an individual or resource, as verified by a trusted third party known as a <em class="cEmphasis">Certification Authority</em>, to a particular public key. Because no two public keys are ever identical, a public key can be used to identify its owner.
</p>
<p class="pBody"><a name="wp1249453"> </a>
Digital certificates allow verification of the claim that a specific public key does in fact belong to a specific subscriber. A recipient of a certificate can use the public key listed in the certificate to verify that the digital signature was created with the corresponding private key. If such verification is successful, this chain of reasoning provides assurance that the corresponding private key is held by the subscriber named in the certificate, and that the digital signature was created by that particular subscriber.
</p>
<p class="pBody"><a name="wp1249454"> </a>
A certificate typically includes a variety of information, such as: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249455"> </a>The name of the subscriber (holder, owner) and other identification information required to uniquely identify the subscriber, such as the URL of the Web server using the certificate, or an individual&#8217;s e-mail address.</li>
<li><a name="wp1249456"> </a>The subscriber&#8217;s public key.</li>
<li><a name="wp1249457"> </a>The name of the Certification Authority that issued the certificate.</li>
<li><a name="wp1249458"> </a>A serial number.</li>
<li><a name="wp1249459"> </a>The validity period (or lifetime) of the certificate (defined by a start date and an end date).</li>
</ul></div>
<p class="pBody"><a name="wp1249460"> </a>
The most widely accepted format for certificates is defined by the ITU-T X.509 international standard. Thus, certificates can be read or written by any ATMI application complying with X.509. The public key security in the ATMI environment of the Oracle Tuxedo product recognizes certificates that comply with X.509 version 3, or X.509v3.
</p>
<h3 class="pHeading2"><a name="wp1249461"> </a>
Certification Authority
</h3>
<p class="pBody"><a name="wp1249462"> </a>
Certificates are issued by a Certification Authority, or CA. Any trusted third-party organization or company that is willing to vouch for the identities of those to whom it issues certificates and public keys can be a CA. When it creates a certificate, the CA signs the certificate with its private key, to obtain a digital signature. The CA then returns the certificate with the signature to the subscriber; these two parts&#8212;the certificate and the CA&#8217;s signature&#8212;together form a valid certificate.
</p>
<p class="pBody"><a name="wp1249463"> </a>
The subscriber and others can verify the issuing CA&#8217;s digital signature by using the CA&#8217;s public key. The CA makes its public key readily available by publicizing that key or by providing a certificate from a higher-level CA attesting to the validity of the lower-level CA&#8217;s public key. The second solution gives rise to hierarchies of CAs.
</p>
<p class="pBody"><a name="wp1249464"> </a>
The recipient of an encrypted message can develop trust in the CA&#8217;s private key <em class="cEmphasis">recursively</em>, if the recipient has a certificate containing the CA&#8217;s public key signed by a superior CA whom the recipient already trusts. In this sense, a certificate is a stepping stone in digital trust. Ultimately, it is necessary to trust only the public keys of a small number of top-level CAs. Through a chain of certificates, trust in a large number of users&#8217; signatures can be established.
</p>
<p class="pBody"><a name="wp1249465"> </a>
Thus, digital signatures establish the identities of communicating entities, but a signature can be trusted only to the extent that the public key for verifying the signature can be trusted.
</p>
<p class="pBody"><a name="wp1265704"> </a>
Note that Oracle Systems has no plans to become a CA. By offering a public key plug-in interface, Oracle Systems extends the opportunity to all Oracle Tuxedo customers to select a CA of their choice.
</p>
<h3 class="pHeading2"><a name="wp1249808"> </a>
Certificate Repositories
</h3>
<p class="pBody"><a name="wp1249809"> </a>
To make a public key and its identification with a specific subscriber readily available for use in verification, the digital certificate may be published in a repository or made available by other means. Repositories are databases of certificates and other information available for retrieval and use in verifying digital signatures. Retrieval can be accomplished automatically by having the verification program directly request certificates from the repository as needed.
</p>
<h3 class="pHeading2"><a name="wp1249810"> </a>
Public-Key Infrastructure
</h3>
<p class="pBody"><a name="wp1249811"> </a>
The Public-Key Infrastructure (PKI) consists of protocols, services, and standards supporting applications of public key cryptography. Because the technology is still relatively new, the term PKI is somewhat loosely defined: sometimes &#8220;PKI&#8221; simply refers to a trust hierarchy based on public key certificates; in other contexts, it embraces digital signature and encryption services provided to end-user applications as well.
</p>
<p class="pBody"><a name="wp1249812"> </a>
There is no single standard public key infrastructure today, though efforts are underway to define one. It is not yet clear whether a standard will be established or multiple independent PKIs will evolve with varying degrees of interoperability. In this sense, the state of PKI technology today can be viewed as similar to local and wide-area network technology in the 1980s, before there was widespread connectivity via the Internet.
</p>
<p class="pBody"><a name="wp1249813"> </a>
The following services are likely to be found in a PKI:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249814"> </a>Key registration: for issuing a new certificate for a public key</li>
<li><a name="wp1249815"> </a>Certificate revocation: for canceling a previously issued certificate</li>
<li><a name="wp1249816"> </a>Key selection: for obtaining a party&#8217;s public key </li>
<li><a name="wp1249817"> </a>Trust evaluation: for determining whether a certificate is valid and which operations it authorizes</li>
</ul></div>
<p class="pBody"><a name="wp1249818"> </a>
<a href="secovr.html#wp1249819">Figure&#160;1-9</a> shows the PKI process flow.
</p>
<div class="pFigureTitle"><a name="wp1249819"> </a>
Figure&#160;1-9  PKI Process Flow
</div>

 
 <p class="pGraphic"><a name="wp1249863"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-09.gif" height="134" width="458" alt="PKI Process Flow" id="wp1249821"/></div><p class="pGraphic">

</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1249864"> </a>Subscriber applies to Certification Authority (CA) for digital certificate.</li>
<li><a name="wp1249865"> </a>CA verifies identity of subscriber and issues digital certificate.</li>
<li><a name="wp1249866"> </a>CA publishes certificate to repository.</li>
<li><a name="wp1249867"> </a>Subscriber digitally signs electronic message with private key to ensure sender authenticity, message integrity, and non-repudiation, and then sends message to recipient. </li>
<li><a name="wp1249868"> </a>Recipient receives message, verifies digital signature with subscriber&#8217;s public key, and goes to repository to check status and validity of subscriber&#8217;s certificate.</li>
<li><a name="wp1249869"> </a>Repository returns results of status check on subscriber&#8217;s certificate to recipient.</li>
</ol></div>
<p class="pBody"><a name="wp1249870"> </a>
Note that Oracle Systems has no plans to become a PKI vendor. By offering a public key plug-in interface, Oracle Systems extends the opportunity to all Oracle Tuxedo customers to use a PKI security solution with the PKI software from their vendor of choice.
</p>
<h3 class="pHeading2"><a name="wp1249871"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249875"> </a><a href="secovr.html#wp1250009">Public Key Implementation</a></li>
<li><a name="wp1249879"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1249883"> </a><a href="secadm.html#wp1485558">Administering Public Key Security</a></li>
<li><a name="wp1249887"> </a><a href="secpgm.html#wp1258083">Programming an ATMI Application with Security</a></li>
<li><a name="wp1249891"> </a><a href="secpgm.html#wp1258289">Writing Security Code to Protect Data Integrity and Privacy</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1249893"> </a>
Message-based Encryption
</h2><p class="pBody"><a name="wp1249894"> </a>
Message-based encryption keeps data private, which is essential for ATMI applications that transport data over the Internet, whether between companies or between a company and its customers. Data privacy is also critical for ATMI applications deployed over insecure internal networks.
</p>
<p class="pBody"><a name="wp1249895"> </a>
Message-based encryption also helps ensure message integrity, because it is more difficult for an attacker to modify a message when the content is obscured.
</p>
<p class="pBody"><a name="wp1249896"> </a>
The scope of protection provided by message-based encryption is end-to-end; a message buffer is protected from the time it leaves the originating process until the time it is received at the destination process. It is protected at all intermediate transit points, including temporary message queues, disk-based queues, and system processes, and during transmission over interserver network links.
</p>
<p class="pBody"><a name="wp1249897"> </a>
<a href="secovr.html#wp1249899">Figure&#160;1-10</a> shows how end-to-end message-based encryption works.
</p>
<div class="pFigureTitle"><a name="wp1249899"> </a>
Figure&#160;1-10  ATMI PKCS-7 End-to-End Encryption
</div>

 
 <p class="pGraphic"><a name="wp1249982"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-10.gif" height="400" width="555" alt="ATMI PKCS-7 End-to-End Encryption" id="wp1249901"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1249983"> </a>
The message is encrypted by a symmetric key algorithm and a session key. Then, the session key is encrypted by the recipient&#8217;s public key. Next, the recipient decrypts the encrypted session key with the recipient&#8217;s private key. Finally, the recipient decrypts the encrypted message with the session key to obtain the message content.
</p>
<a name="wp1249984"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The figure does not show two other steps in this process: (1) the data is compressed immediately before the message is encrypted; and (2) the data is uncompressed immediately after the message is decrypted.</td>
</tr>
</table>

<p class="pBody"><a name="wp1249985"> </a>
Because the unit of encryption is an ATMI message buffer, message-based encryption is compatible with all existing ATMI programming interfaces and communication paradigms. The encryption process is always the same, whether it is being performed on messages shipped between two processes in a single machine, or on messages sent between two machines through a network.
</p>
<h3 class="pHeading2"><a name="wp1249986"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1249990"> </a><a href="secovr.html#wp1250009">Public Key Implementation</a></li>
<li><a name="wp1249994"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1249998"> </a><a href="secadm.html#wp1485558">Administering Public Key Security</a></li>
<li><a name="wp1250002"> </a><a href="secpgm.html#wp1258083">Programming an ATMI Application with Security</a></li>
<li><a name="wp1250006"> </a><a href="secpgm.html#wp1258289">Writing Security Code to Protect Data Integrity and Privacy</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1250009"> </a>
Public Key Implementation
</h2><p class="pBody"><a name="wp1250010"> </a>
The underlying plug-in interface for public key security consists of six component interfaces, each of which requires one or more plug-ins. By instantiating these interfaces with your preferred plug-ins, you can bring custom message-based digital signature and message-based encryption to your ATMI application.
</p>
<p class="pBody"><a name="wp1250011"> </a>
The six component interfaces are:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1250012"> </a>Public key initialization</li>
<li><a name="wp1250013"> </a>Key management</li>
<li><a name="wp1250014"> </a>Certificate lookup</li>
<li><a name="wp1250015"> </a>Certificate parsing</li>
<li><a name="wp1250016"> </a>Certificate validation</li>
<li><a name="wp1250017"> </a>Proof material mapping</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1250018"> </a>
Public Key Initialization
</h3>
<p class="pBody"><a name="wp1250019"> </a>
The public key initialization interface allows public key software to open public and private keys. For example, gateway processes may need to have access to a specific private key in order to decrypt messages before routing them. This interface is implemented as a <em class="cEmphasis">fanout</em>.
</p>
<h3 class="pHeading2"><a name="wp1250020"> </a>
Key Management
</h3>
<p class="pBody"><a name="wp1250021"> </a>
The key management interface allows public key software to manage and use public and private keys. Note that message digests and session keys are encrypted and decrypted using this interface, but no bulk data encryption is performed using public key cryptography. Bulk data encryption is performed using symmetric key cryptography.
</p>
<h3 class="pHeading2"><a name="wp1250022"> </a>
Certificate Lookup
</h3>
<p class="pBody"><a name="wp1250023"> </a>
The certificate lookup interface allows public key software to retrieve X.509v3 certificates for a given <em class="cEmphasis">principal</em>. Principals are authenticated users. The certificate database may be stored using any appropriate tool, such as Lightweight Directory Access Protocol (LDAP), Microsoft Active Directory, Netware Directory Service (NDS), or local files.
</p>
<h3 class="pHeading2"><a name="wp1250024"> </a>
Certificate Parsing
</h3>
<p class="pBody"><a name="wp1250025"> </a>
The certificate parsing interface allows public key software to associate a simple principal name with an X.509v3 certificate. The parser analyzes a certificate to generate a principal name to be associated with the certificate.
</p>
<h3 class="pHeading2"><a name="wp1250026"> </a>
Certificate Validation
</h3>
<p class="pBody"><a name="wp1250027"> </a>
The certificate validation interface allows public key software to validate an X.509v3 certificate in accordance with specific business logic. This interface is implemented as a <em class="cEmphasis">fanout</em>, which allows Oracle Tuxedo customers to use their own business rules to determine the validity of a certificate.
</p>
<h3 class="pHeading2"><a name="wp1250028"> </a>
Proof Material Mapping
</h3>
<p class="pBody"><a name="wp1250029"> </a>
The proof material mapping interface allows public key software to access the proof materials needed to open keys, provide authorization tokens, and provide auditing tokens.
</p>
<h3 class="pHeading2"><a name="wp1250030"> </a>
Implementing Custom Public Key Security
</h3>
<p class="pBody"><a name="wp1250031"> </a>
You can provide public key security for your ATMI application by using custom plug-ins. You choose a plug-in by configuring the Oracle Tuxedo <em class="cEmphasis">registry</em>, a tool that controls all security plug-ins.
</p>
<p class="pBody"><a name="wp1250032"> </a>
If you want to use custom public key plug-ins, you must configure the registry for your public key plug-ins before you can install them. For more detail about the registry, see <a href="secadm.html#wp1239453">Setting the Oracle Tuxedo Registry</a>.
</p>
<h3 class="pHeading2"><a name="wp1250037"> </a>
Default Public Key Implementation
</h3>
<p class="pBody"><a name="wp1250038"> </a>
The default public key implementation supports the following algorithms:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1250039"> </a>Public key algorithms: RSA</li>
<li><a name="wp1250040"> </a>Digital signature algorithms: RSA and DSA</li>
<li><a name="wp1250041"> </a>Symmetric key algorithms:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1250042"> </a>DES-CBC</li>
<li><a name="wp1250043"> </a>Two-key triple-DES</li>
<li><a name="wp1250044"> </a>RC2</li>
</ul></div>
<li><a name="wp1250045"> </a>Message digest algorithms:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1250046"> </a>MD5</li>
<li><a name="wp1250047"> </a>SHA-1</li>
</ul></div>
</ul></div>
<h3 class="pHeading2"><a name="wp1250048"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1250052"> </a><a href="secovr.html#wp1302040">Public Key Security</a></li>
<li><a name="wp1250056"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1250060"> </a><a href="secadm.html#wp1485558">Administering Public Key Security</a></li>
<li><a name="wp1250064"> </a><a href="secpgm.html#wp1258083">Programming an ATMI Application with Security</a></li>
<li><a name="wp1250068"> </a><a href="secpgm.html#wp1258289">Writing Security Code to Protect Data Integrity and Privacy</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1250071"> </a>
Default Authentication and Authorization
</h2><p class="pBody"><a name="wp1250072"> </a>
The default authentication and authorization plug-ins provided by the ATMI environment of the Oracle Tuxedo product work in the same manner that implementations of authentication and authorization have worked since they were first made available with the Oracle Tuxedo system.
</p>
<p class="pBody"><a name="wp1250073"> </a>
An application administrator can use the default authentication and authorization plug-ins to configure an ATMI application with one of five levels of security. The five levels are:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1250074"> </a>No authentication</li>
<li><a name="wp1250075"> </a>Application password security</li>
<li><a name="wp1250076"> </a>User-level authentication</li>
<li><a name="wp1250077"> </a>Optional access control list (ACL) security</li>
<li><a name="wp1250078"> </a>Mandatory ACL security</li>
</ul></div>
<p class="pBody"><a name="wp1250079"> </a>
At the lowest level, no authentication is provided. At the highest level, an access control checking feature determines which users can execute a service, post an event, or enqueue (or dequeue) a message on an application queue. The security levels are briefly described in <a href="secovr.html#wp1250082">Table&#160;1-9</a>.</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1250082table1250080"><caption><a name="wp1250082"> </a>
Table 1-9  Security Levels for Default Authentication and Authorization&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1250086"> </a>
Security Level
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1250088"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250090"> </a>
No authentication
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250092"> </a>
Clients do not have to be verified before joining the ATMI application.
</div>
<div class="pCellBody"><a name="wp1250093"> </a>
When joining an ATMI application at this security level, a user has access to all application resources.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250095"> </a>
Application password
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250097"> </a>
The application administrator defines a single password for the entire ATMI application, and clients must provide the password to join the application.
</div>
<div class="pCellBody"><a name="wp1250098"> </a>
When successfully joining an ATMI application at this security level, a user has access to all application resources.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250100"> </a>
User-level authentication
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250102"> </a>
In addition to the application password, each client must provide a valid username and user-specific data, such as a password, to join the ATMI application.
</div>
<div class="pCellBody"><a name="wp1250103"> </a>
When successfully joining an ATMI application at this security level, a user has access to all application resources.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250105"> </a>
Optional ACL security
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250107"> </a>
Clients must provide the application password, a username, and user-specific data such as a password.
</div>
<div class="pCellBody"><a name="wp1250108"> </a>
For a user who successfully joins an ATMI application at this security level, access to application resources is restricted in the following way. The ACL database contains a list of application resources and, for each resource, a list of users with permission to use it. A user who is <em class="cEmphasis">not</em> included in the list for a particular resource is <em class="cEmphasis">not</em> allowed to access that resource, regardless of whether optional ACL or mandatory ACL security is being used.
</div>
<div class="pCellBody"><a name="wp1250109"> </a>
If there is no entry in the ACL database for a resource and the security level for the ATMI application is set to optional ACL security, all users <em class="cEmphasis">are</em> permitted to access the resource.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250111"> </a>
Mandatory ACL security
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250113"> </a>
Clients must provide the application password, a username, and user-specific data such as a password.
</div>
<div class="pCellBody"><a name="wp1250114"> </a>
For a user who successfully joins an ATMI application at this security level, access to application resources is restricted in the following way. The ACL database contains a list of application resources and, for each resource, a list of users with permission to use it. A user who is <em class="cEmphasis">not</em> included in the list for a particular resource is <em class="cEmphasis">not</em> allowed to access that resource, regardless of whether optional ACL or mandatory ACL security is being used.
</div>
<div class="pCellBody"><a name="wp1250115"> </a>
If there is no entry in the ACL database for a resource and the security level for the ATMI application is set to mandatory ACL security, users are <em class="cEmphasis">not</em> permitted to access the resource.
</div>
</td>
</tr>
</table>
</div>
<p class="pBody">

</p>
<a name="wp1250116"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The term <em class="cEmphasis">client</em> is synonymous with <em class="cEmphasis">client process</em>, meaning a specific instance of a client program in execution. An ATMI client program can exist in active memory in any number of individual instances.</td>
</tr>
</table>

<p class="pBody"><a name="wp1250117"> </a>
An application administrator can designate a security level by setting the <code class="cCode">SECURITY</code> parameter in the <code class="cCode">UBBCONFIG</code> configuration file to the appropriate value.
</p>
<p class="pGraphic"><a name="wp1305677"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1250120table1250118">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1250120"> </a>
For This Security Level
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1250122"> </a>
Set SECURITY Parameter to . . .
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250124"> </a>
No authentication
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250126"> </a>
<code class="cCode">NONE</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250128"> </a>
Application password security
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250130"> </a>
<code class="cCode">APP_PW</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250132"> </a>
User-level authentication
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250134"> </a>
<code class="cCode">USER_AUTH</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250136"> </a>
Optional ACL security
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250138"> </a>
<code class="cCode">ACL</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250140"> </a>
Mandatory ACL security
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250142"> </a>
<code class="cCode">MANDATORY_ACL</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1250143"> </a>
The default is <code class="cCode">NONE</code>. If <code class="cCode">SECURITY</code> is set to <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>, then the application administrator must configure a system-supplied authentication server named <code class="cCode">AUTHSVR</code>. <code class="cCode">AUTHSVR</code> performs per-user authentication.
</p>
<p class="pBody"><a name="wp1250144"> </a>
An application developer can replace <code class="cCode">AUTHSVR</code> with an authentication server that has logic specific to the ATMI application. For example, a company may want to develop a custom authentication server so that it can use the popular Kerberos mechanism for authentication.
</p>
<h3 class="pHeading2"><a name="wp1250145"> </a>
Client Naming
</h3>
<p class="pBody"><a name="wp1250146"> </a>
Upon joining an ATMI application, a client process has two names: a combined user-client name and a unique client identifier known as an <em class="cEmphasis">application key</em>.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1250147"> </a>The user-client name consists of a <em class="cEmphasis">username </em>and a <em class="cEmphasis">client name</em> and is used for security, administration, and communications.</li>
<li><a name="wp1250148"> </a>The application key is a 32-bit value that is called on behalf of the client and used by the access control checking feature.</li>
</ul></div>
<p class="pBody"><a name="wp1250149"> </a>
Two client names are reserved for special semantics: <code class="cCode">tpsysadm</code> and <code class="cCode">tpsysop</code>. <code class="cCode">tpsysadm</code> is treated as the application administrator, and <code class="cCode">tpsysop</code> is treated as the application operator.
</p>
<h4 class="pHeading3"><a name="wp1250150"> </a>
User-Client Names
</h4>
<p class="pBody"><a name="wp1250151"> </a>
When an authenticated client joins an ATMI application, it passes a username and client name to <a href="../rf3c/rf3c.html">tpinit(3c)</a> in a <code class="cCode">TPINIT</code> buffer if the application is written in C, or to <a href="../rf3cbl/rf3cbl.html">TPINITIALIZE(3cbl)</a> in a <code class="cCode">TPINFDEF-REC</code> record if the application is written in COBOL. The username and client name, as well as other security-related fields in the <code class="cCode">TPINIT</code> buffer/ <code class="cCode">TPINFDEF-REC</code> record, are described in <a href="secovr.html#wp1250154">Table&#160;1-10</a>.
</p>
<p class="pGraphic"><a name="wp1305684"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1250154table1250152"><caption><a name="wp1250154"> </a>
Table 1-10  Security-Related Fields in TPINIT Buffer/ TPINFDEF-REC Record

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1250160"> </a>
TPINIT
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1250162"> </a>
TPINFDEF-REC
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1250164"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250166"> </a>
<code class="cCode">usrname</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250168"> </a>
<code class="cCode">USRNAME</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250170"> </a>
A user name consisting of a string of up to 30 characters. Required for security level <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>. The username represents the caller.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250172"> </a>
<code class="cCode">cltname</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250174"> </a>
<code class="cCode">CLTNAME</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250176"> </a>
A client name consisting of a string of up to 30 characters. Required for security level <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>. The client name represents the client program.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250178"> </a>
<code class="cCode">passwd</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250180"> </a>
<code class="cCode">PASSWD</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250182"> </a>
Application password. Required for security level <code class="cCode">APP_PW</code>, <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>. <code class="cCode">tpinit()</code> or <code class="cCode">TPINITIALIZE()</code> validates this password by comparing it to the configured application password stored in the <code class="cCode">TUXCONFIG</code> file.*
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250184"> </a>
<code class="cCode">datalen</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250186"> </a>
<code class="cCode">DATALEN</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250188"> </a>
Length of the user-specific data** that follows.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250190"> </a>
<code class="cCode">data</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250192"> </a>
N/A
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250194"> </a>
User-specific data.** Required for security level <code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>. <code class="cCode">tpinit()</code> or <code class="cCode">TPINITIALIZE()</code> forwards the user-specific data to the authentication server for validation. The authentication server is <code class="cCode">AUTHSVR</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="3" rowspan="1"><div class="pCellBody"><a name="wp1250196"> </a>
<code class="cCode">&#160;* </code>The binary equivalent of the <code class="cCode">UBBCONFIG</code> file.
</div>
<div class="pCellBody"><a name="wp1250197"> </a>
<code class="cCode">** </code>Usually a user password.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1250202"> </a>
For an authenticated security level (<code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>), the username, client name, and user-specific data are transferred to <code class="cCode">AUTHSVR</code> without interpretation by the Oracle Tuxedo system. The only manipulation of this information is its encryption when transmitted over the network from a Workstation client.
</p>
<h4 class="pHeading3"><a name="wp1250204"> </a>
Application Key
</h4>
<p class="pBody"><a name="wp1250205"> </a>
Every time a client joins an ATMI application, it is assigned a 32-bit application key by the Oracle Tuxedo system. The client cannot reset the key other than by terminating its association and joining the ATMI application as a different user.
</p>
<p class="pBody"><a name="wp1250206"> </a>
The assigned application key is the client&#8217;s security credential. The client provides its application key with every service invocation as part of the <code class="cCode">TPSVCINFO</code> structure in the <code class="cCode">appkey</code> field. (See <a href="../rf3c/rf3c.html">tpservice(3c)</a> in the Oracle Tuxedo ATMI C Function Reference for more information about <code class="cCode">TPSVCINFO</code>.)
</p>
<p class="pBody"><a name="wp1250210"> </a>
<a href="secovr.html#wp1250213">Table&#160;1-11</a> shows how the application key is set for various security levels and clients. All application key assignments are hardcoded except the last item in the table.
</p>
<p class="pGraphic"><a name="wp1305688"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1250213table1250211"><caption><a name="wp1250213"> </a>
Table 1-11  Application Key Assignments&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1250219"> </a>
At This Security Level
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1250221"> </a>
Messages of This Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1250223"> </a>
Are Assigned the Following Application Key
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250225"> </a>
Any security level
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250227"> </a>
Messages from native ATMI clients that must be run by the administrator (like <a href="../rfcm/rfcmd.html">tmadmin(1)</a>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250229"> </a>
0x80000000 <br />(Application key of the administrator)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="1" rowspan="3"><div class="pCellBody"><a name="wp1250231"> </a>
<code class="cCode">NONE</code> or <code class="cCode">APP_PW</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250233"> </a>
Messages from native ATMI clients that call <code class="cCode">tpinit()</code>/ <code class="cCode">TPINITIALIZE()</code> with a client name of <code class="cCode">tpsysadm</code> and are run by the administrator
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250235"> </a>
0x80000000 <br />(Application key of the administrator)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250239"> </a>
Messages from native ATMI clients that call <code class="cCode">tpinit()</code>/ <code class="cCode">TPINITIALIZE()</code> with a client name of <code class="cCode">tpsysop</code> and are run by the administrator
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250241"> </a>
0xC0000000 <br />(Application key of the operator)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250245"> </a>
Messages from any ATMI client other than <code class="cCode">tpsysadm</code> or <code class="cCode">tpsysop</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250247"> </a>
-1
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="1" rowspan="4"><div class="pCellBody"><a name="wp1250249"> </a>
<code class="cCode">USER_AUTH</code>, <code class="cCode">ACL</code>, or <code class="cCode">MANDATORY_ACL</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250251"> </a>
Messages from native ATMI clients that call <code class="cCode">tpinit()</code>/ <code class="cCode">TPINITIALIZE()</code> with a client name of <code class="cCode">tpsysadm</code> and are run by the administrator and <em class="cEmphasis">bypass authentication</em>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250253"> </a>
0x80000000 <br />(Application key of the administrator)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250257"> </a>
Messages from <em class="cEmphasis">authenticated</em> ATMI clients that call <code class="cCode">tpinit()</code>/ <code class="cCode">TPINITIALIZE()</code> with a client name of <code class="cCode">tpsysadm</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250259"> </a>
0x80000000 <br />(Application key of the administrator)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250263"> </a>
Messages from <em class="cEmphasis">authenticated</em> ATMI clients that call <code class="cCode">tpinit()</code>/ <code class="cCode">TPINITIALIZE()</code> with a client name of <code class="cCode">tpsysop</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250265"> </a>
0xC0000000 <br />(Application key of the operator)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250269"> </a>
Messages from <em class="cEmphasis">authenticated</em> ATMI clients that call <code class="cCode">tpinit()</code>/ <code class="cCode">TPINITIALIZE()</code> with a client name other than <code class="cCode">tpsysadm</code> or <code class="cCode">tpsysop</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250271"> </a>
Application key = <code class="cCodeEmphasis">user identifier</code> (UID) in the lower 17 bits and <code class="cCodeEmphasis">group identifier</code> (GID) in the next higher 14 bits; remaining upper bit is 0. <code class="cCode">AUTHSVR</code> returns this application key value
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1250272"> </a>
In addition, any message that originates from <a href="../rf3c/rf3c.html">tpsvrinit(3c)</a> or <a href="../rf3c/rf3c.html">tpsvrdone(3c)</a> in a C program (<a href="../rf3cbl/rf3cbl.html">TPSVRINIT(3cbl)</a> or <a href="../rf3cbl/rf3cbl.html">TPSVRDONE(3cbl)</a> in COBOL) is assigned the application key of the administrator: 0x80000000. The application key of the client is assigned to messages that pass through a server but originate at a client; an exception to this rule is described in <a href="secovr.html#wp1258983">Replacing Client Tokens with Server Tokens</a>.
</p>
<p class="pBody"><a name="wp1250273"> </a>
A user identifier (UID) is an integer, between 0 and 128K, that is used by the application to refer to a particular user. A group identifier (GID) is an integer, between 0 and 16K, that is used by the application to refer to an application group.
</p>
<h3 class="pHeading2"><a name="wp1250275"> </a>
User, Group, and ACL Files
</h3>
<p class="pBody"><a name="wp1250276"> </a>
To use access control, an application administrator must maintain lists of (1) users, (2) groups, and (3) and mappings of groups to application entities (such as services, events, and application queues). The third type of list, a mapping of groups to application entities, is known as the access control list (ACL).
</p>
<p class="pBody"><a name="wp1250277"> </a>
When a client tries to access an application resource, such as a service, the system checks the client&#8217;s application key and thus identifies the group to which the user belongs. Next, the system checks the ACL for the target resource and determines whether the client&#8217;s group has access permission. The application administrator, application operator, and processes or service requests running with the privileges of the application administrator or operator are <em class="cEmphasis">not</em> subject to ACL permission checking.
</p>
<p class="pBody"><a name="wp1250278"> </a>
The user, group, and ACL files are located in the <code class="cCodeEmphasis">application_root</code> directory, where <code class="cCodeEmphasis">application _root</code> is the first pathname defined for the <code class="cCode">APPDIR</code> variable. <a href="secovr.html#wp1250279">Figure&#160;1-11</a> identifies these files and specifies the administrative commands available for controlling each list.
</p>
<div class="pFigureTitle"><a name="wp1250279"> </a>
Figure&#160;1-11  Default User, Group, and ACL Files
</div>

 
 <p class="pGraphic"><a name="wp1250347"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-11.gif" height="258" width="460" alt="Default User, Group, and ACL Files" id="wp1250281"/></div><p class="pGraphic">

</p>
<a name="wp1250348"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>For an ATMI application running on the Compaq VMS operating system, the names of the user, group, and ACL files have <code class="cCode">.dat</code> extensions: <code class="cCode">tpusr.dat</code>, <code class="cCode">tpgrp.dat</code>, and <code class="cCode">tpacl.dat</code>.</td>
</tr>
</table>

<p class="pBody"><a name="wp1250349"> </a>
The files are colon-delimited, flat text files that can be read and written only by the application administrator&#8212;the owner of the <code class="cCode">TUXCONFIG</code> file referenced by the <code class="cCode">TUXCONFIG</code> variable. The format of the files is irrelevant, since the files are fully administered with a set of dedicated commands. Only the application administer is allowed to use these commands.
</p>
<p class="pBody"><a name="wp1250350"> </a>
An application administer can use the <a href="../rfcm/rfcmd.html">tpaclcvt(1)</a> command to convert security data files to the format needed by the ACL checking feature. For example, on a UNIX host machine, an administrator can use <code class="cCode">tpaclcvt</code> to convert the <code class="cCode">/etc/password</code> file and store the converted version in the <code class="cCode">tpusr</code> file. The same administrator can use <code class="cCode">tpaclcvt</code> to convert the <code class="cCode">/etc/group</code> file and store the converted version in the <code class="cCode">tpgrp</code> file.
</p>
<p class="pBody"><a name="wp1250351"> </a>
The <code class="cCode">AUTHSVR</code> server uses the user information stored in the <code class="cCode">tpusr</code> file to authenticate users who want to join the ATMI application.
</p>
<p class="pBody"><a name="wp1317715"> </a>
When extensible security administration is enabled with the default <code class="cCode">XAUTHSVR</code> implemented, user, group, and ACL definition are placed in the LDAP repository rather than in a plain text. These informations should follow the LDAP schemas. For information about LDAP schemas, refer to <span class="cHyperlink">
How to Enable The Extended Security</span> in <span class="cHyperlink">
<a href="../sec/sec.index">Administering Security</a></span>.
</p>
<p class="pBody"><a name="wp1317942"> </a>
The <code class="cCode">XAUTHSVR</code> server uses the user, group, and permission information in the LDAP repository to authenticate users who want to join the ATMI application or access Tuxedo resources.
</p>
<h3 class="pHeading2"><a name="wp1250352"> </a>
Optional and Mandatory ACLs
</h3>
<p class="pBody"><a name="wp1250353"> </a>
The <code class="cCode">ACL</code> and <code class="cCode">MANDATORY_ACL</code> security levels constitute the default authorization implementation for the ATMI environment in the Oracle Tuxedo product.
</p>
<p class="pBody"><a name="wp1250354"> </a>
When the security level is <code class="cCode">ACL</code>, if there is no entry in the <code class="cCode">tpacl</code> file or LDAP <code class="cCode">Orcljaznpermission</code> class associated with the target application entity, the client is permitted to access the entity. This security level enables an administrator to configure access for only those resources that need more security. That is, there is no need to add entries to the <code class="cCode">tpacl</code> file for services, events, or application queues that are open to everyone.
</p>
<p class="pBody"><a name="wp1250355"> </a>
When the security level is <code class="cCode">MANDATORY_ACL</code>, if there is no entry in the <code class="cCode">tpacl</code> file or LDAP Orcljaznpermission class associated with the target application entity, the client is <em class="cEmphasis">not</em> permitted to access the entity. For this reason, this level is called <em class="cEmphasis">mandatory</em>. There must be an entry in the <code class="cCode">tpacl</code> file or LDAP Orcljaznpermission class for each and every application entity that the client needs to access.
</p>
<p class="pBody"><a name="wp1250356"> </a>
For both the <code class="cCode">ACL</code> and <code class="cCode">MANDATORY_ACL</code> security levels, if an entry for an application entity exists in the <code class="cCode">tpacl</code> file or LDAP Orcljaznpermission class and the client attempts to access that entity, the user associated with that client <em class="cEmphasis">must</em> be a member of a group that is allowed to access that entity; otherwise, permission is denied.
</p>
<p class="pBody"><a name="wp1250357"> </a>
For some ATMI applications, it may be necessary to use both system-level and application-level authorization. An entry in the <code class="cCode">tpacl</code> file can be used to control which users can access a service, and application logic can control data-dependent access, for example, which users can handle transactions for more than a million dollars.
</p>
<p class="pBody"><a name="wp1250358"> </a>
Note that there is no ACL permission checking for administrative services, events, and application queues with names that begin with a dot (.). For example, any client can subscribe to administrative events such as <code class="cCode">.SysMachineBroadcast</code>, <code class="cCode">.SysNetworkConfig</code>, and <code class="cCode">.SysServerCleaning</code>. In addition, there is no ACL permission checking for the application administrator, application operator, or processes or service requests running with the privileges of the application administrator or operator.
</p>
<h3 class="pHeading2"><a name="wp1250359"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1250363"> </a><a href="secadm.html#wp1239347">What Administering Security Means</a></li>
<li><a name="wp1250367"> </a><a href="secadm.html#wp1239429">Security Administration Tasks</a></li>
<li><a name="wp1250371"> </a><a href="secadm.html#wp1409710">Administering Authentication</a></li>
<li><a name="wp1250375"> </a><a href="secadm.html#wp1239624">Administering Authorization</a></li>
<li><a name="wp1250379"> </a><a href="secpgm.html#wp1258005">What Programming Security Means</a></li>
<li><a name="wp1250383"> </a><a href="secpgm.html#wp1258083">Programming an ATMI Application with Security</a></li>
<li><a name="wp1250386"> </a><a href="secpgm.html#wp1258115">Writing Security Code So Client Programs Can Join the ATMI Application</a></li>
<li><a name="wp1266540"> </a><span class="cHyperlink">
&#8220;About the Configu</span><a href="../ads/adconf.html"></a>ration File&#8221; and <span class="cHyperlink">
&#8220;Creating</span><a href="../ads/adfig.html"></a> the Configuration File&#8221; in Setting Up an Oracle Tuxedo Application</li>
<li><a name="wp1266550"> </a><a href="../rf5/rf5.html">UBBCONFIG(5)</a> in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference</li>
<li><a name="wp1250396"> </a><a href="../rf5/rf5.html">AUTHSVR(5)</a> in the Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1250398"> </a>
Security Interoperability
</h2><p class="pBody"><a name="wp1250399"> </a>
Application developers and administrators must be aware of certain security issues when configuring ATMI applications to interoperate with Oracle Tuxedo pre-release 7.1 (6.5 or earlier) software.
</p>
<p class="pBody"><a name="wp1250400"> </a>
<em class="cEmphasis">Interoperability</em>, as defined in this discussion, is the ability of the current release of Oracle Tuxedo software to communicate over a network with a previous release of Oracle Tuxedo software. Specifically, <em class="cEmphasis">inter-domain interoperability</em> and <em class="cEmphasis">intra-domain interoperability</em> have the following meanings:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1250401"> </a>Inter-domain interoperability</li>
<p class="pBodyRelative"><a name="wp1250402"> </a>
Involves one ATMI application running Oracle Tuxedo release 7.1 or later software, and another ATMI application running Oracle Tuxedo pre-release 7.1 software. See the diagram <a href="secovr.html#wp1250412">Inter-Domain Interoperability</a> for clarification.
</p>
<li><a name="wp1250406"> </a>Intra-domain interoperability</li>
<p class="pBodyRelative"><a name="wp1250407"> </a>
Involves one machine in a multiple-machine ATMI application running Oracle Tuxedo release 7.1 or later software, and another machine in the same application running Oracle Tuxedo pre-release 7.1 software. See the figure <a href="secovr.html#wp1250552">Intra-Domain Interoperability</a> for clarification.
</p>
<div class="pFigureTitle"><a name="wp1250412"> </a>
Figure&#160;1-12  Inter-Domain Interoperability
</div>

 
 <p class="pGraphic"><a name="wp1250550"> </a>
<br />
<img src="wwimages/sec-1-1-12.gif" height="284" width="555" alt="Inter-Domain Interoperability" id="wp1250414"/><br />

</p>
<div class="pFigureTitle"><a name="wp1250552"> </a>
Figure&#160;1-13  Intra-Domain Interoperability
</div>

 
 <p class="pGraphic"><a name="wp1250693"> </a>
<br />
<img src="wwimages/sec-1-1-13.gif" height="296" width="554" alt="Intra-Domain Interoperability" id="wp1250554"/><br />

</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1250695"> </a>
Interoperating with Pre-Release 7.1 Software
</h3>
<p class="pBody"><a name="wp1250696"> </a>
Interoperating with Oracle Tuxedo pre-release 7.1 software is allowed or disallowed at the <em class="cEmphasis">authentication</em> security level. Authentication, as implemented by Oracle Tuxedo release 7.1 or later software, allows communicating processes to mutually prove their identities.
</p>
<p class="pBody"><a name="wp1250697"> </a>
By default, interoperability with a machine running Oracle Tuxedo pre-release 7.1 software is not allowed. To change the default, an application administrator can use the <code class="cCode">CLOPT -t</code> option to allow workstation handlers (WSHs), domain gateways (<code class="cCode">GWTDOMAINs</code>), and servers in the release 7.1 or later ATMI application to interoperate with Oracle Tuxedo pre-release 7.1 software. <a href="secadm.html#wp1284650">Mandating Interoperability Policy</a> provides instructions for using the <code class="cCode">CLOPT&#160;-t</code> option as well as the security ramifications for authentication and authorization when using <code class="cCode">CLOPT&#160;-t</code>.
</p>
<h3 class="pHeading2"><a name="wp1250930"> </a>
Interoperability for Link-Level Encryption
</h3>
<p class="pBody"><a name="wp1250931"> </a>
Whenever a network link is established between machines running Oracle Tuxedo software, link-level encryption may be used to encrypt data before sending it over the network link, and decrypt it as it comes off the link. Of course, link-level encryption is possible only if LLE is installed on both the sending and receiving machines.
</p>
<p class="pBody"><a name="wp1250932"> </a>
LLE interoperability with Oracle Tuxedo pre-release 7.1 software is described in <a href="secovr.html#wp1248993">Backward Compatibility of LLE</a>.
</p>
<h3 class="pHeading2"><a name="wp1303514"> </a>
Interoperability for SSL Encryption
</h3>
<p class="pBody"><a name="wp1307084"> </a>
SSL encryption can be used over network links between machines running Oracle Tuxedo software only if both machines are running Tuxedo 10.0 or later. LLE encryption can be used over network links to machines running earlier releases of Tuxedo.
</p>
<a name="wp1307087"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The only exception to the SSL encryption interoperabiliy rules is that the CORBA related SSL capabilities described in <span style="font-style: italic">&#8220;Usin</span><span style="font-style: normal"><a href="../security/index.html"></a></span><span style="font-style: italic">g Security in CORBA Applications&#8221;</span> can be used when interoperating with Tuxedo 8.0 and above, and when interoperating with the former WLE product.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1250937"> </a>
Interoperability for Public Key Security
</h3>
<p class="pBody"><a name="wp1250938"> </a>
The following interoperability rules for public key security shown in <a href="secovr.html#wp1250941">Table&#160;1-12</a> apply to a machine running release&#160;7.1 or later Oracle Tuxedo software that is configured to interoperate with a machine running Oracle Tuxedo pre-release 7.1 software. To clarify the rules, each rule has an accompanying example scenario involving a Workstation client running Oracle Tuxedo pre-release 7.1 software.
</p>
<p class="pGraphic"><a name="wp1305692"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1250941table1250939"><caption><a name="wp1250941"> </a>
Table 1-12  Interoperability Rules for Public Key Security&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1250947"> </a>
Interoperability Rule
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1250949"> </a>
Example
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1250951"> </a>
Comments
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250953"> </a>
Encrypted outgoing message buffers destined for a machine running Oracle Tuxedo pre-release 7.1 software are <em class="cEmphasis">not</em> transmitted to the machine.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250955"> </a>
Encrypted outgoing message buffers destined for a pre-release 7.1 Workstation client are not transmitted to the Workstation client.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250957"> </a>
&#8220;Encrypted&#8221; refers to public key message-based encryption, not link-level encryption.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250959"> </a>
Incoming message buffers from a machine running an Oracle Tuxedo pre-release 7.1 software are <em class="cEmphasis">not</em> accepted if routed to a process requiring encryption.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250961"> </a>
Incoming message buffers from a pre-release 7.1 Workstation client do not have encryption envelopes attached, and are not accepted if routed to a process requiring encryption.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250963"> </a>
See <a href="secadm.html#wp1261257">Setting Encryption Policy</a> for a description of the <code class="cCode">ENCRYPTION_REQUIRED</code> configuration parameter.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250965"> </a>
For outgoing message buffers destined for the machine running Oracle Tuxedo pre-release 7.1 software, any digital signatures <em class="cEmphasis">are verified and then removed</em> before the message buffers are transmitted to the older machine.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250967"> </a>
Digital signatures are verified and then removed from outgoing message buffers destined for a pre-release 7.1 Workstation client.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250969"> </a>
It is assumed that the outgoing message buffer is digitally signed but <em class="cEmphasis">not</em> encrypted. If the outgoing message buffer is digitally signed and encrypted, the message is not decrypted, the digital signatures are not verified, and the message is not transmitted to the older machine.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250971"> </a>
Incoming message buffers from a machine running Oracle Tuxedo pre-release 7.1 software are <em class="cEmphasis">not</em> accepted if routed to a process requiring digital signatures.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250973"> </a>
Incoming message buffers from a pre-release 7.1 Workstation client do not have digital signatures attached, and are not accepted if routed to a process requiring digital signatures.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1250975"> </a>
See <a href="secadm.html#wp1254373">Setting Digital Signature Policy</a> for a description of the <code class="cCode">SIGNATURE_REQUIRED</code> configuration parameter.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1250976"> </a>
For inter-domain interoperability, release 7.1 or later domain gateway (<code class="cCode">GWTDOMAIN</code>) processes enforce the interoperability rules for public key security.
</p>
<p class="pBody"><a name="wp1250977"> </a>
For intra-domain interoperability, release 7.1 or later native clients, workstation handlers (WSHs), or server processes communicating with the local bridge process enforce the interoperability rules for public key security, as shown in <a href="secovr.html#wp1250978">Figure&#160;1-14</a>. A bridge process operates only as a <em class="cEmphasis">conduit</em>; it does <em class="cEmphasis">not</em> decrypt message buffer content or verify digital signatures.
</p>
<div class="pFigureTitle"><a name="wp1250978"> </a>
Figure&#160;1-14  Enforcing Intra-Domain Interoperability Rules for Public Key Security
</div>

 
 <p class="pGraphic"><a name="wp1251121"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-14.gif" height="296" width="554" alt="Enforcing Intra-Domain Interoperability Rules for Public Key Security" id="wp1250980"/></div><p class="pGraphic">

</p>
<a name="wp1251122"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Typically, a release 7.1 or later WSH does not verify digital signatures. But when routing a digitally signed message buffer to a process running Oracle Tuxedo pre-release 7.1 software, the WSH verifies any digital signatures before removing them.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1251123"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1251127"> </a><a href="secovr.html#wp1251179">Security Compatibility</a></li>
<li><a name="wp1251131"> </a><a href="secadm.html#wp1284650">Mandating Interoperability Policy</a></li>
<li><a name="wp1251135"> </a><a href="secadm.html#wp1254373">Setting Digital Signature Policy</a></li>
<li><a name="wp1252161"> </a><a href="secadm.html#wp1261257">Setting Encryption Policy</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1251179"> </a>
Security Compatibility
</h2><p class="pBody"><a name="wp1251180"> </a>
For an ATMI application running Oracle Tuxedo release 7.1 or later software, it is possible to have any combination of default or custom authentication, authorization, auditing, and public key security. In addition, any combination of these four security capabilities is compatible with link-level encryption.
</p>
<h3 class="pHeading2"><a name="wp1251181"> </a>
Mixing Default/Custom Authentication and Authorization
</h3>
<p class="pBody"><a name="wp1251666"> </a>
It is possible to have default authentication and custom authorization, or custom authentication and default authorization, as long as the application developer is aware of the following restriction: the <em class="cEmphasis">authorization security token</em> must carry at a minimum (1) an authenticated username, or <em class="cEmphasis">principal name</em>, and (2) an application key value as defined in <a href="secovr.html#wp1250204">Application Key</a>.
</p>
<p class="pBody"><a name="wp1251670"> </a>
Authorization decisions are based partly on user identity, which is stored in an <em class="cEmphasis">authorization token</em>. Because authorization tokens are generated by the authentication security plug-in, providers of authentication and authorization plug-ins need to ensure that these plug-ins work together. (See <a href="secovr.html#wp1248314">Authentication</a> and <a href="secovr.html#wp1248608">Authorization</a> for more detail.)
</p>
<h3 class="pHeading2"><a name="wp1251193"> </a>
Mixing Default/Custom Authentication and Auditing
</h3>
<p class="pBody"><a name="wp1251194"> </a>
It is possible to have default authentication and custom auditing, or custom authentication and default auditing, as long as the application developer is aware of the following restriction: the <em class="cEmphasis">auditing security token</em> must carry at a minimum (1) an authenticated username, or <em class="cEmphasis">principal name</em>, and (2) an application key value as defined in <a href="secovr.html#wp1250204">Application Key</a>.
</p>
<p class="pBody"><a name="wp1251198"> </a>
Auditing decisions are based partly on user identity, which is stored in an <em class="cEmphasis">auditing token</em>. Because auditing tokens are generated by the authentication security plug-in, providers of authentication and auditing plug-ins need to ensure that these plug-ins work together. (See <a href="secovr.html#wp1248314">Authentication</a> and <a href="secovr.html#wp1248750">Auditing</a> for more detail.)
</p>
<h3 class="pHeading2"><a name="wp1251206"> </a>
Compatibility Issues for Public Key Security
</h3>
<p class="pBody"><a name="wp1251207"> </a>
Public key security is compatible with all features and processes supported by Oracle Tuxedo release 7.1 or later software except the compression feature. Encrypted message buffers <em class="cEmphasis">cannot</em> be compressed using the compression feature. But, because the public key software compresses the message content just before it encrypts the message buffer, any size savings are still achieved.
</p>
<p class="pBody"><a name="wp1251208"> </a>
This topic describes the compatibility/interaction of public key security with the following ATMI features and processes:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1251210"> </a><span class="cHyperlink">
<a href="secovr.html#wp1251225">Data-dependent routing</a></span></li>
<li><a name="wp1251212"> </a><span class="cHyperlink">
<a href="secovr.html#wp1251234">Threads</a></span></li>
<li><a name="wp1251214"> </a><span class="cHyperlink">
<a href="secovr.html#wp1251239">EventBroker</a></span></li>
<li><a name="wp1251216"> </a><span class="cHyperlink">
<a href="secovr.html#wp1251253">/Q</a></span></li>
<li><a name="wp1251218"> </a><span class="cHyperlink">
<a href="secovr.html#wp1251265">Transactions</a></span></li>
<li><a name="wp1251220"> </a><span class="cHyperlink">
<a href="secovr.html#wp1251271">Domain gateways</a></span> (<code class="cCode">GWTDOMAINs</code>)</li>
<li><a name="wp1251222"> </a><span class="cHyperlink">
<a href="secovr.html#wp1251541">Other vendors&#8217; gateways</a></span></li>
</ul></div>
<h4 class="pHeading3"><a name="wp1251225"> </a>
Compatibility/Interaction with Data-dependent Routing
</h4>
<p class="pBody"><a name="wp1251226"> </a>
Central to the data-dependent routing feature is the ability of a process to examine the content of incoming message buffers. If an incoming message buffer is encrypted, a process configured for data-dependent routing must have opened a recipient&#8217;s private key so that the public key software can use that key to decrypt the message buffer. For data-dependent routing, the public key software does <em class="cEmphasis">not</em> verify digital signatures.
</p>
<p class="pBody"><a name="wp1251227"> </a>
If a decryption key is <em class="cEmphasis">not</em> available, the routing operation fails. The system generates an ERROR <a href="../rf3c/rf3c.html">userlog(3c)</a> message to report the failure.
</p>
<p class="pBody"><a name="wp1251228"> </a>
If a decryption key is available, the process makes a routing decision based on a decrypted <em class="cEmphasis">copy</em> of the encrypted message buffer. The chain of events is as follows:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1251229"> </a>The public key software makes a copy of the encrypted message buffer and uses the decryption key to decrypt the buffer.</li>
<li><a name="wp1251230"> </a>The process reads the resulting <em class="cEmphasis">plaintext</em> (unencrypted text) message content to make the routing decision.</li>
<li><a name="wp1251231"> </a>The public key software overwrites the plaintext message content with zero values to preserve privacy.</li>
</ol></div>
<p class="pBody"><a name="wp1251232"> </a>
The system then transmits the original encrypted message buffer in accordance with the routing decision.
</p>
<h4 class="pHeading3"><a name="wp1251234"> </a>
Compatibility/Interaction with Threads
</h4>
<p class="pBody"><a name="wp1251235"> </a>
Public-private keys are represented and manipulated via <em class="cEmphasis">handles</em>. A handle has data associated with it that is used by the public key application programming interface (API) to locate or access the item named by the handle. A process opens a <em class="cEmphasis">key handle</em> for digital signature generation, message encryption, or message decryption.
</p>
<p class="pBody"><a name="wp1251236"> </a>
A key handle is a process resource; it is not bound to any specific thread or context. Any communication necessary to open a key is performed within the thread&#8217;s currently active context. Thereafter, the key is available to any context in the process, whether or not the context is associated with the same ATMI application.
</p>
<p class="pBody"><a name="wp1251237"> </a>
A key&#8217;s internal data structures are <em class="cEmphasis">thread safe</em>. As such, a key may be accessed concurrently by multiple threads.
</p>
<h4 class="pHeading3"><a name="wp1251239"> </a>
Compatibility/Interaction with the EventBroker
</h4>
<p class="pBody"><a name="wp1251240"> </a>
In general, a <a href="../rf5/rf5.html">TMUSREVT(5)</a> system server handles encrypted message buffers without decrypting them, that is, both digital signatures and encryption envelopes remain intact as messages flow through the Oracle Tuxedo EventBroker component. However, the following cases require that the EventBroker component decrypt posted message buffers:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1251241"> </a>To evaluate subscription filter expressions based on message content.</li>
<p class="pBodyRelative"><a name="wp1251242"> </a>
If the EventBroker does not have access to a suitable decryption key, the subscription&#8217;s filter expression is assumed to be false, and the subscription is not considered a <em class="cEmphasis">match</em>.
</p>
<li><a name="wp1251243"> </a>To perform subscription notification actions that require access to message content: <a href="../rf3c/rf3c.html">userlog(3c)</a> processing or system command execution.</li>
<p class="pBodyRelative"><a name="wp1251244"> </a>
If the EventBroker does not have access to a suitable decryption key, the subscription&#8217;s notification action fails, and the system generates an ERROR <a href="../rf3c/rf3c.html">userlog(3c)</a> message to report the failure.
</p>
<li><a name="wp1251245"> </a>To perform subscription notification actions that, based on system configurations, need to access message content for data-dependent routing.</li>
<p class="pBodyRelative"><a name="wp1271261"> </a>
If the EventBroker does not have access to a suitable decryption key, the subscription&#8217;s notification action fails, and the system generates an ERROR <code class="cCode">userlog()</code> message to report the failure.
</p>
<p class="pBodyRelative"><a name="wp1271265"> </a>
For a transactional subscription, the system also marks the transaction as <em class="cEmphasis">rollback-only</em>.
</p>
<li><a name="wp1251248"> </a>To comply with an administrative system policy requiring encryption (as explained in <a href="secadm.html#wp1261257">Setting Encryption Policy</a>).</li>
<p class="pBodyRelative"><a name="wp1251249"> </a>
If the EventBroker does not have access to a suitable decryption key, the <a href="../rf3c/rf3c.html">tppost(3c)</a> operation fails, and the system generates an ERROR <code class="cCode">userlog()</code> message to report the failure.
</p>
<li><a name="wp1251250"> </a>To verify that a posted encrypted message has a valid digital signature attached, if required to do so by an administrative system policy requiring digital signatures (as explained in <a href="secadm.html#wp1254373">Setting Digital Signature Policy</a>).</li>
<p class="pBodyRelative"><a name="wp1251251"> </a>
If the EventBroker does not have access to a suitable decryption key, the <a href="../rf3c/rf3c.html">tppost(3c)</a> operation fails, and the system generates an ERROR <code class="cCode">userlog()</code> message to report the failure.
</p>
</ul></div>
<h4 class="pHeading3"><a name="wp1251253"> </a>
Compatibility/Interaction with /Q
</h4>
<p class="pBody"><a name="wp1251254"> </a>
In general, a <a href="../rf5/rf5.html">TMQUEUE(5)</a> or <a href="../rf5/rf5.html">TMQFORWARD(5)</a> system server handles encrypted message buffers without decrypting them, that is, both signatures and encryption envelopes remain intact as messages flow through the Oracle Tuxedo /Q component. However, the following cases require that the /Q component decrypt enqueued message buffers:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1251255"> </a>To perform <code class="cCode">TMQFORWARD</code> operations that, based on system configurations, need to access message content for data-dependent routing.</li>
<p class="pBodyRelative"><a name="wp1251256"> </a>
If <code class="cCode">TMQFORWARD</code> does not have access to a suitable decryption key, the forward operation fails. The system returns the message to the queue and generates an ERROR <a href="../rf3c/rf3c.html">userlog(3c)</a> message to report the failure.
</p>
<p class="pBodyRelative"><a name="wp1251257"> </a>
After a number of periodic retry attempts, <code class="cCode">TMQFORWARD</code> might place the unreadable message on an error queue.
</p>
<li><a name="wp1251258"> </a>To comply with an administrative system policy requiring encryption (as explained in <a href="secadm.html#wp1261257">Setting Encryption Policy</a>).</li>
<p class="pBodyRelative"><a name="wp1266760"> </a>
If the /Q component does not have access to a suitable decryption key, the <a href="../rf3c/rf3c.html">tpenqueue(3c)</a> operation fails, and the system generates an ERROR <code class="cCode">userlog()</code> message to report the failure.
</p>
<li><a name="wp1251260"> </a>To verify that an enqueued encrypted message has a valid signature attached, if required to do so by an administrative system policy requiring digital signatures (as explained in <a href="secadm.html#wp1254373">Setting Digital Signature Policy</a>).</li>
<p class="pBodyRelative"><a name="wp1251261"> </a>
If the /Q component does not have access to a suitable decryption key, the <a href="../rf3c/rf3c.html">tpenqueue(3c)</a> operation fails, and the system generates an ERROR <code class="cCode">userlog()</code> message to report the failure.
</p>
</ul></div>
<p class="pBody"><a name="wp1251262"> </a>
A non-transactional <a href="../rf3c/rf3c.html">tpdequeue(3c)</a> operation has the side effect of destroying an encrypted queued message if the invoking process does not hold a valid decryption key.
</p>
<p class="pBody"><a name="wp1251263"> </a>
If a message with an invalid signature is placed in a queue (or if the message is corrupted or tampered with while on the queue), any attempt to dequeue it fails. A non-transactional <code class="cCode">tpdequeue()</code> operation has the side effect of destroying such a message. A transactional <code class="cCode">tpdequeue()</code> operation causes transaction rollback, and all future transactional attempts to dequeue the message will continue to fail.
</p>
<h4 class="pHeading3"><a name="wp1251265"> </a>
Compatibility/Interaction with Transactions
</h4>
<p class="pBody"><a name="wp1251266"> </a>
Public key security operations&#8212;opening and closing keys, requesting a digital signature, or requesting encryption&#8212;are not transactional, and are not undone by transaction rollback. However, transactions might rollback due to failure conditions associated with the following public key operations:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1251267"> </a>If a transactional request or reply message cannot be decrypted, its associated transaction is rolled back.</li>
<li><a name="wp1251268"> </a>If a transactional request or reply message is discarded because of an invalid or missing digital signature, its associated transaction is rolled back.</li>
<li><a name="wp1251269"> </a>If a transactional request or reply message is rejected because it violates an administrative system policy requiring encryption or digital signatures, its associated transaction is rolled back.</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1251271"> </a>
Compatibility/Interaction with Domain Gateways
</h4>
<p class="pBody"><a name="wp1251272"> </a>
Domain gateway (<code class="cCode">GWTDOMAIN</code>) processes connecting two ATMI applications running Oracle Tuxedo release 7.1 or later software preserve digital signatures and encryption envelopes. In addition, the domain gateway processes verify digital signatures and enforce administrative system policies regarding digital signatures and encryption.
</p>
<p class="pBody"><a name="wp1251273"> </a>
<a href="secovr.html#wp1251274">Figure&#160;1-15</a> is an aid to understanding how domain gateway processes interact with local and remote ATMI applications. The table following the figure describes how release 7.1 or later domain gateway processes handle digitally signed and encrypted message buffers.
</p>
<div class="pFigureTitle"><a name="wp1251274"> </a>
Figure&#160;1-15  Communication Between ATMI Applications
</div>

 
 <p class="pGraphic"><a name="wp1284920"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/sec-1-1-15.gif" height="292" width="556" alt="Communication Between ATMI Applications" id="wp1284762"/></div><p class="pGraphic">

</p>
<p class="pGraphic"><a name="wp1285020"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1284923table1284921"><caption><a name="wp1284923"> </a>
Table 1-13  Operation of Release 7.1 or Later Domain Gateway (GWTDOMAIN) Processes&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1284929"> </a>
Message Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1284931"> </a>
Condition
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1284933"> </a>
Resulting Operation
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284935"> </a>
Inbound message&#8212;originating from a remote process and received over a network connection
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284937"> </a>
Has encryption envelope and may or may not have digital signature
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284939"> </a>
The domain gateway process accepts the message and forwards it in encrypted form.
</div>
<div class="pCellBody"><a name="wp1284940"> </a>
If the data-dependent routing feature applies and the domain gateway process does <em class="cEmphasis">not</em> have a suitable decryption key, the gateway process rejects the message. (See <a href="secovr.html#wp1251225">Compatibility/Interaction with Data-dependent Routing</a> for clarification.)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284945"> </a>
Inbound message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284947"> </a>
Does not have encryption envelope or digital signature
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284949"> </a>
If the domain gateway process is running within a domain, machine, or group <em class="cEmphasis">requiring</em> encryption, the gateway process rejects the message. If a service advertised by the domain gateway <em class="cEmphasis">requires</em> encryption, the gateway process rejects the message. (See <a href="secadm.html#wp1261257">Setting Encryption Policy</a> for clarification.)
</div>
<div class="pCellBody"><a name="wp1284953"> </a>
If the domain gateway does <em class="cEmphasis">not</em> require encryption, the gateway process accepts and forwards the message.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284955"> </a>
Inbound message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284957"> </a>
Has digital signature but is not encrypted
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284959"> </a>
The domain gateway process verifies the digital signature and forwards the message with digital signature attached.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284961"> </a>
Inbound message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284963"> </a>
Does not have digital signature and is not encrypted
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284965"> </a>
If the domain gateway process is running within a domain, machine, or group <em class="cEmphasis">requiring</em> digital signatures, the gateway process rejects the message. If a service advertised by the domain gateway <em class="cEmphasis">requires</em> digital signatures, the gateway process rejects the message. (See <a href="secadm.html#wp1254373">Setting Digital Signature Policy</a> for clarification.)
</div>
<div class="pCellBody"><a name="wp1284969"> </a>
If the domain gateway does <em class="cEmphasis">not</em> require digital signatures, the gateway process accepts and forwards the message.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284971"> </a>
Outbound message&#8212;originating from a local process and transmitted over a network connection
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284973"> </a>
Has encryption envelope and may or may not have digital signature
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284975"> </a>
The domain gateway process accepts the message and forwards it in encrypted form over the network.
</div>
<div class="pCellBody"><a name="wp1284976"> </a>
If the data-dependent routing feature applies and the domain gateway process does <em class="cEmphasis">not</em> have a suitable decryption key, the gateway process rejects the message. (See <a href="secovr.html#wp1251225">Compatibility/Interaction with Data-dependent Routing</a> for clarification.)
</div>
<div class="pCellBody"><a name="wp1284980"> </a>
If the encrypted message is destined for a process running Oracle Tuxedo pre-release 7.1 (6.5 or earlier) software, the domain gateway process rejects the message. (See <a href="secovr.html#wp1250695">Interoperating with Pre-Release 7.1 Software</a> and <a href="secovr.html#wp1250937">Interoperability for Public Key Security</a> for clarification.)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284988"> </a>
Outbound message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284990"> </a>
Does not have encryption envelope or digital signature
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284992"> </a>
If the domain gateway process is running within a domain, machine, or group <em class="cEmphasis">requiring</em> encryption, the gateway process rejects the message. If a service advertised by the domain gateway <em class="cEmphasis">requires</em> encryption, the gateway process rejects the message. (See <a href="secadm.html#wp1261257">Setting Encryption Policy</a> for clarification.)
</div>
<div class="pCellBody"><a name="wp1284996"> </a>
If the domain gateway does <em class="cEmphasis">not</em> require encryption, the gateway process accepts the message and forwards it over the network.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1284998"> </a>
Outbound message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1285000"> </a>
Has digital signature but is not encrypted
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1285002"> </a>
The domain gateway process verifies the digital signature and forwards the message with digital signature attached over the network.
</div>
<div class="pCellBody"><a name="wp1285003"> </a>
If the message is destined for a process running Oracle Tuxedo pre-release 7.1 software <em class="cEmphasis">and assuming interoperability with Oracle Tuxedo pre-release 7.1 software is allowed</em>, the domain gateway process verifies and then removes the digital signature before forwarding the message over the network. (See <a href="secovr.html#wp1250695">Interoperating with Pre-Release 7.1 Software</a> and <a href="secovr.html#wp1250937">Interoperability for Public Key Security</a> for clarification.)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1285011"> </a>
Outbound message
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1285013"> </a>
Does not have digital signature and is not encrypted
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1285015"> </a>
If the domain gateway process is running within a domain, machine, or group <em class="cEmphasis">requiring</em> digital signatures, the gateway process rejects the message. If a service advertised by the domain gateway <em class="cEmphasis">requires</em> digital signatures, the gateway process rejects the message. (See <a href="secadm.html#wp1254373">Setting Digital Signature Policy</a> for clarification.)
</div>
<div class="pCellBody"><a name="wp1285019"> </a>
If the domain gateway does <em class="cEmphasis">not</em> require digital signatures, the gateway process accepts the message and forwards it over the network.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1251541"> </a>
Compatibility/Interaction with Other Vendors&#8217; Gateways
</h4>
<p class="pBody"><a name="wp1284702"> </a>
A domain gateway (<code class="cCode">GWTDOMAIN</code>) process connecting a release 7.1 or later ATMI application to another vendor&#8217;s gateway process operates on <em class="cEmphasis">outbound</em> message buffers as follows:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1284703"> </a>Decrypts encrypted messages.</li>
<li><a name="wp1251544"> </a>Verifies digital signatures (if any) and then removes digital signatures.</li>
<li><a name="wp1251545"> </a>Transmits messages in plaintext format over the network to the vendor&#8217;s gateway process.</li>
</ol></div>
<p class="pBody"><a name="wp1251546"> </a>
In addition, the domain gateway process enforces the administrative system policies regarding encryption and digital signatures for the ATMI application. As an example, if encryption and/or digital signatures are required at the domain level for the ATMI application, the local domain gateway process rejects any message coming from the other vendor&#8217;s gateway process.
</p>
<h3 class="pHeading2"><a name="wp1251547"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1251551"> </a><a href="secovr.html#wp1250398">Security Interoperability</a></li>
<li><a name="wp1251555"> </a><a href="secadm.html#wp1284650">Mandating Interoperability Policy</a></li>
<li><a name="wp1251559"> </a><a href="secadm.html#wp1254373">Setting Digital Signature Policy</a></li>
<li><a name="wp1252428"> </a><a href="secadm.html#wp1261257">Setting Encryption Policy</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1312187"> </a>
Denial-of-Service (DoS) Defense
</h2><p class="pBody"><a name="wp1312200"> </a>
With more distributed multi-domain Tuxedo applications extending their reach to public networks and less secure environments, the Tuxedo domain gateway is required to better defend against potential threats. These environments may contain insecure networks and untrusted participants, who can initiate or propagate malicious attacks such as Denial-of-Service (DoS) attacks as shown in <a href="secovr.html#wp1312205">Figure&#160;1-16</a>.
</p>
<div class="pFigureTitle"><a name="wp1312205"> </a>
Figure&#160;1-16  Denial-of-Service (DoS) Attacks
</div>

 
 <p class="pGraphic"><a name="wp1312209"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/dos.png" alt="Denial-of-Service (DoS) Attacks" id="wp1312207" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1312210"> </a>
The Tuxedo TDomain gateway (GWTDOMAIN) uses the following features to defend against DoS attacks.
</p>
<p class="pBody"><a name="wp1312214"> </a>
<a href="secovr.html#wp1312224">Limited/Restricted Connection Numbers</a>
</p>
<p class="pBody"><a name="wp1312218"> </a>
<a href="secovr.html#wp1312294">Message Sanity Check</a>
</p>
<p class="pBody"><a name="wp1312222"> </a>
<a href="secovr.html#wp1312297">Message Authentication Code (MAC) Usage</a>
</p>
<h3 class="pHeading2"><a name="wp1312224"> </a>
Limited/Restricted Connection Numbers
</h3>
<p class="pBody"><a name="wp1312225"> </a>
GWTDOMAIN is a daemon server that waits on a well-known TCP port to accept incoming connection requests. This opens the vulnerability to connection flood attack, a type of DoS attack where the attacker continuously tries to establish many connections with GWTDOMAIN at the same timeusing particular tools (for example, a port scanning program). This causes the domain gateway to waste computing power (time, memory, and so on) to accept the connection requests and allocate resources for each connection.
</p>
<p class="pBody"><a name="wp1312226"> </a>
By limiting the number of connections, GWTDOMAIN can avoid this problem. For more GWTDOMAIN information, see <code class="cHyperlinkCode">
<a href="../rf5/rf5.html">GWTDOMAIN(5)</a></code>.
</p>
<h3 class="pHeading2"><a name="wp1312227"> </a>
Setting Up Connection Limitations/Restrictions
</h3>
<p class="pBody"><a name="wp1312228"> </a>
The Limited/Restricted Connection Numbers feature requires modification of the *SERVERS section in the UBBCONFIG file.
</p>
<h4 class="pHeading3"><a name="wp1312229"> </a>
UBBCONFIG File
</h4>
<p class="pBody"><a name="wp1312230"> </a>
The CLOPT used to specify the parameter for GWTDOMAIN is &quot;-x&quot; using the following syntax: -x <a href="secovr.html#wp1312247"><code class="cCode">limit</code></a>[:{[<a href="secovr.html#wp1312255"><code class="cCode">duration</code></a>][:<a href="secovr.html#wp1312258"><code class="cCode">period</code></a>]}]. A colon ( : ) is used to separate each option.
</p>
<a name="wp1312240"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The colon ( : ) can only be used between two options. For example, configurations like &quot;:duration&quot; or &quot;limit::&quot; are invalid.</td></tr>
</table>

<a name="wp1312241"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The default value(s) for the duration and period options are used if they are not specified.</td>
</tr>
</table>
<a name="wp1312242"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Please be aware that the timing is not exact for performance reason. There may be a one-second difference.</td>
</tr>
</table>
<p class="pBody"><a name="wp1312243"> </a>
If the number of current active connections plus the number of closed connections in a specified previous period is greater than the limit, GWTDOMAIN is suspended for a duration specified in seconds.
</p>
<a name="wp1312244"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The number of current active connections includes both active incoming connections and active outgoing connections. The number of closed connections in a previous<span style="font-style: italic"> period</span> includes <span style="font-style: italic">both</span> closed incoming connections and closed outgoing connections. However, when GWTDOMAIN is suspended, none of the closed connections are counted.</td>
</tr>
</table>

<p class="pBody"><a name="wp1312245"> </a>
limit, duration, and period are defined as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1312247"> </a>limit</li>
<p class="pBodyRelative"><a name="wp1312248"> </a>
The maximum number of connections. The minimum limit value is 0, and the maximum value is 2,147,483,647.
</p>
<p class="pBodyRelative"><a name="wp1312249"> </a>
When the limit is reached (or exceeded) and there is an incoming request, GWTDOMAIN is suspended for the given duration. At the same time, the current incoming request which triggers the suspending is not accepted. Polling is resumed after <a href="secovr.html#wp1312255">duration</a> has elapsed.
</p>
<p class="pBodyRelative"><a name="wp1312253"> </a>
Setting the limit to 0 prohibits the domain gateway from accepting any incoming connection requests. In other words, this is an &quot;OUTGOING_ONLY&quot; connection policy.
</p>
<li><a name="wp1312255"> </a>duration</li>
<p class="pBodyRelative"><a name="wp1312256"> </a>
The duration in seconds to suspend polling for incoming connection when limit is reached. The default value is (SCANUNIT * SANITYSCAN) seconds. The minimum duration value is 5, and the maximum value is 65,535.
</p>
<li><a name="wp1312258"> </a>period</li>
<p class="pBodyRelative"><a name="wp1312259"> </a>
The time interval (in seconds) proceeding GWTDOMAIN check point to count the closed connections in the past. When not specified, the default value is the same as duration. The minimum period value is 0, and the maximum value is 65,535.
</p>
<p class="pBodyRelative"><a name="wp1312260"> </a>
If period is specified as 0, the number of closed connections in a prior period will <span style="font-style: italic">always</span> be 0, limit only counts active connections.
</p>
</ul></div>
<h5 class="pHeading4"><a name="wp1312261"> </a>
Examples
</h5>
<p class="pBody"><a name="wp1312265"> </a>
<a href="secovr.html#wp1312267">Listing&#160;1-1</a> shows an example where the GWTDOMAIN limit is set to 512 concurrent socket connections. When the 512 limit is reached and there is an incoming request, GWTDOMAIN will stop polling and accepting new incoming connection requests for a duration of 300 seconds (or, 5 minutes). Since period is specified as 0, only the active connections are counted.
</p>
<div class="pCodeTitle"><a name="wp1312267"> </a>
Listing&#160;1-1	   UBBCONFIG File Example 1
</div> <a name="wp1312268"> </a><div class="pPreformatted"><pre># UBBCONFIG<br />...<br />*SERVERS<br />GWTDOMAIN  SRVGRP=GWGRP1 SRVID=2 CLOPT= &#8220;-A -- -x 512:300:0&#8221;</pre></div><p class="pBody"><a name="wp1312273"> </a>
<a href="secovr.html#wp1312281">Listing&#160;1-2</a> shows an example where the GWTDOMAIN limit is set to 200 concurrent socket connections. When the 200 limit is reached, (for example:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1312274"> </a>there are100 outgoing connections </li>
<li><a name="wp1312275"> </a>50 incoming connections, </li>
<li><a name="wp1312276"> </a>in the passed 60 seconds 50 connections were closed (including outgoing connections and incoming connections))</li>
<li><a name="wp1312277"> </a>a current incoming connection is requested</li>
</ul></div>
<p class="pBody"><a name="wp1312278"> </a>
and since the duration value is not specified, GWTDOMAIN will stop polling and accepting new incoming connection requests for the duration default value SCANUNIT * SANITYSCAN seconds.
</p>
<a name="wp1312279"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The current incoming connection that triggered the suspension is also not accepted, and is closed at the end of the suspended duration.</td>
</tr>
</table>

<div class="pCodeTitle"><a name="wp1312281"> </a>
Listing&#160;1-2	   UBBCONFIG File Example 2
</div> <a name="wp1312282"> </a><div class="pPreformatted"><pre># UBBCONFIG<br />...<br />*SERVERS<br />GWTDOMAIN  SRVGRP=GWGRP1 SRVID=2 CLOPT= &#8220;-A -- -x 200::60&#8221;</pre></div><h4 class="pHeading3"><a name="wp1312284"> </a>
Messages
</h4>
<p class="pBody"><a name="wp1312285"> </a>
The following conditions will post messages to USERLOG:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1312286"> </a>A new connection request arrives that reaches the preset number of connections limit:</li>
<p class="pBodyRelative"><a name="wp1312287"> </a>
&lt;LIBGW_CAT 5359&gt; &quot;WARN: The number of connections for &lt;ldom-name&gt; exceeds limit &lt;%d&gt;, start to suspend for &lt;%d&gt; seconds&quot;
</p>
<li><a name="wp1312288"> </a>GWTDOMAIN resumes checking for new incoming connection request:</li>
<p class="pBodyRelative"><a name="wp1312289"> </a>
&lt;LIBGW_CAT 5360&gt; &quot;INFO: Resume accepting connection request&quot;
</p>
<a name="wp1312290"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>These two messages can be controlled using the &quot;throttle message&quot; mechanism to avoid the potential of flooding the USERLOG.</td>
</tr>
</table>

<li><a name="wp1312291"> </a>If limit is specified as 0, when GWTDOMAIN starts up:</li>
<p class="pBodyRelative"><a name="wp1312292"> </a>
&lt;LIBGW_CAT 5361&gt; &quot;INFO: The connection limit for &lt;ldom-name&gt; is set to 0. No incoming connection request will be accepted.&quot;
</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1312294"> </a>
Message Sanity Check
</h3>
<p class="pBody"><a name="wp1312295"> </a>
The sanity check of message is strengthened with this feature, to protect GWTDOMAIN from crash when under attack. This feature is deployed automatically after installed, no configuration work needed.
</p>
<h3 class="pHeading2"><a name="wp1312297"> </a>
Message Authentication Code (MAC) Usage
</h3>
<p class="pBody"><a name="wp1312298"> </a>
By associating the message authentication code (MAC) with messages, a Tuxedo domain gateway can validate and authenticate them. With MAC, the domain gateway can defend against various types of DoS attacks (for example, message tampering, message forging, and message replay attack).
</p>
<p class="pBody"><a name="wp1312299"> </a>
This feature can only take effect when LLE and/or domain SECURITY is configured. MAC works after connection is established. When a MAC message from a remote domain gateway fails validation and authentication, the corresponding connection is dropped. All pending messages are also dropped, and all on-going service requests fail.
</p>
<p class="pBody"><a name="wp1312301"> </a>
GWTDOMAIN determines whether MAC is turned on for the session during the session negotiation phase. MAC can only be enabled when either LLE and/or SECURITY is supported and activated for the session.
</p>
<a name="wp1313489"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>SSL does not support MAC usage.</td>
</tr>
</table>

<p class="pBody"><a name="wp1312302"> </a>
It is not necessary to turn on the SECURITY feature to enable MAC; however, <span style="font-style: italic">it is recommended</span> since SECURITY can be used to defend against the &#8220;man-in-the-middle&#8221; attack.
</p>
<h4 class="pHeading3"><a name="wp1312303"> </a>
Performance Impact
</h4>
<p class="pBody"><a name="wp1312304"> </a>
When MAC is turned on, it may cause degradation on the throughput and response time for requests across domains.
</p>
<h3 class="pHeading2"><a name="wp1312305"> </a>
Setting up Message Authentication Code (MAC) Usage
</h3>
<p class="pBody"><a name="wp1312307"> </a>
There are two options that you configure the MAC feature. You can use<span class="cHyperlink">
<a href="secovr.html#wp1312310"> DMCONFIG file configuration</a></span>, or<span class="cHyperlink">
<a href="secovr.html#wp1312380"> MIB configuration</a></span>.
</p>
<h4 class="pHeading3"><a name="wp1312310"> </a>
DMCONFIG File Configuration
</h4>
<p class="pBody"><a name="wp1312311"> </a>
This feature can be configured in DM_TDOMAIN section of DMCONFIG file with two new keywords, MAC and MACLEVEL. MAC is used to toggle the MAC feature for a session; MACLEVEL is used to specify the MAC level.
</p>
<a name="wp1312312"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>A large number MACLEVEL means the stronger algorithm from cryptographic point of view, but will introduce more performance degradation.</td>
</tr>
</table>

<p class="pGraphic"><a name="wp1312370"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1312315table1312313"><caption><a name="wp1312315"> </a>
Table 1-14  DMCONFIG File Keywords

</caption>

  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1312321"> </a>
Keyword
</div>
</td>
    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1312323"> </a>
Option
</div>
</td>
    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1312325"> </a>
Definition
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312327"> </a>
MAC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312329"> </a>
OFF
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312331"> </a>
Turn off feature. This is the default value.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312335"> </a>
ON
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312337"> </a>
Turn on feature. The established session MAC support depends on the negotiation result between the two domain gateways.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312341"> </a>
MANDATORY
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312343"> </a>
Turn on feature. The session cannot be setup if:
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1312344"> </a>the remote domain does not support or disable the MAC feature, or</li>
<li><a name="wp1312345"> </a>neither LLE nor domain SECURITY is available.</li>
</ul></div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312347"> </a>
MACLEVEL
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312349"> </a>
0
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312351"> </a>
Only protects the message header with MAC. This is the default value
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312355"> </a>
1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312357"> </a>
Protects the entire message with MAC using MD5-based algorithm
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312361"> </a>
2
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312363"> </a>
Protects the entire message with MAC using SHA1-based algorithm.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row">&#160;</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312367"> </a>
3
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312369"> </a>
Protects the entire message with MAC, using SHA256-based algorithm.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1312374"> </a>
<a href="secovr.html#wp1312376">Listing&#160;1-3</a> shows an example DMCONFIG configuration.
</p>
<div class="pCodeTitle"><a name="wp1312376"> </a>
Listing&#160;1-3	   DMCONFIG File Configuration
</div> <a name="wp1312377"> </a><div class="pPreformatted"><pre># DMCONFIG<br />...<br />*DM_TDOMAIN<br />&#8220;RDOM&#8221; NWADDR=&#8221;//RHOST:RPORT&#8221;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MAC=&#8221;ON&#8221;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACLEVEL=1</pre></div><h4 class="pHeading3"><a name="wp1312380"> </a>
MIB Configuration
</h4>
<p class="pBody"><a name="wp1312381"> </a>
Dynamic setting of MAC via MIB does not have any impact on existing domain sessions. It only takes effect for new connections.
</p>
<p class="pBody"><a name="wp1312383"> </a>
Two new attributes are added to support MIB interface in the T_DM_TDOMAIN<span class="cHyperlink">
 </span>class definition attribute table: TA_DMMAC and TA_DMMACLEVEL.
</p>
<p class="pGraphic"><a name="wp1312434"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1312390table1312384"><caption><a name="wp1312390"> </a>
Table 1-15  DM_MIB(5): T_DM_TDOMAIN Class Definition Attribute Table&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1312400"> </a>
Attribute
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1312402"> </a>
Type
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1312404"> </a>
Permissions
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1312406"> </a>
Values
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1312408"> </a>
Default
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312412"> </a>
<span class="cHyperlink">
<a href="secovr.html#wp1312436">TA_DMMAC</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312414"> </a>
string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312416"> </a>
rw-------
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312418"> </a>
<span style="font-style: oblique">string</span> 
</div>
<div class="pCellBody"><a name="wp1312419"> </a>
&#8220;{OFF|ON|MANDATORY}&#8221;
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312421"> </a>
&#8220;OFF&#8221;
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312424"> </a>
<span class="cHyperlink">
<a href="secovr.html#wp1312445">TA_DMMACLEVEL</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312426"> </a>
string
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312428"> </a>
rw-------
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312430"> </a>
<span style="font-style: oblique">string</span>
</div>
<div class="pCellBody"><a name="wp1312431"> </a>
&quot;{0|1|2|3}&quot;
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1312433"> </a>
&#8220;0&#8221;
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pDefTerm"><a name="wp1312436"> </a>
<code class="cCode">TA_DMMAC=&quot;{OFF|ON|MANDATORY}&quot;</code>
</h4><div class="pDefPara"><a name="wp1312437"> </a>
Relevant to remote domain access points only. Specifies whether to activate MAC feature when connecting to the remote domain. Supported values are &quot;OFF&quot;, &quot;ON&quot;, &quot;MANDATORY&quot;.
</div>
<div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1312438"> </a>
&quot;OFF&quot;
</h4></div>
<div class="pDefPara2"><a name="wp1312439"> </a>
Specifies the connection to a domain gateway does not use the MAC feature.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1312440"> </a>
&quot;ON&quot;
</h4></div>
<div class="pDefPara2"><a name="wp1312441"> </a>
Specifies the connection to a domain gateway that uses the MAC feature.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1312442"> </a>
&quot;MANDATORY&quot;
</h4></div>
<div class="pDefPara2"><a name="wp1312443"> </a>
Specifies the connection to a domain gateway must use the MAC feature, otherwise a successful connection cannot be established.
</div><h4 class="pDefTerm"><a name="wp1312445"> </a>
<code class="cCode">TA_DMMACLEVEL=&quot;{0|1|2|3}&quot;</code>
</h4><div class="pDefPara"><a name="wp1312446"> </a>
Relevant to remote domain access points only. Specifies the manner when protecting the whole message with MAC. &quot;0&quot; specifies that only the message header is protected by MAC. &quot;1&quot;, &quot;2&quot;, and &quot;3&quot; specify that the entire message is protected by MAC via an algorithm based on MD5, SHA1 and SHA256.
</div>
<p class="pBody"><a name="wp1312453"> </a>
<a href="secovr.html#wp1312455">Listing&#160;1-4</a> and <a href="secovr.html#wp1312459">Listing&#160;16</a> show examples of how to <span style="font-style: italic">retrieve</span> and <span style="font-style: italic">update</span> MAC attributes using ud32 respectively.
</p>
<div class="pCodeTitle"><a name="wp1312455"> </a>
Listing&#160;1-4	   Sample Retrieve MAC Attribute Script
</div> <a name="wp1312456"> </a><div class="pPreformatted"><pre>SRVCNM  .TMIB<br />TA_OPERATION    GET<br />TA_CLASS        T_DM_TDOMAIN<br />TA_DMACCESSPOINT        RDOM<br />TA_DMNWADDR     //host:port</pre></div><div class="pCodeTitle"><a name="wp1312459"> </a>
Listing&#160;16	   Sample Update MAC Attribute Script
</div> <a name="wp1312460"> </a><div class="pPreformatted"><pre>SRVCNM  .TMIB<br />TA_OPERATION    SET<br />TA_CLASS        T_DM_TDOMAIN<br />TA_DMACCESSPOINT        RDOM<br />TA_DMNWADDR     //host:port<br />TA_DMLACCESSPOINT LDOM<br />TA_DMMAC        MANDATORY<br />TA_DMMACLEVEL     2</pre></div><h5 class="pHeading4"><a name="wp1312462"> </a>
MAC Negotiation
</h5>
<p class="pBody"><a name="wp1312466"> </a>
<a href="secovr.html#wp1312468">Table&#160;1-17</a> shows two domains: DOM1 and DOM2. When DOM1 (initiator) establishes a session with DOM2 (acceptor), the MAC negotiation result is (1) MAC = ON; and (2) MACLEVEL = 2.
</p>
<a name="wp1312468"> </a>
Table 1-17  MAC Negotiation Example

<p class="pGraphic"><a name="wp1312474"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/dom1_dom2.png" alt="Denial-of-Service (DoS) Attacks" id="wp1312472" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1312481"> </a>
<a href="secovr.html#wp1312486">Table&#160;1-18</a> and <a href="secovr.html#wp1312492">Table&#160;1-19</a> provide more MAC and MACLEVEL details respectively.
</p>
<p class="pBody"><a name="wp1312482"> </a>
The first column from each table contains the configuration parameter for DOM2 in the DM_TDOMAIN section of the DOM1 DMCONFIG file. The header row holds the configuration parameter for DOM1 in the DM_TDOMAIN section of the DOM2 DMCONFIG file.
</p>
<p class="pBody"><a name="wp1312483"> </a>
An &quot;ERROR&quot; result in Table 4 means that the connection cannot be established. When MAC negotiation result is ON, the MACLEVEL for the entire message is determined as shown in Table 5.
</p>
<p class="pBody"><a name="wp1312484"> </a>
When MAC is turned on, the MACLEVEL in use is set to the higher number, or max (m1,m2) for safety purpose. It must be supported by both endpoints (that is, not greater than min (Max1,Max2)). In short, the negotiated MACLEVEL must satisfy following relationship:<br /><span style="font-style: italic; vertical-align: baseline">max(m</span><span style="font-style: italic; vertical-align: sub">1</span><span style="font-style: italic; vertical-align: baseline">, m</span><span style="font-style: italic; vertical-align: sub">2</span><span style="font-style: italic; vertical-align: baseline">)&lt;=negotiated MACLEVEL&lt;=min(Max</span><span style="font-style: italic; vertical-align: sub">1</span><span style="font-style: italic; vertical-align: baseline">, Max</span><span style="font-style: italic; vertical-align: sub">2</span>), otherwise the connection is closed with one ERROR message logged in USERLOG.
</p>
<a name="wp1312486"> </a>
Table 1-18  MAC Negotiation Results (parameter: MAC)

<p class="pGraphic"><a name="wp1312490"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/macneg.png" alt="Denial-of-Service (DoS) Attacks" id="wp1312488" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<a name="wp1312492"> </a>
Table 1-19  MAC NegotiationResults (parameter: MACLEVEL)

<p class="pGraphic"><a name="wp1312496"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/maclvlneg.png" alt="Denial-of-Service (DoS) Attacks" id="wp1312494" border="0" hspace="0" vspace="0"/></div><p class="pGraphic">

</p>
<h5 class="pHeading4"><a name="wp1312497"> </a>
Messages
</h5>
<p class="pBody"><a name="wp1312498"> </a>
<span style="font-weight: normal">The following messages are posted to the USERLOG:</span>
</p>
<p class="pBody"><a name="wp1312499"> </a>
INFO Messages
</p>
<p class="pBody"><a name="wp1312500"> </a>
The following INFO messages are printed after agreement about MAC is made to denote MAC feature for one session:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1312501"> </a>MAC is not supported for the session:</li>
<p class="pBodyRelative"><a name="wp1312502"> </a>
&lt;LIBGWT 1686&gt; &quot;INFO: MAC is not supported for session (&lt;ldom-name&gt;,  &lt;rdom-name&gt;&quot;
</p>
<a name="wp1312503"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This message will only be printed in the domain with MAC set to &quot;ON&quot;.</td>
</tr>
</table>

<li><a name="wp1312504"> </a>MAC is turned on for the session:</li>
<p class="pBodyRelative"><a name="wp1312505"> </a>
&lt;LIBGWT 1687&gt; &quot;INFO: MAC is turned on for session (&lt;ldom-name&gt;, &lt;rdom-name&gt;) and effective MACLEVEL is &lt;%d&gt;&quot;
</p>
</ul></div>
<p class="pBody"><a name="wp1312506"> </a>
ERROR Messages
</p>
<p class="pBody"><a name="wp1312507"> </a>
The following error messages appear during session negotiation and MAC validation phase. The connection is dropped when these messages are printed:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1312508"> </a>MAC is mandatory, but MAC is not supported for the session when negotiation:</li>
<p class="pBodyRelative"><a name="wp1312509"> </a>
&lt;LIBGWT 1681&gt; &quot;ERROR: MAC is MANDATORY but remote domain &lt;rdom-name&gt; does not support this feature&quot;
</p>
<li><a name="wp1312510"> </a>MAC is mandatory but neither LLE nor SECURITY is supported when negotiation:</li>
<p class="pBodyRelative"><a name="wp1312511"> </a>
&lt;LIBGWT 1682&gt; &quot;ERROR: MAC is MANDATORY but neither LLE nor SECURITY is supported for connection of (&lt;ldom-name&gt;, &lt;rdom-name&gt;)&quot;
</p>
<li><a name="wp1312512"> </a>MAC is mandatory in the remote domain but MAC is not supported in local domain: </li>
<p class="pBodyRelative"><a name="wp1312513"> </a>
&lt;LIBGWT 1683&gt; &quot;ERROR: MAC is MANDATORY in remote domain &lt;rdom-name&gt; but not supported in local domain &lt;ldom-name&gt;&quot;
</p>
<li><a name="wp1312514"> </a>MAC negotiation fails to make an agreement on MACLEVEL:</li>
<p class="pBodyRelative"><a name="wp1312515"> </a>
&lt;LIBGWT 1684&gt; &quot;ERROR: MAC failed to make an agreement on MACLEVEL (&lt;ldom_name&gt; is &lt;%d&gt;..&lt;%d&gt;, &lt;rdom-name&gt; is &lt;%d&gt;..&lt;%d&gt;)&quot;
</p>
<a name="wp1312516"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The four corresponding parameters for &quot;%d&quot; placeholder in this message are m1, Max1, m2, and Max2.</td>
</tr>
</table>

<li><a name="wp1312517"> </a>MAC fails validation and authentication:</li>
<p class="pBodyRelative"><a name="wp1312518"> </a>
&lt;LIBGWT 1685&gt; &quot;ERROR: Message from &lt;rdom-name&gt; has invalid MAC&quot;
</p>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1312700"> </a>
Password Pair Protection
</h2><p class="pBody"><a name="wp1312701"> </a>
Password pair protection is deployed automatically after installation; configuration is not required. It improves the GWTDOMAIN security mechanism and removes the previous security restriction that did not allow dual password pairs with the same remote password.
</p>
<p class="pBody"><a name="wp1312702"> </a>
Password pair protection is funtional only when supported by both local and remote domains. If it is not supported by both local and remote domains, it does not affect existing behavior.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="secovr.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="secadm.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
