<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="8" />
<meta name="LOC_US_CHANGE" content="42046" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/install/fm/insup.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/29/12 11:27:46" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Upgrading the Oracle Tuxedo System to 12c Release 1 (12.1.1)</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Installing the Oracle Tuxedo System
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="inssil.html"><img id="LongDescNotReq7" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="inspin.html"><img id="LongDescNotReq8" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq9" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq10" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq11" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/install.pdf" target="pdf"><img id="LongDescNotReq12" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq13" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1046365"> </a>
Upgrading the Oracle Tuxedo System to 12<em class="cEmphasis">c </em>Release 1 (12.1.1)
</h1>
<p class="pBody"><a name="wp1023313"> </a>
The following sections provide procedures for upgrading your Oracle Tuxedo or Oracle WebLogic Enterprise application to Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) using simple and hot upgrade procedures:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1036439"> </a><a href="insup.html#wp1040468">Preparing Your Machine for an Upgrade</a></li>
<li><a name="wp1038629"> </a><a href="insup.html#wp1033788">Selecting an Upgrade Procedure</a></li>
<li><a name="wp1036495"> </a><a href="insup.html#wp1028628">Backing Up Files</a></li>
<li><a name="wp1036510"> </a><a href="insup.html#wp1022980">Performing a Simple Upgrade</a></li>
<li><a name="wp1037662"> </a><a href="insup.html#wp1039487">Performing Additional Upgrade Steps to Windows Server</a></li>
<li><a name="wp1063603"> </a><a href="insup.html#wp1064069">Upgrading from Tuxedo 6.5 to Tuxedo 12c Release 1 (12.1.1)</a></li>
<li><a name="wp1053831"> </a><a href="insup.html#wp1064076">Performing a Hot Upgrade</a></li>
<li><a name="wp1053836"> </a><a href="insup.html#wp1030353">Rebuilding an Application</a></li>
<li><a name="wp1040466"> </a><a href="insup.html#wp1057446">Installing Oracle Jolt 12c Release 1 (12.1.1) with Oracle WebLogic Server</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1040468"> </a>
Preparing Your Machine for an Upgrade
</h2><p class="pBody"><a name="wp1038177"> </a>
Before you install the Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) software on a machine, make sure that the required version of the operating system and the compiler have been installed. For operating system and compiler requirements for each supported platform, see <a href="inspds.html">Oracle Tuxedo 12c Release 1 (12.1.1) Platform Data Sheets</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1033788"> </a>
Selecting an Upgrade Procedure
</h2><p class="pBody"><a name="wp1033792"> </a>
If you are installing Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) on a platform that contains an earlier release of Oracle Tuxedo software or the Oracle WebLogic Enterprise software, be sure to read the following procedures carefully.
</p>
<p class="pGraphic"><a name="wp1040670"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/install-05-1-1.gif" height="192" width="552" id="wp1040642"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1034194"> </a>
If you can shut down your application for the upgrade, then shut down your application and perform a simple upgrade. For instructions on performing a simple upgrade, see <a href="insup.html#wp1022980">Performing a Simple Upgrade</a>.
</p>
<p class="pBody"><a name="wp1057628"> </a>
If you cannot shut down your application for the upgrade, you can perform a hot upgrade for any of the following software products to Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) without having to shut down your enterprise:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1057635"> </a>Versions 8.1, 9.0, 9.1, 10.0, 10.3, 11.1.1.1.0, 11.1.1.2.0, and 11.1.1.3.0 of Oracle Tuxedo</li>
<li><a name="wp1062813"> </a>Version 5.1 of WebLogic Enterprise</li>
</ul></div>
<p class="pBody"><a name="wp1062820"> </a>
You can add the Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) software to existing Oracle Tuxedo or Oracle WebLogic Enterprise domains without shutting down the existing applications, and you can add new Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) application servers to those domains without shutting down the existing applications. For instructions on performing a hot upgrade, see <a href="insup.html#wp1064076">Performing a Hot Upgrade</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1028628"> </a>
Backing Up Files
</h2><p class="pBody"><a name="wp1035530"> </a>
There are certain files that you need to back up prior to the installation and then restore after the installation is complete. Any modifications that you made to these files will be overwritten when the new Oracle Tuxedo software is installed.
</p>
<p class="pBody"><a name="wp1035244"> </a>
To avoid having to modify these files again, follow these steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1035989"> </a>Back up the <code class="cCode">RM</code> file to a temporary location. The <code class="cCode">RM</code> file contains database vendor-specific settings that are used by commands such as <code class="cCode">buildtms</code> and <code class="cCode">buildXAJS</code>. It is located in the <code class="cCodeEmphasis">tux_prod_dir</code><code class="cCode">/udataobj</code> directory, where <code class="cCodeEmphasis">tux_prod_dir</code> is the directory in which you installed the Oracle Tuxedo or Oracle WebLogic Enterprise software.</li>
<li><a name="wp1035990"> </a>Back up the <code class="cCode">tuxwsvr.ini</code> and <code class="cCode">webgui.ini</code> files to a temporary location. These files contain customized initialization settings for the Oracle Tuxedo Administration Console server and GUI. The <code class="cCode">tuxwsvr.ini</code> file is located in the <code class="cCodeEmphasis">tux_prod_dir</code><code class="cCode">/udataobj</code> directory, and the <code class="cCode">webgui.ini</code> file is located in the <code class="cCodeEmphasis">tux_prod_dir</code><code class="cCode">/udataobj/webgui</code> directory.</li>
<li><a name="wp1040988"> </a>Back up the <code class="cCode">CATNAMES</code>, <code class="cCode">jrepository</code>, and <code class="cCode">jrly.config</code> files. The <code class="cCode">CATNAMES</code> file is located in the <code class="cCodeEmphasis">tux_prod_dir</code><code class="cCode">/locale</code> directory. The <code class="cCode">jrepository</code> and <code class="cCode">jrly.config</code> files are located in the <code class="cCodeEmphasis">tux_prod_dir</code><code class="cCode">/udataobj/jolt</code> directory structure.</li>
<li><a name="wp1035959"> </a>Move any files that you or your coworkers added to the <code class="cCodeEmphasis">tux_prod_dir</code> directory to a temporary location.</li>
<li><a name="wp1029218"> </a>After the installation is complete, restore these files to their original locations.</li>
</ol></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022980"> </a>
Performing a Simple Upgrade
</h2><p class="pBody"><a name="wp1036277"> </a>
A simple upgrade consists of the following basic steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1036244"> </a>If you already have the D<code class="cCode">MTLOG</code>, make sure that no pending transaction log is in it.</li>
<li><a name="wp1069873"> </a>Shut down the application.</li>
<li><a name="wp1037438"> </a>Back up files as described in <a href="insup.html#wp1028628">Backing Up Files</a>.</li>
<li><a name="wp1036245"> </a>Update the text version of the configuration file on the <code class="cCode">MASTER</code> machine by running the <code class="cCode">tmunloadcf(1)</code> command.</li>
<li><a name="wp1036249"> </a>Back up the old binary version of the configuration file.</li>
<li><a name="wp1041037"> </a>If upgrading a Oracle Tuxedo 9.1 machine, uninstall the Oracle Tuxedo system software as described in <a href="inspin.html#wp1013219">Uninstalling Oracle Tuxedo</a>.</li>
<li><a name="wp1046612"> </a>If upgrading a Windows machine running Oracle WebLogic Enterprise or Oracle Tuxedo 10.0 or earlier software, perform the additional steps specified in <a href="insup.html#wp1039487">Performing Additional Upgrade Steps to Windows Server</a>.</li>
<li><a name="wp1036250"> </a>Install the Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) software on at least the <code class="cCode">MASTER</code> and backup <code class="cCode">MASTER</code> machines.</li>
<li><a name="wp1036254"> </a>Reload the text version of the configuration file by running <code class="cCode">tmloadcf(1)</code> on the <code class="cCode">MASTER</code> machine.</li>
<li><a name="wp1069861"> </a>If necessary, recompile and relink your application programs.</li>
<li><a name="wp1069862"> </a>If you already have the D<code class="cCode">MTLOG</code>, remove it.</li>
<li><a name="wp1069863"> </a>Reboot the application.</li>
<li><a name="wp1039485"> </a>As time permits, shut down and upgrade the other machines in your configuration.</li>
</ol></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1039487"> </a>
Performing Additional Upgrade Steps to Windows Server
</h2><p class="pBody"><a name="wp1037473"> </a>
For a Windows machine running Oracle WebLogic Enterprise or Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) or earlier software, perform the following additional steps before installing the Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) software to ensure that you are starting with a clean system.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1034986"> </a>Stop the Tuxedo TListen and Oracle<code class="cCode"> procMGR</code> services. From the Start menu, click Start <span class="arrow"><img id="LongDescNotReq1" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>All Programs <span class="arrow"><img id="LongDescNotReq2" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>Administrative Tools <span class="arrow"><img id="LongDescNotReq3" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>Services. The Services window appears.</li>
<a name="wp1035711"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The Oracle Tuxedo <code class="cCode">procMGR</code> service is called IPC Helper in Oracle Tuxedo 6.5 or Oracle WebLogic Enterprise 5.1.</td>
</tr>
</table>

<li><a name="wp1034987"> </a>Scroll to the entry for the TListen service, select it, and then click the Stop button. The Status value should change from Started to a blank entry. Then scroll to the Oracle procMGR (or IPC Helper) service, select it, and click the Stop button. In some cases, you may see an error; however, the service&#8217;s Status value should change from Started to a blank entry. Click the Close button.</li>
<li><a name="wp1034993"> </a>Run the Windows Add/Remove program to remove the prior Oracle Tuxedo or Oracle WebLogic Enterprise software version. From the Start menu, choose Start&#160;<span class="arrow"><img id="LongDescNotReq4" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>Settings <span class="arrow"><img id="LongDescNotReq5" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>Control Panel <span class="arrow"><img id="LongDescNotReq6" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>Add/Remove Programs. The Add/Remove Programs Properties window appears.</li>
<li><a name="wp1034994"> </a>Scroll to the entry for the prior Oracle Tuxedo or Oracle WebLogic Enterprise software, select it, and click the Add/Remove button.</li>
<a name="wp1039044"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If you have both the C++ and Java components of WebLogic Enterprise 5.1 installed on your machine, you must remove the Java software <span style="font-style: italic">before</span> removing the C++ software.</td>
</tr>
</table>

<li><a name="wp1034996"> </a>In response to the prompt, confirm that you want to uninstall the software. After the program finishes, the Remove Programs From Your Computer window appears.</li>
<li><a name="wp1034997"> </a>If the uninstall program was not able to remove all directories (usually because the files were added after the original installation), you can click the Details button to find out which directories remain on your system. If the files in the directories contain changes that you made, such as a modified sample file, move the modified files to a temporary location.</li>
<li><a name="wp1034999"> </a>Reboot your system after the uninstall completes.</li>
</ol></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1064069"> </a>
Upgrading from Tuxedo 6.5 to Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1)
</h2><p class="pBody"><a name="wp1064100"> </a>
If you are upgrading from Tuxedo 6.5 to Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1), please note the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1064104"> </a>In order to allow a Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) server to interoperate with Tuxedo 6.5 software, the Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) server <code class="cCode">servopts -t</code> option must be specified. The server may be a workstation listener (WSL) process (where the <code class="cCode">servopts -t </code>option allows interoperability for all of its workstation handler&#8212;WSH&#8212;processes), a domain gateway (GWTDOMAIN) process, or a system or application server process. For more information, see<code class="cHyperlinkCode">
<a href="../rf5/rf5.html#wp1149066"> GWTDOMAIN(5)</a></code> in the <span style="font-style: italic">Oracle Tuxedo File Formats, Data Descriptions, MIBs, And System Processes Reference</span>. </li>
<li><a name="wp1064112"> </a>In order to allow a domain gateway (GWTDOMAIN) in Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) to interoperate with a domain gateway running on Tuxedo 6.5. you must upgrade to Tuxedo 6.5 patch level 446.</li>
<p class="pBodyRelative"><a name="wp1064113"> </a>
If you have not upgraded to patch level 446, then you must set the <code class="cCode">TM_GWT_OLDSECCHECK</code> environment variable of the domain gateway in this Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1). For more Oracle Tuxedo environment variable information, see <code class="cHyperlinkCode">
<a href="../rf5/rf5.html#wp1027414">tuxenv(5)</a></code> in the <span style="font-style: italic">Oracle Tuxedo File Formats, Data Descriptions, MIBs, And System Processes Reference</span>.
</p>
<li><a name="wp1064118"> </a>If your Tuxedo 6.5 COBOL program calls <code class="cCode">TPINITIALIZE()</code>, you must set the <code class="cCode">TM_CBL_IGNORE_CONTEXT</code> environment variable to <code class="cCode">&#8220;Y&#8221;</code> when you run the COBOL application. For more Oracle Tuxedo environment variable information, see <code class="cHyperlinkCode">
<a href="../rf5/rf5.html#wp1027414">tuxenv(5)</a></code> in the <span style="font-style: italic">Oracle Tuxedo File Formats, Data Descriptions, MIBs, And System Processes Reference</span>.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1064076"> </a>
Performing a Hot Upgrade
</h2><p class="pBody"><a name="wp1037448"> </a>
Before performing a hot upgrade, back up files as described in <a href="insup.html#wp1028628">Backing Up Files</a>.
</p>
<p class="pBody"><a name="wp1025616"> </a>
During the hot upgrade, you must shut down the <code class="cCode">MASTER</code> and backup <code class="cCode">MASTER</code> machines <em class="cEmphasis">serially</em>. The remainder of the configuration is unaffected.
</p>
<h3 class="pHeading2"><a name="wp1053168"> </a>
Pre-Upgrade Notes
</h3>
<p class="pBody"><a name="wp1050557"> </a>
Once you have finished migrating the <code class="cCode">MASTER</code> to Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) (via a hot upgrade), you will not be able to migrate it back to the acting backup until you have upgraded the backup to Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1). In other words, migrating the <code class="cCode">MASTER</code> is an irreversible procedure; once you have completed it, you cannot change the <code class="cCode">MASTER</code> back to the release of the Oracle Tuxedo software on which it was running previously.
</p>
<p class="pBody"><a name="wp1042133"> </a>
When you run <code class="cCode">tmadmin(1)</code> on a Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) machine with an old-release <code class="cCode">MASTER</code>, the <code class="cCode">UPGRADE</code> file shown in <a href="insup.html#wp1025662">Hot-Upgrade Example</a> must reside in the current directory. To make sure that the files are in the current directory, you might, for example, run <code class="cCode">tmadmin</code> from the Tuxedo application directory: <code class="cCode">%APPDIR%</code> (Windows)/ <code class="cCode">$APPDIR</code> (UNIX) directory.
</p>
<p class="pBody"><a name="wp1025641"> </a>
During migration, keep in mind the following guidelines regarding the Oracle Tuxedo data storage areas:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025642"> </a>You will be instructed to remove the old <code class="cCode">TUXCONFIG</code> file. The <code class="cCode">TUXCONFIG</code> file is propagated automatically when the backup machine is run; therefore, you do not need to do anything.</li>
<li><a name="wp1025643"> </a>Create the TLOG when you load the software. If you already have a TLOG, remove it.</li>
<li><a name="wp1025644"> </a>Do not do anything with application queue spaces and queues.</li>
<li><a name="wp1025645"> </a>If you have a Domains configuration (<code class="cCode">BDMCONFIG</code>) file, leave it as is.</li>
</ul></div>
<p class="pBody"><a name="wp1025646"> </a>
To minimize downtime, Oracle recommends installing Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) on the <code class="cCode">MASTER</code> machine and backup <code class="cCode">MASTER</code>, and rebuilding all clients and servers in the directory on each machine that is defined by <code class="cCode">%APPDIR%</code>/ <code class="cCode">$APPDIR</code>, in parallel with the directory in which the old-release clients and servers were created. In other words, both an old-release application and a Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) application should be available on each machine. <span style="font-style: italic">This advice is not a requirement, but a recommendation.</span>
</p>
<p class="pBody"><a name="wp1052043"> </a>
The Oracle Tuxedo software supports device list path entries of up to 256 bytes in length (in previous releases the limit was 64 bytes in length.) Queue Spaces, TLOG files, and other configuration files originally created with an earlier version of Oracle Tuxedo are understood and supported with this release. However, such device lists originally created with Oracle Tuxedo 8.0 or earlier are restricted to 64-byte path names. Therefore, if the administrator wants to add a new extent using a path name greater than 64 bytes in length to a queue space in the future and such queue space is empty when the upgrade is performed, the administrator may want to create the queue space device list and the queue space at the time of the hot upgrade. Many applications need to preserve queue spaces across an upgrade and will not be able to recreate them. Furthermore, most applications will not need to add queue space extent in the future or will be able to do so using path names no longer than the ones they are currently using. <em class="cEmphasis">This queue space recreation is completely optional and mentioned for completeness.</em>
</p>
<p class="pBody"><a name="wp1069886"> </a>
If you already have the <code class="cCode">DMTLOG</code>, make sure that no pending transaction log is in it before shutting down the application, and keep in mind that removing the <code class="cCode">DMTLOG</code> (if it exists) after the application is shut down.
</p>
<h3 class="pHeading2"><a name="wp1052044"> </a>
Hot-Upgrade Procedure
</h3>
<p class="pBody"><a name="wp1052045"> </a>
This section provides an overview of the tasks for a &#8220;hot upgrade.&#8221;
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1025652"> </a>Make sure your environment is set up as follows:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1025653"> </a>The configuration must have a backup <code class="cCode">MASTER</code> machine.</li>
<li><a name="wp1025654"> </a>The <code class="cCode">MODEL</code> option in the configuration must be set to <code class="cCode">MP</code>.</li>
<li><a name="wp1025655"> </a>The <code class="cCode">MIGRATE</code> option in the configuration must be set.</li>
</ul></div>
<li><a name="wp1041553"> </a>If upgrading a Oracle Tuxedo 9.1 machine, uninstall the Oracle Tuxedo system software as specified in <a href="inspin.html#wp1013219">Uninstalling Oracle Tuxedo</a>.</li>
<li><a name="wp1037510"> </a>If upgrading a Windows machine running Oracle WebLogic Enterprise or Oracle Tuxedo 9.1 or earlier software, perform the additional steps specified in <a href="insup.html#wp1039487">Performing Additional Upgrade Steps to Windows Server</a>.</li>
<li><a name="wp1025656"> </a>Shut down the backup <code class="cCode">MASTER</code> machine.</li>
<li><a name="wp1025657"> </a>Install the Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) software on the backup <code class="cCode">MASTER</code> machine and reboot the backup machine.</li>
<li><a name="wp1025658"> </a>Migrate the <code class="cCode">MASTER</code> machine running the old release to the backup <code class="cCode">MASTER</code> machine running Oracle Tuxedo12<em class="cEmphasis">c </em>Release 1 (12.1.1).</li>
<li><a name="wp1025659"> </a>Shut down the machine that is now acting as the backup <code class="cCode">MASTER</code>.</li>
<li><a name="wp1043083"> </a>Install Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) on the old <code class="cCode">MASTER</code>.</li>
<li><a name="wp1025660"> </a>Using Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1), reboot the machine that you shut down in step 7.</li>
</ol></div>
<p class="pBody"><a name="wp1043084"> </a>
For more information about hot upgrades, refer to the following section, <a href="insup.html#wp1025662">Hot-Upgrade Example.</a>
</p>
<h3 class="pHeading2"><a name="wp1025662"> </a>
Hot-Upgrade Example
</h3>
<p class="pBody"><a name="wp1025663"> </a>
The following example describes a sample scenario for a hot upgrade and the sequence of steps to perform the hot upgrade. 
</p>
<p class="pBody"><a name="wp1043088"> </a>
Suppose you have the following on a UNIX platform:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025664"> </a>A machine called <code class="cCode">MACH1</code> that is configured as the <code class="cCode">MASTER</code> and that runs an old release</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1025665"> </a>A corresponding application directory called <code class="cCode">$APPDIR1</code></li>
<li><a name="wp1025666"> </a>A corresponding configuration file called <code class="cCode">$TUXCONFIG1</code></li>
</ul></div>
<li><a name="wp1025667"> </a>A machine called <code class="cCode">MACH2</code> that is configured as the backup</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1025668"> </a>A corresponding application directory called <code class="cCode">$APPDIR2</code></li>
<li><a name="wp1025669"> </a>A corresponding configuration file called <code class="cCode">$TUXCONFIG2</code></li>
</ul></div>
</ul></div>
<p class="pBody"><a name="wp1025670"> </a>
Refer to the following instruction sequence in <a href="insup.html#wp1052622">Listing&#160;5-1</a> to perform a hot upgrade for your application.
</p>
<div class="pCodeTitle"><a name="wp1052622"> </a>
Listing&#160;5-1	   Typical Hot Upgrade
</div> <a name="wp1031208"> </a><div class="pPreformatted"><pre>MACH1&gt; tmshutdown -B MACH2 -l MACH2<br />MACH1&gt; <code class="cCodeEmphasis">Run tmconfig to reset the APPDIR, TUXCONFIG, TUXDIR for MACH2<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; <code class="cCodeEmphasis">Kill tlisten process<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; <code class="cCodeEmphasis">Load Tuxedo </code>12cR<code class="cCodeEmphasis">1 if it is not already loaded<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; cd $APPDIR2<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; rm $TUXCONFIG2<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; &gt;UPGRADE    #<code class="cCodeEmphasis"> Indicator that upgrade being done<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; <code class="cCodeEmphasis">Reset PATH, LD_LIBRARY_PATH, TUXCONFIG, APPDIR<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; <code class="cCodeEmphasis">Rebuild clients and servers, create TLOG<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; <code class="cCodeEmphasis">Start Tuxedo </code>12cR<code class="cCodeEmphasis">1 tlisten<br /></code>MACH1&gt; &gt;UPGRADE    # <code class="cCodeEmphasis">Indicator that upgrade being done<br /></code>MACH1&gt; tmboot -B MACH2 -l MACH2<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; tmadmin<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;master<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;y<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;psr<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;q<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; tmshutdown -B MACH1 -l MACH1<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; <code class="cCodeEmphasis">Run tmconfig to reset the APPDIR, TUXCONFIG, TUXDIR for MACH1<br /></code>MACH1&gt; <code class="cCodeEmphasis">Kill tlisten process<br /></code>MACH1&gt; <code class="cCodeEmphasis">Load Tuxedo </code>12cR<code class="cCodeEmphasis">1 if it is not already loaded<br /></code>MACH1&gt; cd $APPDIR1<br />MACH1&gt; rm $TUXCONFIG1<br />MACH1&gt; <code class="cCodeEmphasis">Reset PATH, LD_LIBRARY_PATH, TUXCONFIG, APPDIR<br /></code>MACH1&gt; <code class="cCodeEmphasis">Rebuild clients and servers, create TLOG<br /></code>MACH1&gt; <code class="cCodeEmphasis">Start Tuxedo </code>12cR<code class="cCodeEmphasis">1 tlisten<br /></code>MACH1&gt; rm UPGRADE  # <code class="cCodeEmphasis">Remove indicator that upgrade being done<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; rm UPGRADE  # <code class="cCodeEmphasis">Remove indicator that upgrade being done<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;MACH2&gt; tmboot -B MACH1 -l MACH1</pre></div><a name="wp1046672"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If you are performing the upgrade illustrated in <a href="insup.html#wp1052622">Listing&#160;5-1</a> from a Windows platform, be sure to stop the Oracle Tuxedo <code class="cCode">procMGR</code> (called IPC Helper in Oracle Tuxedo 6.5 or Oracle WebLogic Enterprise 5.1) service after stopping the <code class="cCode">tlisten</code> process and to start the Oracle Tuxedo <code class="cCode">procMGR</code> service <span style="font-style: italic">before</span> starting the <code class="cCode">tlisten</code> process.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1030353"> </a>
Rebuilding an Application
</h2><p class="pBody"><a name="wp1030354"> </a>
Now that you have successfully installed the Oracle Tuxedo software, you need to rebuild all application clients and servers that you want to execute on a system upgraded to Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) 
</p>
<a name="wp1069635"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The rebuild is not necessary when you upgrade from Oracle Tuxedo 11.1.1.1.0 to 12.1.1. </td></tr>
</table>

<a name="wp1069657"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The TMS server must be rebuilt when upgrading a previous Oracle Tuxedo version to Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1).</td>
</tr>
</table>
<p class="pBody"><a name="wp1069640"> </a>
You should also remove any old <code class="cCode">TUXCONFIG</code> files and reload them using the newly installed <code class="cCode">tmloadcf(1)</code>.
</p>
<p class="pBody"><a name="wp1030358"> </a>
If your Oracle Tuxedo system applications are distributed, the <code class="cCode">MASTER</code> and backup <code class="cCode">MASTER</code> machines must run the highest release of the Oracle Tuxedo software of any machines in the configuration. Other machines, including Workstation clients, may continue to use executables from an earlier release. For example, even if your <code class="cCode">MASTER</code> and backup <code class="cCode">MASTER</code> machines are running Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1), Oracle Tuxedo 6.5 or later may still be used on other machines.
</p>
<p class="pBody"><a name="wp1057438"> </a>
There is one important exception to the &#8220;highest release&#8221; rule. If you wish to install Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) only on Workstation clients, and you do not want to upgrade any of your Oracle Tuxedo system server machines to Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1), you may do so. In other words, with any release level beginning with Oracle Tuxedo 6.5, Workstation clients may be intermixed freely in a configuration in which the <code class="cCode">MASTER</code> machines is running Oracle Tuxedo 6.5 or later.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1057446"> </a>
Installing Oracle Jolt 12<em class="cEmphasis">c </em>Release 1 (12.1.1) with Oracle WebLogic Server
</h2><p class="pBody"><a name="wp1057447"> </a>
This section provides supplementary installation instructions for customers using Oracle Jolt 12<em class="cEmphasis">c </em>Release 1 (12.1.1) with Oracle WebLogic Server 6.1, 7.0, or 8.1 and Oracle Tuxedo 6.5, 7.1, 8.0, 8.1, 9.0, 9.1, or 10.0. You can install the Jolt client personality software known as &#8220;Oracle Jolt for Oracle WebLogic Server&#8221; on an Oracle WebLogic Server 6.1, 7.0, or 8.1 machine by copying the Jolt client personality software from a Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) machine to the target Oracle WebLogic Server machine. Of course, if the Oracle Tuxedo 12<em class="cEmphasis">c </em>Release 1 (12.1.1) machine and the target Oracle WebLogic Server machine are the same machine, you need only include the Jolt client library class files in your <code class="cCode">CLASSPATH</code> variable setting.
</p>
<p class="pBody"><a name="wp1042449"> </a>
The &#8220;Oracle Jolt for Oracle WebLogic Server&#8221; client software consists of three JAR files: <code class="cCode">jolt.jar</code>, <code class="cCode">joltjse.jar</code>, and <code class="cCode">joltwls.jar</code>. Include these files in your <code class="cCode">CLASSPATH</code> variable setting.
</p>
<p class="pBody"><a name="wp1042925"> </a>
For instructions on configuring the Jolt connection pool on Oracle WebLogic Server, see <a href="../Jolt_wls/index.html"><span style="font-style: italic">Using Oracle Jolt with Oracle WebLogic Server</a></span>.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="insup.html"><img id="LongDescNotReq14" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="inssil.html"><img id="LongDescNotReq15" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="inspin.html"><img id="LongDescNotReq16" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
