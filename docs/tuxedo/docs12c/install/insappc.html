<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="7" />
<meta name="LOC_US_CHANGE" content="42046" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/install/fm/insappc.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/29/12 11:27:53" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>File and Database Management and Disk Space Allocation</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Installing the Oracle Tuxedo System
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="insjol.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="insappd.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/install.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1050532"> </a>
File and Database Management and Disk Space Allocation
</h1>
<p class="pBody"><a name="wp1049219"> </a>
The following sections describe Oracle Tuxedo file and database management and provide guidelines for allocating disk space for a Oracle Tuxedo application:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1049466"> </a><a href="insappc.html#wp1049447">Introduction</a></li>
<li><a name="wp1044048"> </a><a href="insappc.html#wp997863">How the Oracle Tuxedo System Manages Files</a></li>
<li><a name="wp1039590"> </a><a href="insappc.html#wp999557">Arranging for Raw Disk Space</a></li>
<li><a name="wp1039613"> </a><a href="insappc.html#wp1033081">How the Oracle Tuxedo Filesystem Is Organized</a></li>
<li><a name="wp1039628"> </a><a href="insappc.html#wp999597">Space for Queue Spaces</a></li>
<li><a name="wp1039635"> </a><a href="insappc.html#wp999603">Space for Application Servers</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1049447"> </a>
Introduction
</h2><p class="pBody"><a name="wp1049631"> </a>
For the most part, the following discussions apply to both Windows and UNIX systems except for the guidelines to repartition hard disk devices. On a Windows system, input/output (I/O) is buffered by default, but Oracle Tuxedo sets a certain system-level flag to change the default. Thus, all I/O for Oracle Tuxedo processes is <em class="cEmphasis">unbuffered</em>, meaning that you do not need to make any special disk-space arrangements on a Windows system.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp997863"> </a>
How the Oracle Tuxedo System Manages Files
</h2><p class="pBody"><a name="wp1012980"> </a>
The Oracle Tuxedo system provides a facility called the Disk Management Interface (DMI), which manages logical files within a single disk device or set of devices. The DMI performs tasks such as storing binary configuration tables and the transaction log. You can use it to create, initialize, or destroy entries in the Oracle Tuxedo filesystem. To access the DMI, use the <code class="cCode">tmadmin(1)</code>administrative commands described in the <a href="../rfcm/index.html">Oracle Tuxedo Command Reference</a>.
</p>
<p class="pBody"><a name="wp999536"> </a>
There are two ways that the logical files managed by the DMI can be stored physically:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1010775"> </a>Stored on an operating-system (OS) filesystem</li>
<li><a name="wp1010766"> </a>Stored on disk space, set aside for the Oracle Tuxedo system, that is outside the control of all OS filesystems</li>
</ul></div>
<p class="pBody"><a name="wp1010851"> </a>
Oracle Tuxedo files reside on device special files in the designated space and are managed directly by the DMI disk management software. The DMI supports the notion of a Oracle Tuxedo filesystem distinct from any OS filesystem.
</p>
<p class="pBody"><a name="wp1033008"> </a>
Space outside the OS filesystem is usually referred to as <em class="cEmphasis">raw disk space</em>. Not only is I/O faster when done by system calls reading directly from and writing directly to device special files on raw disks, but a physical <code class="cCode">write()</code> occurs right away. When using an OS filesystem, Oracle Tuxedo cannot predict or control the precise moment at which a <code class="cCode">write()</code> is done. When using raw disk space, however, Oracle Tuxedo has accurate control of the write operation, which is particularly important for entries in the Oracle Tuxedo transaction log. Also, when multiple users are accessing the system, being able to control the write operation is important for assuring database consistency.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp999557"> </a>
Arranging for Raw Disk Space
</h2><p class="pBody"><a name="wp999660"> </a>
If you decide to use raw disk space for your Oracle Tuxedo application, and you are using a UNIX system, you may find that the hard disk devices on your system are fully allocated to filesystems such as <code class="cCode">/</code> (root) and <code class="cCode">/usr</code>. If that is the case, you must repartition your hard disk device in order to set aside some partitions for use as non-OS filesystems. For repartitioning instructions, refer to the system administration documentation for your platform. 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1033081"> </a>
How the Oracle Tuxedo Filesystem Is Organized
</h2><p class="pBody"><a name="wp1033082"> </a>
A Oracle Tuxedo filesystem has a Volume Table of Contents (VTOC), which lists the files residing on the devices named in the Universal Device List (UDL). The UDL contains information about the location of the physical storage space for Oracle Tuxedo system tables.
</p>
<p class="pBody"><a name="wp999692"> </a>
In a Oracle Tuxedo application, all system files might be stored together on the same raw disk slice or OS filesystem. While it is possible to use regular OS filesystem files for the configuration tables, we strongly recommend that you store the transaction log, TLOG, on a raw disk device. Because the TLOG seldom needs to be larger than 100 blocks (51200 bytes assuming 512-byte blocks), and because disk partitions are always substantially larger than 100 blocks, it may make sense to use the same device for both the configuration files and the TLOG.
</p>
<p class="pBody"><a name="wp1049760"> </a>
<a href="insappc.html#wp1049762">Listing&#160;D-1</a> shows a sample VTOC and UDL diagram for a <code class="cCode">bankapp</code> (sample application) configuration on a single machine.
</p>
<div class="pCodeTitle"><a name="wp1049762"> </a>
Listing&#160;D-1	   VTOC and UDL Diagram
</div> <a name="wp1049763"> </a><div class="pPreformatted"><pre>Output based on setting FSCONFIG=$TUXCONFIG, and invoking tmadmin:<br /><br />No bulletin board exists. Entering boot mode.<br /><br />&gt; livtoc<br />Volume Table of Contents on /usr2/bank/tuxconfig:<br />0: VTOC: Device 0 Offset 0 Pages 7<br />1: UDL: Device 0 Offset 7 Pages 28<br />2: _RESOURCE_SECT:    Device 0 Offset  35 Pages 6<br />3: _MACHINES_SECT:    Device 0 Offset  41 Pages 40<br />4: _GROUPS_SECT:      Device 0 Offset 141 Pages 100<br />5: _SERVERS_SECT:     Device 0 Offset 241 Pages 150<br />6: _SERVICES_SECT:    Device 0 Offset 391 Pages 60<br />7: _ROUTING_SECT:     Device 0 Offset 451 Pages 100<br />8: _NETWORK_SECT:     Device 0 Offset 551 Pages 20<br />9: _MIBPERMS_SECT:    Device 0 Offset 571 Pages 2<br />10: _NETGROUPS_SECT:  Device 0 Offset 573 Pages 2<br />11: _INTERFACES_SECT: Device 0 Offset 575 Pages 10 <br /><br /># If the TLOG is stored on the same device, there will be an<br /># entry something like:<br /><br />12: TLOG:             Device 0 Offset 585 Pages 100</pre></div><p class="pBody"><a name="wp999871"> </a>
The Oracle Tuxedo application administrator must make sure raw disk slices are available as needed on each node participating in an application. <a href="insappc.html#wp1005989">Table&#160;D-1</a> lists the size of each element in the Oracle Tuxedo filesystem.
</p>
<p class="pGraphic"><a name="wp1000263"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1005989table999876"><caption><a name="wp1005989"> </a>
Table&#160;D-1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Size of Oracle Tuxedo System Tables</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp999885"> </a>
Entity
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp999888"> </a>
512-Byte Pages (Blocks)
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp999892"> </a>
<code class="cCode">VTOC </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp999895"> </a>
7
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp999899"> </a>
<code class="cCode">TUXCONFIG </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp999902"> </a>
550
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp999906"> </a>
<code class="cCode">TLOG </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp999909"> </a>
100 (default) 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp999913"> </a>
<code class="cCode">UDL </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp999916"> </a>
28 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp999920"> </a>
<code class="cCode">TOTAL </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp999923"> </a>
685
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp999938"> </a>
The amount of space required for the <code class="cCode">TUXCONFIG</code> file must be larger if there are more entries in the configuration file, <code class="cCode">UBBCONFIG</code>, than in the <code class="cCode">bankapp</code> sample application. The administrator is encouraged to allocate additional space for dynamic reconfiguration and growth of the application. The default block size assumed by the <code class="cCode">crdl</code> subcommand of <code class="cCode">tmadmin</code> is 1000 blocks (512000 bytes assuming 512-byte blocks), which should be adequate for the initial installation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp999597"> </a>
Space for Queue Spaces
</h2><p class="pBody"><a name="wp999990"> </a>
If your Oracle Tuxedo application uses /Q for store-and-forward queue management, your queue space can be listed in the same UDL as the one used to store the <code class="cCode">TUXCONFIG</code> file and the TLOG, and managed by the Oracle Tuxedo VTOC.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp999603"> </a>
Space for Application Servers
</h2><p class="pBody"><a name="wp1000017"> </a>
As you are calculating your space requirements for the Oracle Tuxedo system, you should also consider the requirements of the servers that perform the work of the application. These requirements are specified by the application; they are unrelated to the requirements for the Oracle Tuxedo system itself (unless otherwise specified).
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="insappc.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="insjol.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="insappd.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
