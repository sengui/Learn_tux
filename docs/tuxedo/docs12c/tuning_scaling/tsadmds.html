<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/tuning_scaling/fm/tsadmds.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:49:19" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Distributing CORBA Applications   </title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Scaling, Distributing, and Tuning CORBA Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="tssrvc.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="tsadmtun.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/tuning_scaling.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1046662"> </a>
Distributing CORBA Applications   
</h1>
<p class="pBody"><a name="wp1042032"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1019454"> </a><a href="tsadmds.html#wp1039468">Why Distribute an Application?</a></li>
<li><a name="wp1014959"> </a><a href="tsadmds.html#wp1014981">Using Data-dependent Routing (Oracle Tuxedo ATMI Servers Only)</a></li>
<li><a name="wp1014960"> </a><a href="tsadmds.html#wp1038973">Configuring the UBBCONFIG File</a></li>
<li><a name="wp1036946"> </a><a href="tsadmds.html#wp1036578">Configuring the factory_finder.ini (CORBA Applications Only)</a></li>
<li><a name="wp1042329"> </a><a href="tsadmds.html#wp1036650">Modifying the Domain Gateway Configuration File to Support Routing</a></li>
</ul></div>
<p class="pBody"><a name="wp1042334"> </a>
This topic describes how to distribute applications in the Oracle Tuxedo CORBA environment, using a CORBA application as an example.
</p>
<a name="wp1046884"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB were deprecated in Tuxedo 8.1 and are no longer supported. All Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB text references, associated code samples, should only be used to help implement/run third party Java ORB libraries, and for programmer reference only.</td></tr>
</table>

<a name="wp1046885"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Technical support for third party CORBA Java ORBs should be provided by their respective vendors. Oracle Tuxedo does not provide any technical support or documentation for third party CORBA Java ORBs.</td>
</tr>
</table>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1039468"> </a>
Why Distribute an Application?
</h2><p class="pBody"><a name="wp1027229"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1027233"> </a><a href="tsadmds.html#wp1019505">About Distributing an Application</a></li>
<li><a name="wp1029455"> </a><a href="tsadmds.html#wp1019371">Benefits of a Distributed Application</a></li>
<li><a name="wp1027254"> </a><a href="tsadmds.html#wp1025116">Characteristics of Distributing an Application</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1019505"> </a>
About Distributing an Application
</h3>
<p class="pBody"><a name="wp1029434"> </a>
Distributing an application enables you to select which parts of an application should be grouped together logically and where these groups should run. You distribute an application by creating more than one entry in the <code class="cCode">GROUPS</code> section of the <code class="cCode">UBBCONFIG</code> file, and by dividing application resources or tasks among the groups. Creating groups of servers enables you to partition a very large application into its component business applications, and to assure that each of these into logical components is of a manageable size and in an optimal location.
</p>
<h3 class="pHeading2"><a name="wp1019371"> </a>
Benefits of a Distributed Application 
</h3>
<p class="pBody"><a name="wp1039497"> </a>
The benefits of a distributed application include:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1019681"> </a>Scalability&#8212;to increase the load that an application can sustain:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1024971"> </a>Place extra server processes in a group.</li>
<li><a name="wp1024975"> </a>Add machines to the application and redistribute the groups across the machines.</li>
<li><a name="wp1024976"> </a>Replicate a group onto other machines within the application and use load balancing.</li>
<li><a name="wp1025010"> </a>Segment a database and use data-dependent routing to reach the groups dealing with these separate database segments (the Oracle Tuxedo ATMI system).</li>
<p class="pBodyRelative"><a name="wp1025011"> </a>
With the Oracle Tuxedo CORBA system, you can use factory-based routing to distribute the processing of a particular CORBA interface across multiple server groups and, if desired, across multiple machines. This feature allows you to distribute the processing load, which can prevent the processing bottlenecks that occur when concurrent, resource-intensive applications compete for the available CPU, memory, disk I/O, and network resources. For an example of using factory-based routing, see <a href="tssrvc.html#wp1017548">Scaling with Factory-based Routing</a>.
</p>
<p class="pBodyRelative"><a name="wp1035010"> </a>
For more information about Oracle Tuxedo CORBA scalability features, see <a href="concepts.html">Scaling Oracle Tuxedo CORBA Applications.</a>
</p>
</ul></div>
<li><a name="wp1019700"> </a>Ease of Development and Maintenance&#8212;the separation of the business application logic into services or components that communicate through well-defined messages or interfaces allows both development and maintenance to be similarly separated and thereby simplified.</li>
<li><a name="wp1019719"> </a>Reliability&#8212;when multiple machines are in use and one fails, the remainder can continue operation. Similarly, when multiple server processes are within a group and one fails, the others are available to perform work. Finally, if a machine should fail, but there are multiple machines within the application, these other machines can be used to handle the load.</li>
<li><a name="wp1019989"> </a>Coordination of Autonomous Actions&#8212;if you have separate applications, you can coordinate autonomous actions, as a single logical<em class="cEmphasis"> unit of work</em>, among applications. <em class="cEmphasis">Autonomous actions </em>are actions that involve multiple server groups and multiple resource manager interfaces.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1025116"> </a>
Characteristics of Distributing an Application 
</h3>
<p class="pBody"><a name="wp1025117"> </a>
A distributed application:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025118"> </a>Enlarges the client and/or server model.</li>
<li><a name="wp1014975"> </a>Establishes multiple server groups.</li>
<li><a name="wp1014976"> </a>Enables transparent access to Oracle Tuxedo services or Oracle Tuxedo CORBA interfaces.</li>
<li><a name="wp1014977"> </a>In Oracle Tuxedo, allows data-dependent partitioning of data.</li>
<li><a name="wp1016360"> </a>In Oracle Tuxedo CORBA, allows partitioning of CORBA objects in multiple groups across multiple machines, or distributing application factory interfaces and application interfaces.</li>
<li><a name="wp1014978"> </a>Enables management of multiple resources.</li>
<li><a name="wp1014979"> </a>Supports a networked model.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1014981"> </a>
Using Data-dependent Routing (Oracle Tuxedo ATMI Servers Only) 
</h2><p class="pBody"><a name="wp1027568"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1027572"> </a><a href="tsadmds.html#wp1014982">About Data-dependent Routing</a></li>
<li><a name="wp1027593"> </a><a href="tsadmds.html#wp1022778">Characteristics of Data-dependent Routing</a></li>
<li><a name="wp1027576"> </a><a href="tsadmds.html#wp1022828">Sample Distributed Application</a></li>
<li><a name="wp1044500"> </a><a href="tsadmds.html#wp1044447">Example of UBBCONFIG Sections in a Distributed Application</a></li>
</ul></div>
<a name="wp1031271"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This topic applies to Oracle Tuxedo servers only.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1014982"> </a>
About Data-dependent Routing
</h3>
<p class="pBody"><a name="wp1027605"> </a>
Data-dependent routing is a mechanism whereby a service request is routed by a client (or a server acting as a client) to a server within a specific group based on a data value contained within the buffer that is sent. Within the internal code of a service call, Oracle Tuxedo chooses a destination server by comparing a data field with the routing criteria it finds in the bulletin board shared memory.
</p>
<p class="pBody"><a name="wp1022776"> </a>
For any given service, a routing criteria identifier can be specified in the <code class="cCode">SERVICES</code> section of the <code class="cCode">UBBCONFIG</code> file. The routing criteria identifier (in particular, the mapping of data ranges to server groups) is specified in the <code class="cCode">ROUTING</code> section.
</p>
<h3 class="pHeading2"><a name="wp1022778"> </a>
Characteristics of Data-dependent Routing 
</h3>
<p class="pBody"><a name="wp1022779"> </a>
Data-dependent routing has the following characteristics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1014985"> </a>The service request assigned to a server in the group is based on a data value.</li>
<li><a name="wp1014986"> </a>Routing uses the bulletin board criteria and occurs in a server call.</li>
<li><a name="wp1014987"> </a>The routing criteria identifier for a service is specified in the <code class="cCode">SERVICES</code> section of the <code class="cCode">UBBCONFIG</code> file.</li>
<li><a name="wp1021879"> </a>The routing criteria identifier is defined in the <code class="cCode">ROUTING</code> section of the <code class="cCode">UBBCONFIG</code> file.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1022828"> </a>
Sample Distributed Application 
</h3>
<p class="pBody"><a name="wp1022829"> </a>
<a href="tsadmds.html#wp1038923">Table&#160;3-1</a> illustrates how client requests are routed to servers. In this example, a banking application called <code class="cCode">bankapp</code> uses data-dependent routing. For <code class="cCode">bankapp</code>, there are three groups (<code class="cCode">BANKB1</code>, <code class="cCode">BANKB2</code>, and <code class="cCode">BANKB3</code>), and two routing criteria (<code class="cCode">Account_ID</code> and <code class="cCode">Branch_ID</code>). The services <code class="cCode">WITHDRAW</code>, <code class="cCode">DEPOSIT</code>, and <code class="cCode">INQUIRY</code> are routed using the <code class="cCode">Account_ID</code> field. The services <code class="cCode">OPEN</code> and <code class="cCode">CLOSE</code> are routed using the <code class="cCode">Branch_ID</code> field.
</p>
<p class="pGraphic"><a name="wp1038970"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1038923table1038920"><caption><a name="wp1038923"> </a>
Table 3-1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Data-dependent Routing Criteria for Sample Distributed Application&#160;</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1038929"> </a>
Server Group
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1038931"> </a>
Routing Criteria
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1038933"> </a>
Services
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="1" rowspan="2"><div class="pCellBody"><a name="wp1038935"> </a>
<code class="cCode">BANKB1</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038937"> </a>
<code class="cCode">Account_ID: 10000 - 49999</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038939"> </a>
<code class="cCode">WITHDRAW</code>, <code class="cCode">DEPOSIT</code>, and <code class="cCode">INQUIRY</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038943"> </a>
<code class="cCode">Branch_ID: 1 - 4</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038945"> </a>
<code class="cCode">OPEN</code> and <code class="cCode">CLOSE</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="1" rowspan="2"><div class="pCellBody"><a name="wp1038947"> </a>
<code class="cCode">BANKB2</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038949"> </a>
<code class="cCode">Account_ID: 50000 - 79999</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038951"> </a>
<code class="cCode">WITHDRAW</code>, <code class="cCode">DEPOSIT</code>, and <code class="cCode">INQUIRY</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038955"> </a>
<code class="cCode">Branch_ID: 5 - 7</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038957"> </a>
<code class="cCode">OPEN</code> and <code class="cCode">CLOSE</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="straddledcells" colspan="1" rowspan="2"><div class="pCellBody"><a name="wp1038959"> </a>
<code class="cCode">BANKB3</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038961"> </a>
<code class="cCode">Account_ID: 80000 - 109999</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038963"> </a>
<code class="cCode">WITHDRAW</code>, <code class="cCode">DEPOSIT</code>, and <code class="cCode">INQUIRY</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038967"> </a>
<code class="cCode">Branch_ID: 8 - 10</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1038969"> </a>
<code class="cCode">OPEN</code> and <code class="cCode">CLOSE</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1044447"> </a>
Example of UBBCONFIG Sections in a Distributed Application 
</h3>
<p class="pBody"><a name="wp1044452"> </a>
<a href="tsadmds.html#wp1044454">Listing&#160;3-1</a> shows a sample <code class="cCode">UBBCONFIG</code> file that contains the <code class="cCode">GROUPS</code>, <code class="cCode">SERVICES</code>, and <code class="cCode">ROUTING</code> sections of a configuration file to accomplish data-dependent routing in the Oracle Tuxedo system.
</p>
<div class="pCodeTitle"><a name="wp1044454"> </a>
Listing&#160;3-1	   Sample UBBCONFIG File
</div> <a name="wp1047295"> </a><div class="pPreformatted"><pre>*GROUPS<br />BANKB1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;GRPNO=1<br />BANKB2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;GRPNO=2<br />BANKB3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;GRPNO=3<br />#<br />*SERVICES<br />WITHDRAW&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ROUTING=ACCOUNT_ID<br />DEPOSIT&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ROUTING=ACCOUNT_ID<br />INQUIRY&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ROUTING=ACCOUNT_ID<br />OPEN_ACCT&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ROUTING=BRANCH_ID<br />CLOSE_ACCT&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ROUTING=BRANCH_ID<br />#<br />*ROUTING<br />ACCOUNT_ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;FIELD=ACCOUNT_ID BUFTYPE=&#8221;FML&#8221;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RANGES=&#8221;MIN - 9999:*,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;10000-49999:BANKB1,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;50000-79999:BANKB2,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;80000-109999:BANKB3,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*:*&#8221;<br />BRANCH_ID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;FIELD=BRANCH_ID BUFTYPE=&#8221;FML&#8221;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RANGES=&#8221;MIN - 0:*,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1-4:BANKB1,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;5-7:BANKB2,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;8-10:BANKB3,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*:*&#8221;</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1038973"> </a>
Configuring the UBBCONFIG File
</h2><p class="pBody"><a name="wp1038974"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1027657"> </a><a href="tsadmds.html#wp1027649">About the UBBCONFIG File in Distributed Applications</a></li>
<li><a name="wp1027661"> </a><a href="tsadmds.html#wp1015042">Modifying the GROUPS Section</a></li>
<li><a name="wp1027665"> </a><a href="tsadmds.html#wp1043670">Modifying the SERVICES Section</a></li>
<li><a name="wp1044431"> </a><a href="tsadmds.html#wp1023546">Modifying the INTERFACES Section</a></li>
<li><a name="wp1027697"> </a><a href="tsadmds.html#wp1044660">Creating the ROUTING Section</a></li>
</ul></div>
<p class="pBody"><a name="wp1035959"> </a>
For more information about the <code class="cCode">UBBCONFIG</code> file, see &#8220;Creating a Configuration File&#8221; in <span style="font-style: italic"><a href=""></span><em class="cEmphasis">Setting Up an Oracle Tuxedo Application</em><span class="cHyperlink">
</a></span>.
</p>
<h3 class="pHeading2"><a name="wp1027649"> </a>
About the UBBCONFIG File in Distributed Applications
</h3>
<p class="pBody"><a name="wp1015037"> </a>
The <code class="cCode">UBBCONFIG</code> file contains a description of either data-dependent routing (Oracle Tuxedo) or factory-based routing (Oracle Tuxedo CORBA), as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1015038"> </a>The <code class="cCode">GROUPS</code> section is populated with as many server groups as are required for distributing the system. This allows the system to route a request to a server in a specific group. These groups can all reside on the same site (<code class="cCode">SHM</code> mode) or, if there is networking, the groups can reside on different sites (<code class="cCode">MP</code> mode).</li>
<li><a name="wp1015039"> </a>For data-dependent routing in Oracle Tuxedo, the <code class="cCode">SERVICES</code> section must list the routing criteria for each service that uses the <code class="cCode">ROUTING</code> parameter.</li>
<a name="wp1017077"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If a service has multiple entries, each with a different <code class="cCode">SRVGRP</code> parameter, all such entries must set <code class="cCode">ROUTING</code> the same way to ensure consistency for that service. A service can route only on one field, which must be the same for all the same services.</td>
</tr>
</table>

<li><a name="wp1017057"> </a>For factory-based routing in Oracle Tuxedo CORBA, the <code class="cCode">INTERFACES</code> section must list the name of the routing criteria for each CORBA interface that uses the <code class="cCode">FACTORYROUTING</code> parameter. This parameter is set to the name of a routing criteria defined in the <code class="cCode">ROUTING</code> section.</li>
<li><a name="wp1015041"> </a>Add a <code class="cCode">ROUTING</code> section to the configuration file to show mappings between data ranges and groups so that the system can send the request to a server in a specific group. Each <code class="cCode">ROUTING</code> section item contains an identifier that is used in the <code class="cCode">INTERFACES</code> section (for Oracle Tuxedo ATMI) or in the <code class="cCode">SERVICES</code> section (for Oracle Tuxedo).</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1015042"> </a>
Modifying the GROUPS Section
</h3>
<p class="pBody"><a name="wp1023501"> </a>
The parameters in the <code class="cCode">GROUPS</code> section implement two important aspects of distributed transaction processing:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1031351"> </a>They associate a group of servers with a particular <code class="cCode">LMID</code> and a particular instance of a resource manager.</li>
<li><a name="wp1031352"> </a>By allowing a second <code class="cCode">LMID</code> to be associated with the server group, they name an alternate machine to which a group of servers can be migrated if the <code class="cCode">MIGRATE</code> option is specified.</li>
</ul></div>
<p class="pBody"><a name="wp1031353"> </a>
<a href="tsadmds.html#wp1023513">Table&#160;3-2</a> describes the parameters in the <code class="cCode">GROUPS</code> section.<span style="font-weight: bold"> </span>
</p>
<p class="pGraphic"><a name="wp1047004"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1023513table1023505"><caption><a name="wp1023513"> </a>
Table 3-2  Parameters Specified in the GROUPS Section&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1023517"> </a>
Parameter
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1023519"> </a>
Meaning
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023521"> </a>
<code class="cCode">LMID </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023523"> </a>
<code class="cCode">LMID</code> must be assigned in the <code class="cCode">MACHINES</code> section to indicate that this server group runs on this particular machine. A second <code class="cCode">LMID</code> value can be specified (separated from the first by a comma) to name an alternate machine to which this server group can be migrated if the <code class="cCode">MIGRATE</code> option has been specified. Servers in the group must specify <code class="cCode">RESTART=Y</code> to migrate.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023525"> </a>
<code class="cCode">GRPNO </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023527"> </a>
<code class="cCode">A</code>ssociates a numeric group number with this server group. The number must be greater than zero (0) and less than 30000. It must be unique among entries in the <code class="cCode">GROUPS</code> section in this configuration file. (Required)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023529"> </a>
<code class="cCode">TMSNAME </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023531"> </a>
Specifies which transaction management server (<code class="cCode">TMS</code>) should be associated with this server group.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023533"> </a>
<code class="cCode">TMSCOUNT </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023535"> </a>
Specifies how many copies of <code class="cCode">TMSNAME</code> should be started for this server group. The minimum value is <code class="cCode">2</code>. If not specified, the default is <code class="cCode">3</code>. All <code class="cCode">TMSNAME</code> servers started for a server group are automatically set up in an <code class="cCode">MSSQ</code> set. (Optional)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023537"> </a>
<code class="cCode">OPENINFO </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023539"> </a>
Specifies information needed to open a particular instance of a particular resource manager, or it indicates that such information is not required for this server group. When a resource manager is named in the <code class="cCode">OPENINFO</code> parameter, information such as the name of the database and the access mode is included. The entire value string must be enclosed in double quotes and must not be more than 256 characters. The format of the <code class="cCode">OPENINFO</code> string is dependent on the requirements of the vendor providing the underlying resource manager. The string required by the vendor must be prefixed with <code class="cCode">rm_name</code>:, which is the published name of the vendor&#39;s transaction (XA) interface followed immediately by a colon (<code class="cCode">:</code>). 
</div>
<div class="pCellBody"><a name="wp1023540"> </a>
The <code class="cCode">OPENINFO</code> parameter is ignored if <code class="cCode">TMSNAME</code> is not set or is set to <code class="cCode">TMS</code>. If <code class="cCode">TMSNAME</code> is set but the <code class="cCode">OPENINFO</code> string is set to the null string (<code class="cCode">&quot;&quot;</code>) or if this parameter does not appear on the entry, it means that a resource manager exists for the group but does not require any information for executing an open operation.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023542"> </a>
<code class="cCode">CLOSEINFO </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1023544"> </a>
Specifies information the resource manager needs when closing a database. The parameter can be omitted or the null string can be specified. The default is the null string.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1043670"> </a>
Modifying the SERVICES Section
</h3>
<p class="pBody"><a name="wp1043671"> </a>
The <code class="cCode">SERVICES</code> section contains parameters that control the way application services are handled. An entry line in this section is associated with a service by its identifier name. Because the same service can be link edited with more than one server, the <code class="cCode">SRVGRP</code> parameter is provided to tie the parameters for an instance of a service to a particular group of servers. 
</p>
<h4 class="pHeading3"><a name="wp1043672"> </a>
Parameters to Modify
</h4>
<p class="pBody"><a name="wp1043673"> </a>
Two parameters in the <code class="cCode">SERVICES</code> section are particularly related to distributed transaction processing (DTP) for Oracle Tuxedo CORBA applications that use Oracle Tuxedo ATMI services: <code class="cCode">AUTOTRAN</code>, and <code class="cCode">TRANTIME</code>.
</p>
<p class="pBody"><a name="wp1043704"> </a>
<a href="tsadmds.html#wp1043682">Table&#160;3-3</a> describes the parameters in the <code class="cCode">SERVICES</code> section.
</p>
<p class="pGraphic"><a name="wp1047049"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1043682table1043677"><caption><a name="wp1043682"> </a>
Table 3-3  Parameters Specified in the SERVICES Section&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1043686"> </a>
Parameter
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1043688"> </a>
Meaning
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043696"> </a>
<code class="cCode">AUTOTRAN </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043698"> </a>
Determines whether a transaction should be started automatically if a message received by this service is not already in transaction mode.The default is <code class="cCode">N</code>. Use of the parameter should be coordinated with the programmers that code the services for your application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043701"> </a>
<code class="cCode">TRANTIME </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043703"> </a>
Specifies a timeout value, in seconds, for transactions automatically started in this service. The default is 30 seconds. Required only if <code class="cCode">AUTOTRAN=Y</code> and another timeout value is needed.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1043709"> </a>
Sample SERVICES Section 
</h4>
<p class="pBody"><a name="wp1043713"> </a>
<a href="tsadmds.html#wp1043925">Listing&#160;3-2</a> shows a sample SERVICES section.
</p>
<div class="pCodeTitle"><a name="wp1043925"> </a>
Listing&#160;3-2	   Production Sample SERVICES Section
</div> <a name="wp1044225"> </a><div class="pPreformatted"><pre><code class="cCode">*SERVICES</code></pre></div><a name="wp1044226"> </a><div class="pPreformatted"><pre><code class="cCode">    # Publish Tuxedo Teller application services<br />    #<br />    DEBIT<br />        AUTOTRAN=Y<br />    CREDIT<br />        AUTOTRAN=Y<br />    CURRBALANCE<br />        AUTOTRAN=Y</code></pre></div><h3 class="pHeading2"><a name="wp1023546"> </a>
Modifying the INTERFACES Section
</h3>
<p class="pBody"><a name="wp1023547"> </a>
The <code class="cCode">INTERFACES</code> section contains parameters that control the way application interfaces are handled. An entry line in this section is associated with an interface by its identifier name. Because the same interface can be link edited with more than one server, the <code class="cCode">SRVGRP</code> parameter is provided to tie the parameters for an instance of a interface to a particular group of servers. 
</p>
<h4 class="pHeading3"><a name="wp1040326"> </a>
Parameters to Modify
</h4>
<p class="pBody"><a name="wp1040327"> </a>
Three parameters in the <code class="cCode">INTERFACES</code> section are particularly related to distributed transaction processing (DTP): <code class="cCode">FACTORYROUTING</code>, <code class="cCode">AUTOTRAN</code>, and <code class="cCode">TRANTIME</code>.
</p>
<p class="pBody"><a name="wp1023796"> </a>
<a href="tsadmds.html#wp1042986">Table&#160;3-4</a> describes the parameters in the <code class="cCode">INTERFACES</code> section.
</p>
<p class="pGraphic"><a name="wp1047060"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1042986table1023646"><caption><a name="wp1042986"> </a>
Table 3-4  Parameters Specified in the INTERFACES Section&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1042990"> </a>
Parameter
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1042992"> </a>
Meaning
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043022"> </a>
<code class="cCode">FACTORYROUTING = criterion-name</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043024"> </a>
Specifies the name of the routing criteria to be used for factory-based routing for this Oracle Tuxedo CORBA interface. You must specify a<code class="cCode"> FACTORYROUTING</code> parameter for interfaces requesting factory-based routing.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043000"> </a>
<code class="cCode">AUTOTRAN </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043002"> </a>
Determines whether a transaction should be started automatically if a message received by this interface is not already in transaction mode.The default is <code class="cCode">N</code>. Use of this parameter should be coordinated with the programmers that code the interface for your application so that it matches the setting of the <code class="cCode">transaction policy</code> option in the application&#8217;s ICF file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043005"> </a>
<code class="cCode">TRANTIME </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043007"> </a>
Specifies a timeout value, in seconds, for transactions automatically started in this interface. The default is 30 seconds. Required only if <code class="cCode">AUTOTRAN=Y</code> and a timeout value other than the default is needed.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1045100"> </a>
LOAD = number
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1045102"> </a>
Specifies an arbitrary number between 1 and 100 that represents the relative load that the CORBA interface is expected to impose on the system. The numbering scheme is relative to the LOAD numbers assigned to other CORBA interfaces used by this application. The default is 50. This number is used by the Oracle Tuxedo system to select the best server to which to route the request
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1015097"> </a>
Sample INTERFACES Section 
</h4>
<p class="pBody"><a name="wp1021366"> </a>
<a href="tsadmds.html#wp1043269">Listing&#160;3-3</a> shows a sample INTERFACES section.
</p>
<div class="pCodeTitle"><a name="wp1043269"> </a>
Listing&#160;3-3	   Sample INTERFACES Section
</div> <a name="wp1043270"> </a><div class="pPreformatted"><pre>*INTERFACES<br />&#160;&#160;&quot;IDL:beasys.com/UniversityP/Registrar:1.0&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;FACTORYROUTING = STU_ID<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;AUTOTRAN=Y<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TRANTIME=50<br /><br />&#160;&#160;&quot;IDL:beasys.com/BillingP/Teller:1.0&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;FACTORYROUTING = ACT_NUM<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;AUTOTRAN=Y</pre></div><h3 class="pHeading2"><a name="wp1044660"> </a>
Creating the ROUTING Section
</h3>
<p class="pBody"><a name="wp1044661"> </a>
For information about <code class="cCode">ROUTING</code> parameters that support Oracle Tuxedo data-dependent routing or Oracle Tuxedo CORBA factory-based routing, see &#8220;Creating a Configuration File&#8221; in <span style="font-style: italic"><a href=""></span><em class="cEmphasis">Setting Up an Oracle Tuxedo Application</em><span class="cHyperlink">
</a></span>.
</p>
<p class="pBody"><a name="wp1044555"> </a>
<a href="tsadmds.html#wp1044557">Listing&#160;3-4</a> shows the <code class="cCode">ROUTING</code> section of the <code class="cCode">UBBCONFIG</code> file used in the Production sample application for factory-based routing.
</p>
<div class="pCodeTitle"><a name="wp1044557"> </a>
Listing&#160;3-4	   Production Sample ROUTING Section
</div> <a name="wp1044558"> </a><div class="pPreformatted"><pre>*ROUTING<br /><br />&#160;&#160;&#160;STU_ID<br />&#160;&#160;&#160;&#160;&#160;&#160;FIELD     = &quot;student_id&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;TYPE      = FACTORY<br />&#160;&#160;&#160;&#160;&#160;&#160;FIELDTYPE = LONG<br />&#160;&#160;&#160;&#160;&#160;&#160;RANGES    = &quot;100001-100005:ORA_GRP1,100006-100010:ORA_GRP2&quot;<br /><br />&#160;&#160;&#160;ACT_NUM<br />&#160;&#160;&#160;&#160;&#160;&#160;FIELD     = &quot;account_number&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;TYPE      = FACTORY<br />&#160;&#160;&#160;&#160;&#160;&#160;FIELDTYPE = LONG<br />&#160;&#160;&#160;&#160;&#160;&#160;RANGES    = &quot;200010-200014:APP_GRP1,200015-200019:APP_GRP2&quot;</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1036578"> </a>
Configuring the factory_finder.ini (CORBA Applications Only)
</h2><p class="pBody"><a name="wp1036673"> </a>
For CORBA applications, to configure factory-based routing across multiple domains, you must configure the <code class="cCode">factory_finder.ini</code> file to identify factory objects that are used in the current (local) domain but that are resident in a different (remote) domain. For more information, see &#8220;Configuring Multiple Domains Multiple Domains for CORBA Applications in Using the Oracle Tuxedo Domains Component<span style="font-style: normal" class="cHyperlink">
</a></span><span style="font-style: italic">.</span>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1036650"> </a>
Modifying the Domain Gateway Configuration File to Support Routing 
</h2><p class="pBody"><a name="wp1027719"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1027723"> </a><a href="tsadmds.html#wp1038781">About the Domain Gateway Configuration File</a></li>
<li><a name="wp1027727"> </a><a href="tsadmds.html#wp1015189">Parameters in the DM_ROUTING Section of the DMCONFIG File (Oracle Tuxedo ATMI Only)</a></li>
</ul></div>
<p class="pBody"><a name="wp1038776"> </a>
This section is specific to Oracle Tuxedo and explains how and why you need to modify the domain gateway configuration to support routing. For more information about the domain gateway configuration file, see &#8220;Configuring Multiple Domains Multiple Domains for CORBA Applications in Using the Oracle Tuxedo Domains Component<span class="cHyperlink">
</a></span>.
</p>
<h3 class="pHeading2"><a name="wp1038781"> </a>
About the Domain Gateway Configuration File 
</h3>
<p class="pBody"><a name="wp1015186"> </a>
The Domain gateway configuration information is stored in a binary file called <code class="cCode">BDMCONFIG</code>. The <code class="cCode">DMCONFIG</code> file (ASCII) is created and edited with any text editor. The&#160;compiled <code class="cCode">BDMCONFIG</code> file can be updated while the system is running by using the <code class="cCode">dmadmin(1)</code> command.
</p>
<p class="pBody"><a name="wp1036028"> </a>
You must have one <code class="cCode">BDMCONFIG</code> file for each Oracle Tuxedo application that requires the Domains functionality. System access to the <code class="cCode">BDMCONFIG</code> file is provided through the Domains administrative server, <code class="cCode">DMADM</code>(5). When a gateway group is booted, the gateway administrative server, <code class="cCode">GWADM</code>(5), requests from the <code class="cCode">DMADM</code> server a copy of the configuration required by that group. The <code class="cCode">GWADM</code> server and the <code class="cCode">DMADM</code> server also ensure that run-time changes to the configuration are reflected in the corresponding Domain gateway groups.
</p>
<a name="wp1036442"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>For more information about modifying the <code class="cCode">DMCONFIG</code> file, see &#8220;Configuring Multiple Domains Multiple Domains for CORBA Applications&#8221; in Using the Oracle Tuxedo Domains Component</a>.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1015189"> </a>
Parameters in the DM_ROUTING Section of the DMCONFIG File (Oracle Tuxedo ATMI Only) 
</h3>
<p class="pBody"><a name="wp1015190"> </a>
The <code class="cCode">DM_ROUTING</code> section provides information for data-dependent routing of service requests using <code class="cCode">FML</code>, <code class="cCode">VIEW</code>, <code class="cCode">X_C_TYPE</code>, and <code class="cCode">X_COMMON</code> typed buffers. Lines within the <code class="cCode">DM_ROUTING</code> section have the form <code class="cCode">CRITERION_NAME</code>, where <code class="cCode">CRITERION_NAME</code> is the (identifier) name of the routing entry specified in the SERVICES section. The <code class="cCode">CRITERION_NAME</code> entry may contain no more than 15 characters.
</p>
<h4 class="pHeading3"><a name="wp1022662"> </a>
Parameters to Specify
</h4>
<p class="pBody"><a name="wp1040426"> </a>
<a href="tsadmds.html#wp1022655">Table&#160;3-5</a> describes the parameters in the DM_ROUTING section.
</p>
<p class="pGraphic"><a name="wp1015209"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1022655table1015191"><caption><a name="wp1022655"> </a>
Table 3-5  Parameters Specified in the DM_ROUTING Section&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1015193"> </a>
Parameter
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1015195"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1015197"> </a>
<code class="cCodeEmphasis">FIELD = identifier</code><code class="cCode"> </code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1015199"> </a>
Specifies the name of the routing field. It must contain 30 characters or fewer. This field is assumed to be a field name identified in an <code class="cCode">FML</code> field table (for <code class="cCode">FML</code> buffers) or an <code class="cCode">FML</code> <code class="cCode">VIEW</code> table (for <code class="cCode">VIEW</code>, <code class="cCode">X_C_TYPE</code>, or <code class="cCode">X_COMMON</code> buffers). The <code class="cCode">FLDTBLDIR</code> and <code class="cCode">FIELDTBLS</code> environment variables are used to locate <code class="cCode">FML</code> field tables; the <code class="cCode">VIEWDIR</code> and <code class="cCode">VIEWFILES</code> environment variables are used to locate <code class="cCode">FML</code> <code class="cCode">VIEW</code> tables. If a field in an <code class="cCode">FML32</code> buffer is used for routing, it must have a field number less than or equal to <code class="cCode">8191</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040454"> </a>
<code class="cCode">BUFTYPE = &quot;type1[:subtype1[,subtype2 . . . ]][;type2[:subtype3[, . . . ]]] . . .&quot;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1040456"> </a>
Specifies list of types and subtypes of data buffers for which this routing entry is valid. The types are restricted to <code class="cCode">FML</code>, <code class="cCode">VIEW</code>, <code class="cCode">X_C_TYPE</code>, and <code class="cCode">X_COMMON</code>.
</div>
<div class="pCellBody"><a name="wp1040457"> </a>
No subtype can be specified for type <code class="cCode">FML</code>, and subtypes are required for the other types (<code class="cCode">*</code> is not allowed).
</div>
<div class="pCellBody"><a name="wp1040458"> </a>
Duplicate type/subtype pairs cannot be specified for the same routing criteria name; more than one routing entry can have the same criteria name as long as the type/subtype pairs are unique. This parameter is required.
</div>
<div class="pCellBody"><a name="wp1040459"> </a>
If multiple buffer types are specified for a single routing entry, the data types of the routing field for each buffer type must be the same. (If the field value is not set (for <code class="cCode">FML</code> buffers), or does not match any specific range, and a wildcard range has not been specified, then an error is returned to the application process that requested the execution of the remote service.) No routing is allowed on CORBA and EJB (TGIOP is not a valid buffer type).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1015201"> </a>
<code class="cCodeEmphasis">RANGES =&quot;range1:rdom1[,range2:rdom2 ...]&quot;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1021999"> </a>
Specifies the ranges and associated remote domain names (<code class="cCode">RDOM</code>) for the routing field. The string must be enclosed in double quotes, with the format of a comma-separated ordered list of <code class="cCode">range/RDOM</code> pairs.
</div>
<div class="pCellBody"><a name="wp1031678"> </a>
A range is either a single value (signed numeric value or character string in single quotes), or a range of the form <em class="cEmphasis">lower - upper</em> (where lower and upper are both signed numeric values or character strings in single quotes). The value of <em class="cEmphasis">lower</em> must be less than or equal to <em class="cEmphasis">upper</em>. A single quote embedded in a character string value (such as <code class="cCode">&#8220;O&#39;Brien&#8221;</code>), must be preceded by two backslashes (<code class="cCode">&#8220;O\\&#39;Brien&#8221;</code>).
</div>
<div class="pSmartList1TableBullet"><ul class="SmartList1TableBullet">
<li><a name="wp1031669"> </a>Use <code class="cCode">MIN</code> to indicate the minimum value for the data type of the associated <code class="cCode">FIELD</code>. For strings and carrays, it is the null string; for character fields, it is <code class="cCode">0</code>; for numeric values, it is the minimum numeric value that can be stored in the field. </li>
<li><a name="wp1031670"> </a>Use <code class="cCode">MAX</code> to indicate the maximum value for the data type of the associated <code class="cCode">FIELD</code>. For strings and carrays, it is effectively an unlimited string of octal-255 characters; for a character field, it is a single octal-255 character; for numeric values, it is the maximum numeric value that can be stored in the field. </li>
</ul></div>
<div class="pCellBody"><a name="wp1031671"> </a>
Thus, <code class="cCode">MIN - -5</code> is all numbers less than or equal to <code class="cCode">-5</code>, and <code class="cCode">6&#160;- MAX</code> is all numbers greater than or equal to <code class="cCode">6</code>. 
</div>
<div class="pCellBody"><a name="wp1031679"> </a>
The metacharacter <code class="cCode">*</code> (wildcard) in the position of a range indicates any values not covered by the other ranges previously seen in the entry. Only one wildcard range is allowed per entry and it should be last (ranges following it are ignored).
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h4 class="pHeading3"><a name="wp1015210"> </a>
Routing Field Description
</h4>
<p class="pBody"><a name="wp1015211"> </a>
The routing field can be of any data type supported in <code class="cCode">FML</code> or <code class="cCode">VIEW</code>. A numeric routing field must have numeric range values, and a string routing field must have string range values.
</p>
<p class="pBody"><a name="wp1021405"> </a>
String range values for string, carray, and character field types must be placed inside a pair of single quotation marks and cannot be preceded by a sign. Short and long integer values are a string of digits, optionally preceded by a plus (<code class="cCode">+</code>) or minus (<code class="cCode">-</code>) sign. Floating point numbers are of the form accepted by the C compiler or <code class="cCode">atof()</code>: an optional sign, followed by a string of digits optionally containing a decimal point, and an optional <code class="cCode">e</code> or <code class="cCode">E</code> followed by an optional sign or space, and an integer. 
</p>
<p class="pBody"><a name="wp1039053"> </a>
When a field value matches a range, the associated <code class="cCode">RDOM</code> value specifies the remote domain to which the request should be routed. An <code class="cCode">RDOM</code> value of <code class="cCode">*</code> indicates that the request can go to any remote domain known by the gateway group. Within a <code class="cCode">range/RDOM</code> pair, the range is separated from the <code class="cCode">RDOM</code> by a colon (<code class="cCode">:</code>).
</p>
<h4 class="pHeading3"><a name="wp1039055"> </a>
Example of a Five-Site Domain Configuration Using Routing 
</h4>
<p class="pBody"><a name="wp1039059"> </a>
<a href="tsadmds.html#wp1018949">Listing&#160;3-5</a> shows a configuration file that defines a five-site domain configuration. It has four bank branch domains communicating with a Central Bank Branch. Three of the bank branches run within other Oracle Tuxedo system domains. The fourth branch runs under the control of another TP domain, and OSI-TP is used in the communication with that domain. The example shows the Oracle Tuxedo Domain gateway configuration file from the Central Bank point of view. In the <code class="cCode">DM_TDOMAIN</code> section, this example shows a mirrored gateway for <code class="cCode">b01</code>.
</p>
<div class="pCodeTitle"><a name="wp1018949"> </a>
Listing&#160;3-5	   DMCONFIG File for a Five-Site Domains Configuration
</div> <a name="wp1015214"> </a><div class="pPreformatted"><pre><code class="cCode"># BEA TUXEDO DOMAIN CONFIGURATION FILE FOR THE CENTRAL BANK<br />#<br />#<br />*DM_LOCAL_DOMAINS<br /># &lt;local domain name&gt; &lt;Gateway Group name&gt; &lt;domain type&gt; &lt;domain id&gt; &lt;log device&gt;<br />#                     [&lt;audit log&gt;] [&lt;blocktime&gt;]<br />#                     [&lt;log name&gt;] [&lt;log offset&gt;] [&lt;log size&gt;]<br />#                     [&lt;maxrdom&gt;] [&lt;maxrdtran&gt;] [&lt;maxtran&gt;]<br />#                     [&lt;maxdatalen&gt;] [&lt;security&gt;]<br />#                     [&lt;tuxconfig&gt;] [&lt;tuxoffset&gt;]<br /><br />#<br />#<br />DEFAULT: SECURITY = NONE<br />c01     GWGRP = bankg1<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">TYPE = TDOMAIN<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DOMAINID = &quot;BA.CENTRAL01&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DMTLOGDEV = &quot;/usr/apps/bank/DMTLOG&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DMTLOGNAME = &quot;DMTLG_C01&quot;<br />c02     GWGRP = bankg2<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">TYPE = OSITP<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DOMAINID = &quot;BA.CENTRAL01&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DMTLOGDEV = &quot;/usr/apps/bank/DMTLOG&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DMTLOGNAME = &quot;DMTLG_C02&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">NWDEVICE = &quot;OSITP&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">URCH = &quot;ABCD&quot;<br />#<br />*DM_REMOTE_DOMAINS<br />#&lt;remote domain name&gt;  &lt;domain type&gt; &lt;domain id&gt;<br />#<br />b01     TYPE = TDOMAIN<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DOMAINID = &quot;BA.BANK01&quot;<br />b02     TYPE = TDOMAIN<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DOMAINID = &quot;BA.BANK02&quot;<br />b03     TYPE = TDOMAIN<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DOMAINID = &quot;BA.BANK03&quot;<br />b04     TYPE = OSITP<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">DOMAINID = &quot;BA.BANK04&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">URCH = &quot;ABCD&quot;<br />#<br />*DM_TDOMAIN<br />#<br />#     &lt;local or remote domainname&gt; &lt;network address&gt; [nwdevice]<br />#<br /># Local network addresses<br />c01     NWADDR = &quot;//newyork.acme.com:65432&quot;     NWDEVICE =&quot;/dev/tcp&quot;<br />c02     NWADDR = &quot;//192.76.7.47:65433&quot;     NWDEVICE =&quot;/dev/tcp&quot;<br /># Remote network addresses: second b01 specifies a mirrored gateway<br />b01     NWADDR = &quot;//192.11.109.5:1025&quot; NWDEVICE = &quot;/dev/tcp&quot;<br />b01     NWADDR = &quot;//194.12.110.5:1025&quot; NWDEVICE = &quot;/dev/tcp&quot;<br />b02     NWADDR = &quot;//dallas.acme.com:65432&quot;  NWDEVICE = &quot;/dev/tcp&quot;<br />b03     NWADDR = &quot;//192.11.109.156:4244&quot; NWDEVICE = &quot;/dev/tcp&quot;<br />#<br />*DM_OSITP<br />#<br />#&lt;local or remote domain name&gt; &lt;apt&gt; &lt;aeq&gt;<br />#                              [&lt;aet&gt;] [&lt;acn&gt;] [&lt;apid&gt;] [&lt;aeid&gt;]<br />#                              [&lt;profile&gt;]<br />#<br />c02     APT = &quot;BA.CENTRAL01&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">AEQ = &quot;TUXEDO.R.4.2.1&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">AET = &quot;{1.3.15.0.3},{1}&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">ACN = &quot;XATMI&quot;<br />b04     APT = &quot;BA.BANK04&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">AEQ = &quot;TUXEDO.R.4.2.1&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">AET = &quot;{1.3.15.0.4},{1}&quot;<br /></code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<code class="cCode">ACN = &quot;XATMI&quot;<br />*DM_LOCAL_SERVICES<br />#&lt;service_name&gt;  [&lt;Local Domain name&gt;] [&lt;access control&gt;] [&lt;exported svcname&gt;]<br />#                [&lt;inbuftype&gt;] [&lt;outbuftype&gt;]<br />#<br />open_act        ACL = branch<br />close_act       ACL = branch<br />credit<br />debit<br />balance<br />loan            LDOM = c02      ACL = loans<br />*DM_REMOTE_SERVICES<br />#&lt;service_name&gt;   [&lt;Remote domain name&gt;] [&lt;local domain name&gt;]<br />#                 [&lt;remote svcname&gt;] [&lt;routing&gt;] [&lt;conv&gt;]<br />#                 [&lt;trantime&gt;] [&lt;inbuftype&gt;] [&lt;outbuftype&gt;]<br />#<br />tlr_add   LDOM = c01  ROUTING = ACCOUNT<br />tlr_bal   LDOM = c01  ROUTING = ACCOUNT<br />tlr_add   RDOM = b04  LDOM = c02 RNAME =&quot;TPSU002&quot;<br />tlr_bal   RDOM = b04  LDOM = c02 RNAME =&quot;TPSU003&quot;<br />*DM_ROUTING<br /># &lt;routing criteria&gt;    &lt;field&gt; &lt;typed buffer&gt; &lt;ranges&gt;<br />#<br />ACCOUNT FIELD = branchid  BUFTYPE =&quot;VIEW:account&quot;<br />        RANGES =&quot;MIN - 1000:b01, 1001-3000:b02, *:b03&quot;<br />*DM_ACCESS_CONTROL<br />#&lt;acl name&gt;   &lt;Remote domain list&gt;<br />#<br />branch  ACLIST = b01, b02, b03<br />loans   ACLIST = b04</code></pre></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="tsadmds.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="tssrvc.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="tsadmtun.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
