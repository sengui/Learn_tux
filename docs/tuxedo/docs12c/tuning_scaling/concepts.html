<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="5" />
<meta name="LOC_US_CHANGE" content="41681" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/tuning_scaling/fm/concepts.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="12/23/11 08:47:26" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Scaling Oracle Tuxedo CORBA Applications	</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Scaling, Distributing, and Tuning CORBA Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="tssrvc.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/tuning_scaling.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1065335"> </a>
Scaling Oracle Tuxedo CORBA Applications	
</h1>
<p class="pBody"><a name="wp1040185"> </a>
This topic introduces key concepts and tasks for scaling Oracle Tuxedo CORBA applications. This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1020890"> </a><a href="concepts.html#wp1065589">About Scaling Oracle Tuxedo CORBA Applications</a></li>
<li><a name="wp1029651"> </a><a href="concepts.html#wp1030157">Using Object State Management</a></li>
<li><a name="wp1026428"> </a><a href="concepts.html#wp1022319">Replicating Server Processes and Server Groups</a></li>
<li><a name="wp1030461"> </a><a href="concepts.html#wp1022860">Using Multithreaded Servers</a></li>
<li><a name="wp1030711"> </a><a href="concepts.html#wp1030589">Using Factory-based Routing (CORBA Servers Only)</a></li>
<li><a name="wp1029661"> </a><a href="concepts.html#wp1066601">Multiplexing Incoming Client Connections</a></li>
</ul></div>
<p class="pBody"><a name="wp1065580"> </a>
For more detailed information and examples for Oracle Tuxedo CORBA applications, see <a href="tssrvc.html">Scaling CORBA Server Applications.</a>
</p>
<a name="wp1065764"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB were deprecated in Tuxedo 8.1 and are no longer supported. All Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB text references, associated code samples, should only be used to help implement/run third party Java ORB libraries, and for programmer reference only.</td></tr>
</table>

<a name="wp1065765"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Technical support for third party CORBA Java ORBs should be provided by their respective vendors. Oracle Tuxedo does not provide any technical support or documentation for third party CORBA Java ORBs.</td>
</tr>
</table>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1065589"> </a>
About Scaling Oracle Tuxedo CORBA Applications
</h2><p class="pBody"><a name="wp1027775"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1029247"> </a><a href="concepts.html#wp1029150">Application Scalability Requirements</a></li>
<li><a name="wp1027783"> </a><a href="concepts.html#wp1052689">Oracle Tuxedo Scalability Features</a></li>
<li><a name="wp1027948"> </a><a href="concepts.html#wp1030157">Using Object State Management</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1029150"> </a>
Application Scalability Requirements
</h3>
<p class="pBody"><a name="wp1029232"> </a>
Many applications perform adequately in an environment where between 1 to 10 server processes and 10 to 100 client applications are running. However, in an enterprise environment, applications may need to support hundreds of execution contexts (where the context can be a thread or a process), tens of thousands of client applications, and millions of objects at satisfactory performance levels.
</p>
<p class="pBody"><a name="wp1030716"> </a>
Subjecting an application to exponentially increasing demands quickly reveals any resource shortcomings and performance bottlenecks in the application. Scalability is therefore an essential characteristic of Oracle Tuxedo applications.
</p>
<p class="pBody"><a name="wp1021718"> </a>
You can build highly scalable Oracle Tuxedo applications by:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1021591"> </a>Adding parallel processing capability to enable the Oracle Tuxedo domain to process multiple client requests simultaneously.</li>
<li><a name="wp1052686"> </a>Sharing the processing load on the server applications across multiple machines.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1052689"> </a>
Oracle Tuxedo Scalability Features
</h3>
<p class="pBody"><a name="wp1052693"> </a>
Oracle Tuxedo supports large-scale application deployments by:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022078"> </a>Optimizing object state management</li>
<li><a name="wp1022660"> </a>Load balancing objects and requests across replicated server processes and server groups</li>
<li><a name="wp1022079"> </a>Using multithreaded servers, which are appropriate for certain types of applications and processing environments</li>
<li><a name="wp1030824"> </a>For CORBA applications, using factory-based routing</li>
<li><a name="wp1035497"> </a>Using data-dependent routing (Oracle Tuxedo ATMI only)</li>
<li><a name="wp1030811"> </a>Multiplexing incoming client connections</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1030157"> </a>
Using Object State Management
</h2><p class="pBody"><a name="wp1030158"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1030162"> </a><a href="concepts.html#wp1042133">CORBA Object State Models</a></li>
<li><a name="wp1041881"> </a><a href="concepts.html#wp1049627">Implementing Stateless and Stateful Objects</a></li>
<li><a name="wp1060743"> </a><a href="concepts.html#wp1060753">Parallel Objects</a> </li>
</ul></div>
<p class="pBody"><a name="wp1030167"> </a>
Object state management is a fundamental concern of large-scale client/server systems because it is critical that such systems achieve optimized throughput and response time. For more detailed information about using object state management, see <a href="tssrvc.html#wp1025400">Using a Stateless Object Model</a> and the technical article <span style="font-style: italic"><a href="">Process-Entity Design Pattern</a></span>.
</p>
<h3 class="pHeading2"><a name="wp1042133"> </a>
CORBA Object State Models
</h3>
<p class="pBody"><a name="wp1030174"> </a>
Oracle Tuxedo CORBA supports three object state management models:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1030897"> </a><a href="concepts.html#wp1030891">Method-bound Objects</a></li>
<li><a name="wp1030905"> </a><a href="concepts.html#wp1031120">Process-bound Objects</a></li>
<li><a name="wp1040300"> </a><a href="concepts.html#wp1031246">Transaction-bound Objects</a></li>
</ul></div>
<p class="pBody"><a name="wp1055901"> </a>
For more information about these models, see &#8220;Server Application Concepts&#8221; in <a href="../cservers/index.html"><span style="font-style: italic"><a href=""></span><em class="cEmphasis">Creating CORBA Server Applications</em><span class="cHyperlink">
</a></a></span>
</p>
<h4 class="pHeading3"><a name="wp1030891"> </a>
Method-bound Objects
</h4>
<p class="pBody"><a name="wp1030991"> </a>
Method-bound objects are loaded into the machine&#8217;s memory only for the duration of the client invocation. When the invocation is complete, the object is deactivated and any state data for that object is flushed from memory. In this document, a method-bound object is considered to be a <span style="font-style: italic">stateless object</span>.
</p>
<p class="pBody"><a name="wp1030993"> </a>
You can use method-bound objects to create a stateless server model in your application. By using a stateless server model, you move requests that are already directed to active objects to any available server, which allows concurrent execution for thousands and even millions of objects. From the client application view, all the objects are available to service requests. However, because the server application maps objects into memory only for the duration of client invocations, few of the objects managed by the server application are in memory at any given moment.
</p>
<h4 class="pHeading3"><a name="wp1031120"> </a>
Process-bound Objects
</h4>
<p class="pBody"><a name="wp1031245"> </a>
Process-bound objects remain in memory beginning when they are first invoked until the server process in which they are running is shut down. A process-bound object can be activated upon a client invocation or explicitly before any client invocation (a <span style="font-style: italic">preactivated</span> object). Applications can control the deactivation of process-bound objects. In this document, a process-bound object is considered to be a <span style="font-style: italic">stateful object</span>.
</p>
<p class="pBody"><a name="wp1042928"> </a>
When appropriate, process-bound objects with a large amount of state data can remain in memory to service multiple client invocations, thereby avoiding reading and writing the object&#8217;s state data on each client invocation.
</p>
<h4 class="pHeading3"><a name="wp1031246"> </a>
Transaction-bound Objects
</h4>
<p class="pBody"><a name="wp1039718"> </a>
Transaction-bound objects can also be considered stateful because, within the scope of a transaction, they can remain in memory between invocations. If the object is activated within the scope of a transaction, the object remains active until the transaction is either committed or rolled back. If the object is activated outside the scope of a transaction, its behavior is the same as that of a method-bound object (it is loaded for the duration of the client invocation).
</p>
<h3 class="pHeading2"><a name="wp1049627"> </a>
Implementing Stateless and Stateful Objects
</h3>
<p class="pBody"><a name="wp1049628"> </a>
In general, application developers need to balance the costs of implementing stateless objects against the costs of implementing stateful objects.
</p>
<h4 class="pHeading3"><a name="wp1030213"> </a>
About Stateless and Stateful Objects
</h4>
<p class="pBody"><a name="wp1040525"> </a>
The decision to use stateless or stateful objects depends on various factors. In the case where the cost to initialize an object with its durable state is expensive&#8212;because, for example, the object&#8217;s data takes up a great deal of space, or the durable state is located on a disk very remote from the servant that activates it&#8212;it may make sense to keep the object stateful, even if the object is idle during a conversation. In the case where the cost to keep an object active is expensive in terms of machine resource usage, it may make sense to make such an object stateless.
</p>
<p class="pBody"><a name="wp1040527"> </a>
By managing object state in a way that is efficient and appropriate for your application, you can maximize your application&#8217;s ability to support large numbers of simultaneous client applications that use large numbers of objects. The way that you manage object state depends on the specific characteristics and requirements of your application. For CORBA applications, you manage object state by assigning the <code class="cCode">method</code> activation policy to these objects, which has the effect of deactivating idle object instances so that machine resources can be allocated to other object instances.
</p>
<h4 class="pHeading3"><a name="wp1030218"> </a>
When to Use Stateless Objects 
</h4>
<p class="pBody"><a name="wp1030219"> </a>
Stateless objects generally provide good performance and optimal usage of server resources, because server resources are never used when objects are idle. Using stateless objects is a good approach to implementing server applications and are particularly appropriate when:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1030220"> </a>The client application waits for user input between invocations on the object.</li>
<li><a name="wp1030221"> </a>The client request contains all the data needed by the server application, and the server can process the client request using only that data.</li>
<li><a name="wp1030222"> </a>The object has high access rates, but low access rates from any one particular client application.</li>
</ul></div>
<p class="pBody"><a name="wp1030223"> </a>
By making an object stateless, you can generally assure that server application resources are not being reserved unnecessarily while waiting for input from the client application.
</p>
<p class="pBody"><a name="wp1030224"> </a>
An application that employs a stateless object model has the following characteristics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1030225"> </a>Information about and associated with an invocation is not maintained after the server application has finished executing a client request.</li>
<li><a name="wp1030226"> </a>An incoming client request is sent to the first available server process. After the request has been satisfied, the application state disappears and the server application is available for another client application request.</li>
<li><a name="wp1030227"> </a>Durable state information for the object exists outside the server process. With each invocation on this object, the durable state is read into memory.</li>
<li><a name="wp1030231"> </a>Successive requests on an object from a given client application may be processed by a different server process.</li>
<li><a name="wp1030232"> </a>The overall system performance of a machine that is running stateless objects is usually enhanced.</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1030235"> </a>
When to Use Stateful Objects 
</h4>
<p class="pBody"><a name="wp1030236"> </a>
A stateful object, once activated, remains in memory until a specific event occurs, such as the process in which the object exists is shut down, or the transaction in which the object is activated is completed.
</p>
<p class="pBody"><a name="wp1030237"> </a>
Using stateful objects is recommended when:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1030238"> </a>An object is used frequently by a large number of client applications, such as long-lived, well-known objects. When the server application keeps these objects active, the client application typically experiences minimal response time in accessing them. These active objects are shared by many client applications, and therefore relatively few objects of this type exist in memory.</li>
<a name="wp1040559"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You should carefully consider how objects will potentially be involved in a transaction. An object can be bound to a particular process temporarily (transaction-bound) or permanently (process-bound). An object that is involved in a transaction cannot be invoked by another client application or object (Oracle Tuxedo will likely return an error indicating that the object is busy). Stateful objects that are intended to be used by a large number of client applications can create bottlenecks if they are involved in transactions frequently or for long durations.</td>
</tr>
</table>

<li><a name="wp1030240"> </a>A client application must invoke successive operations on an object to complete a transaction, and the client application is not idle while it waits for user input between invocations. If the object were deactivated between invocations, there would be a degradation of response time because state would be written and read between each invocation.</li>
</ul></div>
<p class="pBody"><a name="wp1030241"> </a>
Stateful objects have the following behavior:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1040625"> </a>State information is maintained between server invocations, and the object typically remains dedicated to a given client application for a specified duration. Even though data is sent and received between the client and server applications, the server process maintains additional context or application state information in memory.</li>
<li><a name="wp1030244"> </a>When one or more stateful objects use a lot of machine resources, server performance for tasks and processes not associated with the stateful object may be lower than with a stateless server model.</li>
<p class="pBodyRelative"><a name="wp1030245"> </a>
For example, if an object has a lock on a database and is caching large amounts of data in memory, that database and the memory used by that stateful object are unavailable to other objects, potentially for the entire duration of a transaction.
</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1060753"> </a>
Parallel Objects
</h3>
<p class="pBody"><a name="wp1061517"> </a>
Parallel objects are, by definition, stateless objects so they can exist concurrently on more than one server. In release 8.0 of Oracle Tuxedo, you can use the Implementation Configuration File (ICF) to force all objects in a specific implementation to be parallel objects. The effect is to improve performance. For more information on parallel objects, see <a href="concepts.html#wp1061728">Using Parallel Objects</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022319"> </a>
Replicating Server Processes and Server Groups
</h2><p class="pBody"><a name="wp1023896"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023900"> </a><a href="concepts.html#wp1023922">About Replicating Server Processes and Server Groups</a></li>
<li><a name="wp1024119"> </a><a href="concepts.html#wp1023950">Configuration Options</a></li>
<li><a name="wp1023904"> </a><a href="concepts.html#wp1023963">Replicating Server Processes</a></li>
<li><a name="wp1026350"> </a><a href="concepts.html#wp1044086">Replicating Server Groups</a></li>
</ul></div>
<p class="pBody"><a name="wp1033351"> </a>
For more detailed information about replicating server processes and server groups, see the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1033354"> </a><a href="tsadmtun.html#wp1031700">Configuring Replicated Server Processes and Groups</a>.</li>
<li><a name="wp1044152"> </a><a href="tssrvc.html#wp1025516">Scaling by Replicating Server Processes and Server Groups</a>.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1023922"> </a>
About Replicating Server Processes and Server Groups
</h3>
<p class="pBody"><a name="wp1034786"> </a>
The Oracle Tuxedo CORBA environment allows CORBA objects to be deployed across multiple servers to provide additional failover reliability and to split the client&#8217;s workload through load balancing. Oracle Tuxedo CORBA load balancing is enabled by default. For more information about configuring load balancing, see <a href="tsadmtun.html#wp1015665">Enabling System-controlled Load Balancing</a>. For more information about distributing the application workload using Oracle Tuxedo CORBA features, see <a href="tsadmds.html">Distributing CORBA Applications.</a>
</p>
<p class="pBody"><a name="wp1034720"> </a>
The Oracle Tuxedo architecture provides the following server organization:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023926"> </a>Groups&#8212;individual servers can be combined to form a group. A group of servers runs on a single machine. Typically, the servers in a group access common resources (such as a database).</li>
<li><a name="wp1023927"> </a>Domains&#8212;machines can be combined to form a domain. A domain is administered centrally. Multiple domains are administered separately. Domains can also be interconnected and requests can be transparently routed from one domain to another. However, each domain is independently administered.</li>
</ul></div>
<p class="pBody"><a name="wp1023929"> </a>
This architecture allows new servers, groups, or machines to be dynamically added or removed, to adapt the application to high- or low-demand periods, or to accommodate internal changes required to the application. The Oracle Tuxedo run time provides load balancing and failover by routing requests across available servers.
</p>
<p class="pBody"><a name="wp1034127"> </a>
System administrators can scale an Oracle application by:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023937"> </a><a href="concepts.html#wp1023963">Replicating Server Processes</a>. Increase the number of server processes to support more active objects within a group and load balancing among servers.</li>
<li><a name="wp1023944"> </a><a href="concepts.html#wp1044086">Replicating Server Groups</a>. Increase the number of server groups so that Oracle can balance the load by distributing processing requests across multiple server machines.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1023950"> </a>
Configuration Options
</h3>
<p class="pBody"><a name="wp1023955"> </a>
You can configure server applications as:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023956"> </a>A single machine with one or more server processes implementing one or more interfaces. The servers can be single-threaded or multithreaded.</li>
<li><a name="wp1023957"> </a>Multiple machines with multiple server processes and multiple interfaces.</li>
</ul></div>
<p class="pBody"><a name="wp1023959"> </a>
You can add more parallel processing capability to client/server applications by replicating server processes or add more threads. You can add more server groups to split processing across resource managers. For CORBA applications, you can implement factory-based routing, as described in <a href="concepts.html#wp1030589">Using Factory-based Routing (CORBA Servers Only)</a>.
</p>
<h3 class="pHeading2"><a name="wp1023963"> </a>
Replicating Server Processes 
</h3>
<p class="pBody"><a name="wp1023965"> </a>
System administrators can scale an application by replicating the servers to support more concurrent active objects, or process more concurrent requests, on the server node. To configure replicated server processes, see <a href="tsadmtun.html#wp1031700">Configuring Replicated Server Processes and Groups</a>.
</p>
<a name="wp1060840"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Release 8.0 of Oracle supports the user-controlled concurrency model for active objects. For a discussion of the concurrency policy feature, see <a href="concepts.html#wp1060753">Parallel Objects</a>. </td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1034409"> </a>
Benefits
</h4>
<p class="pBody"><a name="wp1034438"> </a>
The benefits of using replicated server processes include:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023968"> </a>Load balancing incoming requests.</li>
<li><a name="wp1023969"> </a>Processing client requests on any server within a group. As requests arrive in the Oracle domain for the server group, Oracle routes the request to the least busy server process within that group.</li>
<li><a name="wp1023979"> </a>Improving the server application&#8217;s performance by using multiple server processes. Instead of having one server process handling one client request at one time, multiple server processes are available to handle multiple client requests simultaneously.</li>
<li><a name="wp1023982"> </a>Providing failover protection in the event that one of the server processes stops.</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1023983"> </a>
Guidelines
</h4>
<p class="pBody"><a name="wp1023984"> </a>
To achieve the maximum benefit of using replicated server processes, make sure that the CORBA objects instantiated by your server application have unique object IDs. This allows a client invocation on an object to cause the object to be instantiated on demand, within the bounds of the number of server processes that are available, and not queued up for an already active object.
</p>
<p class="pBody"><a name="wp1023990"> </a>
You should also consider the trade-off between providing better application recovery by using multiple processes versus more efficient performance using threads (for some types of application patterns and processing environments).
</p>
<p class="pBody"><a name="wp1044076"> </a>
Better failover occurs only when you add processes, <span style="font-style: italic">not</span> threads. For information about using single-threaded and multithreaded servers, see <a href="concepts.html#wp1022899">When to Use Multithreaded CORBA Servers</a>.
</p>
<h3 class="pHeading2"><a name="wp1044086"> </a>
Replicating Server Groups 
</h3>
<p class="pBody"><a name="wp1044093"> </a>
Server groups are unique to Oracle and are key to the scalability features of Oracle. A group contains one or more servers on a single node. System administrators can scale an Oracle application by replicating server groups and configuring load balancing within a domain.
</p>
<p class="pBody"><a name="wp1035798"> </a>
Replicating a server group involves defining another server group with the same type of servers and resource managers to provide parallel access to a shared resource (such as a database). CORBA applications, for example, can use factory-based routing to split processing across the database partitions.
</p>
<p class="pBody"><a name="wp1025075"> </a>
The <code class="cCode">UBBCONFIG</code> file specifies how server groups are configured and where they run. By using multiple server groups, Oracle can:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1035192"> </a>Spread the processing load for a given application or set of applications across additional machines.</li>
<li><a name="wp1035202"> </a>For CORBA applications, use factory-based routing to send one set of requests on a given interface to one group, and another set of requests on the same interface to another group.</li>
</ul></div>
<p class="pBody"><a name="wp1044106"> </a>
To configure replicated server groups, see <a href="tsadmtun.html#wp1031700">Configuring Replicated Server Processes and Groups</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022860"> </a>
Using Multithreaded Servers
</h2><p class="pBody"><a name="wp1022861"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022865"> </a><a href="concepts.html#wp1022870">About Multithreaded CORBA Servers</a></li>
<li><a name="wp1023500"> </a><a href="concepts.html#wp1022899">When to Use Multithreaded CORBA Servers</a></li>
<li><a name="wp1033216"> </a><a href="concepts.html#wp1039349">Coding Recommendations</a></li>
<li><a name="wp1022869"> </a><a href="concepts.html#wp1022925">Configuring a Multithreaded CORBA Server</a></li>
</ul></div>
<p class="pBody"><a name="wp1023873"> </a>
For instructions on how to configure servers for multithreading, see <a href="tsadmtun.html#wp1031620">Configuring Multithreaded Servers</a>.
</p>
<h3 class="pHeading2"><a name="wp1022870"> </a>
About Multithreaded CORBA Servers
</h3>
<p class="pBody"><a name="wp1032661"> </a>
System administrators can scale an Oracle application by enabling multithreading in CORBA servers, and by tuning configuration parameters (the maximum number of server threads that can be created) in the application&#8217;s <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1023722"> </a>
Oracle CORBA supports the ability to configure multithreaded CORBA applications. A multithreaded CORBA server can service multiple object requests simultaneously, while a single-threaded CORBA server runs only one request at a time. 
</p>
<p class="pBody"><a name="wp1060904"> </a>
Server threads are started and managed by the Oracle CORBA software rather than an application program. Internally, Oracle CORBA manages a pool of available server threads. If a CORBA server is configured to be multithreaded, then when a client request is received, an available server thread from the thread pool is scheduled to execute the request. While the object is active, the thread is busy. When the request is complete, the thread is returned to the pool of available threads.
</p>
<h3 class="pHeading2"><a name="wp1022899"> </a>
When to Use Multithreaded CORBA Servers
</h3>
<p class="pBody"><a name="wp1060969"> </a>
Designing an application to use multiple, independent threads provides concurrency within an application and can improve overall throughput. Using multiple threads enables applications to be structured efficiently with threads servicing several independent tasks in parallel. Multithreading is particularly useful when:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1060970"> </a>There is a set of lengthy operations that do not necessarily depend on other processing.</li>
<li><a name="wp1060971"> </a>The amount of data to be shared is small and identifiable.</li>
<li><a name="wp1060972"> </a>You can break the task into various activities that can be executed in parallel.</li>
<li><a name="wp1060973"> </a>There are occasions where objects must be reentrant.</li>
</ul></div>
<p class="pBody"><a name="wp1061012"> </a>
Some computer operations take a substantial amount of time to complete. A multithreaded application design can significantly reduce the wait time between the request and completion of operations. This is true in situations when operations perform a large number of I/O operations such as when accessing a database, invoking operations on remote objects, or are CPU-bound on a multiprocessor machine. Implementing multithreading in a server process can increase the number of requests a server processes in a fixed amount of time.
</p>
<p class="pBody"><a name="wp1061002"> </a>
The primary requirement for multithreaded server applications is the simultaneous handling of multiple client requests. For more information on the requirements and benefits of using multithreaded servers, see <a href="">Oracle</a>.
</p>
<h3 class="pHeading2"><a name="wp1039349"> </a>
Coding Recommendations
</h3>
<p class="pBody"><a name="wp1060522"> </a>
So as to be able to analyze the performance of multithreaded servers, include one of the following identifiers in each message if your client or server application sends messages to the user log (<code class="cCode">ULOG</code>):
</p>
<div class="pSmartList1Bullet"><ul>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1022922"> </a>Object ID</li>
<li><a name="wp1022924"> </a>Transaction ID (if the object is transactional)</li>
</ul></div>
</ul></div>
<h3 class="pHeading2"><a name="wp1022925"> </a>
Configuring a Multithreaded CORBA Server
</h3>
<p class="pBody"><a name="wp1033255"> </a>
To configure a multithreaded CORBA server, you change settings in the application&#8217;s <code class="cCode">UBBCONFIG</code> file. For information about defining the <code class="cCode">UBBCONFIG</code> parameters to implement a multithreaded server, see <a href="tsadmtun.html#wp1031620">Configuring Multithreaded Servers</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1030589"> </a>
Using Factory-based Routing (CORBA Servers Only)
</h2><p class="pBody"><a name="wp1030590"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1030594"> </a><a href="concepts.html#wp1030620">About Factory-based Routing</a></li>
<li><a name="wp1030598"> </a><a href="concepts.html#wp1030645">How Factory-based Is Implemented</a></li>
<li><a name="wp1030602"> </a><a href="concepts.html#wp1030656">Configuring Factory-based Routing in the UBBCONFIG File</a></li>
</ul></div>
<p class="pBody"><a name="wp1030606"> </a>
This topic introduces factory-based routing in Oracle CORBA applications. For more detailed information about using factory-based routing, see <a href="tssrvc.html#wp1032900">Configuring Factory-based Routing in the UBBCONFIG File</a>.
</p>
<h3 class="pHeading2"><a name="wp1030620"> </a>
About Factory-based Routing
</h3>
<p class="pBody"><a name="wp1030621"> </a>
Factory-based routing enables you to a specify what server group is associated with an object reference. As a result, you can define the group and machine in which a given object is instantiated and then distribute the processing load for a given application across multiple machines.
</p>
<p class="pBody"><a name="wp1045591"> </a>
With factory-based routing, routing is performed when a factory creates an object reference. The factory specifies field information in its call to the Oracle CORBA TP Framework to create an object reference. The TP Framework executes the routing algorithm based on the routing criteria that is defined in the <code class="cCode">ROUTING</code> section of an application&#8217;s <code class="cCode">UBBCONFIG</code> file. The resulting object reference has, as its target, an appropriate server group for the handling of method invocations on the object reference. Any server that implements the interface in that server group is eligible to activate the servant for the object reference. 
</p>
<p class="pBody"><a name="wp1061191"> </a>
Thus, the activation of CORBA objects can be distributed by server group based on the defined criteria and different implementations of CORBA interfaces can be supplied in different groups. So you can replicate the same CORBA interface across multiple server groups, based on defined, group-specific differences.
</p>
<p class="pBody"><a name="wp1030622"> </a>
The primary benefit of factory-based routing is that it provides a simple means to scale an application, and invocations on a given interface in particular, across a growing deployment environment. Distributing the deployment of an application across additional machines is strictly an administrative function that does not require you to recode or rebuild the application.
</p>
<h3 class="pHeading2"><a name="wp1045655"> </a>
Characteristics of Factory-based Routing 
</h3>
<p class="pBody"><a name="wp1045663"> </a>
Factory-based routing has the following characteristics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1061234"> </a>The factory object implementation can indirectly control the location of the created CORBA object by supplying application-specific routing information.</li>
<li><a name="wp1045664"> </a>An implementation of a particular CORBA interface can exist in more than one server process, as shown in <a href="tssrvc.html#wp1032900">Configuring Factory-based Routing in the UBBCONFIG File</a>.</li>
<li><a name="wp1045668"> </a>Multiple CORBA interfaces can reside in a single server group.</li>
<li><a name="wp1045669"> </a>All server processes in a particular server group do <span style="font-style: italic">not</span> need to use the same CORBA interfaces.</li>
<li><a name="wp1061260"> </a>All object instances that offer a given interface within a group must support the same version of the implementation.</li>
<li><a name="wp1045671"> </a>Routing uses the bulletin board criteria and occurs in a server call.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1030645"> </a>
How Factory-based Is Implemented 
</h3>
<p class="pBody"><a name="wp1044732"> </a>
To implement factory-based routing, you must change the way your factories create object references. First, you must coordinate with the system designer to determine the fields and values to be used as the basis for routing. Then, for each interface, you must configure factory-based routing such that the interface definition for the factory specifies the parameter that represents the routing criteria that is used to determine the group ID.
</p>
<p class="pBody"><a name="wp1061126"> </a>
To configure factory-based routing, define the following information in the <code class="cCode">UBBCONFIG</code> file:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1045797"> </a>Routing criteria identifier for a CORBA interface in the INTERFACES section.</li>
<li><a name="wp1045798"> </a>As many server groups as are required for distributing the system in the GROUPS section.</li>
<li><a name="wp1045799"> </a>Routing criteria in the <code class="cCode">ROUTING</code> section.</li>
<li><a name="wp1045826"> </a>Groups, machines, and databases as required.</li>
</ul></div>
<a name="wp1061137"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>When implementing factory-baed routing, remember that an object with a given interface and OID can be simultaneously active in two different groups <span style="font-style: italic">if</span> those two groups both contain the same object implementation. This can be avoided if your factories generate unique OIDs. To guarantee that only one object instance of a given interface name and OID is available at any one time in your domain, you must either:</td></tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1047337"> </a>Use factory-based routing to ensure that objects with a particular OID are always routed to the same group, or</li>
<li><a name="wp1047338"> </a>Configure your domain so that a given object implementation is in only one group.</li>
</ul></div>
<a name="wp1047339"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>If multiple clients have an object reference that contains a given interface name and OID, the reference will always be routed to the same object instance.</td>
</tr>
</table>
<a name="wp1061152"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Thereafter, the object reference will contain additional information that is used to provide an indication of where the target server exists. Factory-based routing is performed once per CORBA object, when the object reference is created.</td>
</tr>
</table>
<h3 class="pHeading2"><a name="wp1030656"> </a>
Configuring Factory-based Routing in the UBBCONFIG File
</h3>
<p class="pBody"><a name="wp1041116"> </a>
Routing criteria specify the data values used to route requests to a particular server group. To configure factory-based routing, you define routing criteria in the <code class="cCode">ROUTING</code> section of the <code class="cCode">UBBCONFIG</code> file (for each interface for which requests are routed). For more detailed information about configuring factory-based routing, see <a href="tssrvc.html#wp1032900">Configuring Factory-based Routing in the UBBCONFIG File</a>.
</p>
<p class="pBody"><a name="wp1047870"> </a>
To configure factory-based routing across multiple domains, you must also configure the <code class="cCode">factory_finder.ini</code> file to identify factory objects that are used in the current (local) domain but that are resident in a different (remote) domain. For more information, see &#8220;Configuring Multiple Domains for CORBA Applications&#8221; in the<span style="font-style: italic"> </span><span style="font-style: normal"><a href="../interm/admin.html">Using the Oracle Tuxedo Domains Component</a></span><span style="font-style: italic">.</span>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1061728"> </a>
Using Parallel Objects
</h2><p class="pBody"><a name="wp1061736"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1061739"> </a><a href="concepts.html#wp1061741">About Parallel Objects</a></li>
<li><a name="wp1062379"> </a><a href="concepts.html#wp1061935">Configuring Parallel Objects</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1061741"> </a>
About Parallel Objects
</h3>
<p class="pBody"><a name="wp1062353"> </a>
Support for parallel objects has been added in release 8.0 of Oracle Tuxedo as a performance enhancement. The parallel objects feature enables you to designate all business objects in particular application as stateless objects. The effect is that, unlike stateful business objects, which can only run on one server in a single domain, stateless business objects can run on all servers in a single domain. Thus, the benefits of parallel objects are as follows:
</p>
<a name="wp1062949"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You enable the parallel objects feature by setting the concurrency policy option to <code class="cCode">user_controlled</code> in the ICF file. For more information, see <a href="concepts.html#wp1061935">Configuring Parallel Objects</a></a>.</td>
</tr>
</table>

<div class="pSmartList1Bullet"><ul>
<li><a name="wp1062354"> </a>Parallel objects, which are stateless, can run on multiple servers in the same domain at the same time. The resulting utilization of all servers to service concurrent multiple requests improves performance.</li>
<li><a name="wp1062358"> </a>When Oracle Tuxedo services requests to parallel business objects, it always looks for an available server to the local machine first. If all servers on the local machine are busy processing the requested business object, Oracle Tuxedo looks for an available server on other machines in the local domain. Thus, if there are multiple servers on the local machine, network traffic is reduced and performance is improved.</li>
</ul></div>
<p class="pBody"><a name="wp1063388"> </a>
As illustrated in <a href="concepts.html#wp1061785">Figure&#160;1-1</a>, if a stateful business object is active on a server on Machine 2, all subsequent requests to that business object will be sent to Group 2 on Machine 2. If the active object on Machine 2 is busy processing another request, the request is queued. Even after the business object stops processing requests on Machine 2, all subsequent requests on that stateful business object will still be sent to Group 2. After the object is deactivated on Machine 2, subsequent requests will be sent to Group 2 on Machine 2 and can be processed by other servers in Group 2.
</p>
<div class="pFigureTitle"><a name="wp1061785"> </a>
Figure&#160;1-1  Using Stateful Business Objects
</div>

 
 <p class="pGraphic"><a name="wp1061802"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/par_obj_no_rev.gif" alt="Using Stateful Business Objects" id="wp1061811"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1063160"> </a>
As illustrated in <a href="concepts.html#wp1061762">Figure&#160;1-2</a>, if a parallel object is running on all the servers in Group 1 on Machine 1 (multiple instances of stateless, user-controlled business objects can run on multiple servers at the same time), subsequent requests to that business object will be sent to Machine 2 and distributed to the servers in Group 2 until a server becomes available in Group 1. As long as there is a server available on the local machine, requests will be distributed to the servers on Machine 1, unless the Oracle Tuxedo load-balancing feature determines that, due to loads on the servers, the request should be serviced by a server in Group 2. To make this determination, the load-balancing feature uses the <code class="cCode">LOAD</code> parameter, which is set in the <code class="cCode">INTERFACES</code> section of the
</p>
<div class="pFigureTitle"><a name="wp1061762"> </a>
Figure&#160;1-2  Using Stateless Business Objects
</div>

 
 <p class="pGraphic"><a name="wp1063645"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/par_obj_yes.gif" alt="Using Stateless Business Objects" id="wp1063643"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1063646"> </a>
<code class="cCode">UBBCONFIG</code> file. For information on the <code class="cCode">LOAD</code> parameter, see <a href="tsadmds.html#wp1023546">Modifying the INTERFACES Section</a>.
</p>
<h3 class="pHeading2"><a name="wp1061935"> </a>
Configuring Parallel Objects
</h3>
<p class="pBody"><a name="wp1061770"> </a>
Support for parallel objects was added to Oracle Tuxedo in release 8.0. You use the ICF file to implement parallel objects for a particular CORBA application. The ICF includes a user-controlled concurrency policy option that sets all business objects implemented in the application, to which the ICF file applies, to stateless objects. 
</p>
<p class="pBody"><a name="wp1066591"> </a>
The concurrency policy determines whether the Active Object Map (AOM) is used to guarantee that an object is active in only one server at any one time. In previous releases, use of the AOM was mandatory, not optional. Use of the AOM is referred to as system-controlled concurrency. Unlike the system-controlled concurrency model, the user-controlled model, which does not use the AOM, allows the same object to be active in more than one server at a time. Thus, user-controlled concurrency can be used to improve performance and load balancing. For more information about configuring user-controlled concurrency for parallel objects, see &#8220;Parallel Objects&#8221; in the <a href="../CORBA_ref/index.html">CORBA Programming Reference</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1066601"> </a>
Multiplexing Incoming Client Connections
</h2><p class="pBody"><a name="wp1030408"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1030412"> </a><a href="concepts.html#wp1030427">IIOP Listener and Handler</a></li>
<li><a name="wp1030416"> </a><a href="concepts.html#wp1055028">Increasing the Number of ISH Processes</a></li>
</ul></div>
<p class="pBody"><a name="wp1030419"> </a>
System administrators can scale an Oracle Tuxedo application by increasing, in the <code class="cCode">UBBCONFIG</code> file, the number of incoming client connections that an application site supports. Oracle Tuxedo provides a multicontexted, multistated gateway of listener/handlers to handle the multiplexing of all the requests issued by the client.
</p>
<h3 class="pHeading2"><a name="wp1030427"> </a>
IIOP Listener and Handler
</h3>
<p class="pBody"><a name="wp1032498"> </a>
The IIOP Listener (ISL) enables access to Oracle Tuxedo CORBA objects by remote Oracle Tuxedo CORBA clients that use IIOP. The ISL is a process that listens for remote CORBA clients requesting IIOP connections. The IIOP Handler (ISH) is a multiplexor process that acts as a surrogate on behalf of the remote CORBA client. Both the ISL and ISH run on the application site. An application site can have one or more ISL processes and multiple associated ISH processes. Each ISH is associated with a single ISL.
</p>
<p class="pBody"><a name="wp1055058"> </a>
The client connects to the ISL process using a known network address. The ISL balances the load among ISH processes by selecting the best available ISH and passing the connection directly to it. The ISL/ISH manages the context on behalf of the application client. For more information about ISL and ISH, see the description of ISL in the <a href="../rf5/rf5.html">File Formats, Data Descriptions, MIBs, and System Processes Reference</a>.
</p>
<h3 class="pHeading2"><a name="wp1055028"> </a>
Increasing the Number of ISH Processes
</h3>
<p class="pBody"><a name="wp1030438"> </a>
System administrators can scale an Oracle Tuxedo CORBA application by increasing the number of ISH processes on an application site, thereby enabling the ISL to load balance among more ISH processes. By default, an ISH can handle up to 10 client connections. To increase this number, pass the optional <span style="font-style: normal">CLOPT -x&#160;</span><span style="font-style: italic">mpx-factor</span> parameter to the ISL command, specifying in <span style="font-style: italic">mpx-factor</span> the number of ISH client connections each ISH can handle (up to 4096), and therefore the degree of multiplexing, for the ISH. Increasing the number of ISH processes may affect application performance as the application site services more concurrent processes.
</p>
<p class="pBody"><a name="wp1045276"> </a>
System administrators can tune other ISH options as well to scale Oracle Tuxedo applications. For more information, see the description of ISL in the <span style="font-style: normal"><a href="../rf5/rf5.html">File Formats, Data Descriptions, MIBs, and System Processes Reference</a></span><span style="font-style: italic">.</span>
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="concepts.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="tssrvc.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
