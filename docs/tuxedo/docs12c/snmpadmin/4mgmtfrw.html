<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/snmpadmin/fm/4mgmtfrw.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:43:04" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Integrating Oracle SNMP Agent with a Management Framework</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">SNMP Agent Administration Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="3setupag.html"><img id="LongDescNotReq4" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="5agintg.html"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq6" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq7" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq8" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/snmpadmin.pdf" target="pdf"><img id="LongDescNotReq9" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq10" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp26537"> </a>
Integrating Oracle SNMP Agent with a Management Framework
</h1>
<p class="pBody"><a name="wp25854"> </a>
The following sections explain how to integrate the Oracle SNMP Agent into your management framework:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp25858"> </a><a href="4mgmtfrw.html#wp25802">Understanding the Oracle SNMP Agent MIB Files</a></li>
<li><a name="wp25865"> </a><a href="4mgmtfrw.html#wp24144">Using Oracle SNMP Agent with a Management Framework</a></li>
<li><a name="wp25862"> </a><a href="4mgmtfrw.html#wp26014">Integrating Oracle Tuxedo Event Notifications</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp25802"> </a>
Understanding the Oracle SNMP Agent MIB Files
</h2><p class="pBody"><a name="wp25803"> </a>
Oracle SNMP Agent provides the following two SNMP MIB files. <code class="cCode">bea.asn1</code> and <code class="cCode">mib.txt</code>. The <code class="cCode">bea.asn1</code> file is used by the SNMP network management framework to set up that portion of its local MIB (on the management station) required to manage Tuxedo applications. The <code class="cCode">mib.txt</code> file, which is created from the <code class="cCode">bea.asn1</code> file, is used by the Tuxedo SNMP agent (<code class="cCode">tux_snmpd</code>) at startup to set up its local SNMP MIB on the managed node.
</p>
<a name="wp25987"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Only the <code class="cCode">bea.asn1</code> file is of interest in the discussions that follow.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp24144"> </a>
Using Oracle SNMP Agent with a Management Framework
</h2><p class="pBody"><a name="wp24148"> </a>
To use Oracle SNMP Agent with your management framework, follow these steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp24149"> </a>Load the SNMP MIB for Oracle Tuxedo into the management framework.</li>
<p class="pBodyRelative"><a name="wp24150"> </a>
The SNMP MIB defines the data types and access permissions for the various managed objects that can be accessed through Oracle SNMP Agent. It also defines the event notifications that can be generated by Oracle SNMP Agent. The MIB thus provides the management framework with information it requires to manage Oracle Tuxedo resources.
</p>
<p class="pBodyRelative"><a name="wp24158"> </a>
By default, the SNMP MIB file, <code class="cCode">bea.asn1</code>, is installed in the <code class="cCodeEmphasis">tux_prod_dir</code><code class="cCode">/udataobj/snmp/etc</code> directory. The MIB file must be imported into the management database of your management framework. Some management frameworks refer to this process as loading a MIB. For a list of management frameworks tested with Oracle SNMP Agent, refer to the <em class="cEmphasis">Oracle Tuxedo Release Notes</em>.
</p>
<li><a name="wp24160"> </a>Decide what kind of information you need to meet your system management goals.</li>
<p class="pBodyRelative"><a name="wp24161"> </a>
For example, are there particular attributes of the resources you are managing that you want to monitor? Do you want to be notified when certain Oracle Tuxedo system events occur?
</p>
<li><a name="wp24162"> </a>Configure the management framework response to incoming Oracle Tuxedo system events.</li>
<p class="pBodyRelative"><a name="wp24166"> </a>
For details, see <a href="4mgmtfrw.html#wp26014">Integrating Oracle Tuxedo Event Notifications</a>.
</p>
<li><a name="wp24167"> </a>Configure polling or data collection rules on the manager for performance and fault management.</li>
<p class="pBodyRelative"><a name="wp24168"> </a>
Periodic collection of values of pertinent objects is valuable for analysis of trends. This analysis is valuable for capacity planning and load-balancing. You can also use polling to generate alarms, which is useful for fault management.
</p>
<li><a name="wp24169"> </a>Optional: Define the Oracle SNMP Agent Integrator polling rules.</li>
<p class="pBodyRelative"><a name="wp24170"> </a>
If you are using the Oracle SNMP agent as a SMUX subagent with the Oracle SNMP Agent Integrator, you might want to off-load some threshold checking to the Oracle SNMP Agent Integrator. The Oracle SNMP Agent Integrator generates enterprise-specific traps when the user-defined threshold is crossed. Off-loading checking of selective thresholds to the Oracle SNMP Agent Integrator reduces the network bandwidth consumed by the management framework&#8217;s polling activities.
</p>
<li><a name="wp24171"> </a>Set up and start the agents.</li>
<p class="pBodyRelative"><a name="wp26009"> </a>
The procedure for setting up and starting the Oracle SNMP agent is described in <a href="3setupag.html">Setting Up Oracle SNMP Agent on a Managed Node</a>.
</p>
</ol></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp26014"> </a>
Integrating Oracle Tuxedo Event Notifications
</h2><p class="pBody"><a name="wp24179"> </a>
To integrate the Oracle Tuxedo system event traps with your management framework, follow these steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp24180"> </a>Make sure the Tuxedo EventBroker server (<code class="cCode">TMSYSEVT</code>) is running for the domain being managed. For more information, see <a href="3setupag.html">Setting Up Oracle SNMP Agent on a Managed Node</a>.</li>
<p class="pBodyRelative"><a name="wp25575"> </a>
Oracle SNMP Agent will not receive event notifications unless the EventBroker server (<code class="cCode">TMSYSEVT</code>) is running. For information on the Tuxedo EventBroker server, see reference page <a href="../rf5/rf5.html">TMSYSEVT(5)</a> in <em class="cEmphasis">Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference</em>.
</p>
<li><a name="wp25580"> </a>Modify the <code class="cCode">TRAP_HOST</code> entry in the Oracle SNMP Agent <code class="cCode">beamgr.conf</code> configuration file to specify the location of the management machine that is to be the destination for traps generated by the agent. For more information, see <a href="3setupag.html">Setting Up Oracle SNMP Agent on a Managed Node</a>.</li>
<li><a name="wp24199"> </a>If you have not already done so, load the Oracle SNMP Agent <code class="cCode">bea.asn1</code> MIB file into your management framework.</li>
<p class="pBodyRelative"><a name="wp24200"> </a>
For example, on HP OpenView Network Node Manager, see the following display and do the following:
</p>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<li><a name="wp24201"> </a>Select Options<span class="arrow"><img id="LongDescNotReq1" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>Load/Unload MIBs: SNMP.</li>
<div class="pFigureTitle"><a name="wp24202"> </a>
Figure&#160;4-1  Selecting Load/Unload MIBs in HP OpenView
</div>

 
 <p class="pGraphic"><a name="wp24206"> </a>
<br />
<img src="wwimages/3_1lodmb.gif" alt="Selecting Load/Unload MIBs in HP OpenView" id="wp24204"/><br />

</p>
<li><a name="wp24207"> </a>Select Load.</li>
<li><a name="wp24211"> </a>Specify the path to the Oracle SNMP Agent configuration file (<code class="cCode">bea.asn1</code>). By default, this file is installed in:</li>
<p class="pBodyRelative"><a name="wp24212"> </a>
<code class="cCodeEmphasis">tux_prod_dir</code><code class="cCode">\udataobj\snmp\etc\bea.asn1</code> (Windows)<br /><code class="cCodeEmphasis">tux_prod_dir</code><code class="cCode">/udataobj/snmp/etc/bea.asn1</code> (UNIX)
</p>
<li><a name="wp24214"> </a>Select OK.</li>
</ol></div>
<li><a name="wp24216"> </a>Configure the management framework to take the appropriate action in response to incoming Tuxedo SNMP traps.</li>
<p class="pBodyRelative"><a name="wp24217"> </a>
You might want to change the way in which Tuxedo SNMP traps are displayed on your management console, or the actions that the management framework takes in response to specified events. For example, you might choose to ignore some routine informational notifications. For example, to view the event configuration on HP OpenView, do the following:
</p>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<li><a name="wp24218"> </a>Select Options<span class="arrow"><img id="LongDescNotReq2" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>Event Configuration.</li>
<li><a name="wp24219"> </a>Select the enterprise <code class="cCode">tuxedo</code>.</li>
<li><a name="wp24220"> </a>Select an event type, such as <code class="cCode">networkFlowTrap</code> in HP Open View.</li>
<li><a name="wp24222"> </a>Customize the management framework response to incoming events of that type. Select Edit<span class="arrow"><img id="LongDescNotReq3" src="/global_resources/images/arrwrite.gif" alt="Arrow symbol"/></span>Modify Event in OpenView, which invokes the Event Configuration window shown in the following display.</li>
<div class="pFigureTitle"><a name="wp24223"> </a>
Figure&#160;4-2  HP OpenView Event Configuration Window
</div>

 
 <p class="pGraphic"><a name="wp24229"> </a>
<br />
<img src="wwimages/3_2etlst.gif" height="455" width="544" alt="HP OpenView Event Configuration Window" id="wp24225"/><br />

</p>
<p class="pBodyRelative"><a name="wp24230"> </a>
You can modify the event configuration to ignore an event, or generate a pop-up notification or run a program or script when the event is received. You might also want to create a separate category for Tuxedo events, as shown in the preceding display.
</p>
</ol></div>
</ol></div>
<h3 class="pHeading2"><a name="wp25718"> </a>
Retrieving or Modifying Object Values When Managing Multiple Domains
</h3>
<p class="pBody"><a name="wp25722"> </a>
Monitoring of multiple Oracle Tuxedo domains is done by running a separate Tuxedo SNMP agent for each domain being monitored. These agents must be run as SMUX subagents under the Oracle SNMP Agent Integrator.
</p>
<p class="pBody"><a name="wp24237"> </a>
When more than one Tuxedo SNMP agent is running as a SMUX subagent on a node, then SNMP manager Set or Get requests to an agent must be addressed using a community of the form:
</p>
<p class="pBody"><a name="wp24238"> </a>
<code class="cCodeEmphasis">community</code><code class="cCode">@</code><code class="cCodeEmphasis">logical_agent_name</code>
</p>
<p class="pBody"><a name="wp24239"> </a>
For example:
</p>
<p class="pBody"><a name="wp24240"> </a>
<code class="cCode">public@payrollagent</code>
</p>
<p class="pBody"><a name="wp24241"> </a>
In this example <code class="cCode">payrollagent</code> is a logical agent name that identifies the agent to which the request is to be forwarded by the Oracle SNMP Agent Integrator.
</p>
<h3 class="pHeading2"><a name="wp24245"> </a>
Integrating Events Generated by Oracle SNMP Agent Integrator Polling
</h3>
<p class="pBody"><a name="wp24247"> </a>
The Oracle SNMP Agent Integrator can be used to poll Oracle Tuxedo objects, or other managed resources. To integrate the Oracle SNMP Agent Integrator threshold-checking activity with the management framework, perform the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp24248"> </a>Set up the Oracle SNMP Agent Integrator polling rules.</li>
<p class="pBodyRelative"><a name="wp24252"> </a>
A polling rule is defined by a <code class="cCode">RULE_ACTION</code> entry in the Oracle SNMP Agent <code class="cCode">beamgr.conf</code> configuration file.
</p>
<li><a name="wp24253"> </a>Configure the management framework to recognize the events generated by the Oracle SNMP Agent Integrator.</li>
<p class="pBodyRelative"><a name="wp24254"> </a>
For example, in HP OpenView, you can add a new event type by doing the following:
</p>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<li><a name="wp24255"> </a>Select Options Event Configuration.</li>
<li><a name="wp24256"> </a>Select <code class="cCode">beaSystemDescr</code>.</li>
<li><a name="wp24257"> </a>Select Edit Add Event.</li>
<p class="pBodyRelative"><a name="wp24258"> </a>
In the window that is invoked you would use the following as the event number:
</p>
<p class="pBodyRelative"><a name="wp24259"> </a>
<code class="cCode">.1.3.6.1.4.1.140.1.1.0.</code><code class="cCodeEmphasis">specific_trap_number</code>
</p>
</ol></div>
<li><a name="wp24260"> </a>Configure the management framework to respond appropriately to incoming Oracle SNMP Agent Integrator events.</li>
</ol></div>
<p class="pBody"><a name="wp24263"> </a>
For more information, see <a href="7polling.html">Using the Oracle SNMP Agent Integrator for Polling</a>.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="4mgmtfrw.html"><img id="LongDescNotReq11" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="3setupag.html"><img id="LongDescNotReq12" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="5agintg.html"><img id="LongDescNotReq13" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
