<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/snmpadmin/fm/9cnfgfl.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:43:08" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Configuration Files</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">SNMP Agent Administration Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="8agincom.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="appainfo.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/snmpadmin.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp68507"> </a>
Configuration Files
</h1>
<p class="pBody"><a name="wp63012"> </a>
The following sections describe the configuration files accessed by the Oracle SNMP Agent Integrator and the Oracle SNMP agents:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp63016"> </a><a href="9cnfgfl.html#wp60115">Oracle SNMP Agent Configuration File: beamgr.conf</a></li>
<li><a name="wp60112"> </a><a href="9cnfgfl.html#wp60402">Oracle SNMP Agent Passwords File: beamgr_snmpd.conf</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp60115"> </a>
Oracle SNMP Agent Configuration File: beamgr.conf 
</h2><p class="pBody"><a name="wp62765"> </a>
At startup, the Oracle SNMP Agent Integrator (<code class="cCode">snmp_integrator</code>) and the Oracle SNMP agent (<code class="cCode">tux_snmpd</code>) read the absolute pathname specified by the <code class="cCode">BEA_SM_BEAMGR_CONF</code> environment variable to locate the <code class="cCode">beamgr.conf</code> configuration file on the host system. The Oracle SNMP Agent Integrator and agents read certain configurations in the <code class="cCode">beamgr.conf</code> file.
</p>
<a name="wp63747"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The <code class="cCode">BEA_SM_BEAMGR_CONF</code> setting ends with filename <code class="cCode">beamgr.conf</code>.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp62608"> </a>
Default Location
</h3>
<p class="pBody"><a name="wp60124"> </a>
If the <code class="cCode">BEA_SM_BEAMGR_CONF</code> environment variable is not set, the Oracle SNMP Agent Integrator and agents look for <code class="cCode">beamgr.conf</code> at the following default location:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp60528"> </a>For Windows systems: <code class="cCode">C:\etc\beamgr.conf</code></li>
<li><a name="wp60125"> </a>For UNIX systems: <code class="cCode">/etc/beamgr.conf</code></li>
</ul></div>
<p class="pBody"><a name="wp63803"> </a>
If the Oracle SNMP Agent Integrator and agents cannot find the <code class="cCode">beamgr.conf</code> file on the host system, they will print an error message and <em class="cEmphasis">not</em> start. The <code class="cCode">beamgr.conf</code> file is a <em class="cEmphasis">mandatory</em> configuration file.
</p>
<h3 class="pHeading2"><a name="wp63478"> </a>
Description
</h3>
<p class="pBody"><a name="wp63480"> </a>
The <code class="cCode">beamgr.conf</code> configuration file contains information used by the Oracle SNMP Agent Integrator and the Oracle SNMP agents. A configuration entry in the file consist of two or more blank or tab-separated fields:
</p>
<p class="pBody"><a name="wp63481"> </a>
<code class="cCodeEmphasis">KEYWORD parameters</code>
</p>
<p class="pBody"><a name="wp60134"> </a>
If an entry is too long, you can use the backslash (\) character as a continuation character at the end of the line. There should be a newline character immediately following the \ character.
</p>
<p class="pBody"><a name="wp60135"> </a>
The following keywords have corresponding MIB objects: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp60136"> </a><code class="cCode">TMEVENT_FILTER</code></li>
<li><a name="wp60137"> </a><code class="cCode">SYS_INSTALL</code></li>
<li><a name="wp60138"> </a><code class="cCode">SYS_CONTACT</code></li>
<li><a name="wp60139"> </a><code class="cCode">SYS_NAME</code></li>
<li><a name="wp60140"> </a><code class="cCode">SYS_LOCATION</code></li>
<li><a name="wp60141"> </a><code class="cCode">SYS_SERVICES</code></li>
<li><a name="wp60142"> </a><code class="cCode">RULE_ACTION</code></li>
</ul></div>
<h3 class="pHeading2"><a name="wp60146"> </a>
Keywords Used by All Oracle SNMP Agent Components
</h3>
<h4 class="pDefTerm"><a name="wp60148"> </a>
<code class="cCode">TRAP_HOST</code>
</h4><p class="pBodyRelative"><a name="wp60149"> </a>
Host name, port number, and community name necessary to send SNMP traps.
</p>
<p class="pBodyRelative"><a name="wp60151"> </a>
<code class="cCodeEmphasis">host_name</code><code class="cCode"> </code><code class="cCodeEmphasis">trap_port</code><code class="cCode"> </code><code class="cCodeEmphasis">trap_community</code>
</p>
<p class="pBodyRelative"><a name="wp60152"> </a>
<code class="cCodeEmphasis">host_hame</code>
</p>
<p class="pBodyRelative"><a name="wp60153"> </a>
The name of the target destination machine for the trap notification. The default is the local host.
</p>
<p class="pBodyRelative"><a name="wp60154"> </a>
You can have multiple <code class="cCode">TRAP_HOST</code> entries in the configuration file if you need to send traps to multiple destinations.
</p>
<p class="pBodyRelative"><a name="wp60156"> </a>
The <code class="cCode">TRAP_HOST</code> entry is used by the Oracle SNMP Agent Integrator and the SNMP agents to determine trap destinations when they generate SNMP trap notifications.
</p>
<h4 class="pDefTerm"><a name="wp60157"> </a>
<code class="cCode">SNMP_ENABLE_AUTH_TRAP</code>
</h4><p class="pBodyRelative"><a name="wp60158"> </a>
Contains a value that indicates whether the SNMP agent is permitted to generate authentication-failure traps. If the value is 1, the SNMP agent generates authentication-failure traps when an invalid request (according to the community profile) is received. If the value is not 1, no authentication-failure trap is generated.
</p>
<h4 class="pDefTerm"><a name="wp60159"> </a>
<code class="cCode">OID_CLASS</code>
</h4><p class="pBodyRelative"><a name="wp60160"> </a>
The OID is a unique number assigned to each object in the MIB as an object identifier. OIDs fall into specific categories or classes. When the SNMP agent accesses a specific object, it traverses the OID tree in the MIB file to find the object. An OID identifies an object by specifying a unique path to the object from the root of the OID tree.
</p>
<h3 class="pHeading2"><a name="wp60161"> </a>
Keywords Used by the Oracle SNMP Agent Integrator
</h3>
<h4 class="pDefTerm"><a name="wp60162"> </a>
<code class="cCode">INTEGRATOR_TIMEOUT</code>
</h4><p class="pBodyRelative"><a name="wp60164"> </a>
Sets the Oracle SNMP Agent Integrator timeout in waiting for responses to requests. The default timeout is 30 seconds.You can set the Oracle SNMP Agent Integrator timeout by adding an <code class="cCode">INTEGRATOR_TIMEOUT</code> entry as follows:
</p>
<p class="pBodyRelative"><a name="wp60165"> </a>
<code class="cCode">BEA_PEER MAX_WAIT 30</code>
</p>
<h4 class="pDefTerm"><a name="wp60167"> </a>
<code class="cCode">INTEGRATOR_MAX_TIMEOUTS</code>
</h4><p class="pBodyRelative"><a name="wp60168"> </a>
Sets the maximum number of times the Oracle SNMP Agent Integrator permits requests to an SNMP peer or SMUX subagent to time out before disregarding any further requests for that agent or subagent. The default is 3.
</p>
<h4 class="pDefTerm"><a name="wp60169"> </a>
<code class="cCode">NON_SMUX_PEER</code>
</h4><p class="pBodyRelative"><a name="wp60170"> </a>
Specifies the OIDs supported by an SNMP agent when it is running as a peer of the Oracle SNMP Agent Integrator. For more information, see <a href="9cnfgfl.html#wp60230">NON_SMUX_PEER Entry</a>.
</p>
<h4 class="pDefTerm"><a name="wp60171"> </a>
<code class="cCode">RULE_ACTION</code>
</h4><p class="pBodyRelative"><a name="wp60172"> </a>
Specifies an Oracle SNMP Agent Integrator polling rule. This allows threshold-checking to be offloaded from the network management system to the distributed integrator agents on managed nodes. For more information, see <a href="9cnfgfl.html#wp60311">RULE_ACTION Entry</a>.
</p>
<h3 class="pHeading2"><a name="wp60176"> </a>
Keywords Used by the Oracle SNMP Agent
</h3>
<h4 class="pDefTerm"><a name="wp60178"> </a>
<code class="cCode">TMAGENT</code>
</h4><p class="pBodyRelative"><a name="wp60179"> </a>
Defines the Oracle Tuxedo domain that an agent is to monitor. There must be one <code class="cCode">TMAGENT</code> entry for each Tuxedo SNMP agent on a managed node. The format of the entry is as follows:
</p>
<p class="pBodyRelative"><a name="wp60181"> </a>
<code class="cCode">TMAGENT </code><code class="cCodeEmphasis">logical_agent_name tuxdir tuxconfig_path</code>
</p>
<p class="pBodyRelative"><a name="wp60182"> </a>
Monitoring of multiple domains is performed by running a separate Tuxedo agent for each domain being monitored. These agents must be run as SMUX subagents under the Oracle SNMP Agent Integrator.
</p>
<p class="pBodyRelative"><a name="wp60183"> </a>
When there are multiple Tuxedo SNMP agents running as SMUX subagents on a managed node, the logical agent name must be used to modify the community in Set or Get requests. The community must be of the following form:
</p>
<p class="pBodyRelative"><a name="wp60184"> </a>
<code class="cCodeEmphasis">community</code><code class="cCode">@</code><code class="cCodeEmphasis">logical_agent_name</code>
</p>
<p class="pBodyRelative"><a name="wp60185"> </a>
For example:
</p>
<p class="pBodyRelative"><a name="wp60186"> </a>
<code class="cCode">public@payrollagent</code>
</p>
<p class="pBodyRelative"><a name="wp60187"> </a>
The community does not need to be qualified with the logical agent name when there is only one Tuxedo SNMP agent running on the managed node.
</p>
<h4 class="pDefTerm"><a name="wp60189"> </a>
<code class="cCode">TMEVENT_FILTER</code>
</h4><p class="pBodyRelative"><a name="wp60190"> </a>
Defines a subset of Oracle Tuxedo event notifications that are to be forwarded as SNMP trap notifications. By default, if no filter is provided, Oracle SNMP Agent forwards all Tuxedo events as SNMP traps. The format of the entry is:
</p>
<p class="pBodyRelative"><a name="wp60194"> </a>
<code class="cCode">TMEVENT_FILTER </code><code class="cCodeEmphasis">filter_id</code><code class="cCode"> </code><code class="cCodeEmphasis">logical_agent_name</code><code class="cCode"> </code><code class="cCodeEmphasis">tux_evt_expr</code><code class="cCode"> <br /></code><code class="cCodeEmphasis">   tux_evt_filter status</code>
</p>
<p class="pBodyRelative"><a name="wp60195"> </a>
Note that the strings used for each of the parameters must not have blanks or white space.
</p>
<p class="pBodyRelative"><a name="wp60196"> </a>
<code class="cCodeEmphasis">filter_id</code>
</p>
<p class="pBodyRelative"><a name="wp60197"> </a>
A string that must be unique among all <code class="cCode">TMEVENT_FILTER</code> entries in the Oracle SNMP Agent configuration file. The maximum length of the string is 16 characters.
</p>
<p class="pBodyRelative"><a name="wp60201"> </a>
<code class="cCodeEmphasis">logical_agent_name</code>
</p>
<p class="pBodyRelative"><a name="wp60202"> </a>
Maps the event filter to a particular agent on that node. A logical agent name is a string up to 32 characters long. The logical agent name is the name given to the Windows service on a Windows system that starts the agent, or the name specified in the <code class="cCode">-l</code> option when starting the agent from the command line on a UNIX system.
</p>
<p class="pBodyRelative"><a name="wp60203"> </a>
<code class="cCodeEmphasis">tux_evt_expr</code>
</p>
<p class="pBodyRelative"><a name="wp67392"> </a>
A Tuxedo event name expression. This string can be a maximum of 255 characters long. For information about event name expressions, which are regular expressions, see reference page <a href="../rf3c/rf3c.html">tpsubscribe(3c)</a> in <em class="cEmphasis">Oracle Tuxedo ATMI C Function Reference</em>.
</p>
<p class="pBodyRelative"><a name="wp60206"> </a>
This name must match a Tuxedo event name for that event to be forwarded as an SNMP trap. For a list of event names, see reference page <a href="../rf5/rf5.html">EVENTS(5)</a> in <em class="cEmphasis">Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference</em>.
</p>
<p class="pBodyRelative"><a name="wp60208"> </a>
The default is <code class="cCode">all</code> events. If <code class="cCode">NONE</code> is used, no events are forwarded and the other parameters in the <code class="cCode">TMEVENT_FILTER</code> entry can be omitted. An entry of <code class="cCode">NONE</code> overrides all other event filter entries for the same logical agent name. For example: 
</p>
<p class="pBodyRelative"><a name="wp60209"> </a>
An entry of 
</p>
<p class="pBodyRelative"><a name="wp60210"> </a>
<code class="cCode">\.Sys.*</code>
</p>
<p class="pBodyRelative"><a name="wp60211"> </a>
matches all events.
</p>
<p class="pBodyRelative"><a name="wp60212"> </a>
An entry of
</p>
<p class="pBodyRelative"><a name="wp60213"> </a>
<code class="cCode">\.SysServer.*</code>
</p>
<p class="pBodyRelative"><a name="wp60214"> </a>
matches all system events related to servers.
</p>
<p class="pBodyRelative"><a name="wp60215"> </a>
<code class="cCodeEmphasis">tux_evt_filter</code>
</p>
<p class="pBodyRelative"><a name="wp60216"> </a>
An event filter expression. This string can be a maximum of 255 characters long. Each Tuxedo event is accompanied by an FML buffer that contains pertinent information about the event. The buffer is evaluated with respect to this filter if the filter is present. If the buffer content is evaluated to <code class="cCode">TRUE</code>, the event is forwarded; otherwise the event is not forwarded. Oracle SNMP Agent uses this filter as an argument for a call to <code class="cCode">tpsubscribe()</code>. For more information, see reference page <a href="../rf3c/rf3c.html">tpsubscribe(3c)</a> in <em class="cEmphasis">Oracle Tuxedo ATMI C Function Reference</em>.
</p>
<p class="pBodyRelative"><a name="wp60221"> </a>
<code class="cCodeEmphasis">status</code>
</p>
<p class="pBodyRelative"><a name="wp60222"> </a>
Can be either <code class="cCode">active</code> or <code class="cCode">inactive</code>. If the status is <code class="cCode">active</code>, the filter is being used; otherwise the filter is not being used.
</p>
<p class="pBodyRelative"><a name="wp60223"> </a>
There is a MIB table that corresponds to the <code class="cCode">TMEVENT_FILTER</code> entries in the Oracle SNMP Agent configuration file. These entries can be updated dynamically using an SNMP Set request. For more information, see the <code class="cCode">beaEvtFilterTable</code> object in <span class="cHyperlink">
<a href="../snmpmref/2coremib.html">&#8220;Core MIB&#8221;</a></span> in <em class="cEmphasis">Oracle Tuxedo SNMP Agent MIB Reference</em>.
</p>
<h3 class="pHeading2"><a name="wp60230"> </a>
NON_SMUX_PEER Entry
</h3>
<p class="pBody"><a name="wp62087"> </a>
To configure the Oracle SNMP Agent Integrator to access MIB objects through a peer SNMP agent (for example, a non-SMUX master agent or a non-SMUX peer agent), add the <code class="cCode">NON_SMUX_PEER</code> entry to the <code class="cCode">beamgr.conf</code> file in the following format:
</p>
<p class="pBodyRelative"><a name="wp60233"> </a>
<code class="cCode">NON_SMUX_PEER </code><code class="cCodeEmphasis">port</code><code class="cCode"> </code><code class="cCodeEmphasis">community</code><code class="cCode">|*<br />   OID_Node[,ro|rw][,</code><code class="cCodeEmphasis">priority</code><code class="cCode">][,</code><code class="cCodeEmphasis">timeout</code><code class="cCode">] ...</code>
</p>
<h4 class="pDefTerm"><a name="wp60234"> </a>
<code class="cCode">NON_SMUX_PEER</code>
</h4><p class="pBodyRelative"><a name="wp60236"> </a>
The keyword for the entry.
</p>
<h4 class="pDefTerm"><a name="wp60237"> </a>
<code class="cCodeEmphasis">port</code>
</h4><p class="pBodyRelative"><a name="wp60239"> </a>
Specifies the UDP port number on which the SNMP agent is listening. This value may be specified in either of the following forms:
</p>
<p class="pBodyRelative"><a name="wp60240"> </a>
<code class="cCodeEmphasis">ip_address.port<br />hostname.port</code>
</p>
<p class="pBodyRelative"><a name="wp60241"> </a>
when the SNMP agent is remote from the Oracle SNMP Agent Integrator. If <code class="cCodeEmphasis">ip_address</code> or <code class="cCodeEmphasis">hostname</code><code class="cCode"> </code>is not specified, the Oracle SNMP Agent Integrator assumes that the peer SNMP agent is on the same managed node as the Oracle SNMP Agent Integrator.
</p>
<h4 class="pDefTerm"><a name="wp60242"> </a>
<code class="cCodeEmphasis">community</code>
</h4><p class="pBodyRelative"><a name="wp60243"> </a>
Specifies the community to be used by the Oracle SNMP Agent Integrator when the SNMP agent is polled. The special value * is used to specify that the Oracle SNMP Agent Integrator should use the community supplied by the SNMP manager.
</p>
<h4 class="pDefTerm"><a name="wp60244"> </a>
<code class="cCodeEmphasis">OID_Node</code>
</h4><p class="pBodyRelative"><a name="wp60245"> </a>
Specifies the OID of the root of the MIB tree that is supported by this SNMP agent.
</p>
<p class="pBodyRelative"><a name="wp60246"> </a>
<code class="cCode">ro|rw</code>
</p>
<p class="pBodyRelative"><a name="wp60248"> </a>
Specifies whether this OID tree is being exported as read-only or as read-write. The default is <code class="cCode">rw</code>.
</p>
<p class="pBodyRelative"><a name="wp60250"> </a>
<code class="cCodeEmphasis">priority</code>
</p>
<p class="pBodyRelative"><a name="wp60252"> </a>
A positive number that specifies the priority at which the OID tree is being exported. The lower the number, the higher the priority. If there are multiple agents/subagents supporting the same MIB tree, the subagent with the highest priority is consulted. Multiple SNMP agents and SMUX subagents can register the same subtree; however, they must do so at different priorities.
</p>
<p class="pBodyRelative"><a name="wp60253"> </a>
If an SNMP agent tries to register a subtree at a priority that is already taken, the Oracle SNMP Agent Integrator repeatedly increments the integer value (lowering the priority) until an unused priority is found. A special priority <code class="cCode">-1</code>, causes the selection of the highest available priority. When a request is made to register with priority <code class="cCode">-1</code>, registration is made at the highest available number below 20. If the priority field is missing, the MIB tree is exported at a <code class="cCode">-1</code> priority.
</p>
<p class="pBodyRelative"><a name="wp60255"> </a>
<code class="cCodeEmphasis">timeout</code>
</p>
<p class="pBodyRelative"><a name="wp60256"> </a>
Specifies the time interval in seconds for which the Oracle SNMP Agent Integrator waits for the replies from this SNMP agent for the particular MIB group. The default value is three seconds. This default can be changed by setting the <code class="cCode">BEA_PEER_MAX_WAIT</code> environment variable to a different value.
</p>
<p class="pBodyRelative"><a name="wp60259"> </a>
The access (<code class="cCode">ro</code> or <code class="cCode">rw</code>), <code class="cCodeEmphasis">priority</code>, and <code class="cCodeEmphasis">timeout</code> fields are optional. However, you must specify access and <code class="cCodeEmphasis">priority</code> if you need to specify <code class="cCode">timeout</code>, and you must specify access if you need to specify <code class="cCodeEmphasis">priority</code> for a MIB tree.
</p>
<p class="pBodyRelative"><a name="wp60260"> </a>
You can list multiple OID nodes.
</p>
<p class="pBodyRelative"><a name="wp60261"> </a>
Note that a subtree registration hides the registrations by other SNMP agents/subagents of objects within the subtree. So, if an agent A registers subtree <code class="cCode">.1.3.6.1.4.1.140</code> and another agent/subagent, B, registers subtree <code class="cCode">.1.3.6.1.4.1.140.1</code>, agent/subagent A is consulted for all the objects under the <code class="cCode">.1.3.6.1.4.1.140.1</code> subtree.
</p>
<p class="pBodyRelative"><a name="wp60262"> </a>
Also, when the Oracle SNMP Agent Integrator reads this entry, an SNMP agent should be running on the specified port. Otherwise, the Oracle SNMP Agent Integrator disregards this entry. Also, if three consecutive requests to this SNMP agent time out, it is assumed that the SNMP agent specified by this entry is no longer alive and this entry is disregarded.
</p>
<p class="pBodyRelative"><a name="wp60263"> </a>
At any point, the command <code class="cCode">reinit_agent snmp_integrator</code> can be invoked to force the Oracle SNMP Agent Integrator to re-read its configuration file.
</p>
<p class="pBodyRelative"><a name="wp60264"> </a>
The Oracle SNMP Agent Integrator disallows/disregards any attempt to register above, at, or below the SNMP (<code class="cCode">mib2.snmp</code>) and SMUX subtrees of the MIB.
</p>
<h4 class="pHeading3"><a name="wp60265"> </a>
NON_SMUX_PEER Examples
</h4>
<p class="pBody"><a name="wp60266"> </a>
The following examples are provided to illustrate the use of the <code class="cCode">NON_SMUX_PEER</code> entry:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp60267"> </a>Consider the following sample entries in the <code class="cCode">beamgr.conf</code> file:</li>
<p class="pBodyRelative"><a name="wp60268"> </a>
<code class="cCode">NON_SMUX_PEER 2001 snmp .1.3.6.1.2.1.1,ro<br />NON_SMUX_PEER 2002 squid .1.3.6.1.4.1.141 .1.3.6.1.4.1.145<br />NON_SMUX_PEER 2008 * .1.3.6.1.4.1,ro<br />NON_SMUX_PEER 2005 * .1.3.6.1.4.1.140 .1.3.6.1.4.1.145,rw</code>
</p>
<p class="pBodyRelative"><a name="wp60269"> </a>
The first entry tells the Oracle SNMP Agent Integrator to look for an SNMP agent at port 2001. All the requests from Oracle SNMP Agent Integrator to this SNMP agent use <code class="cCode">snmp</code> as the community. The agent supports the subtree <code class="cCode">.1.3.6.1.2.1.1</code>, and is available for read-only commands.
</p>
<p class="pBodyRelative"><a name="wp60270"> </a>
The second entry tells the Oracle SNMP Agent Integrator to look for an SNMP agent at port 2002. All the requests from Oracle SNMP Agent Integrator to this SNMP agent use<span style="font-style: italic"> </span><code class="cCode">squid</code> as the community. The agent supports the subtrees <code class="cCode">.1.3.6.1.4.1.141</code> and <code class="cCode">.1.3.6.1.4.1.145</code>. Since no access option is specified, both subtrees default to <code class="cCode">rw</code>.
</p>
<p class="pBodyRelative"><a name="wp60271"> </a>
The third entry specifies a non-SMUX agent at port 2008 with a community of <span style="font-style: italic">*</span>. The * tells the Oracle SNMP Agent Integrator to pass along the same community information it receives from the SNMP manager. For example, if the SNMP manager sends the community <code class="cCode">nevus</code>, the Oracle SNMP Agent Integrator sends <code class="cCode">nevus</code> along to the subagent. (Of course, <code class="cCode">nevus</code> must be a valid community for the Oracle SNMP Agent Integrator in the first place.)
</p>
<p class="pBodyRelative"><a name="wp60272"> </a>
The fourth entry lists an agent at port 2005 with a community of <span style="font-style: italic">*</span>. The agent supports two subtrees: <code class="cCode">.1.3.6.1.4.1.140</code> and <code class="cCode">.1.3.6.1.4.1.145.</code> Since the first subtree lists no access information, access defaults to <code class="cCode">rw</code>. The second subtree specifically lists <code class="cCode">rw</code>. This means exactly the same thing; the <code class="cCode">rw</code> could have been left off with no effect.
</p>
<p class="pBodyRelative"><a name="wp60273"> </a>
If the <code class="cCode">rw</code> is redundant, then why have it at all? Because each OID node can have three arguments: access (<code class="cCode">ro</code> or <code class="cCode">rw</code>), <code class="cCode">priority</code>, and <code class="cCode">timeout</code>. If you specify any of these arguments, you must also specify all the arguments that come before it. For example, if you specify priority, you must also specify access. If you specify timeout, you must specify both access and priority.
</p>
<li><a name="wp60274"> </a>The following entry tells the Oracle SNMP Agent Integrator to look for an agent at port 2008 with a community of <span style="font-style: italic">*</span>. The agent supports two subtrees. The first has an access of <code class="cCode">rw</code>, a priority of <code class="cCode">-1</code>, and a timeout of two seconds; the second has an access of <code class="cCode">rw,</code> a priority of <code class="cCode">-1</code>, and a timeout of ten seconds. Although <code class="cCode">rw</code> and <code class="cCode">-1</code> are the defaults for access and priority, these values must be stated explicitly in order to include a timeout value.</li>
<p class="pBodyRelative"><a name="wp60275"> </a>
<code class="cCode">NON_SMUX_PEER 2008 * .1.3.6.1.2.1.1,rw,-1,2 <br />   .1.3.6.1.2.1.2,rw,-1,10</code>
</p>
<p class="pBodyRelative"><a name="wp60276"> </a>
The timeout values are the maximum amount of time the Oracle SNMP Agent Integrator waits for a response from the SNMP agent for a given object. In this case, two seconds for a response if the object falls under MIB tree <code class="cCode">.1.3.6.1.2.1.1,</code> and ten seconds for a response if the object falls under the <code class="cCode">.1.3.6.1.2.1.2</code> MIB group. The default value is three seconds. This default value can be changed by setting the environment variable <code class="cCode">BEA_PEER_MAX_WAIT</code>.
</p>
<li><a name="wp60277"> </a>The priority value decides which agent is consulted by the Oracle SNMP Agent Integrator in the event of a conflict. If more than one agent handles the same object, the one with the lowest number as a priority value is called. In the following entries, the agents on ports 2008 and 2009 both support object <code class="cCode">.1.3.6.1.2.1.1.</code> The agent at port 2009 has a higher priority (5 is a higher priority than 8), so that is the one the Oracle SNMP Agent Integrator calls. Notice that this entry specifies <code class="cCode">rw</code> access. The other entry specifies <code class="cCode">ro</code> access, but since it has a lower priority, it is completely ignored. As far as the Oracle SNMP Agent Integrator is concerned, the only agent supporting <code class="cCode">.1.3.6.1.2.1.1 </code>is at port 2009.</li>
<p class="pBodyRelative"><a name="wp60278"> </a>
<code class="cCode">NON_SMUX_PEER 2008 * .1.3.6.1.2.1.1,ro,8<br />NON_SMUX_PEER 2009 * .1.3.6.1.2.1.1,rw,5</code>
</p>
<p class="pBodyRelative"><a name="wp60279"> </a>
The default is <code class="cCode">-1 </code>if a priority is not specified. The Oracle SNMP Agent Integrator reads through the file sequentially. When it comes to an object with a <code class="cCode">-1</code> priority, it tries to assign it a priority of 20. If 20 has already been assigned to that MIB group (in another entry), it tries to assign 19. It keeps trying each successive lower number until it finds one that is not taken, or until it reaches 0, in which case an error message appears.
</p>
<li><a name="wp60280"> </a>In the following entries, the Oracle SNMP Agent Integrator assigns a priority of 20 to the first entry and a priority of 19 to the second entry. Since 19 is a higher priority, the agent at port 2009 handles object <code class="cCode">.1.3.6.1.2.1.1</code> and the first entry is ignored. As before, the access is <code class="cCode">rw</code>, since the entry specifying <code class="cCode">ro</code> access is ignored.</li>
<p class="pBodyRelative"><a name="wp60281"> </a>
<code class="cCode">NON_SMUX_PEER 2008 * .1.3.6.1.2.1.1,ro<br />NON_SMUX_PEER 2009 * .1.3.6.1.2.1.1</code>
</p>
<li><a name="wp60282"> </a>The MIB tree <code class="cCode">.1.3.6.1.2.1.11</code> is a special case, called <code class="cCode">mib2.snmp</code>. This MIB group is always handled by the Oracle SNMP Agent Integrator itself, and should not be exported by any agent or subagent. Any registration at, above, or below this MIB tree is not permitted. For example, none of the following entries is permitted:</li>
<p class="pBodyRelative"><a name="wp60283"> </a>
<code class="cCode">NON_SMUX_PEER 2005 * .1.3.6.1.2.1<br />NON_SMUX_PEER 2006 * .1.3.6.1.2.1.11<br />NON_SMUX_PEER 2007 * .1.3.6.1.2.1.11.7</code>
</p>
<p class="pBodyRelative"><a name="wp60284"> </a>
The first includes <code class="cCode">mib2.snmp</code>, the second specifies it exactly, and the third specifies a part of it.
</p>
<p class="pBodyRelative"><a name="wp60285"> </a>
If an SNMP agent wants to support <code class="cCode">mib2</code> (except for the <code class="cCode">snmp</code> group, as it is not permitted), you need to enter each of the <code class="cCode">mib2</code> subtrees explicitly:
</p>
<p class="pBodyRelative"><a name="wp60286"> </a>
<code class="cCode">NON_SMUX_PEER 2002 * .1.3.6.1.2.1.1  .1.3.6.1.2.1.2 <br />   .1.3.6.1.2.1.3  .1.3.6.1.2.1.4  .1.3.6.1.2.1.5 <br />      .1.3.6.1.2.1.6  .1.3.6.1.2.1.7  .1.3.6.1.2.1.8 <br />         .1.3.6.1.2.1.9  .1.3.6.1.2.1.10</code>
</p>
<a name="wp60287"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>To continue an entry on another line, use a backslash. Make sure that there are no characters (other than the carriage return) immediately following the backslash.</td>
</tr>
</table>

<li><a name="wp60288"> </a>The Oracle SNMP Agent Integrator supports row-level registration. Consider a table with five columns and two rows. Each item in the table is a separate object and can be identified by the column and row identifiers, in that order. The following entry:</li>
<p class="pBodyRelative"><a name="wp60289"> </a>
<code class="cCode">NON_SMUX_PEER 2000 * .1.3.6.1.4.1.140.100.5.1.2.1</code>
</p>
<p class="pBodyRelative"><a name="wp60290"> </a>
specifies row 1 of the second column of table object <code class="cCode">.1.3.6.1.4.1.140.100.5.1</code>. Row 1 is not necessarily the first row. 1 is simply a unique identifier for the row.
</p>
<p class="pBodyRelative"><a name="wp60291"> </a>
Notice that <code class="cCode">.1.3.6.1.4.1.140.100.5.1.2</code> refers to the whole second column. To associate the two rows with different subagents, you need to specify each object in the row:
</p>
<p class="pBodyRelative"><a name="wp60292"> </a>
<code class="cCode">NON_SMUX_PEER 2000 * .1.3.6.1.4.1.140.100.5.1.1.1 <br />   .1.3.6.1.4.1.140.100.5.1.2.1  .1.3.6.1.4.1.140.100.5.1.3.1 <br />      .1.3.6.1.4.1.140.100.5.1.4.1 <br />         .1.3.6.1.4.1.140.100.5.1.5.1</code>
</p>
<p class="pBodyRelative"><a name="wp60293"> </a>
<code class="cCode">NON_SMUX_PEER 2002 * .1.3.6.1.4.1.140.100.5.1.1.2 <br />   .1.3.6.1.4.1.140.100.5.1.2.2  .1.3.6.1.4.1.140.100.5.1.3.2 <br />      .1.3.6.1.4.1.140.100.5.1.4.2 <br />         .1.3.6.1.4.1.140.100.5.1.5.2</code>
</p>
<p class="pBodyRelative"><a name="wp60294"> </a>
The first entry lists the object in row 1 in each of the five columns. The second entry lists the object in row 2 in each of the five columns.
</p>
</ul></div>
<h3 class="pHeading2"><a name="wp60295"> </a>
OID_CLASS Entry
</h3>
<p class="pBody"><a name="wp60296"> </a>
	This entry is used by the SMUX subagents. Normally, these SMUX subagents register all the MIB groups they know about with the SMUX master agent. But you can limit the MIB groups exported by the SMUX subagents. To do so, you need to add an <code class="cCode">OID_CLASS</code> entry to <code class="cCode">beamgr.conf</code> in the following format:
</p>
<p class="pBody"><a name="wp60297"> </a>
<code class="cCode">OID_CLASS </code><code class="cCodeEmphasis">agent_name</code><code class="cCode"> </code><code class="cCodeEmphasis">OID_Node</code><code class="cCode">[,ro|rw] [,</code><code class="cCodeEmphasis">priority</code><code class="cCode">] ..</code>
</p>
<h4 class="pDefTerm"><a name="wp60298"> </a>
<code class="cCode">OID_CLASS</code>
</h4><p class="pBodyRelative"><a name="wp60299"> </a>
The keyword for the entry.
</p>
<h4 class="pDefTerm"><a name="wp60300"> </a>
<code class="cCodeEmphasis">agent_name</code>
</h4><p class="pBodyRelative"><a name="wp60301"> </a>
Specifies the name of the SMUX subagent for which this entry is applicable.
</p>
<h4 class="pDefTerm"><a name="wp60302"> </a>
<code class="cCodeEmphasis">OID_Node</code>
</h4><p class="pBodyRelative"><a name="wp60303"> </a>
Specifies the OID of the tree that is supported by this SMUX subagent.
</p>
<h4 class="pDefTerm"><a name="wp60304"> </a>
<code class="cCode">ro|rw</code>
</h4><p class="pBodyRelative"><a name="wp60305"> </a>
Specifies whether this OID tree is being exported as read-only or as read-write. The default is rw.
</p>
<h4 class="pDefTerm"><a name="wp60306"> </a>
<code class="cCodeEmphasis">priority</code>
</h4><p class="pBodyRelative"><a name="wp60307"> </a>
A positive number that specifies the sequence in which the OID tree is being exported. The lower the number, the higher the priority. If there are multiple subagents supporting the same MIB tree, the subagent with the highest priority is consulted. If the priority field is missing, the MIB tree is exported at the highest available priority. This entry is mainly used to limit the OID subtrees being exported by the Oracle SNMP Agent Integrator SMUX subagents. If this entry is not present, the SMUX subagent exports all the MIB groups it knows about.
</p>
<p class="pBodyRelative"><a name="wp60308"> </a>
Multiple OID nodes can be listed.
</p>
<h3 class="pHeading2"><a name="wp60311"> </a>
RULE_ACTION Entry
</h3>
<p class="pBody"><a name="wp60312"> </a>
The Oracle SNMP Agent Integrator can be configured to manage locally on the managed node and inform the SNMP manager selectively to reduce polling traffic generated by the SNMP manager. The user can define rules in terms of MIB objects available locally using a C-like &#8220;IF&#8221; syntax, and accordingly send SNMP traps or execute commands locally (or both). The MIB object can be the one supported by the Oracle SNMP Agent Integrator itself or the one supported by one of its SNMP agents or SMUX subagents. For a discussion of <code class="cCode">RULE_ACTION</code> entries, with examples, see <a href="7polling.html">Using the Oracle SNMP Agent Integrator for Polling</a>.
</p>
<p class="pBody"><a name="wp60317"> </a>
The configuration is done in the <code class="cCode">beamgr.conf</code> file. Syntax of the entry looks like the following:
</p>
<p class="pBody"><a name="wp60765"> </a>
<code class="cCode">RULE_ACTION </code><code class="cCodeEmphasis">rule_name</code><code class="cCode"> </code><code class="cCodeEmphasis">frequency_in_secs</code><code class="cCode"> <br />   if (VAL(</code><code class="cCodeEmphasis">oid</code><code class="cCode">) </code>rel_operator<code class="cCode"> </code><code class="cCodeEmphasis">value</code><code class="cCode">) </code><code class="cCodeEmphasis">logical_op</code><code class="cCode"> ( </code><code class="cCodeEmphasis">cond_2</code><code class="cCode"> ) ...<br />      { TRAPID_ERR=</code><code class="cCodeEmphasis">enterprise_specific_trapid</code><code class="cCode"> <br />         TRAPID_OK=</code><code class="cCodeEmphasis">enterprise_specific_trapid</code><code class="cCode"> <br />            COMMAND_ERR=</code><code class="cCodeEmphasis">executable</code><code class="cCode"> COMMAND_OK=</code><code class="cCodeEmphasis">executable</code><code class="cCode"> }</code>
</p>
<a name="wp60321"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The whole entry should appear on the same line, else the backslash (<code class="cCode">\</code>) should be used as a continuation character. If <code class="cCode">\</code> is being used as a continuation character, a newline character should immediately follow it.</td>
</tr>
</table>

<h4 class="pDefTerm"><a name="wp60322"> </a>
<code class="cCode">RULE_ACTION</code>
</h4><p class="pBodyRelative"><a name="wp60323"> </a>
A keyword to identify this entry.
</p>
<h4 class="pDefTerm"><a name="wp60324"> </a>
<code class="cCodeEmphasis">rule_name</code>
</h4><p class="pBodyRelative"><a name="wp60325"> </a>
A unique identifier for each <code class="cCode">RULE_ACTION</code> entry that is passed as a command-line argument to any commands specified as actions in the rule. This identifier can be a maximum of eight characters long.
</p>
<h4 class="pDefTerm"><a name="wp60326"> </a>
<code class="cCodeEmphasis">frequency</code>
</h4><p class="pBodyRelative"><a name="wp60327"> </a>
The polling frequency (in seconds) at which the <code class="cCode">snmp_integrator</code> should check the condition.
</p>
<h4 class="pDefTerm"><a name="wp60328"> </a>
<code class="cCode">VAL</code>
</h4><p class="pBodyRelative"><a name="wp60329"> </a>
Each left-hand side of a condition should have this keyword, which should be followed by the object identifier (within parentheses) of the MIB object. Each rule can contain a maximum of ten<code class="cCode"> VAL</code> keywords.
</p>
<h4 class="pDefTerm"><a name="wp60330"> </a>
<code class="cCodeEmphasis">oid</code>
</h4><p class="pBodyRelative"><a name="wp60331"> </a>
An object identifier (OID). The OID must be specified only in numeric form and can be in one of the following formats:
</p>
<div class="pSmartList1Bullet"><ul>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp60333"> </a>An absolute OID, that is, the full path to the object is specified from the root of the OID tree. An initial dot is used to indicate that the path starts at root. For example: <code class="cCode">.1.3.6.1.2.1.1.1.0</code>. Note that the trailing zero in this example is the instance index.</li>
<li><a name="wp60334"> </a>A relative OID under the MIB II branch can be specified in the form</li>
<p class="pBodyRelative"><a name="wp60335"> </a>
<code class="cCode">mib-2.</code><code class="cCodeEmphasis">number.number ...</code>
</p>
<p class="pBodyRelative"><a name="wp60336"> </a>
When the reserved word <code class="cCode">mib-2</code> appears as the leading sub-oid, <code class="cCode">.1.3.6.1.2.1.</code> is assumed to be prefixed to the rest of the OID. For example:
</p>
<p class="pBodyRelative"><a name="wp60337"> </a>
<code class="cCode">mib-2.1.1.0</code> 
</p>
<p class="pBodyRelative"><a name="wp60338"> </a>
represents the absolute OID:
</p>
<p class="pBodyRelative"><a name="wp60339"> </a>
<code class="cCode">.1.3.6.1.2.1.1.1.0</code>
</p>
<li><a name="wp60340"> </a>A relative OID under the enterprises branch can be specified in the form:</li>
<p class="pBodyRelative"><a name="wp60341"> </a>
<code class="cCode">enterprises.number.number ...</code>
</p>
<p class="pBodyRelative"><a name="wp60342"> </a>
When the reserved word <code class="cCode">enterprises</code> appears as the leading sub-oid, <code class="cCode">.1.3.6.1.4.1.</code> is assumed to be prefixed to the rest of the OID. For example:
</p>
<p class="pBodyRelative"><a name="wp60343"> </a>
<code class="cCode">enterprises.140.1.0</code> 
</p>
<p class="pBodyRelative"><a name="wp60344"> </a>
represents the absolute OID:
</p>
<p class="pBodyRelative"><a name="wp60345"> </a>
<code class="cCode">.1.3.6.1.4.1.140.1.0</code>
</p>
<li><a name="wp60346"> </a>A relative OID under the enterprises branch can also be specified in purely numeric form:</li>
<p class="pBodyRelative"><a name="wp60347"> </a>
<code class="cCode">number.number.number ... ,</code>
</p>
<p class="pBodyRelative"><a name="wp60348"> </a>
If there is no leading &#8220;.&#8221; and the OID starts with a number, <code class="cCode">.1.3.6.1.4.1.</code> is assumed to be prefixed to the rest of OID. For example:
</p>
<p class="pBodyRelative"><a name="wp60349"> </a>
<code class="cCode">140.1.1.0</code> 
</p>
<p class="pBodyRelative"><a name="wp60350"> </a>
represents the absolute OID:
</p>
<p class="pBodyRelative"><a name="wp60351"> </a>
<code class="cCode">.1.3.6.1.4.1.140.1.1.0</code> 
</p>
<p class="pBodyRelative"><a name="wp60353"> </a>
<em class="cEmphasis">Columnar</em> objects are used to represent a column of a tabular MIB group. Columnar objects, accordingly, can have multiple instances. The last number in an OID is used to specify the particular instance. A specific number can be used to specify a particular instance or the asterisk (*) wildcard can be used to specify all instances. Zero is used as the instance index in the case of <em class="cEmphasis">scalar</em> objects (objects that can have only one instance). The asterisk wildcard is only used to represent all instances of a columnar object. For example:
</p>
<p class="pBodyRelative"><a name="wp60356"> </a>
<code class="cCode">.1.3.6.1.4.1.140.1.1.0</code> 
</p>
<p class="pBodyRelative"><a name="wp60357"> </a>
specifies the single instance of a scalar object while 
</p>
<p class="pBodyRelative"><a name="wp60358"> </a>
<code class="cCode">1.3.6.1.4.1.140.2.22.1.2.*</code>
</p>
<p class="pBodyRelative"><a name="wp60359"> </a>
specifies all of the instances of a columnar object.
</p>
</ul></div>
</ul></div>
<a name="wp60360"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>When you specify multiple OIDs in a complex rule, you should not combine an OID that specifies a particular instance with an OID that uses a wildcard in the same rule. Also, when you use multiple OIDs with wildcards in a single rule, all the OIDs should specify objects only within the same table.</td>
</tr>
</table>

<h4 class="pDefTerm"><a name="wp60361"> </a>
<code class="cCodeEmphasis">rel_operator</code> 
</h4><p class="pBodyRelative"><a name="wp60365"> </a>
See the table titled <a href="7polling.html#wp65329">Relations for Defining Conditions</a> for a list of valid relational operators.
</p>
<h4 class="pDefTerm"><a name="wp60366"> </a>
<code class="cCodeEmphasis">value</code>
</h4><p class="pBodyRelative"><a name="wp60367"> </a>
The RHS in a condition can be one of the following: number, string, IP address: number1.number2.number3.number4, or OID (as previously explained).
</p>
<p class="pBodyRelative"><a name="wp60368"> </a>
If RHS is an OID it must be enclosed in single quotes. Also, the type of value on RHS should correspond to the type of VALUE of the OID in LHS of the condition.
</p>
<h4 class="pDefTerm"><a name="wp60369"> </a>
<code class="cCodeEmphasis">logical_op</code>
</h4><p class="pBodyRelative"><a name="wp60372"> </a>
See the table in <a href="7polling.html#wp65403">Use of Logical Operators in Conditions</a> for a list of valid logical operators.
</p>
<h4 class="pHeading3"><a name="wp60374"> </a>
Specifying Actions
</h4>
<p class="pBody"><a name="wp60375"> </a>
You can take two actions whenever there is a transition in the state of a rule from true (ERR) to false (OK) and false (OK) to true (ERR)&#8212;namely, execute a command and/or generate an SNMP trap. When generic OIDs (those that use an asterisk to specify all instances of a columnar object) are used to define a rule, the rule state transitions from the OK state to the ERR state if the threshold evaluates to true for any row in the table; and the rule state transitions from ERR to OK if the threshold evaluates to false for all rows in the MIB table. Initially, the rule states of all rules are set to OK when the Oracle SNMP Agent Integrator starts up (or is re-initialized using the <code class="cCode">reinit_agent</code> command). Specify actions using the following keywords:
</p>
<h4 class="pDefTerm"><a name="wp60377"> </a>
<code class="cCode">TRAPID_ERR = </code><code class="cCodeEmphasis">number</code>
</h4><p class="pBodyRelative"><a name="wp60378"> </a>
Indicates that an enterprise-specific SNMP trap with trapid of <code class="cCodeEmphasis">number</code> should be generated whenever there is a transition from false (OK) to true (ERR).
</p>
<h4 class="pDefTerm"><a name="wp60380"> </a>
<code class="cCode">TRAPID_OK = </code><code class="cCodeEmphasis">number</code>
</h4><p class="pBodyRelative"><a name="wp60381"> </a>
Indicates that an enterprise-specific SNMP trap with trapid of <code class="cCodeEmphasis">number</code> should be generated whenever there is a transition from true (ERR) to false&#160;(OK).
</p>
<h4 class="pDefTerm"><a name="wp60382"> </a>
<code class="cCode">COMMAND_ERR = </code><code class="cCodeEmphasis">command</code>
</h4><p class="pBodyRelative"><a name="wp60384"> </a>
Indicates that <code class="cCodeEmphasis">command</code> should be executed whenever there is a transition from false (OK) to true (ERR).
</p>
<h4 class="pDefTerm"><a name="wp60385"> </a>
<code class="cCode">COMMAND_OK = </code><code class="cCodeEmphasis">command</code>
</h4><p class="pBodyRelative"><a name="wp60386"> </a>
Indicates that <code class="cCodeEmphasis">command</code> should be executed whenever there is a transition from true (ERR) to false (OK).
</p>
<h4 class="pHeading3"><a name="wp60387"> </a>
Setting Up RULE_ACTION for Multiple Domains
</h4>
<p class="pBody"><a name="wp60388"> </a>
The configuration file can contain multiple domains defined by multiple <code class="cCode">TMAGENT</code>s. The instructions for setting up <code class="cCode">RULE_ACTION</code> are as follows:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp60389"> </a>The <code class="cCode">TMAGENT</code> entry defines the Oracle Tuxedo domain that an agent monitors. There must be one <code class="cCode">TMAGENT</code> entry for a Tuxedo SNMP agent on a single managed node.</li>
<p class="pBodyRelative"><a name="wp60390"> </a>
<code class="cCode">TMAGENT </code><code class="cCodeEmphasis">logical_agent_name</code><code class="cCode"> </code><code class="cCodeEmphasis">TUXDIR</code><code class="cCode"> </code><code class="cCodeEmphasis">TUXCONFIG</code>
</p>
<li><a name="wp60391"> </a>The <code class="cCode">RULE_ACTION</code> entry is used to inform the SNMP manager of selective information gathered by the Oracle SNMP Agent Integrator.</li>
<p class="pBodyRelative"><a name="wp60392"> </a>
<code class="cCode">RULE_ACTION </code><code class="cCodeEmphasis">rule_name</code><code class="cCode"> </code><code class="cCodeEmphasis">frequency_in_secs</code>
</p>
<li><a name="wp60393"> </a>The optional <code class="cCodeEmphasis">rule_name</code> component, <code class="cCodeEmphasis">logical _agent_name</code>, must be appended to <code class="cCodeEmphasis">rule_name</code> if multiple Tuxedo SNMP agents are running on the same node and the rule uses any Tuxedo MIB objects.</li>
<p class="pBodyRelative"><a name="wp60394"> </a>
<code class="cCode">RULE_ACTION </code><code class="cCodeEmphasis">rule_name</code><code class="cCode">@</code><code class="cCodeEmphasis">logical_agent_name</code><code class="cCode"> </code><code class="cCodeEmphasis">frequency_in_seconds</code><code class="cCode"> <br />   if (...</code>
</p>
<p class="pBodyRelative"><a name="wp60395"> </a>
For example:
</p>
<p class="pBodyRelative"><a name="wp60396"> </a>
<code class="cCode">RULE_ACTION rule1@tux_snmpd10...</code>
</p>
</ol></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp60402"> </a>
Oracle SNMP Agent Passwords File: beamgr_snmpd.conf
</h2><p class="pBody"><a name="wp64278"> </a>
Unlike the <code class="cCode">beamgr.conf</code> configuration file, which is mandatory, the <code class="cCode">beamgr_snmpd.conf</code> passwords file is an <em class="cEmphasis">optional</em> configuration file. Even if the Oracle SNMP Agent Integrator and agents cannot find the <code class="cCode">beamgr_snmpd.conf</code> file on the host system, they will still run <em class="cEmphasis">as long as </em>they can find the <code class="cCode">beamgr.conf</code> file.
</p>
<h3 class="pHeading2"><a name="wp64280"> </a>
Default Location
</h3>
<p class="pBody"><a name="wp60407"> </a>
The Oracle SNMP Agent Integrator and agents look for <code class="cCode">beamgr_snmpd.conf</code> at the following default location:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp61024"> </a>For Windows systems: <code class="cCode">C:\etc\beamgr_snmpd.conf</code></li>
<li><a name="wp60408"> </a>For UNIX systems: <code class="cCode">/etc/beamgr_snmpd.conf</code></li>
</ul></div>
<h3 class="pHeading2"><a name="wp60410"> </a>
Description
</h3>
<p class="pBody"><a name="wp63524"> </a>
The <code class="cCode">beamgr_snmpd.conf</code> passwords file contains the SNMP community strings used as passwords in communication between agents and managers. On a UNIX system, the <code class="cCode">beamgr_snmpd.conf</code> passwords file is installed with access privileges for <code class="cCode">root</code> only. For password security, the read and write permissions for the <code class="cCode">beamgr_snmpd.conf</code> file should be set to permit access only by <code class="cCode">root</code>.
</p>
<p class="pBody"><a name="wp63216"> </a>
A configuration entry in the <code class="cCode">beamgr_snmpd.conf</code> file consists of two or more blank or tab-separated fields:
</p>
<a name="wp60414"> </a><div class="pPreformatted"><pre><code class="cCodeEmphasis">KEYWORD</code> <code class="cCodeEmphasis">parameters</code></pre></div><p class="pBody"><a name="wp60416"> </a>
Recognized values for <code class="cCodeEmphasis">KEYWORD</code> are:
</p>
<h4 class="pDefTerm"><a name="wp60417"> </a>
<code class="cCode">COMMUNITY_RW</code>
</h4><p class="pBodyRelative"><a name="wp60418"> </a>
The string following this keyword specifies the read-write community for the agent. If this keyword is not present in the configuration file, the SNMP agent uses <code class="cCode">iview</code> as the read-write community. Entries with this keyword can be repeated more than one time to specify more than one read-write community.
</p>
<h4 class="pDefTerm"><a name="wp60419"> </a>
<code class="cCode">COMMUNITY_RO</code>
</h4><p class="pBodyRelative"><a name="wp60420"> </a>
The string following this keyword specifies the read-only community for the agent. If this keyword is not present in the configuration file, the SNMP agent uses <code class="cCode">public</code> as the read-only community. Entries with this keyword can be repeated more than one time to specify more than one read-only community.
</p>
<h4 class="pDefTerm"><a name="wp60421"> </a>
<code class="cCode">SMUX_PASSWD</code>
</h4><p class="pBodyRelative"><a name="wp60423"> </a>
The string following this keyword specifies the SMUX password. Any SMUX subagent that needs to register with the Oracle SNMP Agent Integrator must specify this password. If this keyword is not present, the Oracle SNMP Agent Integrator does not authenticate connection requests from SMUX subagents.
</p>
<p class="pBodyRelative"><a name="wp64529"> </a>
A SMUX subagent obtains the password at startup by reading the value specified by the <code class="cCode">BEA_SMUX_PASSWD</code> environment variable. If this variable is not set, the SMUX subagent does not specify a password when registering.
</p>
<h4 class="pDefTerm"><a name="wp60424"> </a>
<code class="cCode">DISABLE_SET</code>
</h4><p class="pBodyRelative"><a name="wp60425"> </a>
The possible values for this keyword are <code class="cCode">YES</code> or <code class="cCode">NO</code>, with <code class="cCode">NO</code> being the default. If set to <code class="cCode">YES</code>, Set access for all SNMP agents is disabled.
</p>
<p class="pBody"><a name="wp64159"> </a>
If the Oracle SNMP Agent Integrator and agents cannot find the <code class="cCode">beamgr_snmpd.conf</code> file on the host system, they will use the default values for <code class="cCode">COMMUNITY_RW</code>, <code class="cCode">COMMUNITY_RO</code>, <code class="cCode">SMUX_PASSWD</code>, and <code class="cCode">DISABLE_SET</code>.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="9cnfgfl.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="8agincom.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="appainfo.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
