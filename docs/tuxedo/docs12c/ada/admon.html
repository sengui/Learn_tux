<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="3" />
<meta name="LOC_US_CHANGE" content="41998" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/ada/fm/admon.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/28/12 11:40:30" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Monitoring Your Oracle Tuxedo Application</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Administering an Oracle Tuxedo Application at Run Time
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="adboot.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="addynr.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/ada.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1127606"> </a>
Monitoring Your Oracle Tuxedo Application
</h1>
<p class="pBody"><a name="wp1118069"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023818"> </a><a href="admon.html#wp1023826">Ways to Monitor Your Application</a></li>
<li><a name="wp1081910"> </a><a href="admon.html#wp1105112">Selecting Appropriate Monitoring Tools</a></li>
<li><a name="wp1092347"> </a><a href="admon.html#wp1102427">Using the Oracle Administration Console to Monitor Your Application</a></li>
<li><a name="wp1092445"> </a><a href="admon.html#wp1112623">Using Command-line Utilities to Monitor Your Application</a></li>
<li><a name="wp1092465"> </a><a href="admon.html#wp1091749">Using EventBroker to Monitor Your Application</a></li>
<li><a name="wp1092416"> </a><a href="admon.html#wp1092052">Using Log Files to Monitor Activity</a></li>
<li><a name="wp1092485"> </a><a href="admon.html#wp1090846">Using the MIB to Monitor Your Application</a></li>
<li><a name="wp1092497"> </a><a href="admon.html#wp1043269">Using the Run-time and User-level Tracing Utility</a></li>
<li><a name="wp1092425"> </a><a href="admon.html#wp1026525">Managing Errors Using the DBBL and BBLs</a></li>
<li><a name="wp1092530"> </a><a href="admon.html#wp1023912">Using ATMI to Handle System and Application Errors</a></li>
<li><a name="wp1092550"> </a><a href="admon.html#wp1088604">Monitoring Multithreaded and Multicontexted Applications</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1023826"> </a>
Ways to Monitor Your Application
</h2><p class="pBody"><a name="wp1047909"> </a>
As an administrator, you must ensure that once an application is up and running, it continues to meet the performance, availability, and security requirements set by your company. To perform this task, you need to monitor the resources (such as shared memory), activities (such as transactions), and potential problems (such as security breaches) in your configuration, and take any necessary corrective actions. 
</p>
<p class="pBody"><a name="wp1064523"> </a>
To help you meet this responsibility, the Oracle Tuxedo system provides several methods for monitoring system and application events, and dynamically reconfiguring your system to improve performance. The following facilities offer an excellent view of how your system is working:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1122600"> </a>Oracle Tuxedo Administration Console</li>
<li><a name="wp1122601"> </a>command-line utilities</li>
<li><a name="wp1122692"> </a>log files</li>
<li><a name="wp1122696"> </a>the ATMI</li>
<li><a name="wp1122700"> </a>the MIB</li>
<li><a name="wp1127847"> </a>run-time and user-level tracing facilities</li>
</ul></div>
<p class="pBody"><a name="wp1122710"> </a>
These tools help make your application capable of responding quickly and efficiently to changing business needs or failure conditions. They also assist you in managing your application&#8217;s performance and security.
</p>
<p class="pBody"><a name="wp1131409"> </a>
<a href="admon.html#wp1122738">Figure&#160;2-1</a> shows the monitoring tools.
</p>
<div class="pFigureTitle"><a name="wp1122738"> </a>
Figure&#160;2-1  Monitoring Tools
</div>

 
 <p class="pGraphic"><a name="wp1122749"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/adtools.gif" alt="Monitoring Tools" id="wp1122754"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1029707"> </a>
The Oracle Tuxedo system offers the following tools to monitor your application:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1064531"> </a><span class="cHyperlink">
<a href="admon.html#wp1102427">Oracle Administration Console</a></span>&#8212;a Web-based graphical user interface you can use to observe the behavior of the application, and to dynamically configure its operation. You can display and change configuration information, determine the state of each component of the system, and obtain statistical information about items such as executed requests, and queued requests.</li>
<li><a name="wp1089783"> </a><span class="cHyperlink">
Command-line utilities</span>&#8212;a set of commands (for example, <a href="../rfcm/rfcmd.html">tmboot(1)</a>, <a href="../rfcm/rfcmd.html">tmadmin(1)</a>, and <a href="../rfcm/rfcmd.html">tmshutdown(1)</a>) you can use to activate, deactivate, configure, and manage your application.</li>
<li><a name="wp1089957"> </a><span class="cHyperlink">
<a href="admon.html#wp1091749">EventBroker</a></span>&#8212;a mechanism that informs administrators of system faults and exceptional happenings such as network failures. When an event is posted by clients or servers, the EventBroker matches the name of the posted event to a list of subscribers for that event, and takes appropriate action, determined by each subscription.</li>
<li><a name="wp1089843"> </a><span class="cHyperlink">
<a href="admon.html#wp1092052">Log files</a></span>&#8212;a set of files that make up a repository for error and warning messages, debugging messages, and informational messages helpful in tracking and resolving problems in the system.</li>
<li><a name="wp1054657"> </a><span class="cHyperlink">
<a href="admon.html#wp1090846">MIB</a></span>&#8212;an interface to a set of procedures for accessing and modifying information in the MIBs. Using the MIB, you can write programs that enable you to monitor your run-time application.</li>
<li><a name="wp1076795"> </a><span class="cHyperlink">
Run-time and User-level tracing facility</span>&#8212;software that tracks the execution of an application, thus providing information that is helpful in resolving system problems.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1030477"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1051160"> </a><a href="admon.html#wp1093803">System and Application Data That You Can Monitor</a></li>
<li><a name="wp1094992"> </a><a href="admon.html#wp1105112">Selecting Appropriate Monitoring Tools</a></li>
<li><a name="wp1083467"> </a><a href="admon.html#wp1102427">Using the Oracle Administration Console to Monitor Your Application</a></li>
<li><a name="wp1112820"> </a><span class="cHyperlink">
<a href="../int/intman.html">&#8220;Benefits of Using the Oracle Tuxedo Administration Console&#8221; on page&#160;4-4</a></span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
<li><a name="wp1112855"> </a><a href="admon.html#wp1112623">Using Command-line Utilities to Monitor Your Application</a></li>
<li><a name="wp1083504"> </a><a href="admon.html#wp1091749">Using EventBroker to Monitor Your Application</a></li>
<li><a name="wp1052734"> </a><a href="admon.html#wp1092052">Using Log Files to Monitor Activity</a></li>
<li><a name="wp1112846"> </a><a href="admon.html#wp1023912">Using ATMI to Handle System and Application Errors</a></li>
<li><a name="wp1112830"> </a><a href="admon.html#wp1090846">Using the MIB to Monitor Your Application</a></li>
<li><a name="wp1112836"> </a><span class="cHyperlink">
<a href="../int/intman.html">&#8220;Managing Operations Using the MIB&#8221; on page&#160;4-12</a></span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
<li><a name="wp1052739"> </a><a href="admon.html#wp1043269">Using the Run-time and User-level Tracing Utility</a></li>
<li><a name="wp1097920"> </a><a href="../rfcm/rfcmd.html">tmshutdown(1)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
<li><a name="wp1123785"> </a><span class="cHyperlink">
<a href="../int/intman.html">&#8220;Oracle Tuxedo Management Tools&#8221; on page&#160;4-1</a></span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1093803"> </a>
System and Application Data That You Can Monitor
</h2><p class="pBody"><a name="wp1094600"> </a>
The Oracle Tuxedo system enables you to monitor system and application data.
</p>
<h3 class="pHeading2"><a name="wp1094601"> </a>
Monitoring System Data
</h3>
<p class="pBody"><a name="wp1093804"> </a>
To help you monitor a running system, your Oracle Tuxedo system maintains parameter settings and generates statistics for the following system components: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1093805"> </a>Clients</li>
<li><a name="wp1093806"> </a>Conversations </li>
<li><a name="wp1093807"> </a>Groups </li>
<li><a name="wp1093808"> </a>Message queues </li>
<li><a name="wp1093809"> </a>Networks </li>
<li><a name="wp1093810"> </a>Servers </li>
<li><a name="wp1093811"> </a>Services </li>
<li><a name="wp1117544"> </a>CORBA Interfaces</li>
<li><a name="wp1093812"> </a>Transactions</li>
</ul></div>
<p class="pBody"><a name="wp1097923"> </a>
You can access these components using the MIB or <code class="cCode">tmadmin</code>. You can set up your system so that it can use the statistics in the bulletin board to make decisions and to modify system components dynamically, without your intervention. With proper configuration, your system can perform the following tasks (when bulletin board statistics indicate that they are required): 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1094194"> </a>Turn on load balancing</li>
<li><a name="wp1094195"> </a>Start a new copy of a server</li>
<li><a name="wp1094196"> </a>Shut down servers that are not being used</li>
</ul></div>
<p class="pBody"><a name="wp1094191"> </a>
By monitoring the administrative data for your system, you can prevent and resolve problems that threaten the performance, availability, and security of your application. 
</p>
<h4 class="pHeading3"><a name="wp1093813"> </a>
Where the System Data Resides
</h4>
<p class="pBody"><a name="wp1093814"> </a>
To ensure that you have the information necessary to monitor your system, the Oracle Tuxedo system provides the following three data repositories: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1093815"> </a><span style="font-style: normal">Bulletin board</span>&#8212;a segment of shared memory (on each machine in your network) to which your system writes statistics about the components and activities of your configuration</li>
<li><a name="wp1093816"> </a><span style="font-style: normal">Log files</span>&#8212;files to which your system writes messages</li>
<li><a name="wp1093817"> </a><code class="cCodeEmphasis">UBBCONFIG</code>&#8212;a text file in which you define the parameters of your system and application</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1093825"> </a>
Monitoring Dynamic and Static Administrative Data
</h3>
<p class="pBody"><a name="wp1093826"> </a>
You can monitor two types of administrative data that are available on every running Oracle Tuxedo system: <span class="cHyperlink">
<a href="admon.html#wp1093830">static</a></span> and <span class="cHyperlink">
<a href="admon.html#wp1093836">dynamic</a></span>.
</p>
<h4 class="pHeading3"><a name="wp1093830"> </a>
What Is Static Data?
</h4>
<p class="pBody"><a name="wp1093831"> </a>
Static data about your configuration consists of configuration settings that you assign when you first configure your system and application. These settings are never changed without intervention (either in realtime or through a program you have provided). Examples include system-wide parameters (such as the number of machines used) and the amount of interprocess communication (IPC) resources (such as shared memory) allocated to your system on your local machine. Static data is kept in the <code class="cCode">UBBCONFIG</code> file and in the bulletin board. 
</p>
<h5 class="pHeading4"><a name="wp1093832"> </a>
Checking Static Data
</h5>
<p class="pBody"><a name="wp1093833"> </a>
At times you may need to check static data about your configuration. For example, you may want to add a large number of machines without exceeding the maximum number of machines allowed in your configuration (or allowed in the machine tables of the bulletin board). You can look up the maximum number of machines allowed by checking the current values of the system-wide parameters for your configuration (one of which is <code class="cCode">MAXMACHINES</code>). 
</p>
<p class="pBody"><a name="wp1093834"> </a>
You may be able to improve the performance of your application by tuning your system. To determine whether tuning is required, you need to check the amount of local IPC resources currently available. 
</p>
<h4 class="pHeading3"><a name="wp1093836"> </a>
What Is Dynamic Data?
</h4>
<p class="pBody"><a name="wp1093837"> </a>
Dynamic data about your configuration consists of information that changes in realtime, that is, while an application is running. For example, the <em class="cEmphasis">load</em> (the number of requests sent to a server) and the <em class="cEmphasis">state</em> of various configuration components (such as servers) change frequently. Dynamic data is kept in the bulletin board. 
</p>
<h5 class="pHeading4"><a name="wp1093838"> </a>
Checking Dynamic Data
</h5>
<p class="pBody"><a name="wp1093839"> </a>
Dynamic configuration data is useful in resolving many administrative problems, as demonstrated by two examples.
</p>
<p class="pBody"><a name="wp1097972"> </a>
In the first example, suppose your throughput is suffering and you want to know whether you have enough servers running to accommodate the number of clients currently connected. Check the number of running servers and connected clients, and the load on one or more servers. These numbers help you determine whether adding more servers will improve performance. 
</p>
<p class="pBody"><a name="wp1093800"> </a>
In the second example, suppose you receive multiple complaints about slow response from users when making particular requests of your application. By checking load statistics, you can determine whether increasing the value of the <code class="cCode">BLOCKTIME</code> parameter would improve response time.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1054063"> </a>
Common Startup and Shutdown Problems
</h2><p class="pBody"><a name="wp1105178"> </a>
When evaluating whether your Oracle Tuxedo system is operating normally, you might want to consider the following list of common startup and shutdown problems, and monitor your system periodically.
</p>
<h3 class="pHeading2"><a name="wp1105201"> </a>
Common Startup Problems
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1105209"> </a>Application server failed or dumped core during initialization</li>
<li><a name="wp1105234"> </a>Application server file not found or not executable</li>
<li><a name="wp1105233"> </a>Automatic migration of server group</li>
<li><a name="wp1105235"> </a>Default boot sequence may not be optimal</li>
<li><a name="wp1105256"> </a>Environment variable not set or not set properly</li>
<li><a name="wp1105273"> </a><code class="cCode">IPCKEY</code> is already in use</li>
<li><a name="wp1106572"> </a>Invalid network address</li>
<li><a name="wp1106573"> </a>Met upper bound limits specified in the <code class="cCode">UBBCONFIG</code> file</li>
<li><a name="wp1106574"> </a>Network port is in use already</li>
<li><a name="wp1105348"> </a>Reached limit on system resources</li>
<li><a name="wp1105349"> </a>Server boot dependency</li>
<li><a name="wp1105363"> </a><code class="cCode">TLOG</code> file is not created</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1105381"> </a>
Common Shutdown Problems
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1105382"> </a>Clients still attached</li>
<li><a name="wp1105383"> </a>Dead servers</li>
<li><a name="wp1106067"> </a>Shutdown sequence</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1105112"> </a>
Selecting Appropriate Monitoring Tools
</h2><p class="pBody"><a name="wp1054065"> </a>
To monitor a running application, you need to keep track of the <span class="cHyperlink">
<a href="admon.html#wp1093836">dynamic</a></span> aspects of your configuration and sometimes check the <span class="cHyperlink">
<a href="admon.html#wp1093830">static</a></span> data. In other words, you need to be able to watch the bulletin board on an ongoing basis and consult the <code class="cCode">UBBCONFIG</code> file when necessary. The method you choose depends on the following factors:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1054629"> </a>Your Oracle Tuxedo system administration experience: If you have a lot of experience as an administrator, as well as shell programming expertise, you may prefer to write programs that automate your most frequently run commands.</li>
<li><a name="wp1054630"> </a>Your operating system experience: If you are inexperienced, you may be more comfortable using the Oracle Administration Console.</li>
<li><a name="wp1054656"> </a>Which information you want to view: If you decide to monitor your application by examining the <code class="cCode">RESOURCES</code> section of the <code class="cCode">UBBCONFIG</code> file through the <code class="cCode">tmadmin</code> command, you will have access to only the current values.</li>
</ul></div>
<p class="pBody"><a name="wp1054568"> </a>
<a href="admon.html#wp1131415">Table&#160;2-1</a> describes how to use each monitoring method.
</p>
<p class="pGraphic"><a name="wp1054084"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1131415table1110342"><caption><a name="wp1131415"> </a>
Table 2-1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">How to Use Each Monitoring Method</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1110450"> </a>
Use This Method...
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1110452"> </a>
By...
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110455"> </a>
<span class="cHyperlink">
<a href="admon.html#wp1102427">Oracle Administration Console</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110457"> </a>
Using a graphical interface.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110460"> </a>
<span class="cHyperlink">
Command-line utilities</span>, such as txrpt and tmadmin
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110464"> </a>
Entering commands after a prompt.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110467"> </a>
<span class="cHyperlink">
<a href="admon.html#wp1091749">EventBroker</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110469"> </a>
Subscribing to Oracle Tuxedo system events, such as servers dying, and network failures.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110473"> </a>
<span class="cHyperlink">
<a href="admon.html#wp1092052">Log files </a></span>(for example, ULOG, <a href="admon.html#wp1119189">TLOG</a>)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110476"> </a>
Viewing the <code class="cCode">ULOG</code> with any text editor; checking the <code class="cCode">ULOG</code> for <code class="cCode">tlisten</code> messages; and converting the <code class="cCode">TLOG</code> (a binary file) to a text file by running <code class="cCode">tmadmin dumptlog</code> which downloads a <code class="cCode">TLOG</code> to a text file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110479"> </a>
<span class="cHyperlink">
<a href="admon.html#wp1090846">MIB</a></span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110481"> </a>
Writing programs that monitor your run-time application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110484"> </a>
<span class="cHyperlink">
Run-time and user-level tracing utility</span>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1110486"> </a>
Specifying a tracing expression that contains a category, a filtering expression, and an action, and enabling the <code class="cCode">TMTRACE</code> run-time and <code class="cCode">TMUTRACE</code> user-level environment variable. For more information, see <a href="admon.html#wp1043269">Using the Run-time and User-level Tracing Utility</a>.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1102427"> </a>
Using the Oracle Administration Console to Monitor Your Application
</h2><p class="pBody"><a name="wp1090870"> </a>
The Oracle Administration Console is a graphical user interface to the MIB that enables you to tune and modify your application. It is accessed through the World Wide Web and used through a Web browser. Any administrator with a supported browser can monitor a Oracle Tuxedo application.
</p>
<h3 class="pHeading2"><a name="wp1090871"> </a>
Using the Toolbar to Monitor Activities
</h3>
<p class="pBody"><a name="wp1090872"> </a>
The toolbar is a row of 12 buttons that allow you to run tools for frequently performed administrative and monitoring functions. All buttons are labeled with both icons and names. The following buttons are available for monitoring:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1090873"> </a><span style="font-style: normal">Logfile</span>&#8212;displays the ULOG file from a particular machine in the active domain.</li>
<li><a name="wp1101886"> </a><span style="font-style: normal">Event Tool</span>&#8212;helps you monitor system events. When you click the Event Tool button, a window displays four options: subscribe&#8212;to request notification of specified system events, unsubscribe&#8212;to reject further notification of specified system events, snapshot&#8212;to create a record of the data currently held by the Event Tool, and select format&#8212;to choose parameters for the information being collected by the Event Tool.</li>
<li><a name="wp1102369"> </a><span style="font-style: normal">Stats</span>&#8212;to display a graphical representation of Oracle Tuxedo system activity.</li>
<li><a name="wp1102374"> </a><span style="font-style: normal">Search</span>&#8212;to look for a particular object class or object in the Tree.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1112618"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1112637"> </a><span class="cHyperlink">
<a href="../int/intman.html">&#8220;Management Operations Using the Oracle Tuxedo Administration Console&#8221; on page&#160;4-3</a></span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1112623"> </a>
Using Command-line Utilities to Monitor Your Application
</h2><p class="pBody"><a name="wp1091325"> </a>
To monitor your application through the command-line interface, use the <a href="../rfcm/rfcmd.html">tmadmin(1)</a> or <a href="../rfcm/rfcmd.html">txrpt(1)</a> command.
</p>
<h3 class="pHeading2"><a name="wp1091326"> </a>
Inspecting Your Configuration Using tmadmin
</h3>
<p class="pBody"><a name="wp1091327"> </a>
The <code class="cCode">tmadmin</code> command is an interpreter for 53 commands that enable you to view and modify a bulletin board and its associated entities. Using the <code class="cCode">tmadmin</code> commands, you can monitor statistical information in the system such as the state of services, the number of requests executed, the number of queued requests, and so on.
</p>
<p class="pBody"><a name="wp1091328"> </a>
Using the <code class="cCode">tmadmin</code> commands, you can also dynamically modify your Oracle Tuxedo system. You can, for example, perform the following types of changes while your system is running: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1091329"> </a>Suspend and resume services</li>
<li><a name="wp1091330"> </a>Advertise and unadvertise services</li>
<li><a name="wp1091331"> </a>Change service parameters</li>
<li><a name="wp1091332"> </a>Change the <code class="cCode">AUTOTRAN</code> timeout value</li>
</ul></div>
<p class="pBody"><a name="wp1091333"> </a>
Whenever you start a <code class="cCode">tmadmin</code> session, you can choose the following operating modes for that session: the default operating mode, read-only mode, or configuration mode:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1091334"> </a>In default operating mode, you can view and change bulletin board data during a <code class="cCode">tmadmin</code> session, if you have administrator privileges (that is, if your effective UID and GID are those of the administrator).</li>
<li><a name="wp1098478"> </a>In read-only mode, you can view the data in the bulletin board, but you cannot make any changes. The advantage of working in read-only mode is that your administrator process is not tied up by <code class="cCode">tmadmin</code>; the <code class="cCode">tmadmin</code> process attaches to the bulletin board as a client, leaving your administrator slot available for other work. </li>
<li><a name="wp1091335"> </a>In configuration mode, you can view the data in the bulletin board and, if you are the Oracle Tuxedo application administrator, you can make changes. You can start a <code class="cCode">tmadmin</code> session in configuration mode on any machine, including an inactive machine. On most inactive machines, configuration mode is required in order to run <code class="cCode">tmadmin</code>. (The only inactive machine on which you can start a <code class="cCode">tmadmin</code> session without requesting configuration mode is the <code class="cCode">MASTER</code> machine.)</li>
</ul></div>
<a name="wp1098583"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You can also generate a report of the Oracle Tuxedo version and license numbers.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1091337"> </a>
Generating Reports on Servers and Services Using txrpt
</h3>
<p class="pBody"><a name="wp1091338"> </a>
The <code class="cCode">txrpt</code> command analyzes the standard error output of a Oracle Tuxedo server and provides a summary of service processing time within the server. The report shows the number of times each service was dispatched and the average amount of time it took for each service to process a request during the specified period. <code class="cCode">txrpt</code> takes its input from the standard input or from a standard error file redirected as input. To create standard error files, have your servers invoked with the <code class="cCode">-r </code>option from the <a href="../rf5/rf5.html">servopts(5)</a> selection; you can name the file by specifying it with the<code class="cCode"> -e</code> <code class="cCode">servopts</code> option. Multiple files can be concatenated into a single input stream for <code class="cCode">txrpt</code>.
</p>
<p class="pBody"><a name="wp1091339"> </a>
Over time, information about service X and server Y (on which service X resides) is accumulated in a file. <code class="cCode">txrpt</code> processes the file and provides you with a report about the service access and timing characteristics of the server.
</p>
<h3 class="pHeading2"><a name="wp1091340"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1091344"> </a><a href="admon.html#wp1023826">Ways to Monitor Your Application</a></li>
<li><a name="wp1113332"> </a><a href="admon.html#wp1113334">How a tmadmin Session Works</a></li>
<li><a name="wp1113967"> </a><a href="admon.html#wp1091371">Monitoring Your System Using tmadmin Commands</a></li>
<li><a name="wp1113532"> </a><span class="cHyperlink">
&#8220;Managing Operations Using Command-Line Utilities&#8221; on page&#160;4-9</span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1113334"> </a>
How a tmadmin Session Works
</h2><p class="pBody"><a name="wp1113335"> </a>
The<code class="cCode"> tmadmin</code> command is an interpreter for 53 commands that enable you to view and modify a bulletin board and its associated entities. <a href="admon.html#wp1091364">Figure&#160;2-2</a> shows you how a typical <code class="cCode">tmadmin</code> session works.
</p>
<div class="pFigureTitle"><a name="wp1091364"> </a>
Figure&#160;2-2  Typical tmadmin Session
</div>

 
 <h3 class="pHeading2"><a name="wp1091371"> </a>
Monitoring Your System Using tmadmin Commands
</h3>
<p class="pBody"><a name="wp1091372"> </a>
Following is a list of run-time system functions that you can monitor with <code class="cCode">tmadmin</code> commands:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1091373"> </a>Number of servers installed in a service</li>
<li><a name="wp1091374"> </a>Appropriate load distribution</li>
<li><a name="wp1091375"> </a>If a particular service is doing any work</li>
<li><a name="wp1091376"> </a>Inactive clients</li>
<li><a name="wp1091377"> </a>If distribution of work is flowing smoothly through the system</li>
<li><a name="wp1091378"> </a>If a client is tying up a connection and preventing a server from doing any work for another client</li>
<li><a name="wp1091379"> </a>Stability of network</li>
<li><a name="wp1091380"> </a>If you must manually commit or abort a transaction</li>
<li><a name="wp1098937"> </a>Sufficient operating system resources (such as shared memory and semaphores) on a local machine</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1091382"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1091387"> </a><a href="../rfcm/rfcmd.html">tmadmin(1)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1091749"> </a>
Using EventBroker to Monitor Your Application
</h2><p class="pBody"><a name="wp1091750"> </a>
The Oracle Tuxedo EventBroker monitors a running application for events (for example, a state change in a MIB object, such as the transition of a client from active to inactive). When the EventBroker detects an event, it reports or posts the event, and then notifies relevant subscribers that the event has occurred. You can be informed automatically when events occur in the MIB by receiving <code class="cCode">FML</code> data buffers representing MIB objects. To post the event and report it to subscribers, the EventBroker uses the <a href="../rf3c/rf3c.html">tppost(3c)</a> function. Both administrators and application processes can subscribe to events.
</p>
<p class="pBody"><a name="wp1091751"> </a>
The EventBroker recognizes over 100 meaningful state transitions to a MIB object as system events. A posting for a system event includes the current MIB representation of the object on which the event occurred, and some event-specific fields that identify the event that occurred. For example, if a machine is partitioned, an event is posted with the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1091752"> </a>The name of the affected machine, as specified in the <code class="cCode">T_MACHINE class</code>, with all the attributes of that machine</li>
<li><a name="wp1091753"> </a>Some event attributes identifying the event as <em class="cEmphasis">machine partitioned</em></li>
</ul></div>
<p class="pBody"><a name="wp1091754"> </a>
To use the EventBroker, you simply subscribe to system events. 
</p>
<h3 class="pHeading2"><a name="wp1091755"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1112074"> </a><span class="cHyperlink">
&#8220;Managing Events Using EventBroker&#8221; on page&#160;4-15</span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1092052"> </a>
Using Log Files to Monitor Activity
</h2><p class="pBody"><a name="wp1092053"> </a>
To help you identify error conditions quickly and accurately, the Oracle Tuxedo system provides the following log files:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1092059"> </a><span class="cHyperlink">
Transaction log (TLOG)</span>&#8212;a binary file that is not normally read by you (the administrator), but that is used by the Transaction Manager Server (TMS). A <code class="cCode">TLOG</code> is created only on machines involved in Oracle Tuxedo global transactions.</li>
<li><a name="wp1092281"> </a><span class="cHyperlink">
<a href="admon.html#wp1104302">User log (ULOG)</a></span>&#8212;a log of messages generated by the Oracle Tuxedo system while your application is running. The <code class="cCode">ULOGMILLISEC</code> environment variable is used to time stamp ulog message output intervals in milliseconds instead of seconds. The <code class="cCode">ULOGRTNSIZE</code> environment variable is used to specify rotation files size. For more information on <code class="cCode">ULOGMILLISEC</code> and <code class="cCode">ULOGRTNSIZE</code>, see <a href="../rf3c/rf3c.html">userlog(3c)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference</em>.</li>
</ul></div>
<p class="pBody"><a name="wp1092060"> </a>
These logs are maintained and updated constantly while your application is running.
</p>
<h3 class="pHeading2"><a name="wp1092061"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1112250"> </a><a href="admon.html#wp1092080">What Is the Transaction Log (TLOG)?</a></li>
<li><a name="wp1112255"> </a><a href="admon.html#wp1023826">Ways to Monitor Your Application</a></li>
<li><a name="wp1092069"> </a><a href="admon.html#wp1092093">Detecting Errors Using Logs</a></li>
<li><a name="wp1092073"> </a><a href="admon.html#wp1129589">Estimating Service Workload Using the Application Service Log</a></li>
<li><a name="wp1127863"> </a><span class="cHyperlink">
userlog(3c)</span></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1092080"> </a>
What Is the Transaction Log (TLOG)?
</h2><p class="pBody"><a name="wp1092081"> </a>
The transaction log (<code class="cCode">TLOG</code>) keeps track of global transactions during the commit phase. At the end of the first phase of a 2-phase commit protocol, the participants in a global transaction issue a reply to the question of whether to commit or roll back the transaction. This reply is recorded in the <code class="cCode">TLOG</code>.
</p>
<p class="pBody"><a name="wp1093435"> </a>
The <code class="cCode">TLOG</code> file is used only by the Transaction Manager Server (TMS) that coordinates global transactions. It is not read by the administrator. The location and size of the <code class="cCode">TLOG</code> are specified by four parameters that you set in the <code class="cCode">MACHINES</code> section of the <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1092082"> </a>
You must create a <code class="cCode">TLOG</code> on each machine that participates in global transactions.
</p>
<h3 class="pHeading2"><a name="wp1092087"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1092091"> </a><a href="admon.html#wp1092093">Detecting Errors Using Logs</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1104302"> </a>
What Is the User Log (ULOG)?
</h2><p class="pBody"><a name="wp1104303"> </a>
The user log (<code class="cCode">ULOG</code>) is a file to which all messages generated by the Oracle Tuxedo system&#8212;error messages, warning messages, information messages, and debugging messages&#8212;are written. Application clients and servers can also write to the user log. A new log is created every day and there can be a different log on each machine. However, a <code class="cCode">ULOG</code> can be shared by multiple machines when a remote file system is being used. 
</p>
<p class="pBody"><a name="wp1104234"> </a>
The <code class="cCode">ULOG</code> provides an administrator with a record of system events from which the causes of most Oracle Tuxedo system and application failures can be determined. You can view the <code class="cCode">ULOG</code>, a text file, with any text editor. The <code class="cCode">ULOG</code> also contains messages generated by the <code class="cCode">tlisten</code> process. The <code class="cCode">tlisten</code> process provides remote service connections for other machines in an application. Each machine, including the master machine, should have a <code class="cCode">tlisten</code> process running on it.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1092093"> </a>
Detecting Errors Using Logs
</h2><p class="pBody"><a name="wp1092094"> </a>
The Oracle Tuxedo log files can help you detect failures in both your application and your system by:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1119402"> </a><a href="admon.html#wp1119189">Analyzing the Transaction Log (TLOG)</a></li>
<li><a name="wp1119591"> </a><a href="admon.html#wp1118606">Analyzing the User Log (ULOG)</a></li>
<li><a name="wp1092102"> </a><a href="admon.html#wp1131649">Analyzing tlisten Messages in the ULOG</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1119189"> </a>
Analyzing the Transaction Log (TLOG)
</h3>
<p class="pBody"><a name="wp1119190"> </a>
The <code class="cCode">TLOG</code> is a binary file that contains only messages about global transactions that are in the process of being committed. To view the <code class="cCode">TLOG</code>, you must first convert it to text format so that it is readable. The Oracle Tuxedo system provides two <code class="cCode">tmadmin</code> operations to do this:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1119191"> </a><code class="cCode">dumptlog</code> (<code class="cCode">dl</code>) downloads (or dumps) the <code class="cCode">TLOG</code> (a binary file) to a text file.</li>
<li><a name="wp1119192"> </a><code class="cCode">loadtlog</code> uploads (or loads) an text version of the <code class="cCode">TLOG</code> into an existing <code class="cCode">TLOG</code> (a binary file).</li>
</ul></div>
<p class="pBody"><a name="wp1119193"> </a>
The <code class="cCode">dumptlog</code> and <code class="cCode">loadtlog</code> commands are also useful when you need to move the <code class="cCode">TLOG</code> between machines as part of a server group migration or machine migration. 
</p>
<h4 class="pHeading3"><a name="wp1119194"> </a>
Detecting Transaction Errors
</h4>
<p class="pBody"><a name="wp1119195"> </a>
Use the MIB <code class="cCode">T_TRANSACTION</code> class to obtain the runtime transaction attributes within the system. The <code class="cCode">tmadmin</code> command <code class="cCode">printtrans</code> (<code class="cCode">pt</code>) can also be used to display this information. Information about each group in the transaction is printed only if <code class="cCode">tmadmin</code> is running in verbose mode as set by a previous <code class="cCode">verbose</code> (<code class="cCode">v</code>) command.
</p>
<p class="pBody"><a name="wp1125549"> </a>
Any serious errors during the transaction commit process, such as a failure while writing the <code class="cCode">TLOG</code>, is written to the <code class="cCode">USERLOG</code>.
</p>
<h3 class="pHeading2"><a name="wp1118606"> </a>
Analyzing the User Log (ULOG)
</h3>
<p class="pBody"><a name="wp1118607"> </a>
On each active machine in an application, the Oracle Tuxedo system maintains a log file that contains Oracle Tuxedo system error messages, warning messages, debugging messages, or other helpful information. This file is called the user log or <code class="cCode">ULOG</code>. The <code class="cCode">ULOG</code> simplifies the job of finding errors returned by the Oracle Tuxedo ATMI, and provides a central repository in which the Oracle Tuxedo system and applications can store error information. 
</p>
<p class="pBody"><a name="wp1118608"> </a>
You can use the information in the <code class="cCode">ULOG</code> to identify the cause of system or application failures. Multiple messages about a given problem can be placed in the user log. Generally, earlier messages provide more useful diagnostic information than later messages.
</p>
<h4 class="pHeading3"><a name="wp1131470"> </a>
ULOG Message Example
</h4>
<p class="pBody"><a name="wp1131474"> </a>
In the following example of <a href="admon.html#wp1118611">Listing&#160;2-1</a>, message 358 from the <code class="cCode">LIBTUX_CAT</code> catalog identifies the cause of the trouble reported in subsequent messages, namely, that there are not enough UNIX system semaphores to boot the application. 
</p>
<div class="pCodeTitle"><a name="wp1118611"> </a>
Listing&#160;2-1	   Sample ULOG Messages
</div> <a name="wp1118612"> </a><div class="pPreformatted"><pre>151550.gumby!BBL.28041<code class="cCode">.1.0:</code> LIBTUX_CAT:262: std main starting <br /><b class="cBold">151550.gumby!BBL.28041</b><code class="cCode">.1.0:</code><b class="cBold"> LIBTUX_CAT:358: reached UNIX limit on semaphore ids<br /></b>151550.gumby!BBL.28041<code class="cCode">.1.0:</code> LIBTUX_CAT:248: fatal: system init function ...<br />151550.gumby!BBL.28040<code class="cCode">.1.0:</code> CMDTUX_CAT:825: Process BBL at SITE1 failed ...<br />151550.gumby!BBL.28040<code class="cCode">.1.0:</code> WARNING: No BBL available on site SITE1.<br />               Will not attempt to boot server processes on that site.</pre></div><a name="wp1131646"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><em class="cEmphasis">System Messages</em> contains complete descriptions of user log messages and recommendations for any actions that should be taken to resolve the problems indicated.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1131649"> </a>
Analyzing tlisten Messages in the ULOG
</h3>
<p class="pBody"><a name="wp1131650"> </a>
Part of the <code class="cCode">ULOG</code> records error messages to the <code class="cCode">tlisten</code> process. You can view <code class="cCode">tlisten</code> messages using any text editor. Each machine, including the <code class="cCode">MASTER</code> machine contains a separate <code class="cCode">tlisten</code> process. Though separate <code class="cCode">tlisten</code> logs are maintained in the <code class="cCode">ULOG</code> on each machine, they can be shared across remote file systems.
</p>
<p class="pBody"><a name="wp1103656"> </a>
The <code class="cCode">ULOG</code> records <code class="cCode">tlisten</code> process failures. <code class="cCode">tlisten</code> is used, during the boot process, by <code class="cCode">tmboot</code> and, while an application is running, by <code class="cCode">tmadmin</code>. <code class="cCode">tlisten</code> messages are created as soon as the <code class="cCode">tlisten</code> process is booted. Whenever a <code class="cCode">tlisten</code> process failure occurs, a message is recorded in the <code class="cCode">ULOG</code>. 
</p>
<a name="wp1100296"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Application administrators are responsible for analyzing the <code class="cCode">tlisten</code> messages in the <code class="cCode">ULOG</code>, but programmers may also find it useful to check these messages.</td>
</tr>
</table>

<p class="pBody"><a name="wp1100297"> </a>
The <em class="cEmphasis">Oracle Tuxedo System Messages CMDTUX Catalog</em> contains the following information about <code class="cCode">tlisten</code> messages:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1100298"> </a>Descriptions of all messages</li>
<li><a name="wp1092124"> </a>Recommended actions that you (or a programmer) can take to resolve the error conditions reported in these messages</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1092125"> </a>
tlisten Message Example
</h4>
<p class="pBody"><a name="wp1092126"> </a>
Consider the following example of a <code class="cCode">tlisten</code> message in the <code class="cCode">ULOG</code>:
</p>
<p class="pBody"><a name="wp1104835"> </a>
<code class="cCode">121449.gumby!simpserv.27190.1.0: LIBTUX_CAT:262: std main starting</code>
</p>
<p class="pBody"><a name="wp1104836"> </a>
A <code class="cCode">ULOG</code> message consists of a tag and text. The tag consists of the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1104838"> </a>A 6-digit string (hhmmss) representing the time of day (in terms of hour, minute, and second).</li>
<li><a name="wp1104891"> </a>The name of the machine (as returned, on UNIX systems, by the <code class="cCode">uname -n</code> command).</li>
<li><a name="wp1104917"> </a>The name and process identifier of the process that is logging the message. (This process ID can optionally include a transaction ID.) Also included is a thread ID (1) and a context ID (0).</li>
<a name="wp1104963"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Placeholders are printed in the <code class="cCode">thread_ID</code> and <code class="cCode">context_ID</code> field of entries for single-threaded and single-contexted applications. (Whether an application is multithreaded is not apparent until more than one thread is used.)</td>
</tr>
</table>

</ul></div>
<p class="pBody"><a name="wp1104977"> </a>
The text consists of the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1104978"> </a>The name of the message catalog</li>
<li><a name="wp1105001"> </a>The message number</li>
<li><a name="wp1105012"> </a>The Oracle Tuxedo system message</li>
</ul></div>
<a name="wp1104965"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You can find this message in the <em class="cEmphasis">Oracle Tuxedo System Messages LIBTUX Catalog</em>.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1092142"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1114088"> </a><a href="adboot.html#wp1026237"><span class="cHyperlink">
&#8220;How to Create a TLOG Device&#8221; on page&#160;1-7</span></a></li>
<li><a name="wp1112424"> </a><a href="adboot.html#wp1026260"><span class="cHyperlink">
&#8220;How to Boot the Application&#8221; on page&#160;1-8</span></a></li>
<li><a name="wp1129581"> </a><span class="cHyperlink">
<a href="../int/intarch.html">&#8220;Oracle Tuxedo Transaction Management Server&#8221; on page&#160;3-10</a></span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
<li><a name="wp1129587"> </a><span class="cHyperlink">
<a href="../tutor/tutov.html">&#8220;Using Transactions&#8221; </a></span>in <em class="cEmphasis">Tutorials for Developing  Oracle Tuxedo ATMI Applications</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1129589"> </a>
Estimating Service Workload Using the Application Service Log
</h2><p class="pBody"><a name="wp1092016"> </a>
A Oracle Tuxedo application server can generate a log of the service requests it handles. The log is displayed on the server&#8217;s standard output (<code class="cCode">stdout</code>). Each record contains a service name, start time, and end time. 
</p>
<p class="pBody"><a name="wp1100467"> </a>
You can request such a log when a server is activated. The <code class="cCode">txrpt</code> facility produces a summary of the time spent by the server, thus giving you a way to analyze the log output. Using this data, you can estimate the relative workload generated by each service, which will help you set workload parameters appropriately for the corresponding services in the MIB.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1090846"> </a>
Using the MIB to Monitor Your Application
</h2><p class="pBody"><a name="wp1086957"> </a>
There are essentially two operations you can perform using the MIB: you can <em class="cEmphasis">get</em> information from the MIB (a <code class="cCode">get</code> operation) or you can <em class="cEmphasis">update</em> information in the MIB (a <code class="cCode">set</code> operation) at any time using a set of ATMI functions (for example, <a href="../rf3c/rf3c.html">tpalloc(3c)</a>, <a href="../rf3c/rf3c.html">tprealloc(3c)</a>, <a href="../rf3c/rf3c.html">tpcall(3c)</a>, <a href="../rf3c/rf3c.html">tpacall(3c)</a>, <a href="../rf3c/rf3c.html">tpgetrply(3c)</a>, <a href="../rf3c/rf3c.html">tpenqueue(3c)</a>, and <a href="../rf3c/rf3c.html">tpdequeue(3c)</a>).
</p>
<p class="pBody"><a name="wp1086958"> </a>
When you query the MIB with a <code class="cCode">get</code><a href="../rf3c/rf3c.html"> operation, the MIB responds to your reply with a number of matches, and indicates how many more objects match your request. The MIB returns a handle (that is, the cursor) that you can use to get the remaining objects. The operation you use to get the next set of objects is called </a><code class="cCode">getnext</code>. The third operation occurs when queries span multiple buffers.
</p>
<h3 class="pHeading2"><a name="wp1086965"> </a>
Limiting Your MIB Queries
</h3>
<p class="pBody"><a name="wp1086966"> </a>
When you query the MIB, which is a virtual database, you are selecting a set of records from the database table. You can control the size of the database table in two ways: by controlling the number of objects about which you want information, or by controlling the amount of information about each object. Using <em class="cEmphasis">key fields</em> and <em class="cEmphasis">filters</em>, you can limit the scope of your request to data that is meaningful for your needs. The more limits you specify, the less information is requested from the application, and the faster the data is provided to you. 
</p>
<h3 class="pHeading2"><a name="wp1086968"> </a>
Querying Global and Local Data
</h3>
<p class="pBody"><a name="wp1086969"> </a>
Data in the MIB is stored in a number of different places. Some data is replicated on more than one machine in a distributed application. Other data is not replicated, but is local to particular machines based on the nature of the data or the object represented.
</p>
<h4 class="pHeading3"><a name="wp1086970"> </a>
What Is Global Data?
</h4>
<p class="pBody"><a name="wp1086971"> </a>
Global data is information about application components such as servers that is replicated on every machine in an application. Most of the data about a server, for example, such as information about its configuration and state, is replicated globally throughout an application, specifically in every bulletin board. An Oracle Tuxedo application can access this information from anywhere.
</p>
<p class="pBody"><a name="wp1100670"> </a>
For example, from any machine in an application called Customer Orders, the administrator can find out that server B6 belongs to Group 1, runs on machine CustOrdA, and is active.
</p>
<h4 class="pHeading3"><a name="wp1086972"> </a>
What Is Local Data?
</h4>
<p class="pBody"><a name="wp1086973"> </a>
Other information is not replicated globally, but is local to an entity, such as statistics for a server. An example of a local attribute is <code class="cCode">TA_TOTREQC</code>, which defines the number of times services have been processed in a specified server. This statistic is stored with the server on its host machine. When the server accepts and processes a service request, the counter is incremented. Because this kind of information is managed locally, replicating it would inhibit your system&#8217;s performance.
</p>
<p class="pBody"><a name="wp1086974"> </a>
There are also classes in the MIB that are exclusively local, such as clients. When a client logs in, the Oracle Tuxedo system creates an entry for it in the bulletin board, and records all tracking information about the client in that entry. The MIB can determine the state of the client at anytime by checking this entry.
</p>
<h3 class="pHeading2"><a name="wp1086988"> </a>
Using tmadmcall to Access Information
</h3>
<p class="pBody"><a name="wp1086989"> </a>
The Oracle Tuxedo system provides a programming interface that offers direct access to the MIB while your application is not running. This interface, the <code class="cCode">tpadmcall</code> function, gives the application direct access to the data upon which the MIB is based. <code class="cCode">tpadmcall</code> allows you access to a subset of information that is local to your process. 
</p>
<p class="pBody"><a name="wp1101025"> </a>
Use <code class="cCode">tpadmcall</code> when you need to query the system or make administrative changes while your system is <em class="cEmphasis">not running</em>. <code class="cCode">tpadmcall</code> queries the <code class="cCode">TUXCONFIG</code> file on behalf of your request. Data buffers that you put in, and data buffers that you receive (containing your queries and the replies to them) are exactly the same.
</p>
<h3 class="pHeading2"><a name="wp1096990"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1111653"> </a><span class="cHyperlink">
&#8220;Managing Operations Using the MIB&#8221; on page&#160;4-12</span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
<li><a name="wp1096995"> </a><a href="../rf5/rf5.html">MIB(5)</a> in <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em></li>
<li><a name="wp1095523"> </a><a href="admon.html#wp1096383">Querying and Updating the MIB with ud32</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1096383"> </a>
Querying and Updating the MIB with ud32
</h2><p class="pBody"><a name="wp1096385"> </a>
<code class="cCode">ud32</code> is a client program delivered with the Oracle Tuxedo system that reads input consisting of text representation of <code class="cCode">FML</code> buffers.<code class="cCode"> </code>You can use <code class="cCode">ud32 </code>for ad hoc queries and updates to the MIB. It creates an <code class="cCode">FML32 </code>buffer, makes a service call with the buffer, receives a reply (also in an <code class="cCode">FML32</code> buffer) from the service call, and displays the results on screen or in a file in text format. 
</p>
<p class="pBody"><a name="wp1096362"> </a>
<code class="cCode">ud32</code> builds an <code class="cCode">FML32</code>-type buffer with the <code class="cCode">FML</code> fields and values that you represent in text format, makes a service call to the identified service in the buffer, and waits for the reply. The reply then comes back in <code class="cCode">FML32</code> format as a report. Now, because the MIB is <code class="cCode">FML32</code>-based, <code class="cCode">ud32</code> becomes the scripting tool for the MIB.
</p>
<p class="pBody"><a name="wp1101075"> </a>
For example, suppose you write a small file that contains the following text:
</p>
<p class="pBody"><a name="wp1101092"> </a>
<code class="cCode">service name=.tmib and ta_operation=get</code>, <code class="cCode">TACLASSES=T_SERVER</code>
</p>
<p class="pBody"><a name="wp1101128"> </a>
When you type this file into ud32, you receive an FML output buffer listing all the data in the system about the servers.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1043269"> </a>
Using the Run-time and User-level Tracing Utility
</h2><p class="pBody"><a name="wp1043264"> </a>
The Oracle Tuxedo system provides a run-time and user-level tracing facility that enable you to track the execution of distributed business applications. The system has a set of built-in trace points that mark calls to functions in different categories, such as ATMI functions issued by the application or XA functions issued by the Oracle Tuxedo system to an X/Open compliant resource manager.
</p>
<p class="pBody"><a name="wp1025634"> </a>
To enable tracing, you must specify a tracing expression that contains a category, a filtering expression, and an action. The category indicates the type of function (such as ATMI) to be traced. The filtering expression specifies which particular functions trigger an action. The action indicates the response to the specified functions by the Oracle Tuxedo system. 
</p>
<p class="pBody"><a name="wp1127890"> </a>
The system may, for example, write a record in the <code class="cCode">ULOG</code>, execute a system command, or terminate a trace process. A client process can also propagate the tracing facility with its requests. This capability is called <em class="cEmphasis">dyeing</em>; the trace dye <em class="cEmphasis">colors</em> all services that are called by the client.
</p>
<p class="pBody"><a name="wp1127901"> </a>
You can specify a tracing expression in the following ways.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1127902"> </a>Setting the <code class="cCode">TMTRACE</code> run-time environment variable</li>
<p class="pBodyRelative"><a name="wp1127922"> </a>
For a simple tracing expression, define <code class="cCode">TMTRACE=on</code> in the environment of the client. This expression enables tracing of ATMI functions on the client and on any server that performs a service on behalf of that client. The trace records are written to the <code class="cCode">ULOG</code> file.
</p>
<li><a name="wp1127903"> </a>Specifying the expression in a server environment</li>
<p class="pBodyRelative"><a name="wp1127945"> </a>
You can also specify a tracing expression in the environment of a server using the <code class="cCode">ulog</code> or <code class="cCode">utrace</code> <a href="../rf5/rf5.html">tmtrace(5)</a> receivers. For example, you might enter the following: 
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1127907"> </a>Run-time Tracing Expression: <code class="cCode">TMTRACE=atmi:/tpservice/ulog</code>. If you export this setting within a server environment, a record with <span style="font-style: italic">general</span> run-time trace information is created in the <code class="cCode">ULOG</code> file for all service requests performed on that server. </li>
<li><a name="wp1127908"> </a>User-Level Expression: <code class="cCode">TMTRACE=atmi:utrace</code>. Specifying the <code class="cCode">utrace</code> receiver automatically calls the user-defined <a href="../rf3c/rf3c.html">tputrace(3c)</a>. If you export this setting within a server environment, a record with trace information and output location <span style="font-style: italic">defined by the user</span> is created for the ATMI functions running on that server.</li>
</ul></div>
</ul></div>
<p class="pBody"><a name="wp1101230"> </a>
You can activate or deactivate the tracing option using the <code class="cCode">changetrace</code> command of <code class="cCode">tmadmin</code>. This command enables you to overwrite the tracing expression on active client or server processes. Administrators can enable global tracing for all clients and servers, or for a particular machine, group, or server.
</p>
<h3 class="pHeading2"><a name="wp1074194"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1074195"> </a><a href="admon.html#wp1023826">Ways to Monitor Your Application</a></li>
<li><a name="wp1077463"> </a><a href="../rf5/rf5.html">tmtrace(5)</a> in <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em></li>
<li><a name="wp1128001"> </a><span class="cHyperlink">
<a href="../rf3c/rf3c.html">userlog(3c)</a></span> and tputrace(3c) in <em class="cEmphasis">Oracle Tuxedo ATMI C Function Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1026525"> </a>
Managing Errors Using the DBBL and BBLs
</h2><p class="pBody"><a name="wp1026197"> </a>
The Oracle Tuxedo system uses the following two administrative servers to distribute the information on the bulletin board to all active machines in the application:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1026198"> </a><code class="cCodeEmphasis">DBBL</code>&#8212;the Distinguished Bulletin Board Liaison server propagates global changes to the MIB and maintains the static part of the MIB. Specifically, the DBBL: </li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1095153"> </a>Resides (only one DBBL per application) on the <code class="cCode">MASTER</code> machine and provides periodic status requests to all BBLs</li>
<li><a name="wp1095154"> </a>Coordinates bulletin board updates, the state of different machines, and queries with the BBLs</li>
<li><a name="wp1095133"> </a>Coordinates migration of servers</li>
<li><a name="wp1101264"> </a>Can be migrated to other machines for fault resiliency</li>
</ul></div>
<li><a name="wp1101329"> </a><code class="cCodeEmphasis">BBL</code>&#8212;the Bulletin Board Liaison server maintains the bulletin board on its host machine, coordinating changes to the local MIB, and verifying the integrity of application programs active on its machine. Specifically, the bulletin board:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1101330"> </a>Resides on each Oracle Tuxedo machine in an application, carries out requests from the DBBL, and administers timeouts for service requests, replies to requesters, and transactions</li>
<li><a name="wp1095207"> </a>Detects server failures, initiates user-defined recovery, and automatically restarts servers</li>
<li><a name="wp1095208"> </a>Detects client failures</li>
<li><a name="wp1095209"> </a>Cleans up client and server entries, and conversations on the bulletin board</li>
<li><a name="wp1095196"> </a>Detects and recovers DBBL failures (if it is the BBL residing on the <code class="cCode">MASTER</code> machine)</li>
</ul></div>
</ul></div>
<p class="pBody"><a name="wp1131481"> </a>
<a href="admon.html#wp1026304">Figure&#160;2-3</a> shows the diagnosis and repair using the DBBL and BBLs.
</p>
<div class="pFigureTitle"><a name="wp1026304"> </a>
Figure&#160;2-3  Diagnosis and Repair Using the DBBL and BBLs
</div>

 
 <p class="pGraphic"><a name="wp1026308"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/repair.gif" alt="Diagnosis and Repair Using the DBBL and BBLs" id="wp1026306"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1095050"> </a>
Both servers have a role in managing faults. The DBBL coordinates the state of other active machines in the application. Each BBL communicates state changes in the MIB, and sometimes sends a message to the DBBL indicating all is OK on its host machine.
</p>
<p class="pBody"><a name="wp1026201"> </a>
The Oracle Tuxedo run-time system records events, along with system errors, warnings, and tracing events, in the user log (<code class="cCode">ULOG</code>). Programmers can use the <code class="cCode">ULOG</code> to debug their applications or notify administrators of special conditions or states found (for example, an authorization failure).
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1023912"> </a>
Using ATMI to Handle System and Application Errors
</h2><p class="pBody"><a name="wp1023913"> </a>
Using ATMI, a programmer controls some of the more global aspects of communications. ATMI provides functions for handling both application and system-related errors. When a service routine encounters an <em class="cEmphasis">application</em> error, such as an invalid account number, the client knows the service performed its task but could not fulfill its request because of an application error. 
</p>
<p class="pBody"><a name="wp1101385"> </a>
With a <em class="cEmphasis">system</em> failure, such as a server crashing while performing a request, the client knows the service routine did not perform its task because of an underlying system error. The Oracle Tuxedo system notifies programs of system errors that occur as it monitors the application&#8217;s behavior and its own behavior.
</p>
<h3 class="pHeading2"><a name="wp1023914"> </a>
Using Configurable Timeout Mechanisms
</h3>
<p class="pBody"><a name="wp1125183"> </a>
At times, a service may get stuck in an infinite loop while processing a request. The client waits, but no reply is forthcoming. To protect a client from endless waiting, the Oracle Tuxedo system has two types of configurable timeout mechanisms: blocking timeouts and transaction timeouts. For more information about these timeout mechanisms, refer to <span class="cHyperlink">
<a href="../add/addom.html">Specifying Domains Transaction and Blocking Timeouts</a></span> in <em class="cEmphasis">Using the Oracle Tuxedo Domains Component</em>. 
</p>
<p class="pBody"><a name="wp1101410"> </a>
A<em class="cEmphasis"> blocking timeout</em> is a mechanism that ensures a blocked program waits no longer than the specified timeout value for something to occur. Once a timeout is detected, the waiting program is alerted with a system error informing it that a blocking timeout has occurred. The blocking timeout defines the duration of service requests, or how long the application is willing to wait for a reply to a service request. The timeout value is a global value defined in the <code class="cCode">BLOCKTIME</code> field of the <code class="cCode">RESOURCES</code> section of the <code class="cCode">TUXCONFIG</code> file. 
</p>
<p class="pBody"><a name="wp1048601"> </a>
A<em class="cEmphasis"> transaction timeout</em> is another type of timeout that can occur because active transactions tend to be resource-intensive. A transaction timeout defines the duration of a transaction, which may involve several service requests. The timeout value is defined when the transaction is started (with <a href="../rf3c/rf3c.html">tpbegin(3c)</a>). Transaction timeouts are useful when maximizing resources. For example, if database locks are held while a transaction progresses, an application programmer may want to limit the amount of time that the application&#8217;s transaction resources are held up. A transaction timeout always overrides a blocking timeout.
</p>
<p class="pBody"><a name="wp1124000"> </a>
There are two <code class="cCode">UBBCONFIG</code> file transaction timeout parameters:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1124009"> </a><code class="cCode">TRANTIME</code> which is specified in the <code class="cCode">SERVICES</code> section of the <code class="cCode">UBBCONFIG</code> and controls the timeout value for a specific <code class="cCode">AUTOTRAN</code> service.</li>
<li><a name="wp1124017"> </a><code class="cCode">MAXTRANTIME</code> which is specified in the <code class="cCode">RESOURCES</code> section of the <code class="cCode">UBBCONFIG</code> and is used by the administrator to place a maximum upper bound on the timeout value of a transaction started via <a href="../rf3c/rf3c.html">tpbegin(3c)</a> or via an <code class="cCode">AUTOTRAN</code> service invocation.</li>
</ul></div>
<p class="pBody"><a name="wp1124021"> </a>
For more information about these transaction timeout parameters, refer to <span class="cHyperlink">
<a href="../rf5/rf5.html">UBBCONFIG(5)</a></span> in <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em>. 
</p>
<h3 class="pHeading2"><a name="wp1026011"> </a>
Configuring Redundant Servers to Handle Failures
</h3>
<p class="pBody"><a name="wp1026012"> </a>
You can handle some failure situations by configuring an application with redundant servers and the automatic restart capability. Redundant servers provide high availability, and can be used to handle large amounts of work, server failures, or machine failures. The Oracle Tuxedo system continually checks the status of active servers, and when it detects the failure of a restartable server, the system automatically creates a new instance of that server. 
</p>
<p class="pBody"><a name="wp1101527"> </a>
By configuring servers with the automatic restart property, you can handle individual server failures.You can also specify the number of restarts that the system will provide. This capability can prevent a recurring application error by limiting the number of times a server is restarted.
</p>
<p class="pBody"><a name="wp1026086"> </a>
The Oracle Tuxedo system frequently checks the availability of each active machine. A machine is marked as <em class="cEmphasis">partitioned</em> when it cannot be reached by the system. If this occurs, a system event is generated. A partition can occur due to a network failure, machine failure, or severe performance degradation.
</p>
<h3 class="pHeading2"><a name="wp1058050"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1112549"> </a><span class="cHyperlink">
<a href="../int/intarch.html">&#8220;Oracle Tuxedo System Administration and Server Processes&#8221; on page&#160;3-1</a></span> in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
<li><a name="wp1083937"> </a><a href="admon.html#wp1093803">System and Application Data That You Can Monitor</a></li>
<li><a name="wp1083944"> </a><a href="admon.html#wp1093825">Monitoring Dynamic and Static Administrative Data</a> </li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1088604"> </a>
Monitoring Multithreaded and Multicontexted Applications
</h2><div class="pSmartList1Bullet"><ul>
<li><a name="wp1088605"> </a>While monitoring a multithreaded application, keep in mind that individual threads are not visible to an administrator.</li>
<li><a name="wp1088606"> </a>You can get MIB statistical reports for various aspects of your multithreaded and/or multicontexted application by running the <a href="../rfcm/rfcmd.html">tmadmin(1)</a> command interpreter. Here are a few examples of the information you can request for a multithreaded application:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1088607"> </a>Count of client contexts per client process and a separate entry for each client context (obtained by running the <code class="cCode">tmadmin</code> <code class="cCode">pclt</code> command).</li>
<li><a name="wp1088608"> </a>Count of dispatched services per server process and, optionally, information about each context (obtained by running <code class="cCode">tmadmin</code>/<code class="cCode">psr</code>, optionally in verbose mode).</li>
</ul></div>
<li><a name="wp1088609"> </a>When the BBL checks clients, it verifies that a process is alive. If a process has died, the BBL detects the process death. If an individual thread within a process has died, however, the death of the thread is not detected by the BBL. </li>
<p class="pBodyRelative"><a name="wp1110633"> </a>
Therefore application programmers should keep in mind the possibility that individual threads within a process may die. If one thread dies and a signal is issued, the whole process to which the thread belongs usually dies, and that death is detected by the BBL.
</p>
<p class="pBodyRelative"><a name="wp1110648"> </a>
If a thread dies as the result of an erroneous call to a thread exit function, however, no signal is generated. If this type of death occurs before the thread calls <code class="cCode">tpterm()</code>, then the BBL cannot detect the death and does not deallocate the registry table slot for the context associated with the dead thread. (It would not be proper for the BBL to deallocate this registry table slot even if it could detect the death of the thread because, in some application models, another thread might subsequently choose to associate itself with that context.)
</p>
<p class="pBodyRelative"><a name="wp1110663"> </a>
There is no solution for this limitation so it is important for programmers to keep it in mind and design their applications accordingly. 
</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1088671"> </a>
How to Retrieve Data About a Multithreaded/Multicontexted Application Using the MIB
</h3>
<a name="wp1088672"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The information presented here applies to all multithreaded and/or multicontexted applications, regardless of which administrative tools are being used. The functionality is discussed from the point of view of an administrator using MIB calls, but is the same for an administrator using an interface to the MIB, whether that interface is <a href="../rfcm/rfcmd.html">tmadmin(1)</a> or the Oracle Administration Console.</td>
</tr>
</table>

<p class="pBody"><a name="wp1101663"> </a>
You can obtain information about a multithreaded or multicontexted application by:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1101668"> </a>Issuing calls to the MIB</li>
<li><a name="wp1101669"> </a>Issuing selected <code class="cCode">tmadmin</code> commands</li>
</ul></div>
<p class="pBody"><a name="wp1101670"> </a>
Information is available in the following locations:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1101671"> </a>The client section of the bulletin board registry provides an entry for each context. (An entry is created automatically by the Oracle Tuxedo system whenever a new context is created through a call to <code class="cCode">tpinit</code>() in <code class="cCode">TPMULTICONTEXTS</code> mode.)</li>
<li><a name="wp1101675"> </a>The <code class="cCode">T_SERVERCTXT</code> class of the <code class="cCode">TM_MIB</code> provides multiple instances of 14 fields if multiple server dispatch threads are active simultaneously. Specifically, the <code class="cCode">T_SERVERCTXT</code> section includes an instance of each of the following fields for each active sever dispatch thread:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1088675"> </a><code class="cCode">TA_CONTEXTID</code> (key field)</li>
<li><a name="wp1088676"> </a><code class="cCode">TA_SRVGRP</code> (key field)</li>
<li><a name="wp1088677"> </a><code class="cCode">TA_SRVID</code> (key field)</li>
<li><a name="wp1088678"> </a><code class="cCode">TA_CLTLMID</code></li>
<li><a name="wp1088679"> </a><code class="cCode">TA_CLTPID</code></li>
<li><a name="wp1088680"> </a><code class="cCode">TA_CLTREPLY</code></li>
<li><a name="wp1088681"> </a><code class="cCode">TA_CMTRET</code></li>
<li><a name="wp1088682"> </a><code class="cCode">TA_CURCONV</code></li>
<li><a name="wp1088683"> </a><code class="cCode">TA_CURREQ</code></li>
<li><a name="wp1088684"> </a><code class="cCode">TA_CURRSERVICE</code></li>
<li><a name="wp1088685"> </a><code class="cCode">TA_LASTGRP</code></li>
<li><a name="wp1088686"> </a><code class="cCode">TA_SVCTIMEOUT</code></li>
<li><a name="wp1088687"> </a><code class="cCode">TA_TIMELEFT</code></li>
<li><a name="wp1088688"> </a><code class="cCode">TA_TRANLEV</code></li>
<p class="pBodyRelative"><a name="wp1088689"> </a>
For example, if 12 server dispatch threads are active simultaneously, then the <code class="cCode">T_SERVERCTXT</code> class of the MIB for this application will include 12 occurrences of the <code class="cCode">TA_CONTEXTID</code> field, 12 occurrences of the <code class="cCode">TA_SRVGRP</code> field, and so on.
</p>
<p class="pBodyRelative"><a name="wp1088690"> </a>
When multiple instances of <code class="cCode">T_SERVER</code> class fields contain multiple values for different contexts of a multicontexted server, a &#8220;dummy&#8221; value is specified in the <code class="cCode">T_SERVER</code> class field and the <code class="cCode">T_SERVERCTXT</code> field contains an actual value for each context.
</p>
</ul></div>
</ul></div>
<h3 class="pHeading2"><a name="wp1088669"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1088697"> </a><a href="../rfcm/rfcmd.html">tmadmin(1)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
<li><a name="wp1101680"> </a><a href="../rf5/rf5.html">TM_MIB(5)</a> in the <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em></li>
<li><a name="wp1088722"> </a><span class="cHyperlink">
<a href="../pgc/pgthr.html">&#8220;Programming a Multithreaded and Multicontexted ATMI Application&#8221; on page&#160;10-1</a></span> in <em class="cEmphasis">Programming Oracle Tuxedo ATMI Applications Using C</em></li>
</ul></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="admon.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="adboot.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="addynr.html"><img id="LongDescNotReq9" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
