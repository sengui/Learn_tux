<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41824" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux12c/creclient/fm/corba.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/26/12 11:02:42" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Creating CORBA Client Applications</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Creating CORBA Client Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="concepts.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="dii.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/creclient.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1031755"> </a>
Creating CORBA Client Applications
</h1>
<p class="pBody"><a name="wp1030061"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1030062"> </a><a href="corba.html#wp1032445">Summary of the Development Process for CORBA C++ Client Applications</a></li>
<li><a name="wp1030063"> </a><a href="corba.html#wp1013057">Step 1: Obtaining the OMG IDL File</a></li>
<li><a name="wp1018301"> </a><a href="corba.html#wp1013057">Step 1: Obtaining the OMG IDL File</a></li>
<li><a name="wp1023424"> </a><a href="corba.html#wp1023168">Step 2: Selecting the Invocation Type</a></li>
<li><a name="wp1018302"> </a><a href="corba.html#wp1023390">Step 3: Compiling the OMG IDL File</a></li>
<li><a name="wp1018231"> </a><a href="corba.html#wp1026458">Step 4: Writing the CORBA Client Application</a></li>
<li><a name="wp1023814"> </a><a href="corba.html#wp1014752">Step 5: Building the CORBA Client Application</a></li>
<li><a name="wp1023815"> </a><a href="corba.html#wp1016144">Server Applications Acting as Client Applications</a></li>
<li><a name="wp1032441"> </a><a href="corba.html#wp1027224">Using Java2 Applets</a></li>
</ul></div>
<a name="wp1032691"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB were deprecated in Tuxedo 8.1 and are no longer supported. All Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB text references, associated code samples, should only be used to help implement/run third party Java ORB libraries, and for programmer reference only.</td></tr>
</table>

<a name="wp1032692"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Technical support for third party CORBA Java ORBs should be provided by their respective vendors. Oracle Tuxedo does not provide any technical support or documentation for third party CORBA Java ORBs.</td>
</tr>
</table>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1032445"> </a>
Summary of the Development Process for CORBA C++ Client Applications
</h2><p class="pBody"><a name="wp1020444"> </a>
The steps for creating a CORBA C++ client application are as follows:
</p>
<p class="pGraphic"><a name="wp1020509"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1025593table1020472">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1025593"> </a>
<span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Step</span>
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1025595"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025597"> </a>
<b class="cBold">1</b>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025599"> </a>
Obtain the OMG IDL file for the CORBA interfaces used by the CORBA C++ client application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025601"> </a>
<b class="cBold">2</b>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025603"> </a>
Select the invocation type. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025605"> </a>
<b class="cBold">3</b>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025607"> </a>
Use the IDL compiler to compile the OMG IDL file. The client stubs are generated as a result of compiling the OMG IDL.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025609"> </a>
<b class="cBold">4</b>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025611"> </a>
Write the CORBA C++ client application. This topic describes creating a basic client application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025617"> </a>
<b class="cBold">5</b>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025619"> </a>
Build the CORBA C++ client application.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1012578"> </a>
Each step in the process is explained in detail in the following sections.
</p>
<p class="pBody"><a name="wp1015231"> </a>
The Oracle Tuxedo development environment for CORBA C++ client applications includes the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1012579"> </a>The<code class="cCode"> idl </code>command, which compiles the OMG IDL file and generates the client stubs required for the CORBA interface.</li>
<li><a name="wp1012585"> </a>The<code class="cCode"> buildobjclient</code> command, which constructs a CORBA C++ client application executable.</li>
<li><a name="wp1012589"> </a>The C++ environmental objects, which provide access to CORBA objects in an Oracle Tuxedo domain and to the services provided by the CORBA objects.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1013057"> </a>
Step 1: Obtaining the OMG IDL File
</h2><p class="pBody"><a name="wp1018827"> </a>
Generally, the OMG IDL files for the available interfaces and operations are provided to the client programmer by the application designer. This section contains the OMG IDL for the Basic sample application. <a href="corba.html#wp1033454">Listing&#160;2-1</a> shows the <code class="cCode">univb.idl</code> file, which defines the following interfaces:
</p>
<p class="pGraphic"><a name="wp1033452"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1033427table1033425">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1033427"> </a>
Interface
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1033429"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1033431"> </a>
Operations
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033433"> </a>
<code class="cCode">Registrar</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033435"> </a>
Obtains course information from the course database.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033437"> </a>
<code class="cCode">get_courses_synopsis()</code>
</div>
<div class="pCellBody"><a name="wp1033438"> </a>
<code class="cCode">get_courses_details()</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033440"> </a>
<code class="cCode">RegistrarFactory</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033442"> </a>
Creates object references to the Registrar object.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033444"> </a>
<code class="cCode">find_registrar()</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033446"> </a>
<code class="cCode">CourseSynopsisEnumerator</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033448"> </a>
Gets a subset of the information from the course database, and iteratively returns portions of that subset to the CORBA client application.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1033450"> </a>
<code class="cCode">get_next_n()</code>
</div>
<div class="pCellBody"><a name="wp1033451"> </a>
<code class="cCode">destroy()</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<div class="pCodeTitle"><a name="wp1033454"> </a>
Listing&#160;2-1	   OMG IDL File for the Basic Sample Application
</div> <a name="wp1033455"> </a><div class="pPreformatted"><pre>#pragma prefix &quot;BEAsys.com&quot;</pre></div><a name="wp1024267"> </a><div class="pPreformatted"><pre>module UniversityB</pre></div><a name="wp1024268"> </a><div class="pPreformatted"><pre>{</pre></div><a name="wp1022065"> </a><div class="pPreformatted"><pre>   typedef unsigned long CourseNumber;<br />   typedef sequence&lt;CourseNumber&gt; CourseNumberList;</pre></div><a name="wp1022066"> </a><div class="pPreformatted"><pre>   struct CourseSynopsis<br />     {<br />        CourseNumber   course_number;<br />        string         title;<br />     };</pre></div><a name="wp1022067"> </a><div class="pPreformatted"><pre>   typedef sequence&lt;CourseSynopsis&gt; CourseSynopsisList;<br />   interface CourseSynopsisEnumerator<br />   {<br />        CourseSynopsisList get_next_n(<br />            in  unsigned long number_to_get, <br />            out unsigned long number_remaining<br />   };<br />         void destroy();<br />   };</pre></div><a name="wp1022068"> </a><div class="pPreformatted"><pre>   typedef unsigned short Days;<br />   const Days MONDAY    =  1;<br />   const Days TUESDAY   =  2;<br />   const Days WEDNESDAY =  4;<br />   const Days THURSDAY  =  8;<br />   const Days FRIDAY    = 16;<br />  <br />   struct ClassSchedule<br />   {<br />       Days           class_days; // bitmask of days<br />       unsigned short start_hour; // whole hours in military time<br />       unsigned short duration;   // minutes<br />   };</pre></div><a name="wp1022069"> </a><div class="pPreformatted"><pre>   struct CourseDetails<br />   {<br />       CourseNumber   course_number;<br />       double         cost;<br />       unsigned short number_of_credits;<br />       ClassSchedule  class_schedule; <br />       unsigned short number_of_seats;<br />       string         title;<br />       string         professor;<br />       string         description;<br />    };</pre></div><a name="wp1022070"> </a><div class="pPreformatted"><pre>   typedef sequence&lt;CourseDetails&gt; CourseDetailsList;<br /><br />   interface Registrar<br />   {<br />       CourseSynopsisList<br />       get_courses_synopsis(<br />       in string                    search_criteria,<br />       in unsigned long             number_to_get, // 0 = all<br />       out unsigned long            number_remaining,<br />       out CourseSynopsisEnumerator rest<br />    );</pre></div><a name="wp1022071"> </a><div class="pPreformatted"><pre>    	CourseDetailsList get_courses_details(in CourseNumberList <br />        courses);</pre></div><a name="wp1022072"> </a><div class="pPreformatted"><pre>   interface RegistrarFactory<br />   {<br />        Registrar find_registrar(<br />    );</pre></div><a name="wp1022073"> </a><div class="pPreformatted"><pre>  };</pre></div><a name="wp1022074"> </a><div class="pPreformatted"><pre>};</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1023168"> </a>
Step 2: Selecting the Invocation Type
</h2><p class="pBody"><a name="wp1023402"> </a>
Select the invocation type (static or dynamic) that you will use in the requests in the CORBA client application. You can use both types of invocation in a CORBA client application.
</p>
<p class="pBody"><a name="wp1026114"> </a>
For an overview of static and dynamic invocation, see <a href="concepts.html#wp1035757">Static and Dynamic Invocation</a>.
</p>
<p class="pBody"><a name="wp1023395"> </a>
The remainder of this topic assumes that you chose to use static invocation in your CORBA client application. If you chose to use dynamic invocation, see <a href="dii.html">Using the Dynamic Invocation Interface</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1023390"> </a>
Step 3: Compiling the OMG IDL File
</h2><p class="pBody"><a name="wp1015355"> </a>
When creating CORBA C++ client applications, use the<code class="cCode"> idl</code> command to compile the OMG IDL file and generate the files required for the interface. The following is the syntax of the<code class="cCode"> idl</code> command:
</p>
<a name="wp1015356"> </a><div class="pPreformatted"><pre><code class="cCode">idl </code><code class="cCodeEmphasis">idlfilename(s)</code></pre></div><p class="pBody"><a name="wp1015252"> </a>
The IDL compiler generates a client stub (<code class="cCodeEmphasis">idlfilename</code><code class="cCode">_c.cpp</code>) and a header file (<code class="cCodeEmphasis">idlfilename</code><code class="cCode">_c.h</code>) that describe everything you need to have to use the client stub from the C++ programming language. You need to link these files into your CORBA client application.
</p>
<p class="pBody"><a name="wp1019367"> </a>
In addition, the IDL compiler generates skeletons that contain the signatures of the CORBA object&#8217;s operations. The generated skeleton information is placed in the idlfilename<code class="cCode">_s.cpp </code>and idlfilename<code class="cCode">_s.h</code> files. During development of the CORBA client application, it can be useful to look at the server header files and skeleton file.
</p>
<a name="wp1015746"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Do not modify the generated client stub or the skeleton.</td>
</tr>
</table>

<p class="pBody"><a name="wp1026697"> </a>
For a complete description of the<code class="cCode"> idl </code>command and options, see the <a href="../rfcm/index.html">Oracle Tuxedo Command Reference</a>.
</p>
<p class="pBody"><a name="wp1026701"> </a>
When creating CORBA client applications:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1026254"> </a>If you are using JDK version 1.2, you can use the<code class="cCode"> idltojava</code> command to compile the OMG IDL file. For more information about the <code class="cCode">idltojava</code> command, see the documentation for the JDK version 1.2.</li>
<li><a name="wp1026241"> </a>If you are using Netscape version 3.0 and Java Development Kit (JDK)  version 1.1.5, you need to use that product&#8217;s IDL compiler to compile the OMG IDL.</li>
</ul></div>
<p class="pBody"><a name="wp1026455"> </a>
The <code class="cCode">idltojava</code> command or the IDL compiler generates the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1026731"> </a>The client stubs for each interface (<code class="cCode">_</code><em class="cEmphasis">interface</em><code class="cCode">Stub.java</code>).</li>
<li><a name="wp1026740"> </a>The CORBA helper class (interface<code class="cCode">Helper.java</code>) and the CORBA holder class (interface<code class="cCode">Holder.java</code>) that describe everything you need to use the client stub from the Java programming language. </li>
</ul></div>
<p class="pBody"><a name="wp1026750"> </a>
Note that each OMG IDL defined exception defines an exception class and its helper and holder classes. The compiled <code class="cCode">.class</code> files must be in the <code class="cCode">CLASSPATH</code> of your CORBA client application.
</p>
<p class="pBody"><a name="wp1026480"> </a>
In addition, the <code class="cCode">idltojava</code> command or the IDL compiler generates skeletons that contain the signatures of the operations of the CORBA object. The generated skeleton information is placed in the <code class="cCode">_</code><em class="cEmphasis">interface</em><code class="cCode">ImplBase</code> file.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1026458"> </a>
Step 4: Writing the CORBA Client Application
</h2><p class="pBody"><a name="wp1013686"> </a>
To participate in a session with a CORBA server application, a CORBA client application must be able to get an object reference for a CORBA object and invoke operations on the object. To accomplish this, the CORBA client application code must do the following:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1013695"> </a>Initialize the Oracle Tuxedo ORB.</li>
<li><a name="wp1013696"> </a>Establish communication with the Oracle Tuxedo domain.</li>
<li><a name="wp1013929"> </a>Resolve initial references to the FactoryFinder object.</li>
<li><a name="wp1013700"> </a>Use a factory to get an object reference for the desired CORBA object.</li>
<li><a name="wp1013980"> </a>Invoke operations on the CORBA object.</li>
</ol></div>
<p class="pBody"><a name="wp1022781"> </a>
The following sections use portions of the client applications in the Basic sample application to illustrate the steps. For information about the Basic sample application, see the <a href="../usamples/index.html">Guide to the CORBA University Sample Applications</a>. The Basic sample application is located in the following directory on the Oracle Tuxedo software kit:
</p>
<p class="pBody"><a name="wp1023923"> </a>
<em class="cEmphasis">drive:</em><code class="cCode">\tuxdir\samples\corba\university\basic </code>
</p>
<h3 class="pHeading2"><a name="wp1026094"> </a>
Initializing the ORB
</h3>
<p class="pBody"><a name="wp1013791"> </a>
All CORBA client applications must first initialize the ORB. 
</p>
<p class="pBody"><a name="wp1019625"> </a>
Use the following code to initialize the ORB from a CORBA C++ client application:
</p>
<h4 class="pDefTerm"><a name="wp1013829"> </a>
<b class="cBold">C++ </b>
</h4><a name="wp1013838"> </a><div class="pPreformatted"><pre><code class="cCode">CORBA::ORB_var orb=CORBA::ORB_init(argc, argv, </code><em class="cEmphasis">ORBid</em><code class="cCode">);</code></pre></div><p class="pBody"><a name="wp1015764"> </a>
Typically, no ORBid is specified and the default ORBid specified during installation is used. However, when a CORBA client application is running on a machine that also has CORBA server applications running and the CORBA client application wants to access server applications in another Oracle Tuxedo domain, you need to override the default ORBid. This can be done by hard coding the ORBid as <code class="cCode">BEA_IIOP</code> or by passing the ORBid in the command line as <code class="cCode">_ORBid BEA_IIOP</code>.
</p>
<h3 class="pHeading2"><a name="wp1013865"> </a>
Establishing Communication with the Oracle Tuxedo Domain
</h3>
<p class="pBody"><a name="wp1026591"> </a>
The CORBA client application creates a Bootstrap object. A list of IIOP Listener/Handlers can be supplied either as a parameter, via the <code class="cCode">TOBJADDR</code> Java property or applet property. A single IIOP Listener/Handler is specified as follows:
</p>
<a name="wp1019764"> </a><div class="pPreformatted"><pre><code class="cCode">//</code><em class="cEmphasis">host</em><code class="cCode">:</code><em class="cEmphasis">port</em></pre></div><p class="pBody"><a name="wp1019773"> </a>
When the IIOP Listerner/Handler is provided via <code class="cCode">TOBJADDR</code>, the second argument of the constructor can be null.
</p>
<p class="pBody"><a name="wp1026634"> </a>
The host and port combination for the IIOP Listener/Handler is defined in the <code class="cCode">UBBCONFIG</code> file. The host and port combination that is specified for the Bootstrap object must exactly match the ISL parameter in the Oracle Tuxedo domain&#8217;s <code class="cCode">UBBCONFIG </code>file. The format of the host and port combination, as well as the capitalization, must match. If the addresses do not match, the call to the Bootstrap object will fail and the following message appears in the log file:
</p>
<p class="pBody"><a name="wp1024154"> </a>
<code class="cCode">Error: Unofficial connection from client at &lt;tcp/ip address&gt;/&lt;portnumber&gt;</code>
</p>
<p class="pBody"><a name="wp1024163"> </a>
For example, if the network address is specified as <code class="cCode">//TRIXIE::3500</code> in the ISL parameter in the <code class="cCode">UBBCONFIG </code>file, specifying either<code class="cCode"> //192.12.4.6.:3500</code> or <code class="cCode">//trixie:3500</code> in the Bootstrap object will cause the connection attempt to fail.
</p>
<p class="pBody"><a name="wp1024176"> </a>
On UNIX systems, use the <code class="cCode">uname -n</code> command on the host system to determine the capitalization used. On Window 2000, use the Network Control Panel to determine the capitalization.
</p>
<p class="pBody"><a name="wp1019854"> </a>
The following C++ and Java examples show how to use the Bootstrap object:
</p>
<h4 class="pDefTerm"><a name="wp1013921"> </a>
<b class="cBold">C++</b>
</h4><a name="wp1013922"> </a><div class="pPreformatted"><pre><code class="cCode">       Tobj_Bootstrap* bootstrap = new Tobj_Bootstrap</code>(orb, &#8220;//<em class="cEmphasis">host:port</em>&#8221;);</pre></div><p class="pBody"><a name="wp1019717"> </a>
<b class="cBold">Java Applet</b>
</p>
<a name="wp1027535"> </a><div class="pPreformatted"><pre><code class="cCode">       Tobj_Bootstrap bootstrap = new Tobj_Bootstrap(orb,</code> &#8220;//<em class="cEmphasis">host:port</em>&#8221;, <code class="cCodeEmphasis">this</code>);<code class="cCode"> </code></pre></div><p class="pBody"><a name="wp1027667"> </a>
where <code class="cCodeEmphasis">this</code> is the name of the Java applet
</p>
<p class="pBody"><a name="wp1027504"> </a>
An Oracle Tuxedo domain can have multiple IIOP Listener/Handlers. If you are accessing an Oracle Tuxedo domain with multiple IIOP Listener/Handlers, you supply a list of <code class="cCode">Host:Port</code> combinations to the Bootstrap object. If the second parameter of the Bootstrap command is an empty string, the Bootstrap object walks through the list until it connects to an Oracle Tuxedo domain. The list of IIOP Listener/Handlers can also be specified in <code class="cCode">TOBJADDR</code>. 
</p>
<p class="pBody"><a name="wp1019835"> </a>
If you want to access multiple Oracle Tuxedo domains, you must create a Bootstrap object for each Oracle Tuxedo domain you want to access.
</p>
<a name="wp1029808"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Third-party client ORBs can also use the CORBA Interoperable Naming Service (INS) mechanism to gain access to an Oracle Tuxedo domain and its services. CORBA INS allows third-party client ORBs to use their ORB&#8217;s <code class="cCode">resolve_initial_references()</code> function to access CORBA services provided by the Oracle Tuxedo domain and use stubs generated from standard OMG IDL to act on the instances returned from the domain. For more information about using the Interoperable Naming Service, see the <a href="../CORBA_ref/index.html">CORBA Programming Reference</a>.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1013793"> </a>
Resolving Initial References to the FactoryFinder Object
</h3>
<p class="pBody"><a name="wp1013996"> </a>
The CORBA client application must obtain initial references to the environmental objects that provide services for the CORBA application. The Bootstrap object&#8217;s <code class="cCode">resolve_initial_references</code> operation can be called to obtain references to the FactoryFinder, InterfaceRepository, SecurityCurrent, TransactionCurrent, NotificationService, Tobj_SimpleEventsService, and NameService environmental objects. The argument passed to the operation is a string containing the name of the desired object reference. You need to get initial references only for the environmental objects you plan to use in your CORBA client application.
</p>
<p class="pBody"><a name="wp1014790"> </a>
The following C++ and Java examples show how to use the Bootstrap object to resolve initial references to the FactoryFinder object:
</p>
<p class="pBody"><a name="wp1014014"> </a>
<b class="cBold">C++</b>
</p>
<a name="wp1014047"> </a><div class="pPreformatted"><pre>//Resolve Factory Finder<br />CORBA::Object_var var_factory_finder_oref = bootstrap.resolve_initial_references<br />       (&#8220;FactoryFinder&#8221;);<br />Tobj::FactoryFinder_var var_factory_finder_ref = Tobj::FactoryFinder::_narrow<br />      (factory_finder_oref.in());</pre></div><p class="pBody"><a name="wp1014106"> </a>
<b class="cBold">Java</b>
</p>
<a name="wp1014108"> </a><div class="pPreformatted"><pre>//Resolve Factory Finder<br />org.omg.CORBA.Object off = bootstrap.resolve_initial_references<br />      (&#8220;FactoryFinder&#8221;);<br />FactoryFinder ff=FactoryFinderHelper.narrow(off);</pre></div><h3 class="pHeading2"><a name="wp1025467"> </a>
Using the FactoryFinder Object to Get a Factory
</h3>
<p class="pBody"><a name="wp1014128"> </a>
CORBA client applications get object references to CORBA objects from factories. A factory is any CORBA object that returns an object reference to another CORBA object and registers itself as a factory. The CORBA client application invokes an operation on a factory to obtain an object reference to a CORBA object of a specific type. To use factories, the CORBA client application must be able to locate the factory it needs. The FactoryFinder object serves this purpose. For information about the function of the FactoryFinder object, see <a href="concepts.html">CORBA Client Application Development Concepts</a>.
</p>
<p class="pBody"><a name="wp1014700"> </a>
The FactoryFinder object has the following methods:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1014705"> </a><code class="cCode">find_factories()</code></li>
<p class="pBodyRelative"><a name="wp1024481"> </a>
Returns a sequence of factories that match the input key exactly.
</p>
<li><a name="wp1014712"> </a><code class="cCode">find_one_factory()</code></li>
<p class="pBodyRelative"><a name="wp1024482"> </a>
Returns one factory that matches the input key exactly.
</p>
<li><a name="wp1014718"> </a><code class="cCode">find_factories_by_id()</code></li>
<p class="pBodyRelative"><a name="wp1024488"> </a>
Returns a sequence of factories whose ID field in the name component matches the input argument.
</p>
<li><a name="wp1014727"> </a><code class="cCode">find_one_factory_by_id()</code></li>
<p class="pBodyRelative"><a name="wp1024497"> </a>
Returns one factory whose ID field in the factory&#8217;s CORBA name component matches the input argument.
</p>
</ul></div>
<p class="pBody"><a name="wp1025176"> </a>
The following C++ and Java examples show how to use the FactoryFinder <code class="cCode">find_one_factory_by_id</code>  method  to get a factory for the Registrar object used in the CORBA client application for the Basic sample applications:
</p>
<p class="pBody"><a name="wp1025181"> </a>
<b class="cBold">C++</b>
</p>
<a name="wp1025182"> </a><div class="pPreformatted"><pre>CORBA::Object_var var_registrar_factory_oref = var_factory_finder_ref-&gt;<br />     find_one_factory_by_id(UniversityB::_tc_RegistrarFactory-&gt;id()<br />);<br />UniversityB::RegistrarFactory_var var_RegistrarFactory_ref =<br />     UniversityB::RegistrarFactory::_narrow(<br />          var_RegistrarFactory_oref.in()<br />     );</pre></div><p class="pBody"><a name="wp1025133"> </a>
<b class="cBold">Java</b>
</p>
<a name="wp1025134"> </a><div class="pPreformatted"><pre>org.omg.CORBA.Object of = FactoryFinder.find_one_factory_by_id<br />    (UniversityB.RegistrarFactoryHelper.id());<br />UniversityB.RegistrarFactory F = UniversityB.RegistrarFactoryHelper.narrow(of);</pre></div><h3 class="pHeading2"><a name="wp1014798"> </a>
Using a Factory to Get a CORBA Object
</h3>
<p class="pBody"><a name="wp1019985"> </a>
CORBA client applications call the factory to get an object reference to a CORBA object. The CORBA client applications then invoke operations on the CORBA object by passing it a pointer to the factory and any arguments that the operation requires. 
</p>
<p class="pBody"><a name="wp1024542"> </a>
The following C++ and Java examples illustrate getting the factory for the Registrar object and then invoking the <code class="cCode">get_courses_details()</code> method on the Registrar object:
</p>
<p class="pBody"><a name="wp1019986"> </a>
<b class="cBold">C++</b>
</p>
<a name="wp1016010"> </a><div class="pPreformatted"><pre>UniversityB::Registrar_var var_Registrar = var_RegistrarFactory-&gt;<br />             find_Registrar();<br />UniversityB::CourseDetailsList_var course_details_list = Registrar_oref-&gt;<br />             get_course_details(CourseNumberList);</pre></div><p class="pBody"><a name="wp1022682"> </a>
<b class="cBold">Java</b>
</p>
<a name="wp1016014"> </a><div class="pPreformatted"><pre>UniversityB.Registrar gRegistrarObjRef = F.find_registrar();<br />gRegistrarObjRef.get_course_details(selected_course_numbers);</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1014752"> </a>
Step 5: Building the CORBA Client Application
</h2><p class="pBody"><a name="wp1013600"> </a>
The final step in the development of the CORBA client application is to produce the executable for the client application. To do this, you need to compile the code and link against the client stub.
</p>
<p class="pBody"><a name="wp1030560"> </a>
When creating CORBA C++ client applications, use the <code class="cCode">buildobjclient</code> command to construct a CORBA client application executable. The command combines the client stubs for interfaces that use static invocation, and the associated header files with the standard Oracle Tuxedo libraries to form a client executable. For the syntax of the<code class="cCode"> buildobjclient </code>command, see the <a href="../rfcm/index.html">Oracle Tuxedo Command Reference.</a>
</p>
<a name="wp1033529"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You must use the <code class="cCode">buildobjclient</code> command to construct a CORBA client application executable.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1016144"> </a>
Server Applications Acting as Client Applications
</h2><p class="pBody"><a name="wp1020127"> </a>
To process a request from a CORBA client application, the CORBA server application may need to request processing from another server application. In this situation, the CORBA server application is acting as a CORBA client application. 
</p>
<p class="pBody"><a name="wp1020128"> </a>
To act as a CORBA client application, the CORBA server application must obtain a Bootstrap object for the current Oracle Tuxedo domain. The Bootstrap object for the CORBA server application is already available via <code class="cCode">TP::Bootstrap</code> (for CORBA C++ client applications). The CORBA server application then uses the FactoryFinder object to locate a factory for the CORBA object that can satisfy the request from the CORBA client application.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1027224"> </a>
Using Java2 Applets
</h2><p class="pBody"><a name="wp1027225"> </a>
The CORBA environment in the Oracle Tuxedo product supports Java2 applets as clients. To run Java2 applets, you need to install the Java Plug-In product from Sun Microsystems, Inc. The Java Plug-in runs Java applets in an HTML page using Sun&#8217;s Java Virtual Machine (JVM).
</p>
<p class="pBody"><a name="wp1027226"> </a>
Before downloading the Java Plug-in kit from the Sun Web site, verify whether or not the Java Plug-In is already installed on your machine.
</p>
<p class="pBody"><a name="wp1027227"> </a>
<b class="cBold">Netscape Navigator</b>
</p>
<p class="pBody"><a name="wp1027228"> </a>
In Netscape Navigator, choose the About Plug-Ins option from the Help menu in the browser window. The following will appear if the Java Plug-In is installed:
</p>
<p class="pBody"><a name="wp1027229"> </a>
<code class="cCode">application/x-java-applet;version 1.2</code>
</p>
<p class="pBody"><a name="wp1027230"> </a>
<b class="cBold">Internet Explorer</b>
</p>
<p class="pBody"><a name="wp1027231"> </a>
From the Start menu in Windows, select the Programs option. If the Java Plug-In is installed, a Java Plug-In Control Panel option will appear.
</p>
<p class="pBody"><a name="wp1027232"> </a>
If the Java Plug-In is not installed,  you need to download and install the JDK1.2 plug-in (<code class="cCode">jre12-win32.exe</code>) and the HTML converter tool (<code class="cCode">htmlconv12.zip</code>). You can obtain both these products from <code class="cCode">java.sun.com/products/plugin</code>. 
</p>
<p class="pBody"><a name="wp1027233"> </a>
You also need to read the<em class="cEmphasis"> Java Plug-In HTML Specification </em>located at <code class="cCode">java.sun.com/products/plugin/1.2/docs</code>. This specification explains the changes Web page authors need to make to their existing HTML code to have existing JDK 1.2 applets run using the Java Plug-In rather that the brower&#8217;s default Java run-time environment.
</p>
<p class="pBody"><a name="wp1027234"> </a>
Write your Java applet. Use the following command to intialize the ORB from the Java applet:
</p>
<a name="wp1027235"> </a><div class="pPreformatted"><pre><code class="cCode">org.omg.CORBA.ORB orb = org.omg.CORBA.ORB.init (this,null);</code></pre></div><p class="pBody"><a name="wp1027236"> </a>
To automatically launch the Java Plug-In when Internet Explorer or Netscape Navigator browses the HTML page for your applet, use the <code class="cCode">OBJECT</code> tag and the <code class="cCode">EMBED</code> tag in the HTML specification. If you use the HTML Converter tool to convert your applet to HTML, these tags are automatically inserted. For more information about using the <code class="cCode">OBJECT</code> and <code class="cCode">EMBED</code> tags, see <code class="cCode">java.sun.com/products/plugin/1.2/docs/tags.html</code>.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="corba.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="concepts.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="dii.html"><img id="LongDescNotReq9" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
