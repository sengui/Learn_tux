<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/usamples/fm/basic.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:51:49" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>The Basic Sample Application</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Guide to CORBA University Sample Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="environ.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="secure.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/usamples.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1062226"> </a>
The Basic Sample Application
</h1>
<p class="pBody"><a name="wp1058546"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1058550"> </a><a href="basic.html#wp1058587">How the Basic Sample Application Works</a></li>
<li><a name="wp1058554"> </a><a href="basic.html#wp1058603">The OMG IDL for the Basic Sample Application</a></li>
<li><a name="wp1058558"> </a><a href="basic.html#wp1058652">Generating the Client Stubs and the Skeletons</a></li>
<li><a name="wp1058562"> </a><a href="basic.html#wp1058660">Writing the Client Application</a></li>
<li><a name="wp1058566"> </a><a href="basic.html#wp1058691">Configuring the Basic Sample Application</a></li>
<li><a name="wp1058570"> </a><a href="basic.html#wp1058702">Building the Basic Sample Application</a></li>
<li><a name="wp1058574"> </a><a href="basic.html#wp1058873">Compiling the Basic Sample Application</a></li>
<li><a name="wp1058578"> </a><a href="basic.html#wp1062631">Running the Basic Sample Application</a></li>
<li><a name="wp1058582"> </a><a href="basic.html#wp1062701">Using the Client Applications in the Basic Sample Application</a></li>
</ul></div>
<a name="wp1063483"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB were deprecated in Tuxedo 8.1 and are no longer supported. All Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB text references, associated code samples, should only be used to help implement/run third party Java ORB libraries, and for programmer reference only.</td></tr>
</table>

<a name="wp1063484"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Technical support for third party CORBA Java ORBs should be provided by their respective vendors. Oracle Tuxedo does not provide any technical support or documentation for third party CORBA Java ORBs.</td>
</tr>
</table>
<p class="pBody"><a name="wp1058584"> </a>
For an explanation of concepts associated with CORBA applications and a description of the development process for CORBA applications, see <a href="../getstart/index.html">Getting Started with Oracle Tuxedo CORBA Applications</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1058587"> </a>
How the Basic Sample Application Works
</h2><p class="pBody"><a name="wp1062973"> </a>
The Basic sample application allows users to browse for available courses and get details on selected courses. <a href="basic.html#wp1062978">Figure&#160;3-1</a> illustrates how the Basic sample application works.
</p>
<div class="pFigureTitle"><a name="wp1062978"> </a>
Figure&#160;3-1  The Basic Sample Application 
</div>

 
 <p class="pGraphic"><a name="wp1062982"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/basicb.gif" alt="The Basic Sample Application " id="wp1062980"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1058596"> </a>
The Basic sample application demonstrates the following features:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1058597"> </a>Creating CORBA client and server applications</li>
<li><a name="wp1058598"> </a>Defining the configuration information for a CORBA application</li>
<li><a name="wp1058599"> </a>Building client and server applications using the CORBA commands and tools provided by the Oracle Tuxedo product.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1058603"> </a>
The OMG IDL for the Basic Sample Application
</h2><p class="pBody"><a name="wp1058604"> </a>
The first step in creating client and server applications is to specify all of the CORBA interfaces and their methods using OMG IDL. The Basic sample application implements the following CORBA interfaces:
</p>
<p class="pGraphic"><a name="wp1058632"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1058607table1058605">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1058607"> </a>
<span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Interface</span>
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1058609"> </a>
Description
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1058611"> </a>
Operations
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058613"> </a>
<code class="cCode">RegistrarFactory</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058615"> </a>
Creates object references to the <code class="cCode">Registrar </code>object.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058617"> </a>
<code class="cCode">find_registrar()</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058619"> </a>
<code class="cCode">Registrar</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058621"> </a>
Obtains course information from the database.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058623"> </a>
<code class="cCode">get_courses_synopsis()</code>
</div>
<div class="pCellBody"><a name="wp1058624"> </a>
<code class="cCode">get_courses_details()</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058626"> </a>
<code class="cCode">CourseSynopsisEnumerator</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058628"> </a>
Gets synopses of courses that match the search criteria from the course database and reads them into memory; returns the first subset of the synopses to the Registrar object, which in turns returns them to the client application; and provides a means for a client application to retrieve the remainder of the synopses. 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058630"> </a>
<code class="cCode">get_next_n()</code>
</div>
<div class="pCellBody"><a name="wp1058631"> </a>
<code class="cCode">destroy()</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1058636"> </a>
<a href="basic.html#wp1058639">Listing&#160;3-1</a> shows the <code class="cCode">univb.idl</code> file that defines the CORBA interfaces in the Basic sample application. A copy of this file is included in the directory for the Basic sample application.
</p>
<div class="pCodeTitle"><a name="wp1058639"> </a>
Listing&#160;3-1	   OMG IDL for the Basic Sample Application
</div> <a name="wp1063854"> </a><div class="pPreformatted"><pre>module UniversityB<br />{<br />&#160;&#160;&#160;&#160;typedef unsigned long CourseNumber;<br />&#160;&#160;&#160;&#160;typedef sequence&lt;CourseNumber&gt; CourseNumberList;<br />&#160;&#160;&#160;&#160;struct CourseSynopsis<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CourseNumber   course_number;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string         title;<br />&#160;&#160;&#160;&#160;};<br />&#160;&#160;&#160;&#160;typedef sequence&lt;CourseSynopsis&gt; CourseSynopsisList;<br /><br />&#160;&#160;&#160;&#160;interface CourseSynopsisEnumerator<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CourseSynopsisList get_next_n(<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in unsigned long number_to_get, <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;out unsigned long number_remaining<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;);<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;void destroy();<br />&#160;&#160;};<br />&#160;&#160;&#160;&#160;typedef unsigned short Days;<br />&#160;&#160;&#160;&#160;const Days MONDAY    =  1;<br />&#160;&#160;&#160;&#160;const Days TUESDAY   =  2;<br />&#160;&#160;&#160;&#160;const Days WEDNESDAY =  4;<br />&#160;&#160;&#160;&#160;const Days THURSDAY  =  8;<br />&#160;&#160;&#160;&#160;const Days FRIDAY    = 16;<br />&#160;&#160;<br />&#160;&#160;&#160;&#160;struct ClassSchedule<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Days           class_days; // bitmask of days<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned short start_hour; // whole hours in military time<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned short duration;   // minutes<br />&#160;&#160;&#160;&#160;};<br />&#160;&#160;&#160;&#160;struct CourseDetails<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CourseNumber   course_number;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;double         cost;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned short number_of_credits;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ClassSchedule  class_schedule; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned short number_of_seats;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string         title;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string         professor;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string         description;<br />&#160;&#160;&#160;&#160;};<br />&#160;&#160;&#160;&#160;typedef sequence&lt;CourseDetails&gt; CourseDetailsList;<br /><br />&#160;&#160;&#160;&#160;interface Registrar<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CourseSynopsisList<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;get_courses_synopsis(<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in string                    search_criteria,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;in unsigned long             number_to_get, // 0 = all<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;out unsigned long            number_remaining,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;out CourseSynopsisEnumerator rest<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;);<br />&#160;&#160;&#160;&#160;CourseDetailsList get_courses_details(in CourseNumberList <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;courses);<br />&#160;&#160;&#160;&#160;interface RegistrarFactory<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Registrar find_registrar(<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;);<br />&#160;&#160;&#160;&#160;};<br />};</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1058652"> </a>
Generating the Client Stubs and the Skeletons
</h2><a name="wp1058653"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The CORBA client applications in the University sample applications use static invocation. For an example of using the dynamic invocation interface, see <a href="../creclient/index.html">Creating CORBA Client Applications</a>. </td>
</tr>
</table>

<p class="pBody"><a name="wp1058654"> </a>
The interface specification defined in OMG IDL is used by the IDL compiler to generate client stubs for the client application and skeletons for the server application. The client stubs are used by the client application for all operation invocations. You use the skeleton, along with the code you write, to create the server application that implements the CORBA objects. For information about generating and using client stubs and skeletons, see <a href="../getstart/index.html">Getting Started with Oracle Tuxedo CORBA Applications</a>.
</p>
<p class="pBody"><a name="wp1058655"> </a>
During the development process, you would use the <code class="cCode">idl</code> command to compile the OMG IDL file and produce client stubs and skeletons. This task has been automated in the <code class="cCode">makefile</code> for the Basic sample application. For a description of the<code class="cCode"> idl</code> command, see the <a href="../rfcm/rfcmd.html">Oracle Tuxedo Command Reference</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1058660"> </a>
Writing the Client Application
</h2><p class="pBody"><a name="wp1058661"> </a>
The CORBA environment in Oracle Tuxedo only supports CORBA C++ types of client applications.
</p>
<p class="pBody"><a name="wp1058666"> </a>
During the development process, you would write client application code that does the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1058667"> </a>Initializes the ORB</li>
<li><a name="wp1058669"> </a>Uses the Bootstrap environmental object or the standard CORBA mechanism to establish communication with the Oracle Tuxedo domain</li>
<li><a name="wp1058670"> </a>Resolves initial references to the FactoryFinder environmental object</li>
<li><a name="wp1058671"> </a>Uses a factory to get an object reference for the <code class="cCode">Registrar</code> object</li>
<li><a name="wp1058672"> </a>Invokes the <code class="cCode">get_courses_synopsis() </code>and <code class="cCode">get_courses_details()</code> methods on the<code class="cCode"> Registrar</code> object</li>
</ul></div>
<p class="pBody"><a name="wp1058673"> </a>
C++ versions of the client application code in the Basic sample application are provided. For information about writing client applications, see<em class="cEmphasis"> <a href="../getstart/index.html"></em>Getting Started with Oracle Tuxedo CORBA Applications<span class="cHyperlink">
</a></span><em class="cEmphasis"> </em>and <a href="../creclient/index.html">Creating CORBA Client Applications</a>.
</p>
<h3 class="pHeading2"><a name="wp1058675"> </a>
Writing the Server Application
</h3>
<p class="pBody"><a name="wp1058677"> </a>
During the development process, you would write the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1058678"> </a>The Server object that initializes the University server application and registers a factory for the<code class="cCode"> Registrar </code>object with the Oracle Tuxedo domain.</li>
<li><a name="wp1058679"> </a>The method implementations for the operations on the<code class="cCode"> Registrar</code>, <code class="cCode">RegistrarFactory</code>, and <code class="cCode">CourseSynopsisEnumerator</code> objects.</li>
</ul></div>
<p class="pBody"><a name="wp1058680"> </a>
C++ code for the Server object and the method implementations in the University server application are provided.
</p>
<p class="pBody"><a name="wp1058684"> </a>
During the development process, you use the<code class="cCode"> genicf </code>command to create an Implementation Configuration File (ICF). You then edit the ICF file to define activation and transaction policies for the <code class="cCode">Registrar</code>, <code class="cCode">RegistrarFactory</code>, and <code class="cCode">CourseSynopsisEnumerator</code> objects. For the Basic sample application, the <code class="cCode">Registrar</code>, <code class="cCode">RegistrarFactory</code>, and <code class="cCode">CourseSynopsisEnumerator</code> objects have an activation policy of <code class="cCode">process</code> and a transaction policy of <code class="cCode">ignore</code>. An ICF file for the Basic sample application is provided.
</p>
<p class="pBody"><a name="wp1058687"> </a>
For information about writing server applications, see <a href="../cservers/index.html">Creating CORBA Server Applications<span class="cHyperlink">
</a></span>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1058691"> </a>
Configuring the Basic Sample Application
</h2><p class="pBody"><a name="wp1058693"> </a>
A key part of any CORBA application is the <code class="cCode">UBBCONFIG </code>file. Although creating a <code class="cCode">UBBCONFIG</code> file is the task of the administrator, it is important for programmers to understand that the file exists and how the file is used. When system administrators create a configuration file, they are describing the CORBA application using a set of parameters that the Oracle Tuxedo software interprets to create a runnable application. 
</p>
<p class="pBody"><a name="wp1058694"> </a>
There are two forms of the configuration file:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1058695"> </a>The <code class="cCode">UBBCONFIG</code> file, an ASCII version of the file, created and modified with any editor. <a href="environ.html">Setting Up Your Environment</a> describes setting the required parameters in the <code class="cCode">UBBCONFIG</code> file used by all University sample applications. </li>
<li><a name="wp1058699"> </a>The <code class="cCode">TUXCONFIG</code> file, a binary version of the <code class="cCode">UBBCONFIG</code> file created using the <code class="cCode">tmloadcf</code> command. When the <code class="cCode">tmloadcf</code> command is executed, the environment variable <code class="cCode">TUXCONFIG</code> must be set to the name and directory location of the <code class="cCode">TUXCONFIG</code> file.</li>
</ul></div>
<p class="pBody"><a name="wp1058700"> </a>
For information about the <code class="cCode">UBBCONFIG</code> file and the <code class="cCode">tmloadcf</code><b class="cBold"> </b>command, see <a href="../ads/adtask.html">Setting Up an Oracle Tuxedo Application</a> and the <a href="../rfcm/rfcmd.html">Oracle Tuxedo Command Reference<span class="cHyperlink">
</a></span>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1058702"> </a>
Building the Basic Sample Application
</h2><p class="pBody"><a name="wp1058703"> </a>
To build the Basic sample application, complete the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1058704"> </a>Copy the files for the Basic sample application into a work directory.</li>
<li><a name="wp1058705"> </a>Change the protection on the files for the Basic sample application.</li>
<li><a name="wp1058706"> </a>Set the environment variables.</li>
<li><a name="wp1058707"> </a>Initialize the University database.</li>
<li><a name="wp1058708"> </a>Load the <code class="cCode">UBBCONFIG</code> file.</li>
<li><a name="wp1058709"> </a>Build the client and server sample applications.</li>
</ol></div>
<p class="pBody"><a name="wp1058710"> </a>
The following sections describe these steps.
</p>
<a name="wp1058711"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Before you can build or run the Basic sample application, you need to complete the steps in <a href="environ.html">Setting Up Your Environment.</a></td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1058717"> </a>
Copying the Files for the Basic Sample Application into a Work Directory
</h3>
<p class="pBody"><a name="wp1058718"> </a>
The files for the Basic sample application are located in the following directories:
</p>
<p class="pBody"><a name="wp1058719"> </a>
<b class="cBold">Windows</b>
</p>
<p class="pBody"><a name="wp1058720"> </a>
<code class="cCodeEmphasis">drive</code><code class="cCode">:\TUXDIR\samples\corba\university</code>\<code class="cCode">basic</code>
</p>
<p class="pBody"><a name="wp1058721"> </a>
<b class="cBold">UNIX</b>
</p>
<p class="pBody"><a name="wp1058722"> </a>
<code class="cCode">/usr/TUXDIR/samples/corba/university</code>/<code class="cCode">basic</code>
</p>
<p class="pBody"><a name="wp1058723"> </a>
In addition, you need to copy the <code class="cCode">utils </code>directory into your work directory. The <code class="cCode">utils</code> directory contains files that set up logging, tracing, and access to the University database.
</p>
<p class="pBody"><a name="wp1058727"> </a>
<a href="basic.html#wp1058734">Table&#160;3-1</a> lists and describes the files you will use to create the Basic sample application.
</p>
<p class="pGraphic"><a name="wp1058837"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1058734table1058728"><caption><a name="wp1058734"> </a>
Table 3-1  Files Included in the Basic Sample Application&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1058738"> </a>
File
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1058740"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058742"> </a>
<code class="cCode">univb.idl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058744"> </a>
The OMG IDL that declares the <code class="cCode">CourseSynopsisEnumerator</code>, <code class="cCode">Registrar</code>, and <code class="cCode">RegistrarFactory</code> interfaces.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058746"> </a>
<code class="cCode">univbs.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058748"> </a>
The C++ source code for the University server application in the Basic sample application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058750"> </a>
<code class="cCode">univb_i.h<br />univb_i.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058752"> </a>
The C++ source code for method implementations of the <code class="cCode">CourseSynopsisEnumerator</code>, <code class="cCode">Registrar</code>, and <code class="cCode">RegistrarFactory</code> interfaces.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058754"> </a>
<code class="cCode">univbc.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058756"> </a>
The C++ source code for the CORBA C++ client application in the Basic sample application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058782"> </a>
<code class="cCode">univb_utils.h<br />univb_utils.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058784"> </a>
The files that define database access functions for the CORBA C++ client application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058786"> </a>
<code class="cCode">univb.icf</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058788"> </a>
The Implementation Configuration File (ICF) for the Basic sample application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058790"> </a>
<code class="cCode">setenvb.sh</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058792"> </a>
A UNIX script that sets the environment variables needed to build and run the Basic sample application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058794"> </a>
<code class="cCode">setenvb.cmd</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058796"> </a>
An MS-DOS command procedure that sets the environment variables needed to build and run the Basic sample application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058798"> </a>
<code class="cCode">ubb_b.mk</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058800"> </a>
The configuration file for the UNIX operating system platform.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058802"> </a>
<code class="cCode">ubb_b.nt</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058804"> </a>
The configuration file for the Windows operating system platform.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058806"> </a>
<code class="cCode">makefileb.mk</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058808"> </a>
The <code class="cCode">makefile</code> for the Basic sample application on the UNIX operating system platform.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058810"> </a>
<code class="cCode">makefileb.nt</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058812"> </a>
The<code class="cCode"> makefile</code> for the Basic sample application on the Windows operating system platform.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058814"> </a>
<code class="cCode">log.cpp</code>, <code class="cCode">log.h</code>, <code class="cCode">log_client.cpp</code>, and <code class="cCode">log_server.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058816"> </a>
The client and server applications that provide logging and tracing functions for the sample applications. These files are located in the <code class="cCode">\utils</code> directory.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058818"> </a>
<code class="cCode">oradbconn.cpp</code> and <code class="cCode">oranoconn.cpp</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058820"> </a>
The files that provide access to an Oracle SQL database instance. These files are located in the <code class="cCode">\utils</code> directory.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058822"> </a>
<code class="cCode">samplesdb.cpp</code> and <code class="cCode">samplesdb.h</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058824"> </a>
The files that provide print functions for the database exceptions in the sample applications. These files are located in the <code class="cCode">\utils</code> directory.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058826"> </a>
<code class="cCode">unique_id.cpp</code> and <code class="cCode">unique_id.h</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058828"> </a>
C++ Unique ID class routines for the sample applications. These files are located in the <code class="cCode">\utils</code> directory.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058830"> </a>
<code class="cCode">samplesdbsql.h</code> and <code class="cCode">samplesdbsql.pc</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058832"> </a>
C++ class methods that implement access to the SQL database. These files are located in the <code class="cCode">\utils</code> directory.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058834"> </a>
<code class="cCode">university.sql</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1058836"> </a>
The SQL for the University database. This file is located in the <code class="cCode">\utils</code> directory.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1058840"> </a>
Changing the Protection on the File for the Basic Sample Application
</h3>
<p class="pBody"><a name="wp1058841"> </a>
During the installation of the Oracle Tuxedo software, the sample application files are marked read-only. Before you can edit the files or build the files in the Basic sample application, you need to change the protection of the files you copied into your work directory, as follows:
</p>
<p class="pBody"><a name="wp1058842"> </a>
<b class="cBold">Windows</b>
</p>
<p class="pBody"><a name="wp1058843"> </a>
<code class="cCode">prompt&gt;attrib -r drive:\</code><code class="cCodeEmphasis">workdirectory</code><code class="cCode">\*.*</code>
</p>
<p class="pBody"><a name="wp1058844"> </a>
<b class="cBold">UNIX</b>
</p>
<p class="pBody"><a name="wp1058845"> </a>
<code class="cCode">prompt&gt;chmod u+rw /</code><code class="cCodeEmphasis">workdirectory</code><code class="cCode">/*.*</code>
</p>
<h3 class="pHeading2"><a name="wp1058847"> </a>
Setting the Environment Variables
</h3>
<p class="pBody"><a name="wp1058848"> </a>
Use the following command to set the environment variables used to build the client and server applications in the Basic sample application:
</p>
<p class="pBody"><a name="wp1058849"> </a>
<b class="cBold">Windows</b>
</p>
<p class="pBody"><a name="wp1058850"> </a>
<code class="cCode">prompt&gt;setenvb</code>
</p>
<p class="pBody"><a name="wp1058851"> </a>
<b class="cBold">UNIX</b>
</p>
<p class="pBody"><a name="wp1058852"> </a>
<code class="cCode">prompt&gt;/bin/ksh</code>
</p>
<p class="pBody"><a name="wp1058853"> </a>
<code class="cCode">prompt&gt;. ./setenvb.sh</code>
</p>
<h3 class="pHeading2"><a name="wp1058855"> </a>
Initializing the University Database
</h3>
<p class="pBody"><a name="wp1058856"> </a>
Use the following command to initialize the University database used with the Basic sample application:
</p>
<p class="pBody"><a name="wp1058857"> </a>
<b class="cBold">Windows</b>
</p>
<p class="pBody"><a name="wp1058858"> </a>
<code class="cCode">prompt&gt;nmake -f makefileb.nt initdb</code>
</p>
<p class="pBody"><a name="wp1058859"> </a>
<b class="cBold">UNIX</b>
</p>
<p class="pBody"><a name="wp1058860"> </a>
<code class="cCode">prompt&gt;make -f makefileb.mk initdb</code>
</p>
<h3 class="pHeading2"><a name="wp1058862"> </a>
Loading the UBBCONFIG File
</h3>
<p class="pBody"><a name="wp1058863"> </a>
Use the following command to load the <code class="cCode">UBBCONFIG</code> file:
</p>
<p class="pBody"><a name="wp1058864"> </a>
<b class="cBold">Windows</b>
</p>
<p class="pBody"><a name="wp1058865"> </a>
<code class="cCode">prompt&gt;tmloadcf -y ubb_b.nt</code>
</p>
<p class="pBody"><a name="wp1058866"> </a>
<b class="cBold">UNIX</b>
</p>
<p class="pBody"><a name="wp1058867"> </a>
<code class="cCode">prompt&gt;tmloadcf -y ubb_b.mk</code>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1058873"> </a>
Compiling the Basic Sample Application
</h2><p class="pBody"><a name="wp1058874"> </a>
During the development process, you would use the<code class="cCode"> buildobjclient</code> and <code class="cCode">buildobjserver</code> commands to build the client and server applications. However, for the Basic sample application, this step has been done for you. 
</p>
<p class="pBody"><a name="wp1058875"> </a>
The directory for the Basic sample application contains a <code class="cCode">makefile</code> that builds the client and server sample applications.
</p>
<p class="pBody"><a name="wp1058876"> </a>
Use the following commands to build the CORBA C++ client and server application in the Basic sample application:
</p>
<p class="pBody"><a name="wp1058877"> </a>
<b class="cBold">Windows</b>
</p>
<a name="wp1058878"> </a><div class="pPreformatted"><pre>prompt&gt;nmake -f makefileb.nt</pre></div><p class="pBody"><a name="wp1058879"> </a>
<b class="cBold">UNIX</b>
</p>
<a name="wp1062629"> </a><div class="pPreformatted"><pre>prompt&gt;make -f makefileb.mk</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1062631"> </a>
Running the Basic Sample Application
</h2><p class="pBody"><a name="wp1058893"> </a>
To run the Basic sample application, complete the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1058894"> </a>Start the University server application.</li>
<li><a name="wp1058895"> </a>Start one or more of the client applications.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1058898"> </a>
Starting the Server Application
</h3>
<p class="pBody"><a name="wp1058899"> </a>
Start the system and sample application server applications in the Basic sample application by entering the following command:
</p>
<p class="pBody"><a name="wp1058900"> </a>
<code class="cCode">prompt&gt;tmboot -y</code>
</p>
<p class="pBody"><a name="wp1058902"> </a>
This command starts the following server processes:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1058903"> </a><code class="cCode">TMSYSEVT</code></li>
<p class="pBodyRelative"><a name="wp1058904"> </a>
The Oracle Tuxedo system EventBroker.
</p>
<li><a name="wp1058905"> </a><code class="cCode">TMFFNAME</code></li>
<p class="pBodyRelative"><a name="wp1058906"> </a>
The transaction management services, including the NameManager and the FactoryFinder services.
</p>
<li><a name="wp1058907"> </a>TMIFSRVR</li>
<p class="pBodyRelative"><a name="wp1058908"> </a>
The Interface Repository server process.
</p>
<li><a name="wp1058909"> </a><code class="cCode">univb_server</code></li>
<p class="pBodyRelative"><a name="wp1058910"> </a>
The University server process.
</p>
<li><a name="wp1058911"> </a><code class="cCode">ISL</code></li>
<p class="pBodyRelative"><a name="wp1058912"> </a>
The IIOP Listener/Handler process.
</p>
</ul></div>
<p class="pBody"><a name="wp1058913"> </a>
Before using another sample application, enter the following command to stop the system and sample application server processes:
</p>
<p class="pBody"><a name="wp1058914"> </a>
<code class="cCode">prompt&gt;tmshutdown</code>
</p>
<h3 class="pHeading2"><a name="wp1058916"> </a>
Starting the CORBA C++ Client Application
</h3>
<p class="pBody"><a name="wp1058917"> </a>
Start the CORBA C++ client application in the Basic sample application by entering the following command:
</p>
<p class="pBody"><a name="wp1062668"> </a>
<code class="cCode">prompt&gt;univb_client</code>
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1062701"> </a>
Using the Client Applications in the Basic Sample Application
</h2><p class="pBody"><a name="wp1062702"> </a>
The following sections briefly explain how to use the client applications that are included in the Basic sample application.
</p>
<h3 class="pHeading2"><a name="wp1062704"> </a>
The CORBA C++ Client Application
</h3>
<p class="pBody"><a name="wp1062705"> </a>
After starting the CORBA C++ client application, a menu with the following options appears:
</p>
<a name="wp1062706"> </a><div class="pPreformatted"><pre>&lt;F&gt;   Find courses</pre></div><a name="wp1062707"> </a><div class="pPreformatted"><pre>&lt;A&gt;   List all courses</pre></div><a name="wp1062708"> </a><div class="pPreformatted"><pre>&lt;D&gt;   Display course details</pre></div><a name="wp1062709"> </a><div class="pPreformatted"><pre>&lt;E&gt;   Exit</pre></div><p class="pBody"><a name="wp1062710"> </a>
To find courses that match a particular curriculum subject, complete the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1062711"> </a>At the Options prompt, enter F.</li>
<li><a name="wp1062712"> </a>Enter a text string at the <code class="cCode">Enter search string:</code> prompt. For example, <code class="cCode">computer</code>. You can enter any combination of uppercase and lowercase letters.</li>
<p class="pBodyRelative"><a name="wp1062713"> </a>
A list of all the courses that match that search string appears.
</p>
</ol></div>
<p class="pBody"><a name="wp1062714"> </a>
To list all the courses in the database, complete the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1062715"> </a>At the Options prompt, enter <code class="cCode">A</code>.</li>
<p class="pBodyRelative"><a name="wp1062716"> </a>
A list of ten courses appears.
</p>
<li><a name="wp1062717"> </a>Enter<code class="cCode"> y </code>to continue viewing lists of ten courses or <code class="cCode">n </code>to return to the Options menu.</li>
</ol></div>
<p class="pBody"><a name="wp1062718"> </a>
To display the details of a particular course, complete the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1062719"> </a>At the Options prompt, enter <code class="cCode">D</code>.</li>
<li><a name="wp1062720"> </a>Enter a course number followed by <code class="cCode">-1</code> at the <code class="cCode">Course Number</code> prompt. For example:</li>
<p class="pBodyRelative"><a name="wp1062721"> </a>
<code class="cCode">100011<br />100039<br />-1</code>
</p>
<p class="pBodyRelative"><a name="wp1062722"> </a>
A summary of that course appears.
</p>
</ol></div>
<p class="pBody"><a name="wp1062723"> </a>
To exit the C++ CORBA client application, enter<code class="cCode"> E</code> at the Options prompt.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="basic.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="environ.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="secure.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
