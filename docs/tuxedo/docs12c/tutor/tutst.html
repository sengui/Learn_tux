<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/tutor/fm/tutst.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:50:35" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Tutorial for STOCKAPP, a Full COBOL Application</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Tutorials for Developing Oracle Tuxedo ATMI Applications
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="tutcs.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="tutsqtxml.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/tutor.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1310315"> </a>
Tutorial for STOCKAPP, a Full COBOL Application
</h1>
<p class="pBody"><a name="wp1306068"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1293912"> </a><a href="tutst.html#wp1293923">What Is STOCKAPP?</a></li>
<li><a name="wp1294455"> </a><a href="tutst.html#wp1178534">Familiarizing Yourself with STOCKAPP</a></li>
<li><a name="wp1297469"> </a><a href="tutst.html#wp1181492">Preparing STOCKAPP Files and Resources</a></li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1297470"> </a><a href="tutst.html#wp1180445">Step 1: How to Set Environment Variables</a></li>
<li><a name="wp1297483"> </a><a href="tutst.html#wp1189524">Step 2: Building Servers in STOCKAPP</a></li>
<li><a name="wp1297492"> </a><a href="tutst.html#wp1183435">Step 3: Editing the STOCKAPP.mk File</a></li>
<li><a name="wp1297562"> </a><a href="tutst.html#wp1078608">Step 4: How to Edit the Configuration File</a></li>
<li><a name="wp1297567"> </a><a href="tutst.html#wp1078701">Step 5: Creating a Binary Configuration File</a></li>
</ul></div>
<li><a name="wp1297474"> </a><a href="tutst.html#wp1182599">Running STOCKAPP</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1293923"> </a>
What Is STOCKAPP?
</h2><p class="pBody"><a name="wp1177584"> </a>
<code class="cCode">STOCKAPP</code> is a sample ATMI stocks application that is provided with the Oracle Tuxedo system software. The application performs the following stock brokering functions: validates and updates a customer&#8217;s account information, and executes buy and sell orders for stocks and/or funds.
</p>
<p class="pBody"><a name="wp1177585"> </a>
This documentation leads you, step-by-step, through the procedure you must perform to develop the <code class="cCode">STOCKAPP</code> application. Once you have &#8220;developed&#8221; <code class="cCode">STOCKAPP</code> through this tutorial, you will be ready to start developing applications of your own. 
</p>
<p class="pBody"><a name="wp1177586"> </a>
The <code class="cCode">STOCKAPP</code> tutorial is presented in three sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1177590"> </a><a href="tutst.html#wp1178534">Familiarizing Yourself with STOCKAPP</a></li>
<li><a name="wp1177594"> </a><a href="tutst.html#wp1181492">Preparing STOCKAPP Files and Resources</a></li>
<li><a name="wp1297572"> </a><a href="tutst.html#wp1182599">Running STOCKAPP</a></li>
</ul></div>
<a name="wp1079473"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This information is focused on system users with some experience in application development, administration, or programming. We assume some familiarity with the Oracle Tuxedo system software. A development license is required to build Oracle Tuxedo applications.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1178534"> </a>
Familiarizing Yourself with STOCKAPP
</h2><p class="pBody"><a name="wp1178523"> </a>
This documentation provides a tour of the files, client, and services that make up the <code class="cCode">STOCKAPP</code> application. Click on any of the following activities for more information about that part of the tour.
</p>
<p class="pGraphic"><a name="wp1178844"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/tours.gif" height="229" width="523" usemap="#tours_gif" alt="STOCKAPP Requests" id="wp1178911"/>
<map name="tours_gif">
<area href="tutst.html#wp1078135" shape="rect" coords="182,20,339,66" />
<area href="tutst.html#wp1183027" shape="rect" coords="182,88,339,138" />
<area href="tutst.html#wp1181335" shape="rect" coords="182,163,339,209" />
</map>
</div><p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1078135"> </a>
Learning About the STOCKAPP Files
</h2><p class="pBody"><a name="wp1078136"> </a>
The files that make up the <code class="cCode">STOCKAPP</code> application are delivered in a directory called <code class="cCode">STOCKAPP</code>, which is positioned as follows: 
</p>
<p class="pGraphic"><a name="wp1078145"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/stock1.gif" alt="STOCKAPP Requests" id="wp1078143"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1078150"> </a>
Exploring the Stock Application Files
</h3>
<p class="pBody"><a name="wp1179761"> </a>
The <code class="cCode">STOCKAPP</code> directory contains the following files:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1179840"> </a>Eight <code class="cCode">.cbl</code> files</li>
<li><a name="wp1179902"> </a>Four clients: <code class="cCode">BUY.cbl</code>, <code class="cCode">SELL.cbl</code>, <code class="cCode">FUNDPR.cbl</code> and <code class="cCode">FUNDUP.cbl</code> </li>
<li><a name="wp1179929"> </a>One conversational server: <code class="cCode">FUNDUPSR.cbl</code></li>
<li><a name="wp1185177"> </a>Three files that are servers or are associated with servers</li>
<li><a name="wp1185178"> </a>Two servers to generate data or transactions for the application</li>
<li><a name="wp1185179"> </a>Files provided to facilitate the use of <code class="cCode">STOCKAPP</code> as an example</li>
</ul></div>
<p class="pBody"><a name="wp1300800"> </a>
<a href="tutst.html#wp1306410">Table&#160;5-1</a> lists the files that make up <code class="cCode">STOCKAPP</code>. The table lists the source files delivered with the Oracle Tuxedo system software, files that are generated when the stock application is built, and a summary of the contents of each file.
</p>
<p class="pGraphic"><a name="wp1306694"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1306410table1306408"><caption><a name="wp1306410"> </a>
Table 5-1  Purpose of the Stock Application Files&#160;

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1306696"> </a>
Source File
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1306698"> </a>
Generated File
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1306700"> </a>
Contents
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306508"> </a>
<code class="cCode">BUY.cbl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306510"> </a>
<code class="cCode">BUY.o</code>
</div>
<div class="pCellBody"><a name="wp1306511"> </a>
<code class="cCode">BUY</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306513"> </a>
Client
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306515"> </a>
<code class="cCode">BUYSR.cbl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306517"> </a>
<code class="cCode">BUYSR.o </code>
</div>
<div class="pCellBody"><a name="wp1306518"> </a>
<code class="cCode">BUYSR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306520"> </a>
Contains <code class="cCode">BUY</code> service
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306522"> </a>
<code class="cCode">ENVFILE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306524"> </a>
<code class="cCode">&#160;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306526"> </a>
<code class="cCode">ENVFILE</code> used by <code class="cCode">tmloadcf</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306528"> </a>
<code class="cCode">FILES</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306530"> </a>
<code class="cCode">&#160;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306532"> </a>
Descriptive list of all the files in <code class="cCode">STOCKAPP</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306534"> </a>
<code class="cCode">FUNDPR.cbl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306536"> </a>
<code class="cCode">FUNDPR.o FUNDPR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306538"> </a>
Client
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306540"> </a>
<code class="cCode">FUNDPRSR.cbl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306542"> </a>
<code class="cCode">FUNDPRSR.o FUNDPRSR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306544"> </a>
Contains <code class="cCode">PRICE QUOTE</code> service
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306546"> </a>
<code class="cCode">FUNDUP.cbl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306548"> </a>
<code class="cCode">FUNDUP.o FUNDUP</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306550"> </a>
Client
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306552"> </a>
<code class="cCode">FUNDUPSR.cbl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306554"> </a>
<code class="cCode">FUNDUPSR.o FUNDUPSR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306556"> </a>
Contains <code class="cCode">FUND UPDATE</code> service
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306558"> </a>
<code class="cCode">README</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306560"> </a>
<code class="cCode">&#160;</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306562"> </a>
Online version of the installation and boot procedures
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306564"> </a>
<code class="cCode">SELL.cbl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306566"> </a>
<code class="cCode">SELL.o SELL</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306568"> </a>
Client
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306570"> </a>
<code class="cCode">SELLSR.cbl</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306572"> </a>
<code class="cCode">SELLSR.o SELLSR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306574"> </a>
Contains <code class="cCode">SELL</code> service
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306576"> </a>
<code class="cCode">STKVAR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306578"> </a>
&#160;
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306580"> </a>
Contains variable settings, except for those within <code class="cCode">ENVFILE</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306582"> </a>
<code class="cCode">STOCKAPP.mk</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306584"> </a>
&#160;
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306586"> </a>
Application makefile
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306588"> </a>
<code class="cCode">UBBCBSHM</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306590"> </a>
<code class="cCode">TUXCONFIG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306592"> </a>
Sample <code class="cCode">UBBCONFIG</code> file for use in a SHM mode configuration
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306594"> </a>
<code class="cCode">cust</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306596"> </a>
<code class="cCode">CUST.cbl cust.V cust.h</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306598"> </a>
View used to define the structure passed between the <code class="cCode">BUY</code> and <code class="cCode">SELL</code> clients and the <code class="cCode">BUYSR</code> and <code class="cCode">SELLSR</code> servers
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306600"> </a>
<code class="cCode">quote</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306602"> </a>
<code class="cCode">QUOTE.cbl quote.V quote.h</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1306604"> </a>
View used to define the structure passed between the <code class="cCode">FUNDPR</code> and <code class="cCode">FUNDUP</code> clients and all the servers
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1300914"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1183064"> </a><a href="tutst.html#wp1178534">Familiarizing Yourself with STOCKAPP</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1183027"> </a>
Examining the STOCKAPP Clients
</h2><p class="pBody"><a name="wp1180783"> </a>
In the ATMI client-server architecture of the Oracle Tuxedo system, there are two modes of communication: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1180784"> </a>Request/response mode, which is characterized by the sending of a single request for a service to be performed by the server and getting back a single response.</li>
<li><a name="wp1180785"> </a>Conversational mode; in this mode a dedicated connection is established between a client (or a server acting like a client) and a server. The connection remains active until terminated. While the connection is active, messages containing service requests and responses can be sent and received between the two participating processes.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1180786"> </a>
System Client Programs
</h3>
<p class="pBody"><a name="wp1180787"> </a>
<a href="tutst.html#wp1180789">Figure&#160;5-1</a> shows the hierarchy for <code class="cCode">STOCKAPP</code>. The user selects one of the four service requests. The oval shapes in the illustration represent application services.
</p>
<div class="pFigureTitle"><a name="wp1180789"> </a>
Figure&#160;5-1  STOCKAPP Requests
</div>

 
 <p class="pGraphic"><a name="wp1180793"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/stockapp.gif" alt="STOCKAPP Requests" id="wp1180791"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1180794"> </a>
Typed Buffers
</h3>
<p class="pBody"><a name="wp1180795"> </a>
Typed buffers are an essential part of the Oracle Tuxedo system. In the Oracle Tuxedo system, a typed buffer is designed to hold a specific data type. Six types are defined: <code class="cCode">VIEW</code>, <code class="cCode">STRING</code>, <code class="cCode">CARRAY</code>, <code class="cCode">X_OCTET</code>, <code class="cCode">X_COMMON</code>, and <code class="cCode">XML</code>. Applications have the ability to define additional types.
</p>
<h3 class="pHeading2"><a name="wp1180796"> </a>
A Request/Response Client: BUY.cbl
</h3>
<p class="pBody"><a name="wp1180797"> </a>
<code class="cCode">BUY</code> is an example of a client program. It makes account inquiries that call on the service <code class="cCode">BUYSR</code>. As an executable, it is invoked as follows: 
</p>
<a name="wp1180798"> </a><div class="pPreformatted"><pre>BUY</pre></div><h4 class="pHeading3"><a name="wp1180799"> </a>
BUY.cbl Source Code
</h4>
<p class="pBody"><a name="wp1180800"> </a>
Review the following sections of the <code class="cCode">BUY.cbl</code> program.
</p>
<a name="wp1180801"> </a><div class="pPreformatted"><pre>* Now register the client with the system<br />* Issue a TPCALL<br />* Clean up</pre></div><p class="pBody"><a name="wp1180802"> </a>
The indicated sections contain all of the places in <code class="cCode">BUY.cbl</code> where the Oracle Tuxedo ATMI functions are used. Similar to <code class="cCode">csimpl.cbl</code>, <code class="cCode">BUY.cbl</code> needs to call <code class="cCode">TPINITIALIZE</code> to join the application; call <code class="cCode">TPCALL</code> to make an RPC request to a service; and call <code class="cCode">TPTERM</code> to leave an application. Note also that <code class="cCode">BUY.cbl</code> is an example of a program that uses a <code class="cCode">VIEW</code> typed record and a structure that is defined in the <code class="cCode">cust</code> file. The source code for the structure can be found in the view description file, <code class="cCode">cust.V</code>.
</p>
<h3 class="pHeading2"><a name="wp1180803"> </a>
Building Clients
</h3>
<p class="pBody"><a name="wp1180804"> </a>
View description files, of which <code class="cCode">cust</code> is an example, are processed by the view compiler, <code class="cCode">viewc(1)</code>. Run <code class="cCode">view</code>(c) to compile the view:
</p>
<a name="wp1197434"> </a><div class="pPreformatted"><pre>viewc-C-n</pre></div><a name="wp1197452"> </a><div class="pPreformatted"><pre>  cust.v</pre></div><p class="pBody"><a name="wp1197439"> </a>
where <code class="cCode">viewc</code> has three output files: a COBOL file (<code class="cCode">CUST.cbl</code>), a binary view description file (<code class="cCode">cust.V</code>), and a header file (<code class="cCode">cust.h</code>).
</p>
<p class="pBody"><a name="wp1180805"> </a>
The client programs, <code class="cCode">BUY.cbl</code>, <code class="cCode">FUNDPR.cbl</code>, <code class="cCode">FUNDUP.cbl</code>, and <code class="cCode">SELL.cbl</code>, are processed by <code class="cCode">buildclient(1)</code> to compile them and/or link edit them with the necessary Oracle Tuxedo libraries.
</p>
<p class="pBody"><a name="wp1180806"> </a>
You can use any of these commands individually, if you choose, but rules for all these steps are included in <code class="cCode">STOCKAPP.mk</code>.
</p>
<h3 class="pHeading2"><a name="wp1180807"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1180811"> </a><span class="cHyperlink">
&#8220;What You Can Do </span><a href="../int/intatm.html"></a>Using the ATMI&#8221; in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
<li><a name="wp1295271"> </a><span class="cHyperlink">
&#8220;What Are Typed </span><a href="../int/intatm.html"></a>Buffers?&#8221; in <em class="cEmphasis">Introducing Oracle Tuxedo ATMI</em></li>
<li><a name="wp1180816"> </a>ATMI commands and functions in <em class="cEmphasis">Oracle Tuxedo Command Reference</em> and <em class="cEmphasis">Oracle Tuxedo ATMI C Function Reference</em></li>
<li><a name="wp1183106"> </a><a href="tutst.html#wp1178534">Familiarizing Yourself with STOCKAPP</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1181335"> </a>
Examining the STOCKAPP Servers
</h2><p class="pBody"><a name="wp1185959"> </a>
This topic provides the following information: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1185960"> </a>A description of a service that is part of the stock application</li>
<li><a name="wp1185961"> </a>A description of the relationships between the <code class="cCode">STOCKAPP</code> services and servers</li>
<li><a name="wp1185981"> </a>Information on the <code class="cCode">buildserver</code> command options used to compile and build each server</li>
</ul></div>
<p class="pBody"><a name="wp1185940"> </a>
ATMI servers are executable processes that offer one or more services. In the Oracle Tuxedo system, they continually accept requests (from processes acting as clients) and dispatch them to the appropriate services. Services are subroutines of COBOL language code written specifically for an application. It is the services accessing a resource manager that provide the functionality for which your Oracle Tuxedo system transaction processing application is being developed. Service routines are one part of the application that must be written by the Oracle Tuxedo system programmer (user-defined clients being another part).
</p>
<p class="pBody"><a name="wp1181338"> </a>
All <code class="cCode">STOCKAPP</code> services use functions provided in the Application-to-Transaction Monitor Interface (ATMI) for performing the following tasks:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1181339"> </a>Communicating synchronously or asynchronously with other services</li>
<li><a name="wp1181340"> </a>Defining global transactions</li>
<li><a name="wp1181341"> </a>Sending replies back to clients</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1181346"> </a>
STOCKAPP Services
</h3>
<p class="pBody"><a name="wp1181347"> </a>
There are four services in <code class="cCode">STOCKAPP</code>. Each <code class="cCode">STOCKAPP</code> service matches a COBOL function name in the source code of a server as shown in the following list: 
</p>
<h4 class="pDefTerm"><a name="wp1181348"> </a>
<code class="cCode">BUYSR</code>
</h4><div class="pDefPara"><a name="wp1181349"> </a>
Buys a fund/stock record; offered by the <code class="cCode">BUYSELL</code> server; accepts a <code class="cCode">VIEW</code> record as input, inserts a <code class="cCode">CUSTFILE</code> record
</div>
<h4 class="pDefTerm"><a name="wp1181350"> </a>
<code class="cCode">SELLSR</code>
</h4><div class="pDefPara"><a name="wp1181351"> </a>
Sells a fund/stock record; offered by the <code class="cCode">BUYSELL</code> server; accepts a <code class="cCode">VIEW</code> record as input, inserts a <code class="cCode">CUSTFILE</code> record
</div>
<h4 class="pDefTerm"><a name="wp1181352"> </a>
<code class="cCode">FUNDPRSR</code>
</h4><div class="pDefPara"><a name="wp1181353"> </a>
Price quote; offered by the <code class="cCode">PRICEQUOTE</code> server; accepts a <code class="cCode">VIEW</code> record as input
</div>
<h4 class="pDefTerm"><a name="wp1181354"> </a>
<code class="cCode">FUNDUPSR</code>
</h4><div class="pDefPara"><a name="wp1181355"> </a>
Fund update; conversational service; offered by <code class="cCode">FUNDUPDATE</code> server; accepts a <code class="cCode">VIEW</code> record as input
</div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1181492"> </a>
Preparing STOCKAPP Files and Resources
</h2><p class="pBody"><a name="wp1181561"> </a>
This documentation leads you through the procedures you must complete to create the files and other resources you need to run <code class="cCode">STOCKAPP</code>.
</p>
<p class="pBody"><a name="wp1297292"> </a>
Click on each task for instructions on completing that task.
</p>
<p class="pGraphic"><a name="wp1181667"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/tourst.gif" height="327" width="520" usemap="#tourst_gif" alt="STOCKAPP Requests" id="wp1181674"/>
<map name="tourst_gif">
<area href="tutst.html#wp1180445" shape="rect" coords="180,20,339,66" />
<area href="tutst.html#wp1189524" shape="rect" coords="180,80,339,127" />
<area href="tutst.html#wp1183435" shape="rect" coords="180,141,339,187" />
<area href="tutst.html#wp1078608" shape="rect" coords="180,198,336,245" />
<area href="tutst.html#wp1078701" shape="rect" coords="180,259,339,306" />
</map>
</div><p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1180445"> </a>
Step 1: How to Set Environment Variables
</h2><p class="pBody"><a name="wp1078272"> </a>
Environment variables required for <code class="cCode">STOCKAPP</code> are defined in the <code class="cCode">STKVAR</code> file. The file is large (approximately 100 lines) because it includes extensive comments.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1194308"> </a>In a text editor, familiarize yourself with the <code class="cCode">STKVAR</code> file. Line 9 ensures that <code class="cCode">TUXDIR</code> is set. If it is not set, execution of the file fails with the following message: </li>
<a name="wp1078277"> </a><div class="pPreformattedRelative"><pre>TUXDIR: parameter null or not set</pre></div><li><a name="wp1078278"> </a>Set <code class="cCode">TUXDIR</code> to the root directory of your Oracle Tuxedo system directory structure, and export it.</li>
<li><a name="wp1078279"> </a>Another line in <code class="cCode">STKVAR</code> sets <code class="cCode">APPDIR</code> to the directory <code class="cCode">{TUXDIR}/samples/atmi/STOCKAPP</code> which is the directory where <code class="cCode">STOCKAPP</code> source files are located: <code class="cCode">APPDIR</code> is a directory where the Oracle Tuxedo system looks for your application-specific files. You might prefer to copy the <code class="cCode">STOCKAPP</code> files to a different directory to safeguard the original source files. If you do, then enter the directory there. It does not have to be under <code class="cCode">TUXDIR</code>.</li>
<a name="wp1079634"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Other variables specified in <code class="cCode">STKVAR</code> play various roles in the sample application; you need to be aware of them when you are developing your own application. By including them in <code class="cCode">STKVAR</code>, we provide you with a template that you may want to adapt at a later time for use with a real application.</td>
</tr>
</table>

<li><a name="wp1078281"> </a>When you have made all necessary changes to <code class="cCode">STKVAR</code>, execute <code class="cCode">STKVAR</code> as follows:</li>
<a name="wp1078282"> </a><div class="pPreformattedRelative"><pre>. ./STKVAR</pre></div><div class="pCodeTitle"><a name="wp1078284"> </a>
Listing&#160;5-1	   STKVAR: Environment Variables for STOCKAPP
</div> <a name="wp1078285"> </a><div class="pPreformatted"><pre>#ident    &quot;@(#)<code class="cCode">samples/atmi</code>:STOCKAPP/STKVAR<br />#<br /># This file sets all the environment variables needed by the TUXEDO software<br /># to run the STOCKAPP<br />#<br /># This directory contains all the TUXEDO software<br /># System administrator must set this variable<br />#<br />TUXDIR=${TUXDIR:?}<br />#<br /># This directory contains all the user written code<br />#<br /># Contains the full path name of the directory that the application<br /># generator should place the files it creates<br />#<br />APPDIR=${HOME}/STOCKAPP<br />#<br /># Environment file to be used by tmloadcf<br />#<br />COBDIR=${COBDIR:?}<br />#<br /># This directory contains the cobol files needed<br /># for compiling and linking.<br />#<br />LD_LIBRARY_PATH=$COBDIR/coblib:${LD_LIBRARY_PATH}<br />#<br /># Add coblib to LD_LIBRARY_PATH<br />#<br />ENVFILE=${APPDIR}/ENVFILE<br />#<br /># List of field table files to be used by CBLVIEWC, tmloadcf, etc.<br />#<br />FIELDTBLS=fields,Usysflds<br />#<br /># List of directories to search to find field table files<br />#<br />FLDTBLDIR=${TUXDIR}/udataobj:${APPDIR}<br />#<br /># Set device for the transaction log; this should match the TLOGDEVICE<br /># parameter under this site&#39;s LMID in the *MACHINES section of the<br /># UBBCBSHM file<br />#<br />TLOGDEVICE=${APPDIR}/TLOG<br />#<br /># Device for the configuration file<br />#<br />UBBCBSHM=$APPDIR/UBBCBSHM<br />#<br /># Device for binary file that gives /T all its information<br />#<br />TUXCONFIG=${APPDIR}/TUXCONFIG<br />#<br /># Set the prefix of the file which is to contain the central user log;<br /># this should match the ULOGPFX parameter under this site&#39;s LMID in the<br /># *MACHINES section of the UBBCONFIG file<br />#<br />ULOGPFX=${APPDIR}/ULOG<br />#<br /># List of directories to search to find view files<br />#<br />VIEWDIR=${APPDIR}<br />#<br /># List of view files to be used by CBLVIEWC, tmloadcf, etc.<br />#<br />VIEWFILES=quote.V,cust.V<br />#<br /># Set the COBCPY<br />#<br />COBCPY=$TUXDIR/cobinclude<br />#<br /># Set the COBOPT<br />#<br />COBOPT=&quot;-C ANS85 -C ALIGN=8 -C NOIBMCOMP -C TRUNC=ANSI -C OSEXT=cbl&quot;<br />#<br /># Set the CFLAGS<br />#<br />CFLAGS=&quot;-I$TUXDIR/include -I$TUXDIR/sysinclude&quot;<br />#<br /># Export all variables just set<br />#<br />export TUXDIR APPDIR ENVFILE<br />export FIELDTBLS FLDTBLDIR TLOGDEVICE<br />export UBBCBSHM TUXCONFIG ULOGPFX LD_LIBRARY_PATH<br />export VIEWDIR VIEWFILES COBDIR COBCPY COBOPT CFLAGS<br />#<br /># Add TUXDIR/bin to PATH if not already there<br />#<br />a=&quot;`echo $PATH | grep ${TUXDIR}/bin`&quot;<br />if [ x&quot;$a&quot; = x ]<br />then<br />PATH=${TUXDIR}/bin:${PATH}<br />export PATH<br />fi<br />#<br /># Add APPDIR to PATH if not already there<br />#<br />a=&quot;`echo $PATH | grep ${APPDIR}`&quot;<br />if [ x&quot;$a&quot; = x ]<br />then<br />PATH=${PATH}:${APPDIR}<br />export PATH<br />fi<br />#<br /># Add COBDIR to PATH if not already there<br />#<br />a=&quot;`echo $PATH | grep ${COBDIR}`&quot;<br />if [ x&quot;$a&quot; = x ]<br />then<br />PATH=${PATH}:${COBDIR}<br />export PATH<br />fi</pre></div></ol></div>
<h3 class="pHeading2"><a name="wp1078287"> </a>
Additional Requirements
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1079881"> </a>On AIX, set <code class="cCode">LIBPATH</code> instead of <code class="cCode">LD_LIBRARY_PATH</code>. </li>
<li><a name="wp1079971"> </a>On HP-UX, set <code class="cCode">SHLIB_PATH</code> instead of <code class="cCode">LD_LIBRARY_PATH</code>.</li>
<li><a name="wp1080104"> </a>If your operating system is Sun Solaris, you need to: put <code class="cCode">/usr/5bin</code> at the beginning of your <code class="cCode">PATH</code>. The following command can be used: </li>
<a name="wp1080105"> </a><div class="pPreformattedRelative"><pre>PATH=/usr/5bin:$PATH;export PATH</pre></div><p class="pBodyRelative"><a name="wp1183433"> </a>
Use <code class="cCode">/bin/sh</code> rather than <code class="cCode">csh</code> for your shell.
</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1183434"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1183438"> </a><a href="tutst.html#wp1181492">Preparing STOCKAPP Files and Resources</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1189524"> </a>
Step 2: Building Servers in STOCKAPP
</h2><p class="pBody"><a name="wp1189525"> </a>
<code class="cCode">buildserver</code> is used to put together an executable ATMI server. Options identify the names of the output file, the input files provided by the application, and various libraries that permit you to run an Oracle Tuxedo system application in a variety of ways.
</p>
<p class="pBody"><a name="wp1189526"> </a>
<code class="cCode">buildserver</code> with the <code class="cCode">-C</code> option invokes the <code class="cCode">cobcc</code> command. The environment variables <code class="cCode">ALTCC</code> and <code class="cCode">ALTCFLAGS</code> can be set to name an alternative compile command and to set flags for the compile and link edit phases. The key <code class="cCode">buildserver</code> command-line options are illustrated in the examples that follow.
</p>
<p class="pBody"><a name="wp1189528"> </a>
The <code class="cCode">buildserver</code> command is used in <code class="cCode">STOCKAPP.mk</code> to compile and build each server in the stock application. (Refer to <a href="../rfcm/rfcmd.html">buildserver(1)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference</em> for complete details.)
</p>
<h3 class="pHeading2"><a name="wp1189529"> </a>
How to Build the BUYSELL Server
</h3>
<p class="pBody"><a name="wp1304398"> </a>
The <code class="cCode">BUYSELL</code> ATMI server is derived from files that contain the code for the <code class="cCode">BUYSR</code> and <code class="cCode">SELLSR</code> functions. The <code class="cCode">BUYSELL</code> server is first compiled to a <code class="cCode">BUYSELL.o</code> file before supplying it to the <code class="cCode">buildserver</code> command so that any compile-time errors can be clearly identified and dealt with before this step. 
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1194328"> </a>Create the <code class="cCode">BUYSELL.o</code> file (performed for you in <code class="cCode">STOCKAPP.mk</code>). The <code class="cCode">buildserver</code> command that was used to build the <code class="cCode">BUYSELL</code> server follows: </li>
<a name="wp1189531"> </a><div class="pPreformatted"><pre>buildserver -C -v -o BUYSELL -s SELLSR -f SELLSR.cbl -s BUYSR -f BUYSR.cbl</pre></div><p class="pBodyRelative"><a name="wp1189532"> </a>
The explanation of the command-line options follows: 
</p>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1189533"> </a>The <code class="cCode">-C</code> option is used to build servers with COBOL modules.</li>
<li><a name="wp1189534"> </a>The <code class="cCode">-v</code> option is used to specify the verbose mode. It writes the <code class="cCode">cc</code> command to its standard output.</li>
<li><a name="wp1297713"> </a>The <code class="cCode">-o</code> option is used to assign a name to the executable output file. If no name is provided, the file is named <code class="cCode">SERVER</code>.</li>
<li><a name="wp1299052"> </a>The <code class="cCode">-s</code> option is used to specify the service names in the server that are available to be advertised when the server is booted. If the name of the function that performs a service is different from the service name, the function name becomes part of the argument of the <code class="cCode">-s</code> option. In the <code class="cCode">STOCKAPP</code>, the function name is the same as the name of the service so only the service names themselves need to be specified. It is our convention to specify all uppercase for the service name. However, the <code class="cCode">-s</code> option of <code class="cCode">buildserver</code> does allow you to specify an arbitrary name for the processing function for a service within a server. Refer to the <a href="../rfcm/rfcmd.html">buildserver(1)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference </em>for details. It is also possible for the administrator to specify that only a subset of the services that were used to create the server with the <code class="cCode">buildserver</code> command is to be available when the server is booted. For more information, refer to <em class="cEmphasis">Administering an Oracle Tuxedo Application at Run Time</em> and <em class="cEmphasis">Setting Up an Oracle Tuxedo Application</em>.</li>
<li><a name="wp1189538"> </a>The <code class="cCode">-f</code> option specifies the files that are used in the link-edit phase. Also refer to the <code class="cCode">-l</code> option on the <code class="cCode">buildserver</code> reference page. For more detail information on both of these options, refer to the <span class="cHyperlink">
&#8220;Building</span><a href="../pgc/pgserv.html"></a> Servers&#8221; in <em class="cEmphasis">Programming Oracle Tuxedo ATMI Applications Using COBOL</em>. There is a significance to the order in which the files are listed. The order is dependent on function references and in what libraries the references are resolved. Source modules should be listed ahead of libraries that might be used to resolve their references. If these are <code class="cCode">.cbl</code> files, they are first compiled. Object files can be either separate <code class="cCode">.o</code> files or groups of files in archive (<code class="cCode">.a</code>) files. If more than a single filename is given as an argument to a <code class="cCode">-f</code>, the syntax calls for a list enclosed in double quotes. You can use as many <code class="cCode">-f</code> options as you need.</li>
<li><a name="wp1189539"> </a>The <code class="cCode">-s</code> option names the <code class="cCode">SELLSR</code> and <code class="cCode">BUYSR</code> services to be the services that comprise the <code class="cCode">BUYSELL</code> server. The <code class="cCode">-o</code> option assigns the name <code class="cCode">BUYSELL</code> to the executable output file and the <code class="cCode">-f</code> option specifies that the <code class="cCode">SELLSR.cbl</code> and the <code class="cCode">BUYSR.cbl</code> files are to be used in the link edit phase of the build.</li>
</ul></div>
</ol></div>
<h3 class="pHeading2"><a name="wp1189540"> </a>
Servers Built in STOCKAPP.mk
</h3>
<p class="pBody"><a name="wp1189541"> </a>
The topics on creating the <code class="cCode">STOCKAPP</code> servers are important to your understanding of how the <code class="cCode">buildserver</code> command is specified. However, in actual practice you are apt to incorporate the build into a makefile; that is the way it is done in <code class="cCode">STOCKAPP</code>. 
</p>
<h3 class="pHeading2"><a name="wp1189542"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1189546"> </a><a href="tutst.html#wp1178534">Familiarizing Yourself with STOCKAPP</a></li>
<li><a name="wp1189611"> </a><a href="../rfcm/rfcmd.html">buildserver(1)</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1183435"> </a>
Step 3: Editing the STOCKAPP.mk File
</h2><p class="pBody"><a name="wp1078550"> </a>
STOCKAPP includes a <code class="cCode">makefile</code> that makes all scripts executable, converts the view description file to binary format, and does all the precompiles, compiles, and builds necessary to create the application servers. It can also be used to clean up when you want to make a fresh start.
</p>
<p class="pBody"><a name="wp1078552"> </a>
As STOCKAPP.mk is delivered, there are a few fields you may want to edit, and some others that may benefit from some explanation.
</p>
<h3 class="pHeading2"><a name="wp1078553"> </a>
How to Edit the TUXDIR Parameter
</h3>
<p class="pBody"><a name="wp1078554"> </a>
Go to the following comment in <code class="cCode">STOCKAPP.mk</code> and to the TUXDIR parameter: 
</p>
<a name="wp1078555"> </a><div class="pPreformatted"><pre>#<br /># Root directory of TUXEDO System. This file must either be edited to set<br /># this value correctly, or the correct value must be passed via &quot;make -f<br /># STOCKAPP.mk TUXDIR=/correct/rootdir&quot;, or the build of STOCKAPP will fail.<br />#<br />TUXDIR=../..</pre></div><p class="pBody"><a name="wp1078556"> </a>
You should set the TUXDIR parameter to the absolute pathname of the root directory of your Oracle Tuxedo system installation.
</p>
<h3 class="pHeading2"><a name="wp1078557"> </a>
How to Edit the APPDIR Parameter
</h3>
<p class="pBody"><a name="wp1078558"> </a>
You may want to give some thought to the setting of the APPDIR parameter. As STOCKAPP is delivered, APPDIR is set to the directory in which the STOCKAPP files are located, relative to TUXDIR. The following section of STOCKAPP.mk defines and describes the setting of <code class="cCode">APPDIR</code>.
</p>
<a name="wp1078559"> </a><div class="pPreformatted"><pre>#<br /># Directory where the STOCKAPP application source and executables live.<br /># This file must either be edited to set this value correctly, or the<br /># correct value must be passed via &quot;make -f STOCKAPP.mk<br /># APPDIR=/correct/appdir&quot;, or the build of STOCKAPP will fail.<br />#<br />APPDIR=$(TUXDIR)/<code class="cCode">samples/atmi</code>/STOCKAPP<br />#</pre></div><p class="pBody"><a name="wp1078560"> </a>
If you have copied the files to another directory, as suggested in the README file, you should set <code class="cCode">APPDIR</code> to the name of the directory to which you copied the files. When you run the <code class="cCode">makefile</code>, the application will be built in this directory.
</p>
<h3 class="pHeading2"><a name="wp1078561"> </a>
How to Run the STOCKAPP.mk File
</h3>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1078562"> </a>When you have completed the changes you wish to make to STOCKAPP.mk, run it with the following command line:</li>
<a name="wp1078563"> </a><div class="pPreformattedRelative"><pre>nohup make -f STOCKAPP.mk install &amp;</pre></div><li><a name="wp1078564"> </a>Check the nohup.out file to make sure the process completed successfully.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1183480"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1183478"> </a><a href="tutst.html#wp1181492">Preparing STOCKAPP Files and Resources</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1078608"> </a>
Step 4: How to Edit the Configuration File
</h2><p class="pBody"><a name="wp1078610"> </a>
The <code class="cCode">STOCKAPP</code> configuration file defines how an application runs on a set of machines. <code class="cCode">STOCKAPP</code> is delivered with a configuration file in text format described in <code class="cCode">UBBCONFIG(5)</code>. <code class="cCode">UBBCBSHM</code>, defines an application on a single computer.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1194542"> </a>In a text editor, familiarize yourself with the configuration file for <code class="cCode">STOCKAPP</code>.</li>
<div class="pCodeTitle"><a name="wp1078621"> </a>
Listing&#160;5-2	   UBBCBSHM Configuration File Fields to Be Replaced 
</div> <a name="wp1078622"> </a><div class="pPreformatted"><pre>&#160;&#160;&#160;&#160;&#160;&#160;#Copyright (c) 1992 Unix System Laboratories, Inc.<br />&#160;&#160;&#160;&#160;&#160;&#160;#All rights reserved<br />&#160;&#160;&#160;&#160;&#160;&#160;#Skeleton UBBCONFIG file for the TUXEDO COBOL Sample Application.<br />&#160;&#160;&#160;&#160;&#160;&#160;*RESOURCES<br />&#160;&#160;&#160;&#160;&#160;&#160;IPCKEY                     5226164<br />&#160;&#160;&#160;&#160;&#160;&#160;DOMAINID            STOCKAPP <br />001   UID                 &lt;<code class="cCodeEmphasis">user id from id(1)</code>&gt;<br />002   GID                 &lt;<code class="cCodeEmphasis">group id from id(1)</code>&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;MASTER                     SITE1<br />&#160;&#160;&#160;&#160;&#160;&#160;PERM                0660<br />&#160;&#160;&#160;&#160;&#160;&#160;MAXACCESSERS               20<br />&#160;&#160;&#160;&#160;&#160;&#160;MAXSERVERS          15<br />&#160;&#160;&#160;&#160;&#160;&#160;MAXSERVICES         30<br />&#160;&#160;&#160;&#160;&#160;&#160;MODEL               SHM<br />&#160;&#160;&#160;&#160;&#160;&#160;LDBAL               Y<br />&#160;&#160;&#160;&#160;&#160;&#160;MAXGTT                     100<br />&#160;&#160;&#160;&#160;&#160;&#160;MAXBUFTYPE          16<br />&#160;&#160;&#160;&#160;&#160;&#160;MAXBUFSTYPE         32<br />&#160;&#160;&#160;&#160;&#160;&#160;SCANUNIT                   10<br />&#160;&#160;&#160;&#160;&#160;&#160;SANITYSCAN          12<br />&#160;&#160;&#160;&#160;&#160;&#160;DBBLWAIT                   6<br />&#160;&#160;&#160;&#160;&#160;&#160;BBLQUERY                   180<br />&#160;&#160;&#160;&#160;&#160;&#160;BLOCKTIME           10<br />&#160;&#160;&#160;&#160;&#160;&#160;TAGENT                     &#8220;TAGENT&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;#<br />&#160;&#160;&#160;&#160;&#160;&#160;*MACHINES<br />003   &lt;<code class="cCodeEmphasis">SITE1&#39;s uname</code>&gt;     LMID=SITE1<br />004 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TUXDIR=&quot;&lt;<code class="cCodeEmphasis">TUXDIR1</code>&gt;&quot;<br />005 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;APPDIR=&quot;&lt;<code class="cCodeEmphasis">APPDIR1</code>&gt;&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ENVFILE=&quot;&lt;<code class="cCodeEmphasis">APPDIR1</code>&gt;/ENVFILE&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TUXCONFIG=&quot;&lt;<code class="cCodeEmphasis">APPDIR1</code>&gt;/TUXCONFIG&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TUXOFFSET=0<br />006&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TYPE=&quot;&lt;<code class="cCodeEmphasis">machine type</code>&gt;&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ULOGPFX=&quot;&lt;<code class="cCodeEmphasis">APPDIR</code>&gt;/ULOG&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;MAXWSCLIENTS=5<br />&#160;&#160;&#160;&#160;&#160;&#160;#<br />&#160;&#160;&#160;&#160;&#160;&#160;*GROUPS<br />&#160;&#160;&#160;&#160;&#160;&#160;COBAPI              LMID=SITE1         GRPNO=1<br />&#160;&#160;&#160;&#160;&#160;&#160;#<br />&#160;&#160;&#160;&#160;&#160;&#160;#<br />&#160;&#160;&#160;&#160;&#160;&#160;*SERVERS<br />&#160;&#160;&#160;&#160;&#160;&#160;FUNDUPSR SRVGRP=COBAPI      SRVID=1 CONV=Y ENVFILE=&quot;&lt;APPDIR1&gt;/ENVFILE&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;FUNDPRSR SRVGRP=COBAPI      SRVID=2 ENVFILE=&quot;&lt;APPDIR1&gt;/ENVFILE&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;BUYSELL  SRVGRP=COBAPI      SRVID=3 ENVFILE=&quot;&lt;APPDIR1&gt;/ENVFILE&quot;<br />&#160;&#160;&#160;&#160;&#160;&#160;#<br />&#160;&#160;&#160;&#160;&#160;&#160;#<br />&#160;&#160;&#160;&#160;&#160;&#160;*SERVICES</pre></div><li><a name="wp1182443"> </a>To enable the application password feature, add the following line to the <code class="cCode">RESOURCES</code> section of <code class="cCode">UBBCBSHM</code>:</li>
<a name="wp1081211"> </a><div class="pPreformattedRelative"><pre>SECURITY   APP_PW</pre></div><li><a name="wp1182453"> </a>You may notice that the values of some parameters are enclosed in angle brackets (&lt;&gt;). Values shown in angle brackets are generic; you need to replace them with values that pertain to your installation. All of these fields occur within the <code class="cCode">RESOURCES</code>, <code class="cCode">MACHINES</code>, and <code class="cCode">GROUPS</code> sections in the file. <a href="tutst.html#wp1304778">Table&#160;5-2</a> describes the values with which you must replace the angle-bracketed strings. For each <code class="cCode">string</code>, substitute an appropriate value.</li>
<p class="pGraphic"><a name="wp1304775"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1304778table1304776"><caption><a name="wp1304778"> </a>
Table 5-2  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Explanation of Values&#160;</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1304806"> </a>
Line
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1304808"> </a>
String to Be Replaced
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1304810"> </a>
Purpose
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304812"> </a>
001
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304814"> </a>
<code class="cCode">UID</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304816"> </a>
The effective user ID for the owner of the bulletin board IPC structures. In a multiprocessor configuration, the value must be the same on all machines. You avoid problems if this is the same as the owner of the Oracle Tuxedo software.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304818"> </a>
002
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304820"> </a>
<code class="cCode">GID</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304822"> </a>
The effective group ID for the owner of the bulletin board IPC structures. In a multiprocessor configuration, the value must be the same on all machines. Users of the application should share this group ID.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304824"> </a>
003
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304826"> </a>
<code class="cCode">SITE1 name</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304828"> </a>
The node name of the machine. Use the value produced by the UNIX command: <br /><code class="cCode">uname -n</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304830"> </a>
004
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304832"> </a>
<code class="cCode">TUXDIR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304834"> </a>
The absolute pathname of the root directory for the Oracle Tuxedo system software. Make this a global change to put the value in all occurrences of &lt;<code class="cCode">TUXDIR1&gt;</code> in the file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304836"> </a>
005
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304838"> </a>
<code class="cCode">APPDIR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304840"> </a>
The absolute pathname of the directory where the application runs. Make this a global change to put the value in all occurrences of &lt;<code class="cCode">APPDIR1&gt;</code> in the file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304842"> </a>
006
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304844"> </a>
<code class="cCodeEmphasis">machine type</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1304846"> </a>
This parameter is important in a networked application where machines of different types are present. The Oracle Tuxedo system checks for the value on all communication between machines. Only if the values are different are the message <code class="cCode">encode/decode</code> routines called to convert the data.
</div>
</td>
</tr>
</table>
</div>

</p>
</ol></div>
<h3 class="pHeading2"><a name="wp1078660"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1078661"> </a><a href="tutst.html#wp1181492">Preparing STOCKAPP Files and Resources</a></li>
<li><a name="wp1184682"> </a><a href="../rf5/rf5.html">UBBCONFIG(5)</a> in <em class="cEmphasis">File Formats, Data Descriptions, MIBs, and System Processes Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1078701"> </a>
Step 5: Creating a Binary Configuration File
</h2><h3 class="pHeading2"><a name="wp1078706"> </a>
Before Creating the Binary Configuration File
</h3>
<p class="pBody"><a name="wp1194687"> </a>
Before creating the binary configuration file, you need to be in the directory in which your <code class="cCode">STOCKAPP</code> files are located and you must set the environment variables. Complete the following tasks.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1182497"> </a>Go to the directory in which your <code class="cCode">STOCKAPP</code> files are located.</li>
<li><a name="wp1182505"> </a>Set the environment variables by entering:</li>
<a name="wp1078707"> </a><div class="pPreformattedRelative"><pre>. ./STKVAR</pre></div></ol></div>
<h3 class="pHeading2"><a name="wp1078708"> </a>
How to Load the Configuration File
</h3>
<p class="pBody"><a name="wp1182524"> </a>
Once you have finished editing the configuration file, you must load it into a binary file on your <code class="cCode">MASTER</code> machine. The name of the binary configuration file is <code class="cCode">TUXCONFIG</code>; its path name is defined in the <code class="cCode">TUXCONFIG</code> environment variable. The file should be created by a person with the effective user ID and group ID of the Oracle Tuxedo system administrator, which should be the same as the <code class="cCode">UID</code> and <code class="cCode">GID</code> values in your configuration file. If this requirement is not met, you may have permission problems in running <code class="cCode">STOCKAPP</code>. 
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1194701"> </a>To create <code class="cCode">TUXCONFIG</code>, enter the following command: </li>
<a name="wp1182525"> </a><div class="pPreformattedRelative"><pre>    tmloadcf <code class="cCode">UBBCBSHM</code></pre></div><p class="pBodyRelative"><a name="wp1182526"> </a>
While the configuration file is being loaded, you are prompted several times to confirm that you want to install this configuration, even if doing so means an existing configuration file must be overwritten. If you want to suppress such prompts, include the <code class="cCode">-y</code> option on the command line.
</p>
<li><a name="wp1182527"> </a>If you want the amount of IPC resources needed by your application to be calculated by the Oracle Tuxedo system, include the <code class="cCode">-c</code> option on the command line.</li>
<p class="pBodyRelative"><a name="wp1182528"> </a>
<code class="cCode">TUXCONFIG</code> can be installed only on the <code class="cCode">MASTER</code> machine; it is propagated to other machines by <code class="cCode">tmboot</code> when the application is booted. 
</p>
<p class="pBodyRelative"><a name="wp1182529"> </a>
If you have specified <code class="cCode">SECURITY</code> as an option for the configuration, <code class="cCode">tmloadcf</code> prompts you to enter an application password. The password you select can be up to 30 characters long. Client processes joining the application are required to supply the password.
</p>
<p class="pBodyRelative"><a name="wp1078713"> </a>
<code class="cCode">tmloadcf</code> parses the text configuration file (<code class="cCode">UBBCONFIG</code>) for syntax errors before it loads it, so if there are errors in the file, the job fails.
</p>
</ol></div>
<h3 class="pHeading2"><a name="wp1078714"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1092587"> </a><a href="tutst.html#wp1181492">Preparing STOCKAPP Files and Resources</a></li>
<li><a name="wp1183548"> </a><a href="../rfcm/rfcmd.html">tmloadcf(1)</a> in <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1182599"> </a>
 Running STOCKAPP
</h2><p class="pBody"><a name="wp1182565"> </a>
This documentation leads you through the procedures for booting <code class="cCode">STOCKAPP</code>, testing it by running various client programs and transactions, and shutting it down when you have finished. 
</p>
<p class="pBody"><a name="wp1297297"> </a>
Click on each task for instructions on completing that task.
</p>
<p class="pGraphic"><a name="wp1182615"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/tourun.gif" height="283" width="523" usemap="#tourun_gif" alt="STOCKAPP Requests" id="wp1182628"/>
<map name="tourun_gif">
<area href="tutst.html#wp1092589" shape="rect" coords="184,9,340,55" />
<area href="tutst.html#wp1092643" shape="rect" coords="184,77,340,127" />
<area href="tutst.html#wp1078829" shape="rect" coords="184,152,339,198" />
<area href="tutst.html#wp1082419" shape="rect" coords="184,223,339,270" />
</map>
</div><p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1092589"> </a>
Step 1: How to Prepare to Boot
</h2><div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1092680"> </a>Before booting <code class="cCode">STOCKAPP</code>, verify that your machine has enough IPC resources to support your application. To generate a report on IPC resources, run the <code class="cCode">tmboot</code> command with the <code class="cCode">-c</code> option. </li>
<div class="pCodeTitle"><a name="wp1092681"> </a>
Listing&#160;5-3	   IPC Report 
</div> <a name="wp1314002"> </a><div class="pPreformatted"><pre>    Ipc sizing (minimum /T values only)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Fixed Minimums Per Processor<br />    SHMMIN: 1<br />    SHMALL: 1<br />    SEMMAP: SEMMNI<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Variable Minimums Per Processor<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SEMUME,           A                             SHMMAX<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SEMMNU,           *                               *<br />    Node            SEMMNS  SEMMSL  SEMMSL  SEMMNI  MSGMNI  MSGMAP  SHMSEG<br />    ------          ------  ------  ------  ------  ------  ------  ------<br />    machine 1               60       1      60   A + 1      10      20     76K<br />    machine 2               63       5      63   A + 1      11      22     76K<br />    where 1 &lt;= A &lt;= 8.</pre></div><li><a name="wp1107918"> </a>You should add the number of application client used per processor to each <code class="cCode">MSGMNI</code> value. <code class="cCode">MSGMAP</code> should be twice <code class="cCode">MSGMNI</code>. </li>
<li><a name="wp1182670"> </a>Compare the minimum IPC requirements to the parameters set for your machine. The location of these parameter settings is platform-dependent:</li>
<div class="pSmartList2Bullet"><ul>
<li><a name="wp1182671"> </a>On many UNIX system platforms, machine parameters are defined in <code class="cCode">/etc/conf/cf.d/mtune</code>.</li>
<li><a name="wp1182693"> </a>On Windows 2003 platforms, machine parameters are set and displayed through a control panel. </li>
</ul></div>
</ol></div>
<h3 class="pHeading2"><a name="wp1183552"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1183553"> </a><a href="tutst.html#wp1182599">Running STOCKAPP</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1092643"> </a>
Step 2: How to Boot STOCKAPP
</h2><div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1182804"> </a>Set the environment: </li>
<a name="wp1182805"> </a><div class="pPreformattedRelative"><pre>../STKVAR </pre></div><li><a name="wp1182806"> </a>Boot the application by entering the following: </li>
<a name="wp1182807"> </a><div class="pPreformattedRelative"><pre>    tmboot</pre></div><p class="pBodyRelative"><a name="wp1182808"> </a>
The following prompt is displayed: 
</p>
<a name="wp1182809"> </a><div class="pPreformattedRelative"><pre>    Boot all admin and server processes? (y/n): y</pre></div><p class="pBodyRelative"><a name="wp1182810"> </a>
When you enter <code class="cCode">y</code> after the prompt, a running report, such as the following, is displayed on the screen:
</p>
<a name="wp1182811"> </a><div class="pPreformattedRelative"><pre>Booting all admin and server processes in /usr/me/appdir/tuxconfig<br />Booting all admin processes<br />exec BBL -A:<br />           process id=24223 Started.</pre></div></ol></div>
<p class="pBody"><a name="wp1182812"> </a>
The report continues until all servers in the configuration have been started. It ends by reporting the total number of servers started. 
</p>
<p class="pBody"><a name="wp1182813"> </a>
If you prefer, you can boot only a portion of the configuration. For example, to boot only administrative servers, include the <code class="cCode">-A</code> option. If no options are specified, the entire application is booted. 
</p>
<p class="pBody"><a name="wp1182814"> </a>
In addition to reporting on the number of servers booted, <code class="cCode">tmboot</code> also sends messages to the <code class="cCode">ULOG</code>.
</p>
<h3 class="pHeading2"><a name="wp1078760"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1078766"> </a><a href="tutst.html#wp1182599">Running STOCKAPP</a></li>
<li><a name="wp1183568"> </a><a href="../rfcm/rfcmd.html">tmboot(1)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
<li><a name="wp1078944"> </a><a href="../rf3cbl/rf3cbl.html">USERLOG(3cbl)</a> in the <em class="cEmphasis">Oracle Tuxedo ATMI COBOL Function Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1078829"> </a>
Step 3: How to Test STOCKAPP Services
</h2><div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1182927"> </a>If you are logging in cold to a running system, you must set your environment for <code class="cCode">STOCKAPP</code>. To do so, enter the following command:</li>
<a name="wp1078831"> </a><div class="pPreformattedRelative"><pre>../STKVAR</pre></div><li><a name="wp1078835"> </a>Run the <code class="cCode">BUY</code> client program. To execute the <code class="cCode">BUY</code> client program, enter the following command:</li>
<a name="wp1078840"> </a><div class="pPreformattedRelative"><pre>BUY</pre></div><li><a name="wp1186007"> </a>Monitor <code class="cCode">STOCKAPP</code>. While <code class="cCode">STOCKAPP</code> is running, run the <code class="cCode">tmadmin</code> subcommands and try various commands with it to see the kind of status information you can produce.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1183586"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1183580"> </a><a href="tutst.html#wp1182599">Running STOCKAPP</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1082419"> </a>
Step 4: How to Shut Down STOCKAPP
</h2><p class="pBody"><a name="wp1183009"> </a>
To bring down <code class="cCode">STOCKAPP</code>, enter the <code class="cCode">tmshutdown(1)</code> command with no arguments, from the <code class="cCode">MASTER</code> machine, as follows.
</p>
<a name="wp1183010"> </a><div class="pPreformattedRelative"><pre>    tmshutdown</pre></div><p class="pBody"><a name="wp1183011"> </a>
Running this command (or the shutdown command of <code class="cCode">tmadmin</code>) causes the following results:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1183012"> </a>All application servers, gateway servers, TMS servers, and administrative servers are shut down.</li>
<li><a name="wp1183022"> </a>All associated IPC resources are removed.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1078848"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1078850"> </a><a href="tutst.html#wp1182599">Running STOCKAPP</a></li>
<li><a name="wp1183595"> </a><a href="../rfcm/rfcmd.html">tmadmin(1)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference</em> </li>
<li><a name="wp1078899"> </a><a href="../rfcm/rfcmd.html">tmshutdown(1)</a> in the <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
</ul></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="tutst.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="tutcs.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="tutsqtxml.html"><img id="LongDescNotReq9" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
