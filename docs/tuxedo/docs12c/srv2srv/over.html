<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/srv2srv/fm/over.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:45:57" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Understanding CORBA Server-to-Server Communication </title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Using CORBA Server-to-Server Communication
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="cplus.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/srv2srv.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1026825"> </a>
Understanding CORBA Server-to-Server Communication 
</h1>
<p class="pBody"><a name="wp1018509"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025281"> </a><a href="over.html#wp1018517">Overview of CORBA Server-to-Server Communication</a></li>
<li><a name="wp1025300"> </a><a href="over.html#wp1018581">Joint Client/Server Applications</a></li>
<li><a name="wp1025319"> </a><a href="over.html#wp1025930">Object Policies for Callback Objects</a></li>
</ul></div>
<a name="wp1027006"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>The Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB were deprecated in Tuxedo 8.1 and are no longer supported. All Oracle Tuxedo CORBA Java client and Oracle Tuxedo CORBA Java client ORB text references, associated code samples, should only be used to help implement/run third party Java ORB libraries, and for programmer reference only.</td></tr>
</table>

<a name="wp1027007"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>Technical support for third party CORBA Java ORBs should be provided by their respective vendors. Oracle Tuxedo does not provide any technical support or documentation for third party CORBA Java ORBs.</td>
</tr>
</table>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1018517"> </a>
Overview of CORBA Server-to-Server Communication
</h2><p class="pBody"><a name="wp1025207"> </a>
CORBA server-to-server communication allows Oracle Tuxedo applications to invoke CORBA objects and handle invocations from those CORBA objects (referred to as callback objects). The CORBA objects can be either inside or outside of an Oracle Tuxedo domain. 
</p>
<p class="pBody"><a name="wp1025337"> </a>
The Oracle Tuxedo product offers an implementation of the Internet Inter-ORB Protocol (IIOP) version 1.2, which provides inbound and outbound communication with the CORBA objects. Server-to-server communication provides more efficient use of network resources and provides integration with third-party Object Request Brokers (ORBs). In addition, server-to-server communication is supported with CORBA objects that are implemented using IIOP versions 1.0 and 1.1.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1018581"> </a>
Joint Client/Server Applications
</h2><p class="pBody"><a name="wp1018634"> </a>
Server-to-server communication allows client applications to act as server applications for requests from other client applications. In addition, server-to-server communication allows Oracle Tuxedo server applications to invoke objects on other ORBs. 
</p>
<a name="wp1026017"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>In earlier versions of the Oracle Tuxedo and WebLogic Enterprise products, client applications invoked operations defined in Object Management Group (OMG) Interface Definition Language (IDL) on a CORBA object. The server applications implemented the operations of the CORBA object. The CORBA objects in the server application used Oracle Tuxedo TP Framework and environmental objects to implement state management, security, and transactions. These CORBA objects are referred to as Oracle Tuxedo objects. Server applications could act as client applications for other server applications; however, client applications could not <span style="font-style: normal">act</span><em class="cEmphasis"> </em>as server applications for other client applications.</td>
</tr>
</table>

<p class="pBody"><a name="wp1025060"> </a>
The server-to-server communication functionality is available through a callback object. A callback object has two purposes: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025441"> </a>It invokes operations on either Oracle Tuxedo or CORBA objects.</li>
<li><a name="wp1025442"> </a>It implements the operations of a CORBA object. </li>
</ul></div>
<p class="pBody"><a name="wp1025443"> </a>
Callback objects do not use the TP Framework and are not subject to Oracle Tuxedo administration. You should use them only when transactional behavior, security, reliability, and scalability are not important.
</p>
<p class="pBody"><a name="wp1025148"> </a>
Callback objects are implemented in joint client/server applications. A joint client/server application consists of the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1019698"> </a>Program logic that performs Oracle Tuxedo client application functions, such as initializing the ORB, using the Oracle Tuxedo environmental objects to establish connections, resolving initial references to the FactoryFinder object, and using factories to create Oracle Tuxedo objects</li>
<li><a name="wp1023795"> </a>Program logic that creates a servant for a callback object and activates the callback object using an object ID</li>
</ul></div>
<a name="wp1026106"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Release 8.0 of the CORBA environment in the Oracle Tuxedo CORBA product continues to include the Oracle client environmental objects provided in earlier releases of Oracle WebLogic Enterprise for use with the Oracle Tuxedo 8.0 CORBA clients. Oracle Tuxedo 8.0 clients should use these environmental objects to resolve initial references to bootstrapping, security, and transaction objects. In this release, support has been added for using the OMG Interoperable Naming Service (INS) to resolve initial references to bootstrapping, security, and transaction objects. For information on INS, see Chapter 4, &#8220;CORBA Bootstrapping Programming Reference&#8221; in the <a href="../CORBA_ref/index.html"><a href="../CORBA_ref/index.html">CORBA Programming Reference</a>.</td>
</tr>
</table>

<p class="pBody"><a name="wp1019472"> </a>
<a href="over.html#wp1026356">Figure&#160;1-1</a> shows the structure of a joint client/server application.
</p>
<div class="pFigureTitle"><a name="wp1026356"> </a>
Figure&#160;1-1  Structure of a Joint Client/Server Application
</div>

 
 <p class="pBodyRelative"><a name="wp1026360"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/server2server.gif" alt="Structure of a Joint Client/Server Application" id="wp1026358"/></div><p class="pBodyRelative">

</p>
<p class="pBody"><a name="wp1023994"> </a>
C++ joint client/server applications are supported. 
</p>
<p class="pBody"><a name="wp1023654"> </a>
Joint client/server applications use IIOP to communicate with the Oracle Tuxedo server applications. IIOP can work in the following ways, depending on the version of the IIOP protocol you are using:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025466"> </a>Bidirectional</li>
<p class="pBodyRelative"><a name="wp1024490"> </a>
Joint client/server applications are always connected to the same IIOP Server Handler (ISH) in the Oracle Tuxedo domain. That ISH reuses the same connection to send requests to and receive requests from the joint client/server application.
</p>
<li><a name="wp1025434"> </a>Dual-paired connection </li>
<p class="pBodyRelative"><a name="wp1024546"> </a>
Joint client/server applications use the register_callback_port method of the Bootstrap object to register the listening port of the joint client/server application in the ISH. Invocations from server applications on the callback object in the joint client/server application are routed through the ISH connected to the joint client/server application. This ISH uses a second outbound connection to send requests to and receive replies from the connected joint client/server application. The outbound connection is paired with the incoming connection. This differs from bidirectional IIOP, which uses only one connection.
</p>
<li><a name="wp1024648"> </a>Asymmetric</li>
<p class="pBodyRelative"><a name="wp1024655"> </a>
Joint client/server applications can invoke on any callback object, and are not restricted to invoking callback objects implemented in joint client/server applications connected to an ISH. Asymmetric IIOP forces the ORB infrastructure to search for an available ISH to handle the invocation. 
</p>
</ul></div>
<a name="wp1025849"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Depending on the type of remote object and the desired outbound IIOP configuration, you may have to perform additional programming tasks.</td>
</tr>
</table>

<p class="pBody"><a name="wp1026286"> </a>
<a href="over.html#wp1025859">Table&#160;1-1</a> lists the requirements for each type of object and outbound IIOP configuration.
</p>
<p class="pGraphic"><a name="wp1027085"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1025859table1025853"><caption><a name="wp1025859"> </a>
Table 1-1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Programming Requirements for Using Outbound IIOP&#160;</span>

</caption>

  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1026159"> </a>
Types of Objects
</div>
</td>
    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1026161"> </a>
Asymmetric Requirements
</div>
</td>
    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1026163"> </a>
Paired-connection Requirements
</div>
</td>
    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1026165"> </a>
Bidirectional Requirements
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025875"> </a>
Remote joint client/servers
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025877"> </a>
Set <code class="cCode">ISL CLOPT -O</code> option.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025879"> </a>
Use the <code class="cCode">Tobj_Bootstrap::register_callback_port</code> method to register the callback port.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025881"> </a>
Use the <code class="cCode">CORBA::ORB::create_policy</code> method to set <code class="cCode">BiDirPolicy</code> on the POA.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025883"> </a>
Foreign (non<br />Oracle-Tuxedo) ORBs
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025888"> </a>
Set <code class="cCode">ISL CLOPT -O</code> option.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025890"> </a>
Not applicable.
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025892"> </a>
If the foreign ORB supports the POA and <code class="cCode">BiDirPolicy</code>, use the <code class="cCode">CORBA::ORB::create_policy</code> method to set <code class="cCode">BiDirPolicy</code> on the POA.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025894"> </a>
Remote clients
</div>
</td>
    <td class="straddledcells" colspan="3" rowspan="1"><div class="pCellBody"><a name="wp1025896"> </a>
Remote clients are not servers, so outbound IIOP is not possible.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025902"> </a>
Native joint client/servers
</div>
</td>
    <td class="straddledcells" colspan="3" rowspan="1"><div class="pCellBody"><a name="wp1025904"> </a>
Outbound IIOP is not used.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025910"> </a>
Native clients
</div>
</td>
    <td class="straddledcells" colspan="3" rowspan="1"><div class="pCellBody"><a name="wp1025912"> </a>
Outbound IIOP is not used.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1025934"> </a>
For a more detailed description of bidirectional, dual-paired connnection, and asymmetric IIOP, see the<em class="cEmphasis"> <a href="../CORBA_ref/index.html"></em>CORBA Programming Reference</a>.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1025930"> </a>
Object Policies for Callback Objects
</h2><p class="pBody"><a name="wp1022572"> </a>
Callback objects are assigned policies that control how long an object reference is valid and how an object ID is assigned to the object. Object policies are defined when the reference to the callback object is created. In addition, they can be defined in the Callbacks Wrapper object, which simplifies the development of joint client/server applications. 
</p>
<p class="pBody"><a name="wp1022570"> </a>
The following object policies are supported for callback objects:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022412"> </a>Transient/System ID&#8212;the object reference for this type of callback object is valid only for the life of the joint client/server application. The object ID is assigned by the Oracle Tuxedo system. This type of object is used for invocations that a joint client/server application wants to receive only until it terminates.</li>
<li><a name="wp1022416"> </a>Persistent/System ID&#8212;the object reference for this type of callback object is valid across multiple invocations in a joint client/server application. The object ID is assigned by the Oracle Tuxedo system. This type of object is useful in joint client/server applications that stop and restart over a period of time. When the joint client/server application is running, it can receive requests on a particular callback object with that object reference. Typically, the joint client/server application creates the object reference once, saves it in its own permanent storage area, and reactivates the servant for the object every time the joint client/server application is started.</li>
<li><a name="wp1022386"> </a>Persistent/User ID&#8212;this object policy is the same as Persistent/System ID, except that the object ID is assigned by the joint client/server application.</li>
</ul></div>
<p class="pBody"><a name="wp1024709"> </a>
When creating a callback object with an object policy of transient, the object reference is valid only until the joint client/server application is terminated or until the<code class="cCode"> stop_all_objects</code> method is called.
</p>
<p class="pBody"><a name="wp1024716"> </a>
When creating a callback object with an object policy of persistent, the object reference is valid even after the termination of the joint client/server application. If the joint client/server application terminates, restarts, and activates a servant for the same object ID, the servant accepts requests made on that object reference.
</p>
<a name="wp1023696"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>If you are creating a native joint client/server application (that is, a joint client/server application that is located in the same Oracle Tuxedo domain as the server applications that invoke it), you cannot use the Persistent/System ID or Persistent/User ID object policies.</td>
</tr>
</table>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="over.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="index.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="cplus.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
