<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/tech_articles/fm/CORBAobjects.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:46:57" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>CORBA Objects</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">CORBA Technical Articles
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="CORBA.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="DPprocent.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/tech_articles.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1023961"> </a>
CORBA Objects
</h1>
<p class="pBody"><a name="wp1022363"> </a>
Before any discussion of CORBA programming can be meaningful, it is important to have a clear understanding of what a CORBA object is and the object terminology used throughout the Oracle Tuxedo information set. 
</p>
<p class="pBody"><a name="wp1022367"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022368"> </a><a href="CORBAobjects.html#wp1022376">Definition of a CORBA Object</a></li>
<li><a name="wp1022369"> </a><a href="CORBAobjects.html#wp1022397">How a CORBA Object Comes into Being</a></li>
<li><a name="wp1022370"> </a><a href="CORBAobjects.html#wp1022430">Components of a CORBA Object</a></li>
<li><a name="wp1022371"> </a><a href="CORBAobjects.html#wp1022479">Where an Object Gets Its Operations</a></li>
<li><a name="wp1022372"> </a><a href="CORBAobjects.html#wp1022541">How Object Invocation Works</a></li>
</ul></div>
<p class="pBody"><a name="wp1022373"> </a>
There are a number of variations on the definition of an object, depending on what architecture or programming language is involved. For example, the concept of a C++ object is significantly different from the concept of a CORBA object. Also, the notion of a Component Object Model (COM) object is quite different from the notion of a CORBA object. 
</p>
<p class="pBody"><a name="wp1022374"> </a>
Most importantly, the notion of a CORBA object in this chapter is consistent with the definition presented by the Object Management Group (OMG). The OMG has a number of specifications and other documents that go into complete details on objects.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022376"> </a>
Definition of a CORBA Object
</h2><p class="pBody"><a name="wp1022377"> </a>
A CORBA object is a virtual entity in the sense that it does not exist on its own, but rather is brought to life when, using the reference to that CORBA object, the client application requests an operation on that object. The reference to the CORBA object is called an <b class="cBold">object reference</b>. The object reference is the only means by which a CORBA object can be addressed and manipulated in an Oracle Tuxedo system. For more information about object references, see <a href="../cservers/index.html">Creating CORBA Server Applications</a> in the Oracle Tuxedo online documentation. 
</p>
<p class="pBody"><a name="wp1022387"> </a>
When the client or server application issues a request on an object via an object reference, the Oracle Tuxedo server application instantiates the object specified by the object reference, if the object is not already active in memory. (Note that a request always maps to a specific operation invocation on an object.)
</p>
<p class="pBody"><a name="wp1022391"> </a>
Instantiating an object typically involves the server application initializing the object&#8217;s state, which may include having the object&#8217;s state read from durable storage, such as a database.
</p>
<p class="pBody"><a name="wp1022392"> </a>
The object contains all the data necessary to do the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022393"> </a>Execute the object&#8217;s operations.</li>
<li><a name="wp1022394"> </a>Store the object&#8217;s state in durable storage when the object is no longer needed.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022397"> </a>
How a CORBA Object Comes into Being
</h2><p class="pBody"><a name="wp1022398"> </a>
The data that makes up a CORBA object may have its origin as a record in a database. The record in the database is the persistent, or durable, state of the object. This record becomes accessible via a CORBA object in an Oracle Tuxedo domain when the following sequence has occurred:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1022402"> </a>The server application&#8217;s factory creates a reference for the object. The object reference includes information about how to locate the record in the database. </li>
<li><a name="wp1022403"> </a>Using the object reference created by the factory, the client application issues a request on the object.</li>
<li><a name="wp1022404"> </a>The object is instantiated. The object is instantiated by the TP Framework by invoking the <code class="cCode">Server::create_servant</code> method, which exists in the Server object. </li>
<li><a name="wp1022411"> </a>The Oracle Tuxedo domain invokes the <code class="cCode">activate_object</code> operation on the object, which causes the record containing state to be read into memory.</li>
</ol></div>
<p class="pBody"><a name="wp1022413"> </a>
Whereas a language object exists only within the boundaries of the execution of the application, a CORBA object may exist across processes and machine systems. The Oracle Tuxedo system provides the mechanism for constructing an object and for making that object accessible to the application. 
</p>
<p class="pBody"><a name="wp1022419"> </a>
The Oracle Tuxedo CORBA server application programmer is responsible for writing the code that initializes an object&#8217;s state and the code that handles that object&#8217;s state after the object is no longer active in the application. If the object has data in durable storage, this code includes the operations that read from and write to durable storage. For more information about developing server applications, see <a href="../cservers/index.html">Creating CORBA Server Applications</a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022430"> </a>
Components of a CORBA Object
</h2><p class="pBody"><a name="wp1022431"> </a>
CORBA objects typically have the following components, shown in the figure that follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022432"> </a>An ID, also known as an object ID, or OID</li>
<li><a name="wp1022433"> </a>An interface, which specifies the CORBA object&#8217;s data and operations</li>
<p class="pGraphic"><a name="wp1022886"> </a>
<br />
<img src="wwimages/corbaobj.gif" height="245" width="257" id="wp1022912"/><br />

</p>
</ul></div>
<p class="pBody"><a name="wp1022438"> </a>
The sections that follow describe each of these object components in detail.
</p>
<h3 class="pHeading2"><a name="wp1022439"> </a>
The Object ID
</h3>
<p class="pBody"><a name="wp1022440"> </a>
The object ID (OID) associates an object with its state, such as a database record, and identifies the instance of the object. When the factory creates an object reference, the factory assigns an OID that may be based on parameters that are passed to the factory in the request for the object reference.
</p>
<a name="wp1022441"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The server application programmer must create the factories used in the Oracle Tuxedo client/server application. The programmer is responsible for writing the code that assigns OIDs. Factories, and examples of creating them, are discussed in <a href="../cservers/index.html">Creating CORBA Server Applications</a>.</td>
</tr>
</table>

<p class="pBody"><a name="wp1022453"> </a>
The Oracle Tuxedo system can determine how to instantiate the object by using the following information:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022455"> </a>The OID</li>
<li><a name="wp1022456"> </a>Addressing data in the object reference</li>
<li><a name="wp1022457"> </a>The group ID in the object reference</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1022458"> </a>
The Object Interface
</h3>
<p class="pBody"><a name="wp1022459"> </a>
The object&#8217;s interface, described in the application&#8217;s OMG IDL file, identifies the set of data and operations that can be performed on an object. For example, the interface for a university teller object would identify:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022460"> </a>The data types associated with the object, such as a teller ID, cash in the teller&#8217;s drawer; and the data managed by the object, such as an account.</li>
<li><a name="wp1022461"> </a>The operations that can be performed on that object, such as obtaining an account&#8217;s current balance, debiting an account, or crediting an account.</li>
</ul></div>
<p class="pBody"><a name="wp1022462"> </a>
One distinguishing characteristic of a CORBA object is the run-time separation of the interface definition from its data and operations. In a CORBA system, a CORBA object&#8217;s interface definition may exist in a component called the Interface Repository. The data and operations are specified by the interface definition, but the data and operations exist in the server application process when the object is activated.
</p>
<h4 class="pHeading3"><a name="wp1022464"> </a>
The Object&#8217;s Data
</h4>
<p class="pBody"><a name="wp1022465"> </a>
The object&#8217;s data includes all of the information that is specific to an object class or an object instance. For example, within the context of a university application, a typical object might be a teller. The data of the teller could be:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022466"> </a>An ID</li>
<li><a name="wp1022467"> </a>The amount of cash in the teller&#8217;s drawer</li>
<li><a name="wp1022468"> </a>The number of transactions the teller has processed during a given interval, such as a day or month</li>
</ul></div>
<p class="pBody"><a name="wp1022469"> </a>
You can encapsulate the object&#8217;s data in an efficient way, such as by combining the object&#8217;s data in a structure to which you can get access by means of an attribute. Attributes are a conventional way to differentiate the object&#8217;s data from its operations.
</p>
<h4 class="pHeading3"><a name="wp1022471"> </a>
The Object&#8217;s Operations
</h4>
<p class="pBody"><a name="wp1022472"> </a>
The object&#8217;s operations are the set of routines that can perform work using the object&#8217;s data. For example, some of the operations that perform functions using teller object might include:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022473"> </a><code class="cCode">get_balance()</code></li>
<li><a name="wp1022474"> </a><code class="cCode">credit()</code></li>
<li><a name="wp1022475"> </a><code class="cCode">debit()</code></li>
</ul></div>
<p class="pBody"><a name="wp1022476"> </a>
In a CORBA system, the body of code you write for an object&#8217;s operations is sometimes called the object implementation, which is explained in the next section.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022479"> </a>
Where an Object Gets Its Operations
</h2><p class="pBody"><a name="wp1022480"> </a>
As explained in the preceding section, the data that makes up a CORBA object may exist in a record in a database. Alternatively, the data could be established for a CORBA object only when the object is active in memory. This section explains how to write operations for a CORBA object and how to make the operations a part of the object.
</p>
<p class="pBody"><a name="wp1022481"> </a>
The operations you write for a given CORBA object are also known as the object&#8217;s <em class="cEmphasis">implementation</em>. You can think of the implementation as the code that provides the behavior of the object. When you create an Oracle Tuxedo CORBA client/server application, one of the steps you take is to compile the application&#8217;s OMG IDL file. The OMG IDL file contains statements that describe the application&#8217;s interfaces and the operations that can be performed on those interfaces. 
</p>
<p class="pBody"><a name="wp1022485"> </a>
If you are implementing your server application in C++, one of the several files optionally produced by the IDL compiler is a template for the <b style="font-style: italic" class="cBold">implementation file</b>. The template for the implementation file contains default constructors and method signatures for your application&#8217;s objects. The implementation file is where you write the code that implements an object; that is, this file contains the business logic of the operations for a given interface.
</p>
<p class="pBody"><a name="wp1022488"> </a>
The Oracle Tuxedo system implements an interface as a CORBA object. The IDL compiler also produces other files, which get built into the Oracle Tuxedo CORBA client and server application, that make sure that the implementation you write for a given object gets properly connected to the correct object data during run time.
</p>
<p class="pBody"><a name="wp1022493"> </a>
This is where the notion of a servant comes in. A servant is an instance of the object class; that is, a servant is an instance of the method code you wrote for each operation in the implementation file. When the Oracle Tuxedo CORBA client and server applications are running, and a client request arrives in the server application for an object that is not active -- that is, the object is not in memory -- the following events occur:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1022497"> </a>If no servant is currently available for the needed object, the Oracle Tuxedo system invokes the <code class="cCode">Server::create_servant </code>method on the Server object. </li>
<p class="pBodyRelative"><a name="wp1023311"> </a>
The <code class="cCode">Server::create_servant</code> method is entirely user-written. The code that you write for the <code class="cCode">Server::create_servant</code> method instantiates the servant needed for the request. Your code can use the interface name, which is passed as a parameter to the <code class="cCode">Server::create_servant </code>method, to determine the type of servant that the Oracle Tuxedo domain creates.
</p>
<p class="pBodyRelative"><a name="wp1022512"> </a>
The servant that the Oracle Tuxedo domain creates is a specific <em class="cEmphasis">servant object instance</em> (it is not a CORBA object), and this servant contains an executable version of the operations you wrote earlier that implement the CORBA object needed for the request.
</p>
<li><a name="wp1022516"> </a>The Oracle Tuxedo domain passes control to the servant, and optionally invokes the servant&#8217;s <code class="cCode">activate_object</code> method, if you have implemented it. Invoking the <code class="cCode">activate_object</code> method gives life to the CORBA object, as follows:</li>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<li><a name="wp1022518"> </a>You write the code for the <code class="cCode">activate_object</code> method. The parameter to the <code class="cCode">activate_object </code>method is the string value of the object ID for the object to be activated. You may use the object ID as a key to how to initialize the object.</li>
<li><a name="wp1022519"> </a>You initialize the CORBA object&#8217;s data, which may involve reading state data from durable storage, such as from a record in a database.</li>
<li><a name="wp1022520"> </a>The servant&#8217;s operations become bound to the data, and the combination of those operations and the data establish the activated CORBA object.</li>
<p class="pBodyRelative"><a name="wp1022521"> </a>
After steps a, b, and c are completed, the CORBA object is said to be activated.
</p>
<p class="pBodyRelative"><a name="wp1022522"> </a>
Implementing the <code class="cCode">activate_object</code> method on an object is optional. For more information about when you want to implement this operation on an object, see <a href="../cservers/index.html">Creating CORBA Server Applications</a> in the Oracle Tuxedo online documentation. 
</p>
</ol></div>
</ol></div>
<a name="wp1022529"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>A servant is not a CORBA object. In fact, the servant is represented as a language object. The server performs operations on an object via its servant. </td>
</tr>
</table>

<p class="pBody"><a name="wp1022532"> </a>
For more information about creating object implementations, see <a href="../cservers/index.html">Creating CORBA Server Applications</a> in the Oracle Tuxedo online documentation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1022541"> </a>
How Object Invocation Works
</h2><p class="pBody"><a name="wp1022542"> </a>
Since CORBA objects are meant to function in a distributed environment, OMG has defined an architecture for how object invocation works. A CORBA object can be invoked in one of two ways:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1022543"> </a>By means of generated client stubs and skeletons -- sometimes referred to as stub-style invocation.</li>
<li><a name="wp1022544"> </a>By means of the dynamic invocation interface -- referred to as dynamic invocation.</li>
</ul></div>
<p class="pBody"><a name="wp1022547"> </a>
<a href="../creclient/index.html">Creating CORBA Client Applications</a> describes how dynamic invocation works. This section describes stub-style invocation, which is simpler to use than dynamic invocation.
</p>
<p class="pBody"><a name="wp1022549"> </a>
When you compile your application&#8217;s OMG IDL file, one file that the compiler generates is a source file called the <b style="font-style: italic" class="cBold">client stub</b>. The client stub maps OMG IDL operation definitions for an object type to the operations in the CORBA server application that the Oracle Tuxedo system invokes to satisfy a request. The client stub contains code generated during the client application build process that is used in sending the request to the server application. Programmers should never modify the client stub code.
</p>
<p class="pBody"><a name="wp1022553"> </a>
Another file produced by the IDL compiler is the <b style="font-style: italic" class="cBold">skeleton</b>, which is also a source file. The skeleton contains code used for operation invocations on each interface specified in the OMG IDL file. The skeleton is a map that points to the appropriate code in the CORBA object implementation that can satisfy the client request. The skeleton is connected to both the object implementation and the Oracle Tuxedo Object Request Broker.
</p>
<p class="pBody"><a name="wp1023168"> </a>
The following figure shows the client application, the client stub, the skeleton, and the CORBA object implementation:
</p>
<p class="pGraphic"><a name="wp1022981"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/hm3winvk.gif" height="197" width="504" id="wp1022985"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1023225"> </a>
When a client application sends a request, the request is implemented as an operation on the client stub. When the client stub receives the request, the client stub sends the request to the Object Request Broker (ORB), which then sends the request through the Oracle Tuxedo system to the skeleton. The ORB interoperates with the TP Framework and the Portable Object Adapter (POA) to locate the correct skeleton and object implementation.
</p>
<p class="pBody"><a name="wp1023053"> </a>
For more information about generating client stubs and skeletons, see <a href="../creclient/index.html">Creating CORBA Client Applications</a> and <a href="../cservers/index.html">Oracle Tuxedo ATMI C Function Reference</a> in the Oracle Tuxedo online documentation.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="CORBAobjects.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="CORBA.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="DPprocent.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
