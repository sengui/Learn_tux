<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/tech_articles/fm/DPprocent.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:46:59" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Process-Entity Design Pattern</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">CORBA Technical Articles
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="CORBAobjects.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="DPcache.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/tech_articles.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1024692"> </a>
Process-Entity Design Pattern
</h1>
<p class="pBody"><a name="wp1018515"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1019052"> </a><a href="DPprocent.html#wp1019031">About the Process-Entity Design Pattern</a></li>
<li><a name="wp1019531"> </a><a href="DPprocent.html#wp1018522">Increasing Scalability and Resource Utilization</a></li>
<li><a name="wp1022978"> </a><a href="DPprocent.html#wp1018527">Applicability</a></li>
<li><a name="wp1022989"> </a><a href="DPprocent.html#wp1019080">Participants</a></li>
<li><a name="wp1022999"> </a><a href="DPprocent.html#wp1018537">Other Considerations</a></li>
<li><a name="wp1023015"> </a><a href="DPprocent.html#wp1018544">Related Concepts</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1019031"> </a>
About the Process-Entity Design Pattern
</h2><p class="pBody"><a name="wp1019102"> </a>
The Process-Entity design pattern encapsulates a design solution that incorporates a single process object on the server machine that handles all client application interactions with database records, known as entities. This design pattern is appropriate in situations where a client CORBA or EJB application normally performs multiple interactions with a remote database.
</p>
<p class="pBody"><a name="wp1018516"> </a>
By designing a single CORBA object or EJB on the server machine that represents all the fine-grained data in the database, you can build an Oracle Tuxedo CORBA client/server application that provides the following performance benefits:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1021383"> </a>Instead of having multiple client interactions with a database, you can have a single process object on the server machine that handles all client requests for database interactions, thus simplifying network traffic.</li>
<li><a name="wp1018521"> </a>The process object can selectively pass data fields to the client, transferring only the necessary data rather than full database records, thus reducing the amount of data sent over the network and improving performance.</li>
<li><a name="wp1021492"> </a>The process object encapsulates access to the database. Clients make invocations on the object, and the object in turn accesses the database.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1018522"> </a>
Increasing Scalability and Resource Utilization
</h2><p class="pBody"><a name="wp1019638"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1019652"> </a><a href="DPprocent.html#wp1019604">Limitations of the Two-tier System</a></li>
<li><a name="wp1019704"> </a><a href="DPprocent.html#wp1018526">Advantages of the Process-Entity Design Pattern</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1019604"> </a>
Limitations of the Two-tier System
</h3>
<p class="pBody"><a name="wp1018523"> </a>
In a conventional two-tier system that presents the database layer as a set of shared data, a pure object-oriented approach would be to represent the database records as shared CORBA objects (in CORBA applications) or entity beans (in EJB applications). However, this approach has the following limitations:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1018524"> </a>It does not scale well. As the number of clients increases dramatically, the server machine might be required to manage thousands (or even millions) of database objects, each requiring its own transaction context.</li>
<li><a name="wp1018525"> </a>It does not use network resources efficiently. When database objects are instantiated in the server machine&#8217;s memory, the entire database object is read into or written from memory regardless of how much data the client application really needs from the object.</li>
<li><a name="wp1019746"> </a>For EJB applications, the conventional way to access a database is via entity beans, where an entity bean represents a row in a database table. However, to access an entity bean, a client application must make two calls: the first call obtains the object reference to the entity bean, and the second call invokes a method on that entity bean. Obtaining the object reference for the client is an expensive operation, particularly in high-volume enterprise applications.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1018526"> </a>
Advantages of the Process-Entity Design Pattern
</h3>
<p class="pBody"><a name="wp1019666"> </a>
However, if you design a class for the process object on the server machine that does database interactions on behalf of clients, you can overcome these limitations by:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1020027"> </a>Reducing the number of CORBA objects or EJBs that need to be managed on the server machine.</li>
<li><a name="wp1020077"> </a>Reducing message traffic.</li>
<li><a name="wp1020191"> </a>For EJB applications, eliminating the need for client applications to obtain an object reference to the entity bean, and avoiding the use of fine-grain (single-row) entity beans.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1018527"> </a>
Applicability
</h2><p class="pBody"><a name="wp1020575"> </a>
This topic includes the following sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1020579"> </a><a href="DPprocent.html#wp1018529">Request Flow in CORBA Applications</a></li>
<li><a name="wp1020583"> </a><a href="DPprocent.html#wp1020553">Request Flow in EJB Applications</a></li>
</ul></div>
<p class="pBody"><a name="wp1018528"> </a>
The Process-Entity design pattern is almost universally applicable in enterprise-class, mission-critical applications. It is appropriate for situations in which a client application needs to interact with database records stored on a server machine.
</p>
<h3 class="pHeading2"><a name="wp1018529"> </a>
Request Flow in CORBA Applications
</h3>
<p class="pBody"><a name="wp1020498"> </a>
<a href="DPprocent.html#wp1023532">Figure&#160;3-1</a> shows the basic design of the Process-Entity design pattern in a CORBA application.
</p>
<div class="pFigureTitle"><a name="wp1023532"> </a>
Figure&#160;3-1  CORBA Process-Entity Design Pattern
</div>

 
 <p class="pGraphic"><a name="wp1023413"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/procorba.gif" height="108" width="459" alt="CORBA Process-Entity Design Pattern" id="wp1023415"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1018535"> </a>
This process flows in the following sequence:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1020372"> </a>The client application issues a request to the CORBA process object to access database entities.</li>
<li><a name="wp1020386"> </a>The CORBA object submits a request to the database.</li>
<li><a name="wp1020409"> </a>The database returns a response to the CORBA object.</li>
<li><a name="wp1020417"> </a>The CORBA object returns a response to the client that contains only the subset of database information that the client requires.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1020553"> </a>
Request Flow in EJB Applications
</h3>
<p class="pBody"><a name="wp1020316"> </a>
<a href="DPprocent.html#wp1023499">Figure&#160;3-2</a> shows the basic design of the Process-Entity design pattern in an EJB application.
</p>
<div class="pFigureTitle"><a name="wp1023499"> </a>
Figure&#160;3-2  EJB Process-Entity Design Pattern
</div>

 
 <p class="pGraphic"><a name="wp1023457"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/proejb.gif" height="108" width="459" alt="EJB Process-Entity Design Pattern" id="wp1023475"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1020431"> </a>
This process flows in the following sequence:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1020432"> </a>The client application issues a request to the entity bean, using RMI on IIOP, to access database entities.</li>
<li><a name="wp1020433"> </a>The entity bean submits a request to the database.</li>
<li><a name="wp1020434"> </a>The database returns a response to the entity bean.</li>
<li><a name="wp1020435"> </a>The entity bean returns a response to the client that contains only the subset of database information that the client requires.</li>
</ol></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1019080"> </a>
Participants
</h2><p class="pBody"><a name="wp1018536"> </a>
The client application obtains a reference to the process object from a factory (for CORBA applications) or the home interface (for EJB applications). The process object implements all the interactions with the database. Database records (entities) are retrieved when needed to handle client invocations on the process object. Operations on the process object return specific data fields to the client application, which then performs all the required processing on that data.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1018537"> </a>
Other Considerations
</h2><p class="pBody"><a name="wp1018538"> </a>
You should design the process object to pass the minimum amount of information actually needed by a particular client request. Implement the operations on a process object so that the operations do as much &#8220;dense&#8221; processing as possible. Design your clients applications so that they do not invoke more than one process operation to get the data they need to accomplish a task. 
</p>
<p class="pBody"><a name="wp1018539"> </a>
If more than one operation needs to be invoked, design the process object so that the additional invocations are done by the process object on the database, and not by the client application on the process object. This reduces the number of invocations that the client application sends over the network. When the client application needs to make serial invocations on a process object, make the process object stateful. For more information about making objects stateful, see <a href="../cservers/index.html">Creating CORBA Server Applications</a> in the Oracle Tuxedo online documentation. 
</p>
<p class="pBody"><a name="wp1018543"> </a>
For CORBA applications, avoid the use of attributes in your OMG IDL. Attributes are expensive to retrieve over the network. Instead, implement an operation on the process object that returns a data structure containing all the values your client application is likely to need for an operation.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1018544"> </a>
Related Concepts
</h2><div class="pSmartList1Bullet"><ul>
<li><a name="wp1018545"> </a>SmallTalk MVC (Model-View-Controller) design pattern. </li>
<li><a name="wp1018546"> </a>Flyweight design pattern, <em class="cEmphasis">Object-Oriented Design Patterns</em>, by Gamma et al.</li>
</ul></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="DPprocent.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="CORBAobjects.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="DPcache.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
