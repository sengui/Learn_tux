<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/ws/fm/wsunix.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:52:53" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Using the Workstation Component</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Using the Oracle Tuxedo ATMI Workstation Component
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="wsovr.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="wswin.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/ws.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1014149"> </a>
Using the Workstation Component
</h1>
<p class="pBody"><a name="wp1010084"> </a>
The following sections describe using the Oracle Tuxedo ATMI Workstation component on both Windows and UNIX systems:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1000746"> </a><a href="wsunix.html#wp1009440">Writing Client Programs</a></li>
<li><a name="wp1009434"> </a><a href="wsunix.html#wp997955">Using Oracle Tuxedo System-Supplied Clients</a></li>
<li><a name="wp1009438"> </a><a href="wsunix.html#wp998266">Running Oracle Tuxedo System Clients on a Workstation</a></li>
<li><a name="wp1009465"> </a><a href="wsunix.html#wp1008098">How a Multithreaded or Multicontexted Workstation Client Joins an Application</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1009440"> </a>
Writing Client Programs
</h2><p class="pBody"><a name="wp1012288"> </a>
You can develop client programs targeted for workstations in the same way that you develop client programs within the Oracle Tuxedo system administrative domain (that is, native clients). With a few exceptions, all ATMI and FML functions available to the native client are also available to the Workstation client.
</p>
<a name="wp1012372"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">tpadmcall()</code> is an example of an ATMI function that is available to the native client but not to the Workstation client.</td>
</tr>
</table>

<h3 class="pHeading2"><a name="wp1008422"> </a>
Interoperability Restrictions for Workstation Clients
</h3>
<p class="pBody"><a name="wp1008423"> </a>
Interoperability between Oracle Tuxedo release 7.1 or later Workstation clients and applications based on pre-7.1 releases of the Oracle Tuxedo system is supported in any of the following situations:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1008424"> </a>The client is neither multithreaded nor multicontexted.</li>
<li><a name="wp1008425"> </a>The client is multicontexted.</li>
<li><a name="wp1008426"> </a>The client is multithreaded and each thread is in a different context.</li>
</ul></div>
<p class="pBody"><a name="wp1008427"> </a>
An Oracle Tuxedo release 7.1 or later Workstation client with multiple threads in a single context cannot interoperate with a pre-7.1 release of the Oracle Tuxedo system.
</p>
<h3 class="pHeading2"><a name="wp1003716"> </a>
Building Client Programs
</h3>
<p class="pBody"><a name="wp997730"> </a>
You compile and link-edit Workstation client programs using the <a href="../rfcm/rfcmd.html">buildclient(1)</a> command. If you are building a Workstation client on a native node (that is, one on which the complete Oracle Tuxedo system is installed), use the <code class="cCode">-w</code> option to indicate the client should be built using the workstation libraries. Otherwise, on a native node, where both native and workstation libraries are present, the default is to use the native libraries. In this case, using the <code class="cCode">-w</code> option ensures that the correct libraries for a Workstation client are used. On a workstation, where only the workstation libraries are present, it is not necessary to use the <code class="cCode">-w </code>option.
</p>
<p class="pBody"><a name="wp997741"> </a>
The following listing shows an example of the <a href="../rfcm/rfcmd.html">buildclient(1)</a> command line on a native node.
</p>
<div class="pCodeTitle"><a name="wp997767"> </a>
Listing&#160;2-1	   buildclient Command Line
</div> <a name="wp997786"> </a><div class="pPreformatted"><pre>TUXDIR=/var/opt/tuxedo CC=ncc; export TUXDIR CC<br />buildclient -w -o wsclt -f wsclt.c -f &#8220;userlib1.a userlib2.a&#8221;</pre></div><p class="pBody"><a name="wp997940"> </a>
The <code class="cCode">-o</code> option provides a name for your output file. Input files are specified with the <code class="cCode">-f</code> <code class="cCodeEmphasis">firstfiles</code> option to indicate that they are link-edited before system libraries. As indicated in the example, you must define the <code class="cCode">TUXDIR</code> environment variable to ensure that the <code class="cCode">buildclient</code> command can locate system libraries. <code class="cCode">CC</code> defaults to <code class="cCode">cc</code> but can be set to another compiler, as shown in the example.
</p>
<h3 class="pHeading2"><a name="wp1006147"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1009318"> </a><span class="cHyperlink">
&#8220;Writing </span><a href="../pgc/pgclt.html"></a>Clients&#8221; in <em class="cEmphasis">Programming an Oracle Tuxedo ATMI Application Using C</em> and <em class="cEmphasis">Programming an Oracle Tuxedo ATMI Application Using COBOL</em></li>
<li><a name="wp1009323"> </a><span class="cHyperlink">
&#8220;COBOL Language Bindings for the </span><a href="../pcb/pgbind.html"></a>Workstation Component&#8221; in <em class="cEmphasis">Programming an Oracle Tuxedo ATMI Application Using COBOL</em></li>
<li><a name="wp1009326"> </a><span class="cHyperlink">
&#8220;Writing Security Code So Client Programs </span><a href="../sec/secpgm.html"></a>Can Join the ATMI Application&#8221; in <em class="cEmphasis">Using Security in CORBA Applications</em></li>
<li><a name="wp1007901"> </a><a href="../rfcm/rfcmd.html">buildclient(1)</a><code class="cCode"> </code>in <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp997955"> </a>
Using Oracle Tuxedo System-Supplied Clients
</h2><p class="pBody"><a name="wp997968"> </a>
<code class="cCode">wud</code> and <code class="cCode">wud32</code> are Oracle Tuxedo system-supplied driver programs provided for workstations. These driver programs are based on the standard Oracle Tuxedo client programs, <code class="cCode">ud</code> and <code class="cCode">ud32</code>, that have been built using the workstation libraries.
</p>
<p class="pBody"><a name="wp1007140"> </a>
Use <code class="cCode">wud(1)</code> to send <code class="cCode">FML</code> buffers to Oracle Tuxedo system servers. Use <code class="cCode">wud32</code> with fielded FML32 buffers of type <code class="cCode">FBFR32</code>.
</p>
<h3 class="pHeading2"><a name="wp998139"> </a>
Using wud in a Security Application
</h3>
<p class="pBody"><a name="wp998253"> </a>
If <code class="cCode">wud</code> is run in a security application, it requires an application password to access the application. If standard input is from a terminal, <code class="cCode">wud</code> prompts the user for an application password. If you are running the client program from a script, which is a common occurrence with <code class="cCode">wud</code>, the password is retrieved from the environment variable <code class="cCode">APP_PW</code>. If this environment variable is not specified and an application password is required, then <code class="cCode">wud</code> fails.
</p>
<p class="pBody"><a name="wp1007179"> </a>
Do not confuse the <code class="cCode">APP_PW</code> environment variable with the similar configuration file parameter, <code class="cCode">SECURITY</code>, for which the value <code class="cCode">APP_PW</code> enables the security feature.
</p>
<h3 class="pHeading2"><a name="wp1008010"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1008023"> </a><a href="../rfcm/rfcmd.html">ud,&#160;wud</a><a href="../rfcm/rfcmd.html">(1)</a> in <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp998266"> </a>
Running Oracle Tuxedo System Clients on a Workstation
</h2><p class="pBody"><a name="wp998277"> </a>
After the client programs have been developed and tested, they can be moved to the workstations where they will be available to users.
</p>
<h3 class="pHeading2"><a name="wp998296"> </a>
Verifying the Directory Structure on Workstation Clients
</h3>
<p class="pBody"><a name="wp1007682"> </a>
The following table describes the directory structure on a Workstation client after you have installed the Workstation component of the Oracle Tuxedo system.
</p>
<p class="pGraphic"><a name="wp1008773"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1010437table1008790">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1010437"> </a>
Windows Directory
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1010390"> </a>
UNIX Directory
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1010392"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010439"> </a>
<code class="cCode">%APPDIR%</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010396"> </a>
<code class="cCode">$APPDIR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010398"> </a>
Contains the client executables. These executables are commonly kept in the directory from which the application is run.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010441"> </a>
<code class="cCode">%TUXDIR%\bin</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010402"> </a>
<code class="cCode">$TUXDIR/bin</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010404"> </a>
Contains Oracle Tuxedo system commands and system clients such as <code class="cCode">wud</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010443"> </a>
<code class="cCode">%TUXDIR%\cobinclude</code> 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010408"> </a>
<code class="cCode">$TUXDIR/cobinclude</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010411"> </a>
Contains <code class="cCode">copylib</code> entries for use in COBOL programs.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010445"> </a>
<code class="cCode">%TUXDIR%\include</code> 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010415"> </a>
<code class="cCode">$TUXDIR/include</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010417"> </a>
Contains Oracle Tuxedo system header files such as <code class="cCode">atmi.h</code>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010447"> </a>
<code class="cCode">%TUXDIR%\lib</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010421"> </a>
<code class="cCode">$TUXDIR/lib</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010423"> </a>
Contains run-time libraries.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010449"> </a>
<code class="cCode">%TUXDIR%\locale\C</code> 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010427"> </a>
<code class="cCode">$TUXDIR/locale/C</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010429"> </a>
Contains message catalogs for the default locale (U.S. English).
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010451"> </a>
<code class="cCode">%TUXDIR%\samples</code> 
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010433"> </a>
<code class="cCode">$TUXDIR/samples</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1010435"> </a>
Contains several subdirectories with sample applications.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp998478"> </a>
Setting Environment Variables
</h3>
<p class="pBody"><a name="wp998489"> </a>
Workstation clients make use of several environment variables. The following table shows the environment variables that are checked by <a href="../rf3c/rf3c.html">tpinit(3c)</a> or <a href="../rf3cbl/rf3cbl.html">TPINITIALIZE(3cbl)</a> when the Workstation client attempts to join the application. For details on setting these environment variables, see <span class="cHyperlink">
&#8220;Defining Workstation</span><a href="../ads/adswsc.html"></a> Clients&#8221; in <em class="cEmphasis">Setting Up an Oracle Tuxedo Application</em>.
</p>
<p class="pGraphic"><a name="wp1007257"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1007286table1007284">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1007286"> </a>
<span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Environment Variable</span>
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1007288"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1008258"> </a>
<code class="cCode">TPMBENC</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1012856"> </a>
Specifies the code-set encoding name that the workstation machine running Oracle Tuxedo 8.1 or later includes in an allocated MBSTRING typed buffer. When a Workstation client allocates and sends an MBSTRING buffer, the code-set encoding name defined in <code class="cCode">TPMBENC</code> is automatically added as an attribute to the buffer and sent with the buffer data to the destination server process.
</div>
<div class="pCellBody"><a name="wp1012857"> </a>
When the workstation machine receives an MBSTRING buffer, and assuming another environment variable named <code class="cCode">TPMBACONV</code> is set, the code-set encoding name defined in <code class="cCode">TPMBENC</code> is automatically compared to the code-set encoding name in the received buffer; if the names are <em class="cEmphasis">not</em> the same, the MBSTRING buffer data is automatically converted to the encoding defined in <code class="cCode">TPMBENC</code> before being delivered to the Workstation client.
</div>
<div class="pCellBody"><a name="wp1013009"> </a>
<code class="cCode">TPMBENC</code> has no default value. For a Workstation client using MBSTRING typed buffers, <code class="cCode">TPMBENC</code> must be defined on the workstation machine.
</div>
<p class="pTableNote"><a name="wp1013314"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">TPMBENC</code> is used in a similar way for <code class="cCode">FLD_MBSTRING</code> fields in an FML32 typed buffer.</td></tr>
</table>
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1012816"> </a>
<code class="cCode">TPMBACONV</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1012838"> </a>
Specifies whether the workstation machine running Oracle Tuxedo 8.1 or later automatically converts the data in a received MBSTRING buffer to the encoding defined in <code class="cCode">TPMBENC</code>. By default, the automatic conversion is turned off, meaning that the data in the received MBSTRING buffer is delivered to the Workstation client <em class="cEmphasis">as is</em>&#8212;no encoding conversion. Setting <code class="cCode">TPMBACONV</code> to any non-NULL value, say <code class="cCode">Y</code> (yes), turns on the automatic conversion.
</div>
<p class="pTableNote"><a name="wp1013344"> </a><table>
<tr>
<td valign="top"><strong>Note:</strong></td>
<td><code class="cCode">TPMBACONV</code> is used in a similar way for <code class="cCode">FLD_MBSTRING</code> fields in an FML32 typed buffer.</td></tr>
</table>
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1011617"> </a>
<code class="cCode">URLENTITYCACHING</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1011838"> </a>
Specifies whether the workstation machine running Oracle Tuxedo 8.1 or later caches Document Type Definition (DTD), XML schema, and entity files; specifically, whether the Apache Xerces-C++ parser running on the Workstation client caches the DTD and XML schema files when validation is required, or caches external entity files called out in the DTD. By default, the caching is turned on (<code class="cCode">Y</code>). Setting <code class="cCode">URLENTITYCACHING</code> to <code class="cCode">N</code> (no) turns off the caching.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1011606"> </a>
<code class="cCode">URLENTITYCACHEDIR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1011903"> </a>
Applies only if <code class="cCode">URLENTITYCACHING=Y</code> (yes) or is not set; for details, see the description of <code class="cCode">URLENTITYCACHING</code> in this table.
</div>
<div class="pCellBody"><a name="wp1012041"> </a>
Specifies the directory in which the workstation machine running Oracle Tuxedo 8.1 or later caches DTD, schema, and entity files; specifically, where the Apache Xerces-C++ parser running on the Workstation client caches the DTD, XML schema, and entity files. The <code class="cCode">URLENTITYCACHEDIR</code> variable specifies the absolute pathname for the cached files. If <code class="cCode">URLENTITYCACHEDIR</code> is not specified, the default directory becomes <code class="cCode">URLEntityCachedir</code>, which will be created in the current working directory of the Workstation client process provided that the appropriate write permissions are set.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1011598"> </a>
<code class="cCode">WSINTOPPRE71</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1011600"> </a>
Specifies whether the workstation machine running Oracle Tuxedo 7.1 or later is allowed to interoperate with pre-release 7.1 Oracle Tuxedo applications. Setting the variable to <code class="cCode">Y</code> (<code class="cCode">WSINTOPPRE71=Y</code>) allows interoperability.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1008280"> </a>
<code class="cCode">WSBUFFERS</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1008282"> </a>
The number of packets per application.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1008399"> </a>
<code class="cCode">WSDEVICE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1008401"> </a>
Device name to be used to access the network. This variable is only required when the Oracle Tuxedo system is using the TLI networking interface.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1007290"> </a>
<code class="cCode">WSENVFILE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1007292"> </a>
Name of a file containing environment variable settings to be set in the client&#8217;s environment.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1009114"> </a>
<code class="cCode">WSFADDR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1009119"> </a>
The network address used by the Workstation client when connecting to the workstation listener or workstation handler. This variable, along with the <code class="cCode">WSFRANGE</code> variable, determines the range of TCP/IP ports to which a Workstation client will attempt to bind before making an outbound connection. This address must be a TCP/IP address.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1009156"> </a>
<code class="cCode">WSFRANGE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1009193"> </a>
The range of TCP/IP ports to which a Workstation client process attempts to bind before making an outbound connection. The <code class="cCode">WSFADDR</code> parameter specifies the base address of the range. The default is 1. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1007294"> </a>
<code class="cCode">WSNADDR</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1007296"> </a>
The network address of the workstation listener (WSL) process through which clients gain access to the application. Use the value specified in the application configuration file for the workstation listener to be called. If the value begins with the characters <code class="cCode">0x</code>, the system interprets it as a string of hexadecimal digits; otherwise, the system interprets it as ASCII characters.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1007306"> </a>
<code class="cCode">WSRPLYMAX</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1007308"> </a>
Maximum amount of core memory that ATMI functions use for buffering application replies before they are dumped to disk. Used by <a href="../rf3c/rf3c.html">tpinit(3c)</a> and <a href="../rf3cbl/rf3cbl.html">TPINITIALIZE(3cbl)</a>. Replies obtained using <a href="../rf3c/rf3c.html">tpgetrply(3c)</a>, <a href="../rf3cbl/rf3cbl.html">TPGETRPLY(3cbl)</a>, and unsolicited messages are buffered in this area. When this area is filled with one or more messages, the overflow is written to a disk file. The system default limit is 256,000 bytes. Whether you use <code class="cCode">WSRPLYMAX</code> to set a lower limit depends on the amount of available memory on your machine. Writing replies to disk causes a substantial reduction in performance.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1008293"> </a>
<code class="cCode">WSTYPE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1008295"> </a>
Workstation type. Used within <a href="../rf3c/rf3c.html">tpinit(3c)</a> and <a href="../rf3cbl/rf3cbl.html">TPINITIALIZE(3cbl)</a> when invoked by a Workstation client to negotiate encode/decode responsibilities with the native site. If you do not specify <code class="cCode">WSTYPE</code>, the system performs encoding, even if it is also unspecified on the native site.You must explicitly specify the same <code class="cCode">WSTYPE</code> value for both sites to ensure that the encode/decode feature is turned off.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp999315"> </a>
Other environment variables may be needed by Workstation clients on a UNIX workstation depending on the Oracle Tuxedo system features being used. Reference page <a href="../rf5/rf5.html">compilation(5)</a> in <em class="cEmphasis">Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference</em> explains which variables are needed under what circumstances.
</p>
<h3 class="pHeading2"><a name="wp999379"> </a>
Creating an Environment File
</h3>
<p class="pBody"><a name="wp999390"> </a>
If you have created an environment file, it is read when <a href="../rf3c/rf3c.html">tpinit(3c)</a> or <a href="../rf3cbl/rf3cbl.html">TPINITIALIZE(3cbl)</a> is called. The following listing shows a sample file that could be used for two different applications.
</p>
<div class="pCodeTitle"><a name="wp999430"> </a>
Listing&#160;2-2	   Environment File
</div> <a name="wp999441"> </a><div class="pPreformatted"><pre>TUXDIR=/opt/tuxedo<br />[application1]<br />;this is a comment<br />/* this is a comment */<br />#this is a comment<br />//this is a comment<br />set FIELDTBLS=app1_flds<br />set FLDTBLDIR=/opt/app1/udataobj<br />[application2]<br />FIELDTBLS=app2_flds<br />FLDTBLDIR=/opt/app2/udataobj</pre></div><p class="pBody"><a name="wp999552"> </a>
The format of the file is as follows: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1000750"> </a>Any leading space and tab characters on each line are ignored and are not considered in the following points.</li>
<li><a name="wp999584"> </a>Lines containing variables to be put into the environment are of the following form:</li>
<p class="pBodyRelative"><a name="wp1003184"> </a>
<code class="cCodeEmphasis">variable=value<br /></code>or<br /><code class="cCodeEmphasis">set variable=value</code>
</p>
<p class="pBodyRelative"><a name="wp999707"> </a>
where <code class="cCodeEmphasis">variable</code> must begin with an alphabetic or underscore character and contain only alphanumeric or underscore characters, and <code class="cCodeEmphasis">value</code> may contain any character except newline.
</p>
<li><a name="wp999803"> </a>Within the <code class="cCodeEmphasis">value</code>, strings of the form ${<code class="cCodeEmphasis">env</code>} are expanded using variables already in the environment. Forward referencing is not supported and if a value is not set, the variable is replaced with the empty string. Backslash (\) may be used to escape the dollar sign and itself. All other shell quoting and escape mechanisms are ignored and the expanded <code class="cCodeEmphasis">value</code> is placed into the environment.</li>
<li><a name="wp1002246"> </a>Lines beginning with slash (/), pound sign (#), or exclamation point (!) are treated as comments and ignored. Lines beginning with other characters besides these comment characters, a left square bracket, or an alphabetic or underscore character are reserved for future use; their use is undefined.</li>
<li><a name="wp1005437"> </a>The file is partitioned into sections by lines of the form</li>
<a name="wp1005438"> </a><div class="pPreformattedRelative"><pre>[<code class="cCodeEmphasis">label</code>]</pre></div><p class="pBodyRelative"><a name="wp1005439"> </a>
where <code class="cCodeEmphasis">label</code> is the name of the section and follows the same rules for <em class="cEmphasis">variable</em> above. The label is silently truncated if longer than 31 characters.
</p>
<li><a name="wp1002290"> </a>Variable lines between the top of the file and the first label are put into the environment for all applications; this is the global section. A label of <code class="cCode">[]</code> also indicates the global section. Other variables are put into the environment only if the label matches the application label specified for the application.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp999980"> </a>
Using tuxreadenv
</h3>
<p class="pBody"><a name="wp999991"> </a>
When you call the <a href="../rf3c/rf3c.html">tuxreadenv(3c)</a> function, it reads the environment file and adds the environment variables to the environment for the entire process, independent of platform. These variables are available using <a href="../rf3c/rf3c.html">tuxgetenv(3c)</a> and can be reset using <a href="../rf3c/rf3c.html">tuxputenv(3c)</a>.
</p>
<a name="wp1000022"> </a><div class="pPreformatted"><pre>void tuxreadenv(char *<code class="cCodeEmphasis">file</code>, char *<code class="cCodeEmphasis">label</code>)</pre></div><p class="pBody"><a name="wp1000042"> </a>
If <code class="cCodeEmphasis">file</code> is NULL, then a default filename is used. The default filenames for various platforms are as follows:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1010456"> </a><code class="cCode">%TUXDIR%\TUXEDO.ENV</code> (Windows)</li>
<li><a name="wp1010457"> </a><code class="cCode">$TUXDIR/TUXEDO.env</code> (UNIX)</li>
</ul></div>
<p class="pBody"><a name="wp1010458"> </a>
If the value of <code class="cCodeEmphasis">label</code> is NULL, then only variables in the global section are put into the environment. For other values of <code class="cCodeEmphasis">label</code>, the global section variables plus any variables in a section matching the <code class="cCodeEmphasis">label</code> are put into the environment.
</p>
<p class="pBody"><a name="wp1000268"> </a>
An error message is printed to the userlog under the following conditions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1007743"> </a>A memory failure</li>
<li><a name="wp1007744"> </a>A non-null filename does not exist</li>
<li><a name="wp1007745"> </a>A non-null label does not exist</li>
</ul></div>
<p class="pBody"><a name="wp1000456"> </a>
Each time <a href="../rf3c/rf3c.html">tpinit(3c)</a>is called (either explicitly or implicitly by calling another ATMI function), <a href="../rf3c/rf3c.html">tuxreadenv(3c)</a> is called automatically in Workstation clients. If <code class="cCode">WSENVFILE</code> is set in the environment, then it designates the environment file; otherwise, NULL is passed to <code class="cCode">tuxreadenv()</code> for the filename so that the default file is used. If <code class="cCode">WSAPP</code> is set in the environment, then it is to be used as the section label in the environment file; otherwise, NULL is passed to <code class="cCode">tuxreadenv()</code> for the label name. Application clients may also call <code class="cCode">tuxreadenv()</code> explicitly.
</p>
<p class="pBody"><a name="wp1000550"> </a>
The environment is implemented and available in different ways on different platforms. A uniform interface to the environment is provided via the existing <a href="../rf3c/rf3c.html">tuxgetenv(3c)</a> and <a href="../rf3c/rf3c.html">tuxputenv(3c)</a> functions. These functions provide access to the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1008093"> </a>All variables from the specified <code class="cCode">WSENVFILE</code> file for the specified <code class="cCode">WSAPP</code> label (or the defaults if not specified)</li>
<li><a name="wp1008094"> </a>The environment variables in the operating system environment</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1008095"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1006723"> </a><a href="../rf3c/rf3c.html">tpinit(3c)</a> in <em class="cEmphasis">Oracle Tuxedo ATMI C Function Reference</em></li>
<li><a name="wp1006725"> </a><a href="../rf3c/rf3c.html">tuxreadenv(3c)</a> in <em class="cEmphasis">Oracle Tuxedo ATMI C Function Reference</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1008098"> </a>
How a Multithreaded or Multicontexted Workstation Client Joins an Application
</h2><p class="pBody"><a name="wp1008103"> </a>
To join an Oracle Tuxedo application, a multithreaded Workstation client must always call <code class="cCode">tpinit()</code> with the <code class="cCode">TPMULTICONTEXTS</code> flag set, even if the client is running in single-context mode.
</p>
<h3 class="pHeading2"><a name="wp1009480"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1009482"> </a><a href="../rf3c/rf3c.html">tpinit(3c)</a> in <em class="cEmphasis">Oracle Tuxedo ATMI C Function Reference</em></li>
</ul></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="wsunix.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="wsovr.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="wswin.html"><img id="LongDescNotReq9" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
