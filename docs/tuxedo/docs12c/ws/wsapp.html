<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="41263" />
<meta name="LOC_US_SRCFILE" content="//depot/tuxedo/tux11gr1/ws/fm/wsapp.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="11/28/11 08:52:54" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Bringing Up bankapp on Workstations</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Using the Oracle Tuxedo ATMI Workstation Component
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="wswin.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next_grey1.gif" border="0" alt="Next" />&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/ws.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1008027"> </a>
Bringing Up bankapp on Workstations
</h1>
<p class="pBody"><a name="wp1006184"> </a>
The following sections describe the procedure for bringing up <code class="cCode">bankapp</code>, the Oracle Tuxedo system sample application, on a Windows or UNIX workstation:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1003208"> </a><a href="wsapp.html#wp997244">Characteristics of a Workstation Application</a></li>
<li><a name="wp1003215"> </a><a href="wsapp.html#wp997444">Bringing Up bankapp on a Workstation Client</a></li>
<li><a name="wp1005540"> </a><a href="wsapp.html#wp1001304">Changes on the Native Site</a></li>
<li><a name="wp1003869"> </a><a href="wsapp.html#wp998704">Setting the bankapp Variables</a></li>
<li><a name="wp1003874"> </a><a href="wsapp.html#wp998903">Building the bankapp Client</a></li>
<li><a name="wp1005467"> </a><a href="wsapp.html#wp998935">Running the bankapp Client</a></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp997244"> </a>
Characteristics of a Workstation Application
</h2><p class="pBody"><a name="wp1004092"> </a>
In a workstation application, client processes are moved off the native site. The listener process (WSL) runs with a well-known network address and starts surrogate workstation handlers (WSH) as needed. Servers run on one or more machines within the Oracle Tuxedo administrative domain.
</p>
<p class="pBody"><a name="wp997394"> </a>
Existing servers are available to run on the Oracle Tuxedo system nodes in either single processor (SHM) or multiprocessor (MP) mode.
</p>
<p class="pBody"><a name="wp1004589"> </a>
On Workstations, the sample applications are located in the following directories:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1006567"> </a><code class="cCode">%TUXDIR%\samples\atmi\bankapp</code> (Windows)</li>
<li><a name="wp1006511"> </a><code class="cCode">$TUXDIR/samples/atmi/bankapp</code> (UNIX)</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp997444"> </a>
Bringing Up bankapp on a Workstation Client
</h2><p class="pBody"><a name="wp1004848"> </a>
The following illustration shows the steps in bringing up <code class="cCode">bankapp</code> on a Workstation client.
</p>
<div class="pFigureTitle"><a name="wp1004849"> </a>
Figure&#160;4-1  Steps in Bringing Up bankapp
</div>

 
 <p class="pGraphic"><a name="wp1001331"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/wsbapp.gif" alt="Steps in Bringing Up bankapp" id="wp1005980"/></div><p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1001304"> </a>
Changes on the Native Site
</h2><p class="pBody"><a name="wp997575"> </a>
Install and build the <code class="cCode">bankapp</code> software on the native site. The procedure for doing this is described in <span class="cHyperlink">
&#8220;Tutorial for </span><a href="../tutor/tutba.html"></a>bankapp, a Full C Application&#8221; in <em class="cEmphasis">Tutorials for Developing Oracle Tuxedo ATMI Applications</em> and in the following <code class="cCode">README</code> files on the master machine where your Oracle Tuxedo system software is installed:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1006449"> </a><code class="cCode">%TUXDIR%\samples\atmi\bankapp\README.nt</code> (Windows)</li>
<li><a name="wp1004223"> </a><code class="cCode">$TUXDIR/samples/atmi/bankapp/README</code> (UNIX)</li>
</ul></div>
<h3 class="pHeading2"><a name="wp997594"> </a>
Editing the Configuration File
</h3>
<p class="pBody"><a name="wp997794"> </a>
You need to edit the configuration file you plan to use (either <code class="cCode">ubbshm</code> or <code class="cCode">ubbmp</code>) to specify the workstation listener (WSL) as a server in the <code class="cCode">GROUPS</code> and <code class="cCode">SERVERS</code> sections, and to specify <code class="cCode">MAXWSCLIENTS</code> in the <code class="cCode">MACHINES</code> section. When you edit the <code class="cCode">GROUPS</code> section, put the entry for <code class="cCode">WSGRP</code> ahead of the <code class="cCode">DEFAULT</code> line or move the specifications for <code class="cCode">TMSNAME</code> and <code class="cCode">TMSCOUNT</code> to the server groups that use them; they should not be assigned to <code class="cCode">WSGRP</code>. The new specifications should be in the following format.
</p>
<a name="wp997812"> </a><div class="pPreformatted"><pre>*MACHINES<br /> DEFAULT:  MAXWSCLIENTS=50<br /> <br /> #<br /> *GROUPS<br /> <br /> WSGRP     GRPNO=&lt;next available group #&gt; LMID=SITE1<br /> #<br /> *SERVERS<br /> <br /> WSL       SRVGRP=WSGRP           SRVID=1<br />           CLOPT=&#8221;-A &#8212; -n //<code class="cCodeEmphasis">machine</code>:<code class="cCodeEmphasis">port</code> -m 1 -M 5 -x 10&quot;</pre></div><p class="pBody"><a name="wp997950"> </a>
Also, remember to increase the <code class="cCode">MAXACCESSERS</code> parameter in the <code class="cCode">RESOURCES</code> or <code class="cCode">MACHINES</code> section to cover the new Workstation clients.
</p>
<h3 class="pHeading2"><a name="wp997981"> </a>
Loading and Booting the Configuration
</h3>
<p class="pBody"><a name="wp1001390"> </a>
Before you can start using a Workstation client, you need to run <a href="../rfcm/rfcmd.html">tmloadcf(1)</a> to load the configuration file into its binary form and <a href="../rfcm/rfcmd.html">tmboot(1)</a> to start the application. These commands do not have to be run immediately; there is work to be done in getting the <code class="cCode">bankapp</code> clients installed on your workstations and getting them built. However, the application must be running on the Oracle Tuxedo system native site when you attempt to join the application from a workstation. The steps for loading and booting <code class="cCode">bankapp</code> on the native site are part of the overall procedure documented in <span class="cHyperlink">
&#8220;Tutorial for bankapp, a </span><a href="../tutor/tutba.html"></a>Full C Application&#8221; in <em class="cEmphasis">Tutorials for Developing Oracle Tuxedo ATMI Applications</em>.
</p>
<h3 class="pHeading2"><a name="wp1004954"> </a>
See Also
</h3>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1004963"> </a><a href="../rfcm/rfcmd.html">tmloadcf(1)</a> in <em class="cEmphasis">Oracle Tuxedo Command Reference</em></li>
<li><a name="wp1004997"> </a><a href="../rf5/rf5.html">WSL(5)</a> in <em class="cEmphasis">Oracle Tuxedo File Formats, Data Descriptions, MIBs, and System Processes Reference</em></li>
<li><a name="wp1005122"> </a><span class="cHyperlink">
&#8220;Tutorial for bankapp, a </span><a href="../tutor/tutba.html"></a>Full C Application&#8221; in <em class="cEmphasis">Tutorials for Developing Oracle Tuxedo ATMI Applications</em></li>
<li><a name="wp1005896"> </a><span class="cHyperlink">
&#8220;Defining a Workstation </span><a href="../ads/adswsc.html"></a>Listener (WSL) as a Server&#8221; in <em class="cEmphasis">Setting Up an Oracle Tuxedo Application</em></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp998704"> </a>
Setting the bankapp Variables
</h2><p class="pBody"><a name="wp998715"> </a>
To set your environment to run <code class="cCode">bankapp</code>, complete the following procedure on the Workstation client.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1005642"> </a>Set the following environment variable:</li>
<a name="wp998746"> </a><div class="pPreformattedRelative"><pre>WSNADDR=&lt;<code class="cCodeEmphasis">WSL advertised address</code>(<code class="cCodeEmphasis">es</code>)&gt; <br />WSTYPE=&lt;<code class="cCodeEmphasis">type of Workstation machine</code>&gt;</pre></div><li><a name="wp1005339"> </a>Include <code class="cCode">%TUXDIR%\bin</code> (Windows) or <code class="cCode">$TUXDIR/bin</code> (UNIX) in your <code class="cCode">PATH</code>.</li>
<li><a name="wp1005342"> </a>Verify that your environment is set appropriately to run the C compiler.</li>
</ol></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp998903"> </a>
Building the bankapp Client
</h2><p class="pBody"><a name="wp998914"> </a>
To build a client program, enter the following commands:
</p>
<a name="wp1004561"> </a><div class="pPreformatted"><pre>mkfldhdr bankflds<br />buildclient -w -o bankclt -f bankclt.c</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp998935"> </a>
Running the bankapp Client
</h2><p class="pBody"><a name="wp1005350"> </a>
To run the <code class="cCode">bankapp</code> client on the Workstation, complete the following procedure.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1005413"> </a>Verify that the value of <code class="cCode">WSNADDR</code> on the Workstation client matches the value of the <code class="cCode">CLOPT</code> <code class="cCode">-n</code> option for the WSL in the <code class="cCode">SERVERS</code> section of the configuration file on the native site.</li>
<li><a name="wp1005422"> </a>If <code class="cCode">bankapp</code> has not been booted on the native site, make sure it has been booted before you attempt to run a Workstation client.</li>
<li><a name="wp1005423"> </a>Execute <code class="cCode">bankclt</code> to run the Workstation client.</li>
</ol></div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="wsapp.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="wswin.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq9" src="/global_resources/images/nexttop_disabled.gif" border="0" alt="Next" />
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
