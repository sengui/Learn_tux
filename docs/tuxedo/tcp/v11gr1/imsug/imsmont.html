<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="40264" />
<meta name="LOC_US_SRCFILE" content="//depot/ecs/tcp/v11gr1/imsug/fm/imsmont.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="08/24/10 07:24:39" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Monitoring Oracle TMA TCP for IMS</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">IMS User Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="imsconf.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="imsprog.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/imsug.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1025326"> </a>
Monitoring Oracle TMA TCP for IMS
</h1>
<p class="pBody"><a name="wp1023856"> </a>
The following topics explain operating and monitoring the Oracle Tuxedo Mainframe Adapter for TCP (IMS) (hereafter referenced as TMA TCP for IMS) product: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1024545"> </a><a href="imsmont.html#wp1024598"><span class="cHyperlink">
Testing Connectivity with Remote Systems</span></a><span class="cHyperlink">
 </span></li>
<li><a name="wp1024561"> </a><a href="imsmont.html#wp1023921"><span class="cHyperlink">
Operating Oracle TMA TCP for IMS</span></a><span class="cHyperlink">
 </span></li>
<li><a name="wp1024612"> </a><a href="imsmont.html#wp1024083"><span class="cHyperlink">
The Oracle TMA TCP for IMS Message Log</span></a><span class="cHyperlink">
 </span></li>
<li><a name="wp1024591"> </a><a href="imsmont.html#wp1024151"><span class="cHyperlink">
The Server Response Log File</span></a><span class="cHyperlink">
 </span></li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1024598"> </a>
Testing Connectivity with Remote Systems
</h2><p class="pBody"><a name="wp1023883"> </a>
When you start TMA TCP for IMS for the first time, you should do so in a controlled environment, using a small, simple configuration that allows you to methodically test the system to verify your installation and the configuration.
</p>
<p class="pBody"><a name="wp1023884"> </a>
An appropriate test configuration would include the IMS gateway (one port) and one remote gateway. The <code class="cCode">SOURCE</code> distribution library includes several sample IMS client and server transactions that can be used to test connectivity with a remote Oracle Tuxedo Mainframe Adapter gateway.
</p>
<p class="pBody"><a name="wp1023888"> </a>
By specifying a minimum number (greater than 0) of outbound sessions for a remote gateway, you can cause outbound sessions to be automatically established with that gateway during initialization. This can help verify outbound connectivity without having to make use of test transactions.
</p>
<p class="pBody"><a name="wp1023889"> </a>
Execute test client and server transactions from both sides of the configuration to verify bidirectional connectivity. If errors are encountered, use the diagnostic messages issued by <span style="font-style: italic">both</span> sides of the configuration (that is, the IMS gateway <span style="font-style: italic">and</span> the remote Oracle Tuxedo gateway) to identify and correct the problem.
</p>
<p class="pBody"><a name="wp1023895"> </a>
For a description of the TMA TCP for IMS error messages, refer to the <a href="imsaperm.html"><span class="cHyperlink">
Error and Informational Messages</span></a> section.
</p>
<h3 class="pHeading2"><a name="wp1023897"> </a>
Monitoring and Troubleshooting OTMA
</h3>
<p class="pBody"><a name="wp1023898"> </a>
The following commands are a few of the available IMS commands that may assist you in monitoring or troubleshooting problems with the OTMA connection. For definitions and command syntax for these IMS commands, refer to the <em class="cEmphasis">IMS/ESA Operator&#8217;s Reference</em> or the <em class="cEmphasis">Open Transaction Manager Access Guide</em>.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023900"> </a><code class="cCode">/SEC OTMA</code> <em class="cEmphasis">security-level</em></li>
<p class="pBodyRelative"><a name="wp1023901"> </a>
Specify <code class="cCode">FULL</code> for <em class="cEmphasis">security-level</em> to check security on all messages.
</p>
<p class="pBodyRelative"><a name="wp1023902"> </a>
Specify <code class="cCode">PROFILE</code> for <em class="cEmphasis">security-level</em> to check security only when requested.
</p>
<p class="pBodyRelative"><a name="wp1023903"> </a>
Specify <code class="cCode">NONE</code> for <em class="cEmphasis">security-level</em> to disable security checking.
</p>
<li><a name="wp1023904"> </a><code class="cCode">/DIS OTMA</code></li>
<p class="pBodyRelative"><a name="wp1023905"> </a>
Displays the OTMA status.
</p>
<li><a name="wp1023906"> </a><code class="cCode">/STO OTMA</code></li>
<p class="pBodyRelative"><a name="wp1023907"> </a>
Stops OTMA messaging.
</p>
<li><a name="wp1023908"> </a><code class="cCode">/STA OTMA</code></li>
<p class="pBodyRelative"><a name="wp1023909"> </a>
Enables OTMA messaging.
</p>
<li><a name="wp1023910"> </a><code class="cCode">/DIS TMEMBER</code> <em class="cEmphasis">name</em> <code class="cCode">TPIPE ALL</code></li>
<p class="pBodyRelative"><a name="wp1023911"> </a>
Displays the status of the client.
</p>
<li><a name="wp1023912"> </a><code class="cCode">/STO TMEMBER</code> <em class="cEmphasis">name</em> <code class="cCode">TPIPE ALL</code></li>
<p class="pBodyRelative"><a name="wp1023913"> </a>
Stops an individual client from accessing a service.
</p>
<li><a name="wp1023914"> </a><code class="cCode">/STA TMEMBER</code> <em class="cEmphasis">name</em> <code class="cCode">TPIPE ALL</code></li>
<p class="pBodyRelative"><a name="wp1023915"> </a>
Enables an individual client and allows access to a service.
</p>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1023921"> </a>
Operating Oracle TMA TCP for IMS
</h2><p class="pBody"><a name="wp1023925"> </a>
The TMA TCP for IMS product is started by submitting JCL. For sample JCL, refer to the <a href="imsapjcl.html"><span class="cHyperlink">
Sample JCL and User Exits</span></a> section.
</p>
<p class="pBody"><a name="wp1023937"> </a>
During operation, TMA TCP for IMS writes all messages to the message log dataset (<code class="cCode">DDNAME=MSGLOG</code>). The message log is primarily useful for historical purposes after TMA TCP for IMS has ended. The message log remains open for output during execution and recent messages cannot be viewed (using ISPF Browse, for example) until the dataset is closed at termination.
</p>
<p class="pBody"><a name="wp1023941"> </a>
However, informational and error messages are also written to the z/OS console, where they can be viewed in real time by a system operator. When <code class="cCode">MSGLEVEL=4</code> is specified in the configuration file (the normal mode), all messages written to the message log are also displayed on the z/OS console.
</p>
<h3 class="pHeading2"><a name="wp1023943"> </a>
Initialization
</h3>
<p class="pBody"><a name="wp1023944"> </a>
During initialization, the following activities occur:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023945"> </a>The runtime datasets (configuration file, message log, and server response log) are opened</li>
<li><a name="wp1023946"> </a>The configuration file is read and processed to establish the configuration</li>
<li><a name="wp1023950"> </a>The TMA TCP for IMS product establishes a TCP/IP Listener for each defined local gateway (port)</li>
<li><a name="wp1023951"> </a>If requested, outbound sessions are established with remote gateways</li>
<li><a name="wp1023955"> </a>The TMA TCP for IMS product puts up an outstanding write-to-operator with reply (<code class="cCode">WTOR</code>) on the z/OS console by means of which operator commands can be entered</li>
</ul></div>
<p class="pBody"><a name="wp1023959"> </a>
If any errors are detected during initialization, TMA TCP for IMS issues the appropriate error messages and initialization fails. If initialization fails, correct the indicated errors and restart TMA TCP for IMS.
</p>
<h3 class="pHeading2"><a name="wp1023964"> </a>
Normal Operation
</h3>
<p class="pBody"><a name="wp1023966"> </a>
If initialization is successful, normal operation begins, during which the following activities occur:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1023967"> </a>Requests for new inbound sessions, initiated by remote systems, are accepted.</li>
<li><a name="wp1023968"> </a>New outbound sessions are requested and established with remote systems as required.</li>
<li><a name="wp1023972"> </a>The TMA TCP for IMS product monitors the TCP/IP network for requests and responses from remote systems.</li>
<li><a name="wp1023973"> </a>Inbound requests are received from remote systems through the TCP/IP network and are relayed to the appropriate IMS server transactions.</li>
<li><a name="wp1023974"> </a>IMS is polled for requests and responses from IMS client and server transactions.</li>
<li><a name="wp1023975"> </a>Outbound requests issued by IMS client transactions are relayed to the appropriate remote systems through the TCP/IP network.</li>
<li><a name="wp1023979"> </a>The TMA TCP for IMS product monitors requests-in-progress to ensure that a response (if required) is received within a specified period of time.</li>
<li><a name="wp1023980"> </a>Operator commands (entered through a reply to the outstanding command <code class="cCode">WTOR</code>) are processed.</li>
</ul></div>
<h4 class="pHeading3"><a name="wp1023981"> </a>
Operator Commands
</h4>
<p class="pBody"><a name="wp1023985"> </a>
During normal operation, TMA TCP for IMS puts up an outstanding WTOR (message <code class="cCode">ID BEA2113I</code>) that can be used to enter commands. A command is entered by simply replying to the outstanding <code class="cCode">WTOR</code> in the format in <a href="imsmont.html#wp1023990"><span class="cHyperlink">
Listing&#160;5-1</span></a>.
</p>
<div class="pCodeTitle"><a name="wp1023990"> </a>
Listing&#160;5-1	   Syntax for Replying to <code class="cCodeBold">WTOR</code>
</div> <a name="wp1023991"> </a><div class="pPreformatted"><pre>R <span style="font-style: italic">nn</span>,<span style="font-style: italic">command</span></pre></div><p class="pBody"><a name="wp1023996"> </a>
In <a href="imsmont.html#wp1023990"><span class="cHyperlink">
Listing&#160;5-1</span></a>, <code class="cCodeEmphasis">nn</code> is the z/OS-assigned reply ID and <code class="cCodeEmphasis">command</code> is the text of the command.
</p>
<h4 class="pHeading3"><a name="wp1023997"> </a>
Issuing Session-related Messages
</h4>
<p class="pBody"><a name="wp1023998"> </a>
During normal operation, only messages for session-related events are issued. These include requests to establish a TCP/IP connection, requests to establish a session between two gateways, session disconnect, and session termination. This minimizes the amount of console traffic that occurs under normal operating conditions. Messages associated with TCP/IP connections include the 4-digit TCP/IP socket ID (immediately following the message ID).
</p>
<h3 class="pHeading2"><a name="wp1024000"> </a>
Termination
</h3>
<p class="pBody"><a name="wp1024003"> </a>
Normal operation continues until a <code class="cCode">SHUTDOWN</code> command is received. Under normal circumstances, TMA TCP for IMS is terminated by entering an operator <code class="cCode">SHUTDOWN</code> command (through the outstanding command WTOR). 
</p>
<p class="pBody"><a name="wp1024007"> </a>
When a <code class="cCode">SHUTDOWN</code> command is received and accepted, the following activities occur:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1024011"> </a>The TMA TCP for IMS gateway stops accepting requests for new inbound connections (from remote systems).</li>
<li><a name="wp1024012"> </a>Active inbound and outbound sessions are terminated without permitting in progress transactions to complete.</li>
<li><a name="wp1024013"> </a>The Message Log and Server Response Log datasets are closed.</li>
<li><a name="wp1024017"> </a>The TMA TCP for IMS gateway terminates and returns control to z/OS.</li>
</ol></div>
<h4 class="pHeading3"><a name="wp1024018"> </a>
SHUTDOWN Command
</h4>
<p class="pBody"><a name="wp1024023"> </a>
The <code class="cCode">SHUTDOWN</code> command allows an operator to initiate termination of TMA TCP for IMS, and is entered in the format in <a href="imsmont.html#wp1024029"><span class="cHyperlink">
Listing&#160;5-2</span></a>.
</p>
<div class="pCodeTitle"><a name="wp1024029"> </a>
Listing&#160;5-2	   Syntax for Termination Initiation
</div> <a name="wp1024030"> </a><div class="pPreformatted"><pre>R <span style="font-style: italic">nn</span>,SHUTDOWN</pre></div><h4 class="pHeading3"><a name="wp1024032"> </a>
A Client-Initiated Shutdown
</h4>
<p class="pBody"><a name="wp1024038"> </a>
The TMA TCP for IMS product can be configured to allow shutdown to be initiated by a remote client request or a response to a remote client request. This may be useful if it is necessary to shut down TMA TCP for IMS from a remote system, rather than by operator command from an z/OS console.
</p>
<p class="pBody"><a name="wp1024043"> </a>
Shutdown is requested by embedding a modify command into the user request data of an IMS server request, or the user response data of an IMS server response in the following format.
</p>
<p class="pBody"><a name="wp1024047"> </a>
Format the command as shown in <a href="imsmont.html#wp1024056"><span class="cHyperlink">
Listing&#160;5-3</span></a>. If the <em class="cEmphasis">jobname</em> specified is incorrect, TMA TCP for IMS simply ignores the command and processes the request or response in the usual way.
</p>
<a name="wp1024051"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>To use this feature, the configuration file must specify the <code class="cCode">CLIENTSHUTDOWN=YES</code> option on the SYSTEM statement (the default is <code class="cCode">NO</code>). Otherwise, TMA TCP for IMS ignores a remote client request to initiate shutdown processing.</td>
</tr>
</table>

<div class="pCodeTitle"><a name="wp1024056"> </a>
Listing&#160;5-3	   Syntax for Client-Initiated Shutdown
</div> <a name="wp1024057"> </a><div class="pPreformatted"><pre>F <span style="font-style: italic">jobname</span> TERM=<span style="font-style: italic">type </span></pre></div><h4 class="pDefTerm"><a name="wp1024059"> </a>
<code class="cCodeEmphasis">jobname</code>
</h4><div class="pDefPara"><a name="wp1024063"> </a>
is the z/OS jobname assigned to TMA TCP for IMS.
</div>
<h4 class="pDefTerm"><a name="wp1024064"> </a>
<code class="cCode">TERM=</code><code class="cCodeEmphasis">type</code>
</h4><div class="pDefPara"><a name="wp1024065"> </a>
is the method for shutting down the system. The values for <code class="cCodeEmphasis">type</code> are as follows.
</div>
<div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1024066"> </a>
<code class="cCode">STOP</code>
</h4></div>
<div class="pDefPara2"><a name="wp1024069"> </a>
is a normal shutdown. If <code class="cCode">TERM=STOP</code> is specified, TMA TCP for IMS initiates normal shutdown processing, as if an operator had entered the <code class="cCode">SHUTDOWN</code> command from an z/OS console.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1024071"> </a>
<code class="cCode">DUMP</code>
</h4></div>
<div class="pDefPara2"><a name="wp1024076"> </a>
is an abend with a dump. If <code class="cCode">TERM=DUMP</code> is specified, TMA TCP for IMS issues a U3166 abend. If a <code class="cCode">SYSUDUMP DD</code> statement is included in the JCL, a standard z/OS dump is produced.
</div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1024083"> </a>
The Oracle TMA TCP for IMS Message Log
</h2><p class="pBody"><a name="wp1024087"> </a>
The TMA TCP for IMS product uses a message log dataset to record all messages issued. Normally, the message log (<code class="cCode">DDNAME=MSGLOG</code>) is allocated to a disk dataset, but it can be allocated to another destination (such as <code class="cCode">sysout</code>) if desired.
</p>
<p class="pBody"><a name="wp1024088"> </a>
The message log is primarily intended for historical use; that is, as a means to review TMA TCP for IMS activity after-the-fact. The message log remains open for output during the entire execution of TMA TCP for IMS. Consequently, messages cannot ordinarily be viewed interactively (for example, using ISPF Browse) due to the dataset disposition and/or buffering of messages by z/OS.
</p>
<p class="pBody"><a name="wp1024095"> </a>
The <code class="cCode">MSGLEVEL</code> parameter of the <code class="cCode">SYSTEM</code> statement in the configuration file controls the type of messages written to the log. Specifying a <code class="cCode">MSGLEVEL</code> of 4 causes all informational and error messages to be recorded. Specifying a <code class="cCode">MSGLEVEL</code> of 2 records only error messages. A <code class="cCode">MSGLEVEL</code> of 0 (zero) suppresses all logging. Under normal circumstances, a <code class="cCode">MSGLEVEL</code> of 4 should be specified.
</p>
<p class="pBody"><a name="wp1024096"> </a>
You may elect to have messages appended to the existing log (thus preserving messages from previous executions of TMA TCP for IMS) by coding <code class="cCode">DISP=MOD</code> in the <code class="cCode">MSGLOG DD</code> statement in the JCL for TMA TCP for IMS. Alternatively, coding <code class="cCode">DISP=OLD</code> or <code class="cCode">DISP=SHR</code> causes the log to be overwritten, discarding any messages from a previous execution of TMA TCP for IMS.
</p>
<h3 class="pHeading2"><a name="wp1024106"> </a>
Message Format
</h3>
<p class="pBody"><a name="wp1024110"> </a>
Each message written to the message log has the general format as in <a href="imsmont.html#wp1024112"><span class="cHyperlink">
Listing&#160;5-4</span></a>.
</p>
<div class="pCodeTitle"><a name="wp1024112"> </a>
Listing&#160;5-4	   Message Log Format
</div> <a name="wp1024113"> </a><div class="pPreformatted"><pre><code class="cCodeEmphasis">mm-dd-yyyy hh:mm:ss msgid ssss text</code></pre></div><h4 class="pDefTerm"><a name="wp1024115"> </a>
<code class="cCodeEmphasis">mm-dd-yyyy</code>
</h4><div class="pDefPara"><a name="wp1024116"> </a>
<span style="font-style: italic">mm</span> is the month of the year (1-12) in which the message was logged.
</div>
<div class="pDefParaCont"><a name="wp1024117"> </a>
<span style="font-style: italic">dd</span> is the day of the month (1-31) on which the message was logged.
<a name="wp1024118"> </a>
<span style="font-style: italic">yyyy</span> is the year that the message was logged.
</div>
<h4 class="pDefTerm"><a name="wp1024119"> </a>
<code class="cCodeEmphasis">hh:mm:ss</code>
</h4><div class="pDefPara"><a name="wp1024120"> </a>
<span style="font-style: italic">hh</span> is the hour of the day during which the message was logged.
</div>
<h4 class="pDefTerm"><a name="wp1024121"> </a>
<span style="font-style: italic">mm</span> is the minute of the hour during which the message was logged.
</h4><div class="pDefParaCont"><a name="wp1024122"> </a>
<span style="font-style: italic">ss</span> is the second of the minute during which the message was logged.
<div class="pFigureTitle"><a name="wp1024123"> </a>
Figure&#160;5-1  <code class="cCodeEmphasis">msgid</code>
</div>

 
 </div>
<div class="pDefPara"><a name="wp1024124"> </a>
is the message ID, in the form <em style="font-style: italic" class="cEmphasis">BEA</em><span style="font-style: italic">nnnnt</span>, where <span style="font-style: italic">nnnn</span> is a unique message number and <span style="font-style: italic">t</span> is the message type.
</div>
<h4 class="pDefTerm"><a name="wp1024125"> </a>
<code class="cCodeEmphasis">ssss</code>
</h4><div class="pDefPara"><a name="wp1024126"> </a>
is the socket number for the TCP/IP connection with which the message is associated. If the message is not associated with a TCP/IP connection, this field is blank.
</div>
<h4 class="pDefTerm"><a name="wp1024127"> </a>
<code class="cCodeEmphasis">text</code>
</h4><div class="pDefPara"><a name="wp1024128"> </a>
is the text of the message.
</div>
<p class="pBody"><a name="wp1024131"> </a>
For additional information on messages issued by the gateway, refer to the <a href="imsaperm.html"><span class="cHyperlink">
Error and Informational Messages</span></a> section.
</p>
<h3 class="pHeading2"><a name="wp1024134"> </a>
z/OS Console Messages
</h3>
<p class="pBody"><a name="wp1024138"> </a>
The TMA TCP for IMS product also logs messages to the z/OS console so that operators can monitor the operation of TMA TCP for IMS and respond to any conditions requiring their attention.
</p>
<p class="pBody"><a name="wp1024145"> </a>
In general, TMA TCP for IMS logs the same messages to the console that are recorded in the message log (that is, informational and error messages). However, because TMA TCP for IMS issues few informational messages during normal operation, console traffic is minimized.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1024151"> </a>
The Server Response Log File
</h2><p class="pBody"><a name="wp1024155"> </a>
When TMA TCP for IMS receives a client request from a remote system, the request is inserted into the IMS message queue for delivery to the specified IMS server transaction. The IMS server transaction processes the request and inserts the response (if required) into the IMS message queue for delivery to TMA TCP for IMS. When the response is received, it is returned to the requesting remote system.
</p>
<p class="pBody"><a name="wp1024159"> </a>
Each IMS server request and the associated response contains a unique request/response ID, consisting of the date and time that TMA TCP for IMS was started, and a serial number. The TMA TCP for IMS gateway uses the request/response&#160;ID to correlate each response with a pending server request. 
</p>
<p class="pBody"><a name="wp1024170"> </a>
It is possible that TMA TCP for IMS may receive a response from an IMS server transaction for which no pending request exists. This can occur under any of the following conditions:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1024174"> </a>The TMA TCP for IMS gateway was restarted after the request was sent to IMS but before the response was received. In this case, the response is usually received when TMA TCP for IMS is subsequently restarted.</li>
<li><a name="wp1024178"> </a>The TCP/IP connection with the remote gateway was lost after the request was sent to IMS but before the response was received.</li>
<li><a name="wp1024179"> </a>The request was sent to IMS, but timed out and was aborted before the response was received from IMS.</li>
<li><a name="wp1024180"> </a>The IMS server transaction returned a response to a request that did not require a response.</li>
</ul></div>
<p class="pBody"><a name="wp1024188"> </a>
When a response cannot be correlated with a pending request (that is, a pending request with a matching request/response ID cannot be found), TMA TCP for IMS writes the response to a server response log file (<code class="cCode">DDNAME=SVRLOG</code>). The information in the server response log file can be useful as part of a manual recovery procedure. Message <code class="cCode">BEA2033E</code> is also issued, indicating that a server response has been logged and specifying the reason (&#8220;Server Request not found&#8221; or &#8220;No response was expected&#8221;).
</p>
<p class="pBody"><a name="wp1024193"> </a>
Server responses are logged as two separate records: the BEA server request/response header (containing the unique request/response ID), and the response data.
</p>
<a name="wp1024194"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The dataset attributes of the server response Log File are fixed by architecture. Refer to the <em class="cEmphasis">Oracle </em>Tuxedo Mainframe Adapter for TCP<em class="cEmphasis"> Installation Guide</em> for additional information.</td>
</tr>
</table>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="imsmont.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="imsconf.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="imsprog.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
