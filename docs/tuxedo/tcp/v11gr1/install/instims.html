<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="2" />
<meta name="LOC_US_CHANGE" content="40326" />
<meta name="LOC_US_SRCFILE" content="//depot/ecs/tcp/v11gr1/install/fm/instims.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="08/24/10 07:27:01" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Installing Oracle Tuxedo Mainframe Adapter for TCP (IMS)</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Installation Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="insttux.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="instcics.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/install.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1029923"> </a>
Installing Oracle Tuxedo Mainframe Adapter for TCP (IMS)
</h1>
<p class="pBody"><a name="wp1029930"> </a>
Installing Oracle Tuxedo Mainframe Adapter for TCP (IMS) (hereafter referenced as TMA TCP for IMS) consists of the following basic tasks.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025466"> </a><a href="instims.html#wp1025501"><span class="cHyperlink">
Preparing to Install</span></a> </li>
<li><a name="wp1028368"> </a><a href="instims.html#wp1025514"><span class="cHyperlink">
Installing TMA TCP for IMS</span></a> </li>
</ul></div>
<a name="wp1029300"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>To upgrade from previous releases of eLink for Mainframe TCP, refer to <em class="cEmphasis">Oracle </em>Tuxedo Mainframe Adapter for TCP<em class="cEmphasis"> Release Notes</em>.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1025501"> </a>
Preparing to Install
</h2><p class="pBody"><a name="wp1025505"> </a>
Complete the following tasks prior to installing the TMA TCP for IMS software:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025509"> </a>Read the <em style="font-style: italic" class="cEmphasis">Oracle</em><span style="font-style: italic"> </span>Tuxedo Mainframe Adapter for TCP<span style="font-style: italic"> Release Notes</span></li>
<li><a name="wp1025511"> </a>Verify the TCP/IP stack software is installed and configured as part of your operating system installation.</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1025514"> </a>
Installing TMA TCP for IMS
</h2><p class="pBody"><a name="wp1026355"> </a>
To install TMA TCP for IMS, complete the following tasks:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1029831"> </a><a href="instims.html#wp1026354">Task 1: Allocate z/OS Datasets</a></li>
<li><a name="wp1029840"> </a><a href="instims.html#wp1025651">Task 2: Unload the Distribution Files</a></li>
<li><a name="wp1029844"> </a><a href="instims.html#wp1025687">Task 3: Link-Edit TMA TCP for IMS</a></li>
<li><a name="wp1029848"> </a><a href="instims.html#wp1025730">Task 4: Define TMA TCP for IMS to MVS</a></li>
<li><a name="wp1029852"> </a><a href="instims.html#wp1025795">Task 5: Create an TMA TCP for IMS Configuration File</a></li>
<li><a name="wp1029856"> </a><a href="instims.html#wp1025911">Task 6: Create JCL to Run TMA TCP for IMS</a></li>
<li><a name="wp1029860"> </a><a href="instims.html#wp1026008">Task 7: Start Oracle TMA TCP for IMS</a></li>
<li><a name="wp1029864"> </a><a href="instims.html#wp1026034">Task 8: Test the Installation</a></li>
</ul></div>
<h3 class="pHeading2"><a name="wp1026354"> </a>
Task 1: Allocate z/OS Datasets
</h3>
<p class="pBody"><a name="wp1025518"> </a>
The directory structures on the TMA TCP for IMS software CD include the following partitioned datasets:
</p>
<p class="pGraphic"><a name="wp1025577"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1025521table1025519">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1025521"> </a>
<span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Partitioned Datasets (PDS)</span>
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1025523"> </a>
Format
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1025525"> </a>
Contents
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025527"> </a>
<code class="cCode">CONTROL</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025529"> </a>
ASCII
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025531"> </a>
Sample IMS definitions, sample Oracle TMA TCP for IMS configuration files
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025536"> </a>
<code class="cCode">INCLUDE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025538"> </a>
ASCII
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025540"> </a>
C header files, COBOL copybooks for use by IMS Client and Server transactions
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025542"> </a>
<code class="cCode">JCL</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025544"> </a>
ASCII
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025546"> </a>
Job Control Language for linking and executing Oracle TMA TCP for IMS
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025551"> </a>
<code class="cCode">SOURCE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025553"> </a>
ASCII
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025555"> </a>
Sample IMS Client and Server transactions for use with Oracle TMA TCP for IMS
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025560"> </a>
<code class="cCode">OBJECT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025562"> </a>
BINARY
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025566"> </a>
Object component files of Oracle TMA TCP for IMS
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025569"> </a>
<code class="cCode">MSGCAT</code> (sequential dataset)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025571"> </a>
BINARY
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025573"> </a>
File containing runtime messages that TMA TCP for IMS issue
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1025578"> </a>FTP the JCL file <code class="cCode">INSTALL </code>from the JCL subdirectory. </li>
<li><a name="wp1027134"> </a>Execute this job to allocate datasets using high-level qualifiers appropriate to your installation (<span style="font-style: italic">hlq1</span> and <span style="font-style: italic">hlq2</span> are dataset name high-level qualifiers appropriate to your installation). </li>
</ol></div>
<p class="pBody"><a name="wp1029172"> </a>
The following datasets are allocated to receive the Tuxedo Mainframe Adapter for TCP file distribution.
</p>
<div class="pCodeTitle"><a name="wp1025582"> </a>
Listing&#160;3-1	   Allocating z/OS Datasets
</div> <a name="wp1025583"> </a><div class="pPreformatted"><pre>   DSNAME: <span style="font-style: italic">hlq1</span>.<span style="font-style: italic">hlq2</span>.CONTROL<br />   DSORG: PO<br />   DIRBLKS: 10<br />   RECFM: FB<br />   LRECL: 80<br />   BLKSIZE: 23440 (or other valid blocksize)<br />   SPACE: 2 tracks<br />   Usage: IMS sample definitions, sample configuration file</pre></div><a name="wp1025584"> </a><div class="pPreformatted"><pre>   DSNAME: h<span style="font-style: italic">lq1</span>.<span style="font-style: italic">hlq2</span>.INCLUDE<br />   DSORG: PO<br />   DIRBLKS: 10<br />   RECFM: FB<br />   LRECL: 80<br />   BLKSIZE: 23440 (or other valid blocksize)<br />   SPACE: 2 tracks<br />   Usage: C header file, COBOL copybooks</pre></div><a name="wp1025585"> </a><div class="pPreformatted"><pre>   DSNAME: <span style="font-style: italic">hlq1</span>.<span style="font-style: italic">hlq2</span>.JCL<br />   DSORG: PO<br />   DIRBLKS: 10<br />   RECFM: FB<br />   LRECL: 80<br />   BLKSIZE: 23440 (or other valid blocksize)<br />   SPACE: 2 tracks<br />   Usage: Sample LINK and execute JCL</pre></div><a name="wp1025586"> </a><div class="pPreformatted"><pre>   DSNAME: <span style="font-style: italic">hlq1</span>.<span style="font-style: italic">hlq2</span>.MSGCAT<br />   DSORG: PS<br />   DIRBLKS: 10<br />   RECFM: FB<br />   LRECL: 100<br />   BLKSIZE: 32000 (or other valid blocksize)<br />   SPACE: 2 tracks<br />   Usage: Message text</pre></div><a name="wp1025587"> </a><div class="pPreformatted"><pre>   DSNAME: <span style="font-style: italic">hlq1</span>.<span style="font-style: italic">hlq2</span>.OBJECT<br />   DSORG: PO<br />   DIRBLKS: 10<br />   RECFM: FB<br />   LRECL: 80<br />   BLKSIZE: 3200<br />   SPACE: 1 cylinder<br />   Usage: Pre-linked object files</pre></div><a name="wp1025588"> </a><div class="pPreformatted"><pre>   DSNAME: <span style="font-style: italic">hlq1</span>.<span style="font-style: italic">hlq2</span>.SOURCE<br />   DSORG: PO<br />   DIRBLKS: 10<br />   RECFM: FB<br />   LRECL: 80<br />   BLKSIZE: 23440 (or other valid blocksize)<br />   SPACE: 1 track<br />   Usage: Sample IMS client and server transactions</pre></div><p class="pBody"><a name="wp1025594"> </a>
The following runtime datasets are also allocated.
</p>
<p class="pGraphic"><a name="wp1025638"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1025597table1025595">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1025597"> </a>
Runtime Datasets
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1025599"> </a>
Format
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1025601"> </a>
Contents
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025603"> </a>
<code class="cCode">LOAD</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025605"> </a>
Binary
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025609"> </a>
Load library for Oracle TMA TCP for IMS
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025612"> </a>
<code class="cCode">CONFIG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025614"> </a>
ASCII
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025618"> </a>
Configuration file for Oracle TMA TCP for IMS
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025621"> </a>
<code class="cCode">MSGLOG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025623"> </a>
ASCII
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025627"> </a>
Message log for Oracle TMA TCP for IMS
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025630"> </a>
<code class="cCode">SVRLOG</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025632"> </a>
ASCII
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1025634"> </a>
A log file containing server responses for Oracle TMA TCP for IMS
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<div class="pCodeTitle"><a name="wp1025643"> </a>
Listing&#160;3-2	   Allocating Runtime Datasets
</div> <a name="wp1025644"> </a><div class="pPreformatted"><pre>   DSNAME: <span style="font-style: italic">hlq1</span>.<span style="font-style: italic">hlq2</span>.LOAD<br />   DSORG: PO<br />   DIRBLKS: 10<br />   RECFM: U<br />   LRECL: 0<br />   BLKSIZE: 6133 (or other valid blocksize)<br />   SPACE: 1 cylinder<br />   Usage: Load library</pre></div><a name="wp1025645"> </a><div class="pPreformatted"><pre>   DSNAME: h<span style="font-style: italic">lq1</span>.<span style="font-style: italic">hlq2</span>.CONFIG<br />   DSORG: PS<br />   RECFM: FB<br />   LRECL: 80<br />   BLKSIZE: 23440 (or other valid blocksize)<br />   SPACE: 1 track<br />   Usage: Configuration File</pre></div><a name="wp1025646"> </a><div class="pPreformatted"><pre>   DSNAME: <span style="font-style: italic">hlq1</span>.<span style="font-style: italic">hlq2</span>.MSGLOG<br />   DSORG: PS<br />   RECFM: VB<br />   LRECL: 1028<br />   BLKSIZE: 6144 (or other valid blocksize)<br />   SPACE: 1 cylinder<br />   Usage: Message Log</pre></div><a name="wp1030001"> </a><div class="pPreformatted"><pre>   DSNAME: <span style="font-style: italic">hlq1</span>.<span style="font-style: italic">hlq2</span>.SVRLOG<br />   DSORG: PS<br />   RECFM: VB<br />   LRECL: 32756<br />   BLKSIZE: 32760 (Note: required blocksize)<br />   SPACE: 1 cylinder<br />   Usage: Server Response Log</pre></div><h3 class="pHeading2"><a name="wp1025651"> </a>
Task 2: Unload the Distribution Files
</h3>
<p class="pBody"><a name="wp1028420"> </a>
The TMA TCP for IMS product is distributed on a single CD-ROM (with other members of the Tuxedo Mainframe Adapter for TCP product). The TMA TCP for IMS distribution files are grouped under one of the following directory structures:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025664"> </a>For UNIX, the directory is <code class="cCode">/cdrom/unixmf.</code></li>
<p class="pBodyRelative"><a name="wp1027242"> </a>
 In this directory structure, <code class="cCode">/cdrom</code> is the directory where the drive is mounted.
</p>
<li><a name="wp1025665"> </a>For Windows, the directory is <code class="cCode">D:\ntmf.</code></li>
<p class="pBodyRelative"><a name="wp1027362"> </a>
In this directory structure, <code class="cCode">D:</code> is the CD-ROM drive.
</p>
</ul></div>
<p class="pBody"><a name="wp1025666"> </a>
Because the distribution files are located on a CD-ROM, you probably use a UNIX-based system or a PC-based system to access the files on the CD-ROM and file transfer them to z/OS.
</p>
<p class="pBody"><a name="wp1025668"> </a>
Transfer the contents of each subdirectory to the corresponding distribution library on the z/OS system. Use a file transfer program (such as FTP) or any other mechanism that allows you to transfer files to your z/OS system. The file transfer program must be able to:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025671"> </a>Properly transfer both text and binary files</li>
<li><a name="wp1025672"> </a>Properly create members in a target library (PDS)</li>
</ul></div>
<p class="pBody"><a name="wp1025673"> </a>
The IBM File Transfer Program (FTP, distributed as part of TCP/IP for z/OS) satisfies both of these requirements. 
</p>
<p class="pBody"><a name="wp1027452"> </a>
Each file in each subdirectory on the distribution CD-ROM corresponds to a member of the associated target library. For example, file <code class="cCode">BEATCPI</code> in the JCL subdirectory corresponds to member <code class="cCode">BEATCPI</code> in the JCL distribution library. 
</p>
<a name="wp1027453"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>All files in the <code class="cCode">CONTROL</code>, <code class="cCode">INCLUDE</code>, <code class="cCode">JCL</code>, and <code class="cCode">SOURCE</code> subdirectories are text files; be sure to specify text (or ASCII) mode when you transfer these files from the CD-ROM to their corresponding z/OS distribution library members.</td>
</tr>
</table>

<a name="wp1025681"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The <code class="cCode">MSGCAT</code> file and all files in the <code class="cCode">OBJECT</code> subdirectory are binary files; specify binary (or image) mode when you transfer these files from the CD-ROM to the corresponding z/OS distribution library members.</td>
</tr>
</table>
<h3 class="pHeading2"><a name="wp1025687"> </a>
Task 3: Link-Edit TMA TCP for IMS
</h3>
<p class="pBody"><a name="wp1029878"> </a>
The TMA TCP for IMS program is delivered as a pre-linked object file. Use the <code class="cCode">LNKBEA34</code> JCL file for linking with IBM&#8217;s TCP/IP.
</p>
<p class="pBody"><a name="wp1025695"> </a>
Tailor the JCL as required to match your installation&#8217;s standards and naming conventions. Review the following items and make the necessary changes before you submit the job.
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1025697"> </a>Supply an appropriate Job Card for the job.</li>
<li><a name="wp1025699"> </a>Change the names of product datasets as required to match those in your particular installation, including LE/370 datasets (for example, <code class="cCode">SYS1.SCEELKED</code>), TCP/IP for z/OS datasets (for example, <code class="cCode">SYS1.SEZACMTX</code>), and IMS (for example, <code class="cCode">IMSV5R1.RESLIB</code>).</li>
<li><a name="wp1025704"> </a>Change the names of TMA TCP for IMS datasets as required to match those you allocated in Step 1 (for example, <code class="cCode">BEATCPI.DIST.OBJECT</code>).</li>
<li><a name="wp1025706"> </a>Change the name of the link-editor (<code class="cCode">HEWL</code>) as required to match the name used by your installation.</li>
</ol></div>
<a name="wp1025707"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The link job references components supplied by LE/370, TCP/IP for z/OS, and IMS.</td>
</tr>
</table>

<p class="pBody"><a name="wp1025708"> </a>
When the job completes successfully, you receive a return code of <code class="cCode">0</code> from the link-edit steps and an executable load module is placed into the specified target load library. The load module should have attributes of <code class="cCode">AMODE=31</code>, <code class="cCode">RMODE=24</code>. There should be no unresolved external references.
</p>
<h4 class="pHeading3"><a name="wp1025715"> </a>
Sample JCL for Linking TMA TCP for IMS
</h4>
<p class="pBody"><a name="wp1025719"> </a>
<a href="instims.html#wp1025721">Listing&#160;3-3</a> is JCL to link the distributed object files into an executable load module.
</p>
<div class="pCodeTitle"><a name="wp1025721"> </a>
Listing&#160;3-3	   Sample JCL for Linking Distributed Object Files
</div> <a name="wp1025722"> </a><div class="pPreformatted"><pre>//JOBNAME JOB ETC.                                                                             <br />//LKED     EXEC PGM=HEWL,COND=(4,LT),                                           <br />//         REGION=2M,PARM=&#39;AMODE=31,MAP,XREF&#39;                                   <br />//SYSLIB   DD  DSNAME=SYS1.SCEELKED,DISP=SHR                                    <br />//         DD  DSNAME=SYS1.SEZACMTX,DISP=SHR                                    <br />//SYSPRINT DD  SYSOUT=*                                                         <br />//SYSLMOD  DD  DISP=SHR,DSNAME=BEATCPI.DIST.LOAD                                <br />//SYSUT1   DD  UNIT=VIO,SPACE=(TRK,(10,10))                                     <br />//RESLIB   DD  DISP=SHR,DSN=IMSV5R1.RESLIB                                      <br />//SYSLIN   DD  DISP=OLD,DSN=BEA.HLQ.OBJECT(PREBEA34)                                           <br />//         DD  *                                                                <br /> INCLUDE RESLIB(DFSLI000)                                                       <br /> ENTRY CEESTART                                                                 <br /> NAME BEATCPI(R)                                                                <br />/*                                                                              <br />//</pre></div><h3 class="pHeading2"><a name="wp1025730"> </a>
Task 4: Define TMA TCP for IMS to MVS
</h3>
<p class="pBody"><a name="wp1025734"> </a>
To integrate TMA TCP for IMS into your IMS environment, you must properly define it to MVS. 
</p>
<h4 class="pHeading3"><a name="wp1028532"> </a>
OTMA Definition
</h4>
<p class="pBody"><a name="wp1028536"> </a>
To use OTMA to integrate TMA TCP for IMS into your z/OS environment, you must properly define it in the program property table (PPT). <a href="instims.html#wp1025788">Listing&#160;3-4</a> is a sample program entry for the Tuxedo Mainframe Adapter for TCP product. Also, you must link the program to an APF authorized library. 
</p>
<div class="pCodeTitle"><a name="wp1025788"> </a>
Listing&#160;3-4	   Sample Program Property Table
</div> <a name="wp1030005"> </a><div class="pPreformatted"><pre>PPT PGMNAME(BEATCP34)     /* PROGRAM NAME = BEATCP34           */<br />         CANCEL           /* PROGRAM CAN BE CANCELED           */<br />         KEY(7)           /* PROTECT KEY ASSIGNED IS 7         */<br />         SWAP             /* PROGRAM IS SWAPPABLE              */<br />         NOPRIV           /* PROGRAM IS NOT PRIVILEGED         */<br />         DSI              /* REQUIRES DATA SET INTEGRITY       */<br />         PASS             /* CANNOT BYPASS PASSWORD PROTECTION */<br />         SYST             /* PROGRAM IS A SYSTEM TASK          */<br />         AFF(NONE)        /* NO CPU AFFINITY                   */<br />         NOPREF           /* NO PREFERRED STORAGE FRAMES       */<br /></pre></div><h3 class="pHeading2"><a name="wp1025795"> </a>
Task 5: Create an TMA TCP for IMS Configuration File
</h3>
<p class="pBody"><a name="wp1025800"> </a>
Oracle TMA TCP for IMS makes use of a text configuration file which is read and processed during initialization to establish the configuration. Any text editor (such as the ISPF Editor) can be used to create the configuration file. <code class="cCode">CONFIGOT</code>, the OTMA sample in the <code class="cCode">CONTROL</code> distribution library is a sample configuration file which you may use as a starting point for creating configuration files tailored to your particular installation. 
</p>
<p class="pBody"><a name="wp1027678"> </a>
Place your completed configuration file in the configuration dataset allocated in the <a href="instims.html#wp1026354"><span class="cHyperlink">
Task 1: Allocate z/OS Datasets</span></a> section. A configuration file includes the following basic sections:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025808"> </a><code class="cCode">SYSTEM</code> Statement Definition</li>
<li><a name="wp1025812"> </a>Local Gateways Definition</li>
<li><a name="wp1025816"> </a>Remote Gateways Definition</li>
<li><a name="wp1025820"> </a>Remote Services Definition</li>
<li><a name="wp1025824"> </a>Local Services and IMS Host Systems Definition</li>
<a name="wp1025825"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You must define local services and IMS host systems if running OTMA.</td>
</tr>
</table>

</ul></div>
<p class="pBody"><a name="wp1025826"> </a>
For detailed information about syntax and parameter definitions for the configuration file, refer to the Oracle Tuxedo Mainframe Adapter for TCP IMS User Guide.
</p>
<h4 class="pHeading3"><a name="wp1025831"> </a>
SYSTEM Statement Definition
</h4>
<p class="pBody"><a name="wp1025834"> </a>
<code class="cCode">SYSTEM</code> parameters control the overall operational environment of Oracle TMA TCP for IMS. Because TMA TCP for IMS cannot &#8220;wait&#8221; on the IMS Message Queue, the queue is periodically interrogated (polled) to determine if any new work has arrived (for example, IMS Client requests or Server responses). Set the <code class="cCode">SleepTime</code> parameter to specify the amount of time that TMA TCP for IMS &#8220;sleeps&#8221; (waits) during idle periods before checking the IMS Message Queue for work. 
</p>
<h4 class="pHeading3"><a name="wp1025845"> </a>
Local Gateways Definition
</h4>
<p class="pBody"><a name="wp1025847"> </a>
You must provide at least one <code class="cCode">GATEWAY TYPE=LOCAL</code> statement to define access to your local (IMS) gateway by remote systems. In this statement, specify the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025849"> </a>The IP Address that remote systems use to establish TCP/IP connections with this gateway.</li>
<li><a name="wp1025852"> </a>The IP Address should be that of the z/OS machine on which Oracle TMA TCP for IMS is running. </li>
<li><a name="wp1025855"> </a>The Port Number that remote systems use to establish TCP/IP connections with this gateway.</li>
<li><a name="wp1025856"> </a>You should specify a Port Number that is not a well-known port number and one that is not used by any other TCP/IP application. </li>
<li><a name="wp1025857"> </a>The Account ID and Password (if used) that must be supplied by remote systems to successfully establish an inbound session with this gateway</li>
<li><a name="wp1025859"> </a>The maximum number of concurrent inbound sessions (TCP/IP connections initiated by remote systems) that is accepted via the specified port</li>
</ul></div>
<p class="pBody"><a name="wp1025860"> </a>
Make sure that remote systems are correctly configured with the corresponding IP Address, Port Number, Account ID (if used), and Password (if used). Otherwise, attempts by remote systems to connect to this gateway fail.
</p>
<h4 class="pHeading3"><a name="wp1025862"> </a>
Remote Gateways Definition
</h4>
<p class="pBody"><a name="wp1025863"> </a>
<code class="cCode">GATEWAY TYPE=REMOTE</code> statements define access to remote systems by the IMS gateway. In particular, each <code class="cCode">GATEWAY TYPE=REMOTE</code> statement specifies:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025864"> </a>The IP Address to use to establish a TCP/IP connection (that is, connect) with the remote gateway</li>
<li><a name="wp1025865"> </a>The Port Number to use to establish a TCP/IP connection (that is, connect) with the remote gateway</li>
<li><a name="wp1025866"> </a>The Account ID and Password (if used) that must be supplied to establish an outbound session with the remote gateway</li>
<li><a name="wp1025867"> </a>The minimum and maximum number of concurrent, outbound sessions that are established with the remote gateway</li>
<li><a name="wp1025868"> </a>If you specify a value other than zero for the minimum number of sessions, TMA TCP for IMS attempts to establish the specified number of outbound sessions with the remote system during initialization.</li>
</ul></div>
<p class="pBody"><a name="wp1025872"> </a>
The IP Address, Port Number, Account ID, and Password must match the configuration of the remote system. Otherwise, attempts to establish an outbound session with the remote system fails.
</p>
<h4 class="pHeading3"><a name="wp1025874"> </a>
Remote Services Definition
</h4>
<p class="pBody"><a name="wp1025878"> </a>
<code class="cCode">SERVICE TYPE=REMOTE</code> statements define remote services to which TMA TCP for IMS has access. Each statement specifies:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025882"> </a>The corresponding local and remote service names</li>
<li><a name="wp1025883"> </a>The Local Service Name is the name used by an IMS Client transaction to request the service. The Remote Service Name is the name of the service as defined on the remote system. These need not be the same, but note that the Remote Service Name <em class="cEmphasis">must</em> match the configuration of the remote system.</li>
<li><a name="wp1025884"> </a>The remote system (Logical Machine ID) that offers the service</li>
<li><a name="wp1025885"> </a>The remote system offering the service is identified by a Logical Machine ID, which must correspond to the Logical Machine ID specified in a <code class="cCode">GATEWAY TYPE=REMOTE</code> statement.</li>
<li><a name="wp1025886"> </a>A time limit for processing the request</li>
<li><a name="wp1025890"> </a>The Time Limit (in seconds) specifies how long TMA TCP for IMS &#8220;waits&#8221; for a response to a request sent to a remote system before assuming that the request has &#8220;timed out&#8221; and that no response is forthcoming. Specify a value that makes a reasonable allowance for network latency and overall system load. Small values should be avoided because they may result in requests timing out under otherwise normal circumstances.</li>
</ul></div>
<a name="wp1025891"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>It is permissible to have more than one <code class="cCode">SERVICE TYPE=REMOTE</code> statement for the same (local) service name. When this is the case, each statement must identify a different remote Logical Machine ID. This allows TMA TCP for IMS to &#8220;spread&#8221; requests for a particular service among multiple remote systems offering the service, thus balancing the load and improving overall throughput.</td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1025896"> </a>
Local Services and IMS Host Systems Definition
</h4>
<p class="pBody"><a name="wp1025898"> </a>
<code class="cCode">SERVICE TYPE=LOCAL</code> statements define local services offered by a local IMS host. There can be multiple <code class="cCode">SERVICE TYPE=LOCAL</code> statements and multiple statements defining the same service, provided each specifies a different local <code class="cCode">IMSID</code>. Each statement requires the following information:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025901"> </a>The corresponding local and remote service names</li>
<p class="pBodyRelative"><a name="wp1025902"> </a>
The Local Service Name is the name used by an IMS Client transaction to request the service. The Remote Service Name is the name of the service as defined on the remote system. 
</p>
<a name="wp1025903"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The local and remote service names can be different; however, the Remote Service Name <em class="cEmphasis">must</em> match the configuration of the remote system.</td>
</tr>
</table>

<li><a name="wp1025904"> </a>The <code class="cCode">IMSID</code> (Logical IMS ID) that offers the service</li>
<p class="pBodyRelative"><a name="wp1025905"> </a>
The <code class="cCode">IMSID</code> is a symbolic name that uniquely identifies an IMS system definition. This name must match a logical IMS ID (<code class="cCode">IMSID</code>) specified in a <code class="cCode">HOST, TYPE=IMS</code> statement.
</p>
</ul></div>
<h3 class="pHeading2"><a name="wp1025911"> </a>
Task 6: Create JCL to Run TMA TCP for IMS 
</h3>
<p class="pBody"><a name="wp1025915"> </a>
You must create JCL to run the Oracle TMA TCP for IMS product. The following section specifies how to create JCL for running as an OTMA client.
</p>
<h4 class="pHeading3"><a name="wp1025966"> </a>
JCL for OTMA Clients
</h4>
<p class="pBody"><a name="wp1025970"> </a>
When running the product as an OTMA client, TMA TCP for IMS runs in its own address space under z/OS as a started task or long running job. Member <code class="cCode">RUNOTM</code> in the JCL distribution library is a sample job for executing TMA TCP for IMS.
</p>
<p class="pBody"><a name="wp1025975"> </a>
When tailoring the JCL for your OTMA installation, pay particular attention to the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1025977"> </a>You need to supply an appropriate Job Card for the job. The job card should specify <code class="cCode">TIME=1440</code>, since TMA TCP for IMS executes as a non-ending job.</li>
<li><a name="wp1025985"> </a>TMA TCP for IMS is written in the C language and requires access to the LE/370 runtime environment. Add DD cards to the <code class="cCode">STEPLIB</code> for the LE/370 runtime datasets, including <code class="cCode">SYS1.SCEERUN</code> and <code class="cCode">SYS1.SCEELKED</code>. Use whatever dataset names are appropriate for your installation.</li>
<li><a name="wp1025989"> </a>For diagnostic purposes, you may wish to add <code class="cCode">DD</code> cards for <code class="cCode">SYSUDUMP</code> and/or <code class="cCode">CEEDUMP</code>. In the event of an abnormal termination (<code class="cCode">ABEND</code>), LE/370 writes a formatted dump to <code class="cCode">CEEDUMP</code>.</li>
<li><a name="wp1025991"> </a>Add a <code class="cCode">DD</code> card for <code class="cCode">SYSTCPD</code> pointing to the TPC/IP Data file (for example, TCPIP.V3R1.DATA &#8211;  change the dataset name as necessary to conform to your installation). This dataset is used by TCP/IP in the TMA TCP for IMS address space (when using IBM TCP/IP).</li>
<li><a name="wp1025998"> </a>If you want to preserve messages from previous executions of TMA TCP for IMS, code <code class="cCode">DISP=MOD</code> in the <code class="cCode">MSGLOG</code> <code class="cCode">DD</code> statement; new messages are appended to the end of the dataset (existing messages are preserved). If you want the Message Log to be overwritten with each new execution of TMA TCP for IMS, code <code class="cCode">DISP=OLD</code> (or <code class="cCode">DISP=SHR</code>) in the <code class="cCode">MSGLOG</code> <code class="cCode">DD</code> statement; existing messages are lost.</li>
</ul></div>
<h3 class="pHeading2"><a name="wp1026008"> </a>
Task 7: Start Oracle TMA TCP for IMS
</h3>
<p class="pBody"><a name="wp1026013"> </a>
Before you attempt to start TMA TCP for IMS the first time, make sure that the proper IMS definitions are in place. 
</p>
<p class="pBody"><a name="wp1026017"> </a>
If you are using <code class="cCode">RACF</code> for security, you must set up a <code class="cCode">FACILITY</code> Class Profile in <code class="cCode">RACF</code> of IMSXCF.<em class="cEmphasis">group.client</em>. You can configure the <em class="cEmphasis">group</em> and <em class="cEmphasis">client</em> names for TMA TCP for IMS.
</p>
<p class="pBody"><a name="wp1026026"> </a>
Start TMA TCP for IMS by submitting the JCL prepared in the <a href="instims.html#wp1025911">Task 6: Create JCL to Run TMA TCP for IMS</a> section.
</p>
<p class="pBody"><a name="wp1026030"> </a>
For additional information on operating this product, refer to the Oracle Tuxedo Mainframe Adapter for TCP IMS User Guide.
</p>
<h3 class="pHeading2"><a name="wp1026034"> </a>
Task 8: Test the Installation
</h3>
<p class="pBody"><a name="wp1026038"> </a>
When you start TMA TCP for IMS for the first time, you should do so in a controlled environment, using a small, simple configuration to methodically test the system to verify your installation and the configuration. For additional information on using this product, refer to the Oracle Tuxedo Mainframe Adapter for TCP IMS User Guide.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1011066"> </a>
Distribution Libraries and Executables
</h2><p class="pBody"><a name="wp1029755"> </a>
The Tuxedo Mainframe Adapter for TCP CD-ROM contains the following libraries and executable programs. After installing the TMA TCP for IMS software, verify that these libraries and programs are installed on your system.
</p>
<p class="pGraphic"><a name="wp1030050"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1028685table1028683">
  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1028685"> </a>
Directory
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1028687"> </a>
Files
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028689"> </a>
<code class="cCode">(top)</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028691"> </a>
<code class="cCode">msgcat</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028693"> </a>
<code class="cCode">CONTROL</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028716"> </a>
<code class="cCode">beacrp01<br />beacrq01<br />beacrr01<br />beasvr01<br />beatcpi<br />configbp<br />configot</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028697"> </a>
<code class="cCode">INCLUDE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028699"> </a>
<code class="cCode">beatcpi<br />client<br />server</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028728"> </a>
<code class="cCode">JCL</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028730"> </a>
<code class="cCode">INSTALL <br />LNKBEA34<br />RUNBMP<br />RUNOTM</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028732"> </a>
<code class="cCode">OBJECT</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028734"> </a>
<code class="cCode">PREBEA34</code>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028736"> </a>
<code class="cCode">SOURCE</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028738"> </a>
<code class="cCode">beacrp01<br />beacrq01<br />beacrr01<br />beaotm<br />beasvr01<br />dfsydru0<br />dfsyprx0</code>
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="instims.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="insttux.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="instcics.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
