<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="1" />
<meta name="LOC_US_CHANGE" content="40264" />
<meta name="LOC_US_SRCFILE" content="//depot/ecs/ositp/v11gr1/ositpug/fm/config.fm" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="08/26/10 09:48:40" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Configuring Oracle Tuxedo Mainframe Adapter for OSI TP</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">User Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="underst.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="using.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
<a accesskey="2" href="javascript:OpenWindowIndex();" onmouseover="window.status='Index'; return true" onfocus="window.status='Index'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open Index in new window">     <img id="LongDescNotReq5" src="/global_resources//images/doc_nav_index.gif" border="0" alt="Open Index in new window" /></a>&nbsp;
<a href="../pdf/ositpug.pdf" target="pdf"><img id="LongDescNotReq6" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq7" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1059119"> </a>
Configuring Oracle Tuxedo Mainframe Adapter for OSI TP
</h1>
<p class="pBody"><a name="wp1026360"> </a>
After the installation of Oracle Tuxedo Mainframe Adapter for OSI TP is complete, you must configure the software. The proper configuration of TMA OSI TP sets up the gateway configuration.
</p>
<p class="pBody"><a name="wp1016487"> </a>
This section covers the following topics:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1017748"> </a><a href="config.html#wp1054895"><span class="cHyperlink">
Configuration Prerequisites</span></a> </li>
<li><a name="wp1035173"> </a><a href="config.html#wp1035048"><span class="cHyperlink">
Setting Environment Variables</span></a> </li>
<li><a name="wp1016642"> </a><a href="config.html#wp1028548"><span class="cHyperlink">
Defining Gateway Configurations.</span></a> </li>
<li><a name="wp1031495"> </a><a href="config.html#wp1030229"><span class="cHyperlink">
Defining TMA OSI TP Servers for Oracle Tuxedo</span></a><span class="cHyperlink">
 </span></li>
<li><a name="wp1031523"> </a><a href="config.html#wp1026602"><span class="cHyperlink">
Setting up Security</span></a> </li>
<li><a name="wp1031534"> </a><a href="config.html#wp1051981"><span class="cHyperlink">
Implementing Native-A Encoding</span></a> </li>
<li><a name="wp1060073"> </a><a href="config.html#wp1046569">Enabling Data Compression</a></li>
<li><a name="wp1054887"> </a><a href="config.html#wp1026355"><span class="cHyperlink">
Processing a Configuration File with the dmloadcf Utility</span></a> </li>
<li><a name="wp1054891"> </a><a href="config.html#wp1014345"><span class="cHyperlink">
Tuning OSI TP-Specific Tables with the TAILOR File</span></a> </li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1054895"> </a>
Configuration Prerequisites
</h2><p class="pBody"><a name="wp1017588"> </a>
The&#160;TMA OSI TP product software must be installed and accessible to your text editor. You must have file permission to access the <code class="cCode">install</code> directory and modify the sample <code class="cCode">DMCONFIG</code> file. 
</p>
<p class="pBody"><a name="wp1019578"> </a>
In addition, the following prerequisites must be met to successfully complete the configuration procedure:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1017589"> </a>The <code class="cCode">$TUXDIR/udataobj/DMTYPE</code> file defining the valid domain types must exist so the <code class="cCode">dmloadcf</code> utility can load the binary configuration file and must contain a domain type of <code class="cCode">OSITPX</code>. During the installation process if the <code class="cCode">DMTYPE</code> file does not contain an OSI TP entry, the <code class="cCode">DMTYPE</code> file is automatically updated with the required OSITP domain type.</li>
<li><a name="wp1017593"> </a>The effective user identifier of the person running <code class="cCode">dmloadcf</code> must match the <code class="cCode">UID</code> in the <code class="cCode">RESOURCES</code> section of the <code class="cCode">TUXCONFIG</code> file. </li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1035048"> </a>
Setting Environment Variables
</h2><p class="pBody"><a name="wp1060265"> </a>
Before you can invoke system commands, you must set several system environment variables. The following table provides descriptions of the four variables you must set. Most of the environment variables required by Oracle Tuxedo Mainframe Adapter for OSI TP are set when you set up Tuxedo. Refer to your Tuxedo documentation for more information about setting the Tuxedo environment variables.
</p>
<p class="pGraphic"><a name="wp1060332"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1060271table1060269"><caption><a name="wp1060271"> </a>
Table 4-1  System Environment Variables

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1060279"> </a>
Variable
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1060281"> </a>
Optional/<br />Required
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1060283"> </a>
Default
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1060285"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060287"> </a>
OSIRUNDIR
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060289"> </a>
Required
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060291"> </a>
None
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060295"> </a>
Indicates location of TMA OSI TP runtime files.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060298"> </a>
GW_DFLT_TRANTIME
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060300"> </a>
Optional
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060302"> </a>
300 seconds
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060304"> </a>
Default transaction time for the server. Value is in seconds
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060306"> </a>
GW_POLLING_INTERVAL
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060308"> </a>
Optional
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060310"> </a>
300 seconds
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060312"> </a>
Internal Polling time for requests to be serviced. Value is in seconds; valid range is 10-10,000 seconds.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060314"> </a>
GW_TIMER_INTERVAL
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060316"> </a>
Optional
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060318"> </a>
300 <br />(3 seconds)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1060320"> </a>
Internal timer for global transaction requests. Value is in one hundredths (1/100)  of a second. Valid values are 100-1000 indicating 1-10 seconds.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p class="pBody"><a name="wp1060322"> </a>
You must set <code class="cCode">OSIRUNDIR</code>, before you can boot the gateway or run the <code class="cCode">osiadmin</code> utility. If you do not set the <code class="cCode">OSIRUNDIR</code> environment variable before you boot the gateway, you will receive a message telling you to set <code class="cCode">OSIRUNDIR</code>. This environment variable specifies the path that the TMA gateway uses for runtime files. You can set the <code class="cCode">OSIRUNDIR</code> environment variable through a script, a command line entry, or through the Windows System Properties in the Control Panel. The variable value should include the path and directory as appropriate for your operating system. If the directory does not exist, the system will create it for you.
</p>
<p class="pBody"><a name="wp1042025"> </a>
The default transaction time on the server is determined at startup by an optional environment variable called <code class="cCode">GW_DFLT_TRANTIME</code>. If you do not set this variable, the default value is 5 minutes (300 seconds). This environment variable can be set to a different value at startup, but if the value exceeds the maximum allowed for a <code class="cCode">LONG,</code> then the value is reset to 300 and a <code class="cCode">LIBGWO_CAT msg 2204</code> is sent to the <code class="cCode">ULOG</code> to indicate that the maximum has been exceeded.
</p>
<a name="wp1038645"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The maximum for a <code class="cCode">LONG </code>is <code class="cCode">2147483647</code>.</td>
</tr>
</table>

<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1028548"> </a>
Defining Gateway Configurations
</h2><p class="pBody"><a name="wp1029341"> </a>
Whether you are defining a new gateway configuration or modifying an existing one, both processes are similar. Defining a gateway configuration requires the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1029344"> </a>Define the TMA OSI TP servers in Tuxedo so that the Oracle TMA system can recognize the gateway servers. Refer to <a href="config.html#wp1030229"><span class="cHyperlink">
Defining TMA OSI TP Servers for Oracle Tuxedo</span></a> for more information.</li>
<li><a name="wp1030059"> </a>Run the <code class="cCode">osiadmin</code> processor if you are upgrading from eLink OSI TP 1.3. Refer to Using the OSI TP Administration Utility for more information.</li>
<li><a name="wp1029040"> </a>Determine which parameter information needs to be added or changed to define the gateway. Refer to <span class="cHyperlink">
Understanding the DMCONFIG File</span> for more information.</li>
<li><a name="wp1038180"> </a>Edit the OSI TP Tailor file if OSI TP-specific tables need to be tuned. Refer to <a href="config.html#wp1014345"><span class="cHyperlink">
Tuning OSI TP-Specific Tables with the TAILOR File</span></a> for more information.</li>
<li><a name="wp1029041"> </a>Create or edit the <code class="cCode">DMCONFIG</code> file with new gateway information. Refer to <a href="config.html#wp1051981">Implementing Native-A Encoding</a> and <span class="cHyperlink">
Understanding the DMCONFIG File</span> for more information.</li>
<li><a name="wp1046233"> </a>Generate a binary version of the <code class="cCode">dmconfig</code> file by running the <code class="cCode">dmloadcf</code> utility. Refer to <a href="config.html#wp1026355"><span class="cHyperlink">
Processing a Configuration File with the dmloadcf Utility</span></a> for more information.</li>
</ol></div>
<p class="pBody"><a name="wp1028965"> </a>
After you perform these steps, you are ready to start the gateway using the Tuxedo <code class="cCode">tmboot</code> command. Refer to the <span style="font-style: italic">Oracle Tuxedo Online Documentation </span>for more information about Tuxedo commands.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1030229"> </a>
Defining TMA OSI TP Servers for Oracle Tuxedo
</h2><p class="pBody"><a name="wp1030230"> </a>
To establish a gateway configuration, the Oracle Tuxedo system must recognize the gateway servers, <code class="cCode">DMADM</code>, <code class="cCode">GWADM</code>, and <code class="cCode">GWOSITP</code>. You define the TMA OSI TP administrative and gateway servers to the Oracle Tuxedo system by editing the <code class="cCode">UBBCONFIG</code> file. 
</p>
<p class="pBody"><a name="wp1037118"> </a>
Perform the following steps to define TMA OSI TP servers for Oracle Tuxedo:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1030248"> </a>In the <code class="cCode">GROUPS</code> section of the <code class="cCode">UBBCONFIG</code> file, add a server group using the following format:</li>
<a name="wp1030249"> </a><div class="pPreformattedRelative"><pre>OSIGRP  GRPNO=1  LMID=SITE1</pre></div><a name="wp1038203"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>OSIGRP is used as an example. You may give the group any name you wish.</td>
</tr>
</table>

<li><a name="wp1030250"> </a>In the <code class="cCode">SERVERS</code> section of the <code class="cCode">UBBCONFIG</code> file, add the three server names: <code class="cCode">DMADM,GWADM,</code>and <code class="cCode">GWOSITP</code>.</li>
<a name="wp1038095"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The <code class="cCode">DMADM</code> and <code class="cCode">GWADM</code> entries should be placed in this order <b class="cBold">BEFORE</b> <code class="cCode">GWOSITP</code> in the <code class="cCode">UBBCONFIG</code> file so the admin servers are loaded before the <code class="cCode">GWOSITP</code> gateway server.</td>
</tr>
</table>

<a name="wp1039352"> </a><table class="ListNote">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>It is recommended that you set the <code class="cCode">RESTART</code> parameter in the <code class="cCode">SERVERS</code> section to <code class="cCode">Y</code> so that the gateway will automatically restart in case of failure.</td>
</tr>
</table>
</ol></div>
<h3 class="pHeading2"><a name="wp1036194"> </a>
Sample UBBCONFIG File
</h3>
<p class="pBody"><a name="wp1036204"> </a>
The following file is a sample <code class="cCode">UBBCONFIG</code> file that defines gateway servers to the Oracle Tuxedo system.
</p>
<div class="pCodeTitle"><a name="wp1030258"> </a>
Listing&#160;4-1	   Sample UBBCONFIG File
</div> <a name="wp1035438"> </a><div class="pPreformatted"><pre>#-----------------------------------<br /># TMA OSI TP Test; Client ubbconfig<br />#-----------------------------------<br /><br />*RESOURCES<br />#---------------<br /># Replace IPCKEY<br />#---------------<br />IPCKEY       52029<br />MASTER       SITE1<br />DOMAINID     FRONTEND<br />PERM         0660<br />MAXACCESSERS 40<br />MAXSERVERS   80<br />MAXSERVICES  80<br />MAXCONV      120<br />MODEL        SHM<br />LDBAL        Y<br />MAXGTT       120<br />MAXBUFTYPE   16<br />MAXBUFSTYPE  32<br />SCANUNIT     5<br />SANITYSCAN   10<br />DBBLWAIT     5<br />BBLQUERY     50<br />BLOCKTIME    15<br /><br />*MACHINES<br />#---------------------<br /># Replace machine name<br />#---------------------<br />DALNT45      LMID=SITE1<br />#------------------------------<br /># Replace directories as needed<br />#------------------------------<br />  TUXDIR=&quot;c:\tuxedo&quot;<br />  APPDIR=&quot;D:\dwh\base\ositp\test\client&quot;<br />  TUXCONFIG=&quot;D:\dwh\base\ositp\test\client\tuxconfig&quot;<br />  TLOGDEVICE=&quot;D:\dwh\base\ositp\test\client\TLOG&quot;<br />  TLOGNAME=&quot;TLOG&quot;<br /><br />*GROUPS<br />OSIGRP2      GRPNO=2 LMID=SITE1<br />OSIGRP3      GRPNO=3 LMID=SITE1 TMSNAME=&quot;TMS&quot; TMSCOUNT=2<br /><br />*SERVERS<br />DEFAULT: RESTART=Y<br />DMADM      SRVID=101 SRVGRP=OSIGRP2 CLOPT=&quot;-A&quot; REPLYQ=N<br />GWADM      SRVID=103 SRVGRP=OSIGRP2 CLOPT=&quot;-A&quot;&quot; REPLYQ=N<br />GWOSITP    SRVID=104 SRVGRP=OSIGRP2 CLOPT=&quot;-A&quot; GRACE=0&quot; REPLYQ=N<br />CRPCSERV   SRVID=8 SRVGRP=OSIGRP3 CLOPT=&quot;-A&quot; RQADDR=&quot;rpcq&quot;<br />CCONVSRV   SRVID=9 SRVGRP=OSIGRP3 CLOPT=&quot;-A&quot; RQADDR=&quot;convq &quot;CONV=Y<br />                MIN=3 MAX=5<br /><br />*SERVICES<br />DEFAULT:      LOAD=50 AUTOTRAN=N <br />CTOUPPER      PRIO=50<br />CCONVRTN      PRIO=50<br />CCONVRTN2     PRIO=50<br />CCONVRTN3     PRIO=50<br />CTOUPPER2      PRIO=50</pre></div><p class="pBody"><a name="wp1035440"> </a>
Refer to the <em class="cEmphasis">Oracle Tuxedo Reference Manual</em> for additional information about the <code class="cCode">UBBCONFIG</code> file.
</p>
<h3 class="pHeading2"><a name="wp1037141"> </a>
Example of a Multiple Gateway Configuration
</h3>
<p class="pBody"><a name="wp1037147"> </a>
Following is a sample <code class="cCode">UBBCONFIG</code> file and corresponding <code class="cCode">DMCONFIG</code> file for multiple gateways that reside on the same physical system. Note that use of <code class="cCode">LDBAL=Y</code> in the <code class="cCode">UBBCONFIG</code> file is not required for multiple gateways. Loads are automatically balanced for multiple gateways.
</p>
<div class="pCodeTitle"><a name="wp1037181"> </a>
Listing&#160;4-2	   UBBCONFIG for Multiple Gateways
</div> <a name="wp1037208"> </a><div class="pPreformatted"><pre>*RESOURCES<br />IPCKEY        65952<br />MASTER        &#8220;SITE1&#8221;<br />MODEL         SHM<br />PERM          0660<br />LDBAL         N   # not needed for gateway load balancing<br />MAXACCESSERS  40<br />MAXSERVERS    80<br />MAXSERVICES   80<br />MAXGTT        120<br />SCANUNIT      5<br />SANITYSCAN    10<br />BLOCKTIME     15<br />MAXCONV       120<br /><br />*MACHINES<br />&#8220;SITE1&#8221;       LMID=&#8221;SITE1&#8221;<br /><br />              TUXCONFIG=&#8221;D:\tuxedo\configs\TUXCONFIG&#8221;<br />              TUXDIR=&#8221;D:\tuxedo&#8221;<br />              APPDIR=&#8221;D:\tuxedo\apps&#8221;<br />              TLOGDEVICE=&quot;D:\tuxedo\log\TLOG&quot;<br />              ULOGPFX=&quot;D:\tuxedo\log\ULOG&quot;<br />              TLOGNAME=TLOG<br />              TLOGSIZE=20<br />              TYPE=&quot;SITE1&quot;<br />*GROUPS<br /><br />GROUP1        LMID=&quot;SITE1&quot;<br />              GRPNO=1<br />GROUP2        LMID=&quot;SITE1&quot;<br />              GRPNO=2<br /><br />DMGRP         LMID=&quot;SITE1&quot;<br />              GRPNO=3<br />                          <br />*SERVERS<br /><br />DEFAULT:      RQPERM=0666<br />              RPPERM=0666<br />              MIN=1<br />              MAX=1<br />              CONV=N<br />              MAXGEN=1<br />              GRACE=86400<br />              RESTART=Y<br />              SYSTEM_ACCESS=FASTPATH<br /><br /><br />DMADM         SRVGRP=DMGRP<br />              SRVID=20<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br /><br />GWADM         SRVGRP=GROUP1<br />              SRVID=21<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br /><br />GWOSITP       SRVGRP=GROUP1<br />              SRVID=22<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br />             <br />GWADM         SRVGRP=GROUP2<br />              SRVID=23<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br /><br />GWOSITP       SRVGRP=GROUP2<br />              SRVID=24<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br />                       <br />*SERVICES<br /><br />DEFAULT:  LOAD=50 AUTOTRAN=N</pre></div><div class="pCodeTitle"><a name="wp1037372"> </a>
Listing&#160;4-3	   DMCONFIG File for Multiple Gateways
</div> <a name="wp1037934"> </a><div class="pPreformatted"><pre>*DM_RESOURCES<br />VERSION=&quot;SITE1&quot;<br />#<br />*DM_LOCAL_DOMAINS<br /><br />&quot;GW-1&quot; <br />GWGRP       = GROUP1<br />TYPE        = OSITPX<br />DOMAINID    = &quot;GW-1&quot;<br />BLOCKTIME   = 30<br />DMTLOGDEV   = &quot;D:\tuxedo\log\DMLOG&quot;<br /><br />&quot;GW-2&quot; <br />GWGRP       = GROUP2<br />TYPE        = OSITPX<br />DOMAINID    = &quot;GW-2&quot;<br />BLOCKTIME   = 30<br />DMTLOGDEV   = &quot;D:\tuxedo\log\DMLOG2&quot;<br /><br />###############################################################<br />*DM_REMOTE_DOMAINS<br /><br />DEFAULT:<br /><br />&quot;OPENTI&quot; TYPE=&quot;OSITPX&quot; DOMAINID=&quot;OPENTI&quot;<br /><br />###############################################################<br />*DM_OSITPX<br /><br />&quot;GW-1&quot;<br />      AET=&quot;{1.3.145.62.103},{2}&quot;<br />      TAILOR_PATH=&quot;d:\tuxedo\configs\tailor.txt&quot;<br />                             # Inserted from OSITP&#39;s config file:<br />      NWADDR=&quot;//SITE1:102&quot;<br /><br />&quot;GW-2&quot;<br />      AET=&quot;{1.3.145.62.103},{3}&quot;<br />      TAILOR_PATH=&quot;d:\tuxedo\configs\tailor2.txt&quot;<br />                             # Inserted from OSITP&#39;s config file:<br />      NWADDR=&quot;//SITE1:2000&quot; #second gateway must use another<br />                                     #IP or different port number<br />                <br />&quot;OPENTI&quot;  <br />      AET=&quot;{1.3.122.61.203},{20}&quot;<br />      NWADDR=&quot;122.61.203.20&quot;              <br /><br /><br />*DM_LOCAL_SERVICES<br /><br /><br />*DM_REMOTE_SERVICES<br />DEFAULT: TRANTIME=300<br />    # Tuxedo will alternate outgoing calls between the two LDOMs.<br /><br />callSvc2   RDOM=&quot;OPENTI&quot; LDOM=&quot;GW-1&quot; PRIO=66<br />callSvc2   RDOM=&quot;OPENTI&quot; LDOM=&quot;GW-2&quot; PRIO=66</pre></div><p class="pBody"><a name="wp1042171"> </a>
The following example uses the same UBBCONFIG file as in <a href="config.html#wp1037181"><span class="cHyperlink">
Listing&#160;4-2</span></a> and shows how to configure one LDOM to support the non-multiplexed path and the other to support the multiplexed path.
</p>
<div class="pCodeTitle"><a name="wp1056721"> </a>
Listing&#160;4-4	   DMCONFIG File for Multiplexed and non-Multiplexed Connections
</div> <a name="wp1056722"> </a><div class="pPreformatted"><pre>*DM_RESOURCES<br />VERSION=&quot;SITE1&quot;<br />#<br />*DM_LOCAL_DOMAINS<br /><br />&quot;GW-1&quot; <br />GWGRP       = GROUP1<br />TYPE        = OSITPX<br />DOMAINID    = &quot;GW-1&quot;<br />BLOCKTIME   = 30<br />DMTLOGDEV   = &quot;D:\tuxedo\log\DMLOG&quot;<br /><br />&quot;GW-2&quot; <br />GWGRP       = GROUP2<br />TYPE        = OSITPX<br />DOMAINID    = &quot;GW-2&quot;<br />BLOCKTIME   = 30<br />DMTLOGDEV   = &quot;D:\tuxedo\log\DMLOG2&quot;<br /><br />###############################################################<br />*DM_REMOTE_DOMAINS<br /><br />DEFAULT:<br /><br />&quot;OPENTI&quot; TYPE=&quot;OSITPX&quot; DOMAINID=&quot;OPENTI&quot;<br />&quot;dal2200&quot; TYPE=&quot;OSITPX&quot; DOMAINID=&quot;dal2200&quot;<br /><br />###############################################################<br />*DM_OSITPX<br /><br />&quot;GW-1&quot;<br />      AET=&quot;{1.3.145.62.103},{2}&quot;<br />      TAILOR_PATH=&quot;d:\tuxedo\configs\tailor.txt&quot;<br />                             # Inserted from OSITP&#39;s config file:<br />      NWADDR=&quot;//SITE1:102&quot;<br /><br />&quot;GW-2&quot;<br />      AET=&quot;{1.3.145.62.103},{3}&quot;<br />      TAILOR_PATH=&quot;d:\tuxedo\configs\tailor2.txt&quot;<br />                             # Inserted from OSITP&#39;s config file:<br />      NWADDR=&quot;//SITE1:2000&quot; #second gateway must use another<br />                                     #IP or different port number<br />      EXTENSIONS=&quot;MULTIPLEX_POLICY=DEMAND&quot;<br />                <br />&quot;OPENTI&quot;  <br />      AET=&quot;{1.3.122.61.203},{20}&quot;<br />      NWADDR=&quot;122.61.203.20:2003&quot;<br />      EXTENSIONS=&quot;MULTIPLEX=Y&quot;<br />              <br />&quot;dal2200&quot;  <br />      AET=&quot;{1.3.132.61.46},{3}&quot;<br />      XATMI_ENCODING=&quot;OLTP_TM2200&quot;<br />      NWADDR=&quot;132.61.46.3;132.61.147.1&quot; #redundant IP addresses<br />      T_SEL=&quot;OSITP&quot;              <br /><br /><br /><br />*DM_LOCAL_SERVICES<br /><br /><br />*DM_REMOTE_SERVICES<br />DEFAULT: TRANTIME=300<br />    # Tuxedo will alternate outgoing calls between the two LDOMs.<br /><br />CallSvc1   RDOM=&quot;dal2200&quot; LDOM=&quot;GW-1&quot; PRIO=66<br />callSvc2   RDOM=&quot;OPENTI&quot; LDOM=&quot;GW-2&quot; PRIO=66</pre></div><h3 class="pHeading2"><a name="wp1056718"> </a>
Using the Tuxedo MP Model with the TMA OSI TP Gateway
</h3>
<p class="pBody"><a name="wp1042890"> </a>
It is useful to use the Tuxedo MP model (for multiprocessors that do not have global shared memory or for networked applications) when you require two TMA OSI TP systems to exist in the same domain. (Refer to the Oracle Tuxedo documentation for more information about the <code class="cCode">MODEL</code> parameter.) A practical example of this is setting up a Windows NT cluster. The TMA OSI TP gateway supports active-active failover on an NT cluster. In the MP model case, there are two unique nodes, one defined as the master and a second one defined as a slave or backup system in the case of clustering. There is one <code class="cCode">UBBCONFIG</code> and one <code class="cCode">DMCONFIG</code> that physically exist on the master node.   At <code class="cCode">TMBOOT</code> time, a copy of the <code class="cCode">TUXCONFIG</code> is propagated to the slave or backup system.
</p>
<div class="pCodeTitle"><a name="wp1042174"> </a>
Listing&#160;4-5	   UBBCONFIG File for MP Model
</div> <a name="wp1042175"> </a><div class="pPreformatted"><pre>UBBCONFIG<br /><br />*RESOURCES<br />IPCKEY        65952<br />MASTER        SITE1,SITE2<br />MODEL         MP<br />OPTIONS       LAN<br />PERM          0660<br />LDBAL         N   # not needed for gateway load balancing<br />MAXACCESSERS  40<br />MAXSERVERS    80<br />MAXSERVICES   80<br />MAXGTT        120<br />SCANUNIT      5<br />SANITYSCAN    10<br />BLOCKTIME     15<br />MAXCONV       120<br /><br /><br />*MACHINES<br />&quot;SITE1&quot;       LMID=&quot;SITE1&quot;<br />              TUXCONFIG=&quot;D:\tuxedo\configs\TUXCONFIG&quot;<br />              TUXDIR=&quot;D:\tuxedo&quot;<br />              APPDIR=&quot;D:\tuxedo\apps&quot;<br />              TLOGDEVICE=&quot;D:\tuxedo\log\TLOG&quot;<br />              ULOGPFX=&quot;D:\tuxedo\log\ULOG&quot;<br />              TLOGNAME=TLOG<br />              TLOGSIZE=20<br />              TYPE=&quot;INTEL&quot;<br /><br />&quot;SITE2&quot;       LMID=&quot;SITE2&quot;<br />              TUXCONFIG=&quot;D:\tuxedo\configs\TUXCONFIG&quot;<br />              TUXDIR=&quot;D:\tuxedo&quot;<br />              APPDIR=&quot;D:\tuxedo\apps&quot;<br />              TLOGDEVICE=&quot;D:\tuxedo\log\TLOG&quot;<br />              ULOGPFX=&quot;D:\tuxedo\log\ULOG&quot;<br />              TLOGNAME=TLOG<br />              TLOGSIZE=20<br />              TYPE=&quot;INTEL&quot;<br /><br /><br />*GROUPS<br />GROUP1        LMID=&quot;SITE1&quot;<br />              GRPNO=1<br />GROUP2        LMID=&quot;SITE2&quot;<br />              GRPNO=2<br />DMGRP         LMID=&quot;SITE1&quot;<br />              GRPNO=3<br /><br /><br />*NETWORK<br />SITE1         NADDR=&quot;/SITE1:5020&quot;<br />              NLSADDR=&quot;//SITE1:5021&quot;<br />SITE2         NADDR=&quot;//SITE2:5020&quot;<br />              NLSADDR=&quot;//SITE2:5021&quot;<br /><br /><br />*SERVERS<br />DEFAULT:      RQPERM=0666<br />              REPLYQ=Y<br />              RPPERM=0666<br />              MIN=1<br />              MAX=1<br />              CONV=N<br />              MAXGEN=1<br />              GRACE=86400<br />              RESTART=N<br />              SYSTEM_ACCESS=FASTPATH<br /><br /><br />DMADM         SRVGRP=DMGRP<br />              SRVID=20<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br /><br />GWADM         SRVGRP=GROUP1<br />              SRVID=22<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br /><br />GWOSITP       SRVGRP=GROUP1<br />              SRVID=23<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br />             <br />GWADM         SRVGRP=GROUP2<br />              SRVID=24<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br /><br />GWOSITP       SRVGRP=GROUP2<br />              SRVID=25<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              MAXGEN=2<br />              REPLYQ=N<br /><br />*SERVICES<br />DEFAULT:  LOAD=50 AUTOTRAN=N</pre></div><div class="pCodeTitle"><a name="wp1042982"> </a>
Listing&#160;4-6	   DMCONFIG File for MP Model
</div> <a name="wp1042970"> </a><div class="pPreformatted"><pre>DMCONFIG<br /><br />*DM_RESOURCES<br />VERSION=&quot;SITE1&quot;<br />#<br />*DM_LOCAL_DOMAINS<br /><br />&quot;GW-1&quot; <br />GWGRP       = GROUP1<br />TYPE        = OSITPX<br />DOMAINID    = &quot;GW-1&quot;<br />BLOCKTIME   = 30<br />DMTLOGDEV   = &quot;D:\tuxedo\log\DMLOG1&quot;<br />DMTLOGNAME  = &quot;DMLOG&quot;<br /><br />&quot;GW-2&quot; <br />GWGRP       = GROUP2<br />TYPE        = OSITPX<br />DOMAINID    = &quot;GW-2&quot;<br />BLOCKTIME   = 30<br />DMTLOGDEV   = &quot;D:\tuxedo\log\DMLOG2&quot;<br />DMTLOGNAME  = &quot;DMLOG&quot;<br /><br />###############################################################<br />*DM_REMOTE_DOMAINS<br /><br />DEFAULT:<br /><br />&quot;OPENTI&quot; TYPE=&quot;OSITPX&quot; DOMAINID=&quot;OPENTI&quot;<br /><br />###############################################################<br />*DM_OSITPX<br /><br />&quot;GW-1&quot;<br />               AET=&quot;{1.3.145.62.103},{2}&quot;<br />               TAILOR_PATH=&quot;d:\tuxedo\configs\tailor1.txt&quot;<br />               # Inserted from OSITPX&#39;s config file:<br />               NWADDR=&quot;//SITE1:102&quot;<br /><br />&quot;GW-2&quot;<br />               AET=&quot;{1.3.145.62.103},{3}&quot;<br />               TAILOR_PATH=&quot;d:\tuxedo\configs\tailor2.txt&quot;<br />               # Inserted from OSITPX&#39;s config file:<br />               NWADDR=&quot;//SITE2:102&quot; # second gateway must use <br />                                    # another IP or different <br />                                    # port number<br />                <br />&quot;OPENTI&quot;  <br />               AET=&quot;{1.3.122.61.203},{20}&quot;<br />               NWADDR=&quot;122.61.203.20&quot;              <br /><br /><br />########################################################################*DM_LOCAL_SERVICES<br /><br /><br />###############################################################<br />*DM_REMOTE_SERVICES<br />DEFAULT: TRANTIME=300<br /># Each system will service different applications.<br /> <br />callSvc2   RDOM=&quot;OPENTI&quot; LDOM=&quot;GW-1&quot; PRIO=66<br />callSvc3   RDOM=&quot;OPENTI&quot; LDOM=&quot;GW-2&quot; PRIO=66</pre></div><h3 class="pHeading2"><a name="wp1044024"> </a>
Using TMA OSI TP as a Pass-Through to Other Tuxedo Systems
</h3>
<p class="pBody"><a name="wp1044026"> </a>
For this example, the TMA OSI TP gateway acts as a pass-through to allow access to services on other Tuxedo systems. The TMA OSI TP gateway receives service requests from a remote OLTP system and then forwards them through the <code class="cCode">/TDOMAINS</code> gateway to a remote Tuxedo system. The systems are as follows:
</p>
<div class="pFigureTitle"><a name="wp1044027"> </a>
Figure&#160;4-1  Example of TMA OSI TP Acting as a Pass-Through to Other Tuxedo Systems
</div>

 
 <p class="pGraphic"><a name="wp1044099"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/passthru.gif" height="148" width="456" alt="Example of TMA OSI TP Acting as a Pass-Through to Other Tuxedo Systems" id="wp1044108"/></div><p class="pGraphic">

</p>
<p class="pBody"><a name="wp1044030"> </a>
<a href="config.html#wp1044267">Listing&#160;4-7</a> shows a sample <code class="cCode">UBBCONFIG</code> file and <a href="config.html#wp1044418">Listing&#160;4-8</a> shows the corresponding <code class="cCode">DMCONFIG</code> file for a pass-through configuration. 
</p>
<div class="pCodeTitle"><a name="wp1044267"> </a>
Listing&#160;4-7	   Sample UBBCONFIG File for Pass-Through Configuration
</div> <a name="wp1044483"> </a><div class="pPreformatted"><pre>*RESOURCES<br />IPCKEY        65952<br />MASTER        &quot;SITE1&quot;<br />MODEL         SHM<br />PERM          0777<br /><br />*MACHINES<br />&quot;SITE1&quot; LMID=&quot;SITE1&quot;<br /><br />              TUXCONFIG=&quot;D:\tuxedo\appdir\TUXCONFIG&quot;<br />              TUXDIR=&quot;D:\tuxedo&quot;<br />              APPDIR=&quot;D:\tuxedo\appdir&quot;<br />              TLOGDEVICE=&quot;D:\tuxedo\log\TLOG&quot;<br />              ULOGPFX=&quot;D:\tuxedo\log\ULOG&quot;<br />              TLOGNAME=TLOG<br />              TLOGSIZE=20<br />              TYPE=&quot;SITE1&quot;<br />*GROUPS<br /><br />ADMGRP        LMID=&quot;SITE1&quot;<br />              GRPNO=1<br /><br />OSIGRP        LMID=&quot;SITE1&quot;<br />              GRPNO=2<br /><br />TDOMGRP       LMID=&quot;SITE1&quot;<br />              GRPNO=3<br />              OPENINFO=NONE<br /><br />*SERVERS<br /><br />DEFAULT:      RQPERM=0666<br />              RPPERM=0666<br />              MIN=1<br />              MAX=1<br />              CONV=N<br />              MAXGEN=1<br />              GRACE=86400<br />              RESTART=N<br />              SYSTEM_ACCESS=FASTPATH<br /><br />DMADM         SRVGRP=ADMGRP<br />              SRVID=20<br />              CLOPT=&quot;-A&quot;<br />              RESTART=N<br />              REPLYQ=N<br /><br />GWADM         SRVGRP=OSIGRP<br />              SRVID=21<br />              CLOPT=&quot;-A&quot;<br />              RESTART=N<br />              REPLYQ=N<br /><br />GWOSITP       SRVGRP=OSIGRP<br />              SRVID=22<br />              CLOPT=&quot;-A&quot;<br />              RESTART=Y<br />              REPLYQ=N<br /><br />GWADM         SRVGRP=TDOMGRP<br />              SRVID=51<br />              CONV=N<br />              CLOPT=&quot;-A&quot;<br />              REPLYQ=N<br />              RESTART=N<br /><br />GWTDOMAIN     SRVGRP=TDOMGRP<br />              SRVID=52<br />              CLOPT=&quot;-A&quot;<br />              REPLYQ=N<br />              RESTART=Y<br />*SERVICES<br /><br />DEFAULT:  LOAD=50 AUTOTRAN=N</pre></div><div class="pCodeTitle"><a name="wp1044418"> </a>
Listing&#160;4-8	   Sample DMCONFIG File for Pass-Through Configuration
</div> <a name="wp1044615"> </a><div class="pPreformatted"><pre>*DM_RESOURCES<br />VERSION=&quot;SITE1&quot;<br />#<br />*DM_LOCAL_DOMAINS<br /><br /> #  SECURITY=NONE<br /><br />&quot;osi-local&quot; <br />             GWGRP       = OSIGRP<br />             TYPE        = OSITPX<br />             DOMAINID    = &quot;local&quot;<br />             BLOCKTIME   = 2000<br />             AUDITLOG    = &quot;D:\tuxedo\log\AUDIT&quot;<br />             DMTLOGDEV   = &quot;D:\tuxedo\log\DMLOG&quot;<br />             DMTLOGSIZE  = 2048<br />             DMTLOGNAME  = &quot;DMLOG&quot;<br /><br />&quot;td-local&quot;   GWGRP=TDOMGRP<br />             TYPE=TDOMAIN<br />             DOMAINID=&quot;td-local&quot;<br />             DMTLOGDEV=&quot;D:\tuxedo\log\TDMLOG&quot;<br /><br /><br />###############################################################<br />*DM_REMOTE_DOMAINS<br /><br />DEFAULT:<br /><br />&quot;osi-client&quot; TYPE=OSITPX   DOMAINID=&quot;osi-client&quot;<br />&quot;td-backend&quot; TYPE=TDOMAIN DOMAINID=&quot;td-tpaix1&quot;<br /><br />###############################################################<br />*DM_TDOMAIN<br /><br />&quot;td-local&quot;        NWADDR=&quot;192.63.22.2:5000&quot;<br />&quot;td-backend&quot;      NWADDR=&quot;192.63.24.74:5000&quot;<br />###############################################################<br />*DM_OSITPX<br /><br />&quot;osi-local&quot;<br />              AET=&quot;{1.3.192.63.22},{2}&quot;<br />              TAILOR_PATH=&quot;d:\tuxedo\configs\tailor.txt&quot;<br /><br /># the NWADDR for OSI TP may have the same IP as /TDOMAINS, but <br /># requires a different port number<br />              NWADDR=&quot;192.63.22.2:102&quot;<br /><br />&quot;osi-client&quot;<br />               AET=&quot;{1.3.192.23.2},{3}&quot;<br />  	       NWADDR=&quot;192.23.2.3&quot;              <br />               T_SEL=&quot;OSITP&quot;<br /><br />###############################################################<br />*DM_LOCAL_SERVICES<br /># define the incoming services here, even though they reside on<br /># some remote /TDOMAIN machine.  Include views also on this machine<br /># for TMA OSI TP to process incoming messages<br /><br />callSvc1<br /><br />###############################################################<br />*DM_REMOTE_SERVICES<br />DEFAULT:<br /><br /># define the actual remote service request here.  It will be<br /># routed by /TDOMAINS<br /><br />callSvc1   RDOM=&quot;td-backend&quot;   LDOM=&quot;td-local&quot; RNAME=&quot;callSvc1&quot;</pre></div><p class="pBody"><a name="wp1044237"> </a>
Note that the service that resides on the backend <code class="cCode">/TDOMAIN</code> system must be defined as a local service on the TMA OSI TP system, so TMA OSI TP can process the incoming request. It must also be defined as a remote service so that the <code class="cCode">/TDOMAIN </code>gateway can pass the service request to the backend <code class="cCode">/TDOMAIN</code> system. The gateway system must have available the viewfiles and corresponding environment variables that are required by the service, even though the service exists on the backend system.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1026602"> </a>
Setting up Security
</h2><p class="pBody"><a name="wp1038287"> </a>
Oracle TMA OSI TP supports the following two types of security:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1049185"> </a>Link Layer Security</li>
<li><a name="wp1049251"> </a>Tuxedo Authentication</li>
</ul></div>
<p class="pBody"><a name="wp1049156"> </a>
The Oracle Tuxedo <code class="cCode">UBBCONFIG</code> and TMA OSI TP <code class="cCode">DMCONFIG</code> files include five sections in which you specify security parameters for whichever type of security you want to implement: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1027095"> </a><code class="cCode">RESOURCES</code> section of the <code class="cCode">UBBCONFIG</code> file</li>
<li><a name="wp1027096"> </a><code class="cCode">DM_LOCAL_DOMAINS</code> section of the <code class="cCode">DMCONFIG</code> file</li>
<li><a name="wp1027097"> </a><code class="cCode">DM_OSITPX</code> section of the <code class="cCode">DMCONFIG</code> file </li>
<li><a name="wp1027098"> </a><code class="cCode">DM_ACCESS_CONTROL</code> section of the <code class="cCode">DMCONFIG</code> file </li>
<li><a name="wp1027099"> </a><code class="cCode">DM_LOCAL_SERVICES</code> section of the <code class="cCode">DMCONFIG</code> file</li>
</ul></div>
<p class="pBody"><a name="wp1027089"> </a>
The following figure shows the relationships between security elements for TMA OSI TP. 
</p>
<div class="pFigureTitle"><a name="wp1026662"> </a>
Figure&#160;4-2  TMA OSI TP Security Elements
</div>

 
 <p class="pGraphic"><a name="wp1026734"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/ositpug-4-1-2.gif" height="315" width="507" alt="TMA OSI TP Security Elements" id="wp1026665"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1026808"> </a>
Enabling Link Layer Security
</h3>
<p class="pBody"><a name="wp1049277"> </a>
To enable security, both the local and remote domains must support security. For Link Layer Security (LLS), the administrator must define the <code class="cCode">SECURITY</code> in the <code class="cCode">*LOCAL_DOMAINS</code> section as <code class="cCode">DM_PW</code> and the <code class="cCode">OPTIONS</code> parameter in the <code class="cCode">DM_OSITPX</code> section must be set to <code class="cCode">SECURITY_SUPPORTED</code>. The Local and Remote domain passwords should be set by the administrator through the <code class="cCode">dmadmin</code> command <code class="cCode">passwd</code>.
</p>
<p class="pBody"><a name="wp1049335"> </a>
Whenever Link Layer Security is defined for the local domain and the remote domain, the <code class="cCode">passwd</code> entered through <code class="cCode">dmadmin</code> is hashed with a private key. The hashed value and private key are sent to the remote domain where it is compared with the hashed <code class="cCode">passwd</code> on the remote system. This is a challenge response mechanism used to secure connections with a remote domain.
</p>
<p class="pBody"><a name="wp1049256"> </a>
Three sections in the <code class="cCode">DMCONFIG</code> file contain parameters affecting how TMA OSI TP controls access to the local Tuxedo domain:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1026813"> </a><code class="cCode">DM_LOCAL_DOMAINS</code> section contains a <code class="cCode">SECURITY</code> parameter that specifies the type of security enforced for the Tuxedo local domain.</li>
<p class="pBodyRelative"><a name="wp1026817"> </a>
The <code class="cCode">SECURITY</code> parameter settings in this section work in conjunction with the <code class="cCode">SECURITY</code> parameter in the <code class="cCode">RESOURCES</code> section of the Tuxedo domain&#8217;s <code class="cCode">UBBCONFIG</code> file to establish how TMA OSI TP controls access to the Tuxedo local domain. If this parameter is set to <code class="cCode">NONE</code> or <code class="cCode">APP_PW</code>, the TMA OSI TP domain takes no action with regard to security. If this parameter is set to <code class="cCode">DM_PW</code>, the TMA OSI TP domain enforces security according to the security settings in the <code class="cCode">DM_PASSWORDS</code> section of the <code class="cCode">BDMCONFIG</code> file. 
</p>
</ul></div>
<a name="wp1027279"> </a>
<table class="Note">
<tr>
<td valign="top"><strong>Caution:</strong></td>
<td>Do not delete the Tuxedo <code class="cCode">BDMCONFIG</code> file. The <code class="cCode">DM_PW</code> information will be lost if the file is deleted. When new passwords are entered, the <code class="cCode">GWOSITP</code> service must be shut down and restarted for the passwords to take effect.</td>
</tr>
</table>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1054938"> </a><code class="cCode">DM_REMOTE_DOMAINS</code> section contains an <code class="cCode">OPTIONS=SECURITY_SUPPORTED</code> parameter that specifies the type of security enforced for the Tuxedo remote domain.</li>
<li><a name="wp1032505"> </a><code class="cCode">DM_OSITPX</code> section contains an <code class="cCode">OPTION</code> of <code class="cCode">SECURITY_SUPPORTED,</code> which indicates that the remote domain supports the OSI TP security extension. The OSI TP security extension allows OSI TP systems to perform link-layer security. The link layer security feature is activated when the <code class="cCode">DM_LOCAL_DOMAINS</code> section has <code class="cCode">SECURITY=DM_PW</code> set and <code class="cCode">OPTIONS</code>=<code class="cCode">SECURITY_SUPPORTED</code> is set for the remote domain.</li>
</ul></div>
<p class="pBody"><a name="wp1049569"> </a>
Refer to <a href="config.html#wp1049498"><span class="cHyperlink">
Enabling Tuxedo Authentication</span></a> for more information about Tuxedo security.
</p>
<p class="pBody"><a name="wp1055024"> </a>
The following sample is a <code class="cCode">DMCONFIG</code> file that defines the necessary parameters for establishing Link Layer Security.
</p>
<div class="pCodeTitle"><a name="wp1049734"> </a>
Listing&#160;4-9	   Sample <code class="cCodeBold">DMCONFIG</code> File for Establishing Link Layer Security
</div> <a name="wp1049900"> </a><div class="pPreformatted"><pre>#------------------------------------<br /># TMA OSI TP test; Client dmconfig<br />#-------------------------------------<br />#<br />*DM_LOCAL_DOMAINS</pre></div><a name="wp1050015"> </a><div class="pPreformatted"><pre>dalnt8<br />GWGRP=G3<br />TYPE=OSITPX<br />DOMAINID=&quot;dalnt8&quot;<br />BLOCKTIME=30<br />MAXDATALEN=56<br />DMTLOGDEV=&quot;D:\tuxedo\log\DMLOG&quot;<br />SECURITY=DM_PW			# turns link layer security on<br />DMTLOGNAME=&quot;DMLOG&quot;</pre></div><a name="wp1050058"> </a><div class="pPreformatted"><pre>###############################################################<br />*DM_REMOTE_DOMAINS<br />dal2200       TYPE=OSITPX   DOMAINID=dal2200 ACL_POLICY=GLOBAL<br />openti        TYPE=OSITPX   DOMAINID=openti ACL_POLICY=GLOBAL<br />icl2          TYPE=OSITPX   DOMAINID=icl2<br />aseries       TYPE=OSITPX   DOMAINID=&quot;aseries1&quot; ACL_POLICY=LOCAL<br />              LOCAL_PRINCIPAL_NAME=&quot;MYNAME&#8217;<br /><br />*DM_OSITPX<br /><br />dalnt8<br />              AET=&quot;{1.3.132.61.146},{3}&quot;<br />              TAILOR_PATH=&quot;D:\tuxedo\configs\tailor.txt&quot;<br />              NWADDR=&quot;//dalnt8:102&quot;<br />              DNS_RESOLUTION=STARTUP  # This is the default<br /><br /># Remote domain dal2200 supports security<br />dal2200<br />              AET=&quot;{1.3.132.61.46},{3}&quot;<br />              XATMI_ENCODING=&quot;OLTP_TM2200&quot;<br />              NWADDR=&quot;132.61.146.3&quot;<br />              T_SEL=&quot;OSITP&quot;<br />              OPTIONS=SECURITY_SUPPORTED<br /><br /># Remote domain openti supports security<br />openti<br />              AET=&quot;{1.3.122.62.103},{209}&quot;<br />              NWADDR=&quot;122.62.103.209:2001&quot;<br />              OPTIONS=SECURITY_SUPPORTED<br /><br /># Remote domain icl12 does not support security<br />icl2<br />              AET=&quot;{1.3.142.60.203},{4}&quot;<br />              NWADDR=&quot;142.60.203.4&quot;<br />              T_SEL=&quot;ICLTP&quot;<br />              S_SEL=&quot;SSEL&quot;<br />              P_SEL=&quot;PSEL&quot;<br /><br /># Remote domain aseries1 does not support security<br /># DOMAINID &quot;aseries1&quot; shall be used as LOCALPRINCIPAL NAME<br />aseries1<br />              AET=&quot;{1.3.123.55.222},{51}&quot;<br />              NWADDR=&quot;123.55.222.51&quot;<br />              XATMI_ENCODING=&quot;PRELIMINARY&quot;<br />              T_SEL=&quot;0x5453&quot;<br />              S_SEL=&quot;0x3F5C3F&quot;<br /><br />*DM_LOCAL_SERVICES<br />TOUPPERF<br />              INRECTYPE=&quot;VIEW:V10&quot;<br />              OUTBUFTYPE=&quot;FML:&quot;<br />              COUPLING=LOOSE<br /><br />TOUPPERF32<br />              INRECTYPE=&quot;VIEW:V10&quot;<br />              OUTBUFTYPE=&quot;FML32:&quot;<br />              COUPLING=TIGHT<br />TOUPPERV<br />              INBUFTYPE=&quot;X_C_TYPE:V10&quot;<br />              INRECTYPE=&quot;VIEW:upper&quot;<br />              COUPLING=LOOSE<br /><br />TOUPPERC<br />              INCRECTYPE=&quot;X_OCTET&quot;<br />              COUPLING-TIGHT<br /><br />TOUPPERS<br />              OUTRECTYPE=&quot;X_OCTET&quot;<br />              OUTBUFTYPE=&quot;STRING&quot;<br />              INRECTYPE=&quot;X_OCTET&quot;<br /><br />TOUPPERX<br />              OUTRECTYPE=&quot;STRING&quot;<br />              OUTBUFTYPE=&quot;STRING&quot;<br />              INRECTYPE=&quot;X_OCTET&quot;</pre></div><a name="wp1050682"> </a><div class="pPreformatted"><pre>*DM_REMOTE_SERVICES<br />DEFAULT: TRANTIME=300<br /><br />ECHOXOCT RNAME=&quot;ECHOSRVR&quot;<br />              OUTBUFTYPE=&quot;X_COMMON:ECHOVIEW&quot;<br />              RDOM=dal2200<br />              LDOM=dalnt8<br /><br />ECHOXCOM RNAME=&quot;ECHOSRVR&quot;<br />              RDOM=openti<br />              LDOM=dalnt8<br />              AUTOPREPARE=Y<br /><br />ECHOTYPE<br />              RNAME=&quot;ECHOSRVR&quot;<br />              INBUFTYPE=&quot;X_C_TYPE:ECHOVIEW&quot;<br />              INRECTYPE=&quot;X_C_TYPE:ECHOVIEW&quot;<br />              OUTBUFTYPE=&quot;X_C_TYPE:ECHOVIEW&quot;<br />              OUTRECTYPE=&quot;X_C_TYPE:ECHOVIEW&quot;<br /><br />ECHOVIEW<br />              RNAME=&quot;ECHOSRVR&quot;<br />              INBUFTYPE=&quot;VIEW:ECHOVIEW&quot;<br />              INRECTYPE=&quot;X_COMMON:ECHOVIEW&quot;<br />              OUTBUFTYPE=&quot;VIEW:ECHOVIEW&quot;<br />              OUTRECTYPE=&quot;X_COMMON:ECHOVIEW&quot;<br />              RDOM=icl2<br />              LDOM=dalnt8<br />              TPSUT_TYPE= &quot;PRINTABLESTRING&quot;<br />               REM_TPSUT=&quot;tpmvs&quot;</pre></div><h3 class="pHeading2"><a name="wp1049498"> </a>
Enabling Tuxedo Authentication
</h3>
<p class="pBody"><a name="wp1051015"> </a>
Oracle TMA OSI TP gateway supports Tuxedo authentication and authorization at both the client side (for Tuxedo clients) and server side. Authentication and authorization at the client side works the same as /T domains. Authentication and authorization on the server side requires that the Link Layer Security, described previously, is configured for both the <code class="cCode">LOCAL</code> <code class="cCode">DOMAIN</code> and the <code class="cCode">REMOTE</code> <code class="cCode">DOMAIN</code> involved in the service call.
</p>
<p class="pBody"><a name="wp1051068"> </a>
In order for user authentication at the server side domain to be performed, the <code class="cCode">SECURITY</code> parameter defined in the servers local domain <code class="cCode">*RESOURCE</code> section must be defined as either &quot;<code class="cCode">APP_PW</code>&quot;, &quot;<code class="cCode">USER_AUTH</code>&quot;, &quot;<code class="cCode">ACL</code>&quot;, or &quot;<code class="cCode">MANDATORY_ACL</code>&quot;.
</p>
<p class="pBody"><a name="wp1054512"> </a>
When <code class="cCode">SECURITY</code> is set to either &quot;<code class="cCode">APP_PW</code>&quot; or &quot;<code class="cCode">USER_AUTH</code>&quot;, user authentication is performed. If the <code class="cCode">ACL_POLICY</code> for the remote domain from which the call was issued is defined as <code class="cCode">LOCAL</code>, then the user ID used for authentication will be the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> of the remote domain if it has been defined. If the <code class="cCode">LOCAL_PRINCIPAL_NAME</code> has not been defined, then the user ID will be the <code class="cCode">DOMAINID</code> of the remote domain. If the <code class="cCode">ACL_POLICY</code> for the remote domain from which the call was issued is defined as <code class="cCode">GLOBAL,</code> then the userid passed with the call is used for user authentication. The user ID is authenticated against the user IDs defined in the <code class="cCode">tpusr</code> file.
</p>
<p class="pBody"><a name="wp1051079"> </a>
When <code class="cCode">SECURITY</code> is set to &quot;<code class="cCode">ACL</code>&quot;, then user authentication is performed as previously defined for &quot;<code class="cCode">APP_PW</code>&quot; and &quot;<code class="cCode">USER_AUTH</code>&quot;. User authorization of the service, requested in the call, is also performed. ACL authorization requires that the services have been defined in the ACL Service list and that the user be a member of a group that is allowed access to this service. Services are added to the ACL Service list through the <code class="cCode">tpacladd</code> command. If the requested service has not been added to the ACL Service list, then all users are allowed access to this service.
</p>
<p class="pBody"><a name="wp1051099"> </a>
When <code class="cCode">SECURITY</code> is set to &quot;<code class="cCode">MANDATORY_ACL</code>&quot; authentication and authorization are performed identical to that for <code class="cCode">SECURITY</code> equal &quot;<code class="cCode">ACL</code>&quot;, however, the request service must be defined in the ACL Service list and the users group must be allowed access to this service.
</p>
<p class="pBody"><a name="wp1060542"> </a>
For more information regarding Tuxedo commands  <code class="cCode">tpgrpadd</code>, <code class="cCode">tpusradd</code>, <code class="cCode">tpacladd</code>, t<code class="cCode">pgrpmod, tpusrmod, tpaclmod, tpgrpdel, tpasrdel</code>, and <code class="cCode">tpacldel,</code> refer to the online Oracle Tuxedo documentation at<span class="cHyperlink">
<a href="http://www.oracle.com/bea/support.html"> http://www.oracle.com/bea/support.html</a></span>.
</p>
<p class="pBody"><a name="wp1060543"> </a>
The following sample shows a <code class="cCode">UBBCONFIG</code> file. The example defines the necessary parameters for establishing Link Layer Security.
</p>
<div class="pCodeTitle"><a name="wp1051291"> </a>
Listing&#160;4-10	   Sample <code class="cCode">UBBCONFIG</code> File Showing Security Set to <code class="cCode">MANDATORY_ACL</code>.
</div> <a name="wp1051327"> </a><div class="pPreformatted"><pre>#--------------------------------------------------<br /># TMA OSI TP test ubbconfig for servers<br />#--------------------------------------------------<br />*RESOURCES<br />#-------------<br />Chnage IPCKEY<br />#-------------<br />IPCKEY        52029<br />MASTER        SITE1<br />DOMAINID      FRONTEND<br />PERM          0660<br />MAXACCESSSERS 40<br />MAXSERVERS    80<br />MAXSERVICES   80<br />MAXCONV       120<br />MODEL         SHM<br />LDBAL         Y<br />MAXGTT        120<br />MAXBUFTYPE    16<br />MAXBUFSTYPE   32<br />SCANUNIT      5<br />SANITYSCAN    10<br />DBBLWAIT      5<br />BBLQUERY      50<br />BLOCKTIME     15<br />SECURITY	      MANDATORY_ACL<br />#<br />*MACHINES<br />#-------------<br />#Replace machine name<br />#-------------</pre></div><a name="wp1051584"> </a><div class="pPreformatted"><pre>DALNT45       LMID=SITE1<br />#-------------<br /># Replace directories as needed<br />#-------------<br />              TUXDIR=&quot;c:\tuxedo&quot;<br />              APPDIR=&quot;c:\ositp/test<br />              TUXCONFIG=&quot;c:\tuxedo/udataobj\tuxconfig&quot;<br />              TLOGDEVICE=&quot;c:\ositp\test\TLOG<br />              TLOGNAME=TLOG<br /><br />*GROUPS<br />OSIGRP2       GRPNO=2  LMID-SITE1  TMSNAME=&quot;TMS&quot;  TMSCOUNT=2<br />OSIGRP2       GRPNO=3  LMID=SITE1<br /><br />*SERVERS<br />DEFAULT:RESTART=N  REPLYQ=Y<br />DMADM    SRVID=101  SRVGRP=OSIGRP3  CLOPT=&quot;-A&quot; REPLYQ=N<br />GWADM    SRVID=102  SRVGRP=OSIGRP3  CLOPT=&quot;-A&quot; REPLYQ=N<br />GWOSITP  SRVID=103  SRVGRP=OSIGRP3  CLOPT=&quot;-A&quot; GRACE=0 REPLYQ=N<br />CRPCSERV SRVID=8	    SRVGRP=OSIGRP3  CLOPT=&quot;-A&quot; RQADDR=&quot;rpcq&quot;<br />CCONSRV  SRVID=9    SRVGRP=OSIGRP3  CLOPT=&quot;-A&quot; RQADDR=&quot;convq&quot;<br />                    CONV=Y<br /><br />*SERVICES<br />DEFAULT       LOAD=50  AUTOTRAN=n<br />CTOUPPER      PRIO=50<br />CCONVRTN      PRIO=50<br />CCONVRTN2     PRIO=50<br />CCONVRTN3     PRIO=50<br />CTOUPPER2     PRIO=50</pre></div><p class="pBody"><a name="wp1052029"> </a>
The following sample shows a <code class="cCode">DMCONFIG</code> file. The example defines the necessary parameters for user authentication and authorization.
</p>
<div class="pCodeTitle"><a name="wp1052036"> </a>
Listing&#160;4-11	   Sample <code class="cCodeBold">DMCONFIG</code> File Showing <code class="cCodeBold">LLS</code> set and <code class="cCodeBold">ACL_POLICY</code> of <code class="cCodeBold">LOCAL</code>
</div> <a name="wp1052053"> </a><div class="pPreformatted"><pre>#----------------------------------<br />TMA OSI TP Test; Client dmconfig<br />#----------------------------------</pre></div><a name="wp1052070"> </a><div class="pPreformatted"><pre>#<br />*DM_LOCAL DOMAINS</pre></div><a name="wp1052139"> </a><div class="pPreformatted"><pre>dalnt8<br />GWGRP=G3<br />TYPE=OSITPX<br />DOMAINID=&quot;dalnt8&quot;<br />BLOCKTIME=30<br />MAXDATALEN=56<br />DMTLOGDEV=&quot;D:\tuxedo\log\DMLOG&quot;<br />DMTLOGNAME=&quot;DMLOG&quot;<br />SECURITY=DM_PW			# turns link layer security on</pre></div><a name="wp1052273"> </a><div class="pPreformatted"><pre>################################################################<br />*DM_REMOTE_DOMAINS<br />DAL2200    TYPE=OSITPX  DOMAINID=DAL2200  ACL_POLICY=LOCAL<br /><br />openti     TYPE=OSITPX  DOMAINID=openti   ACL_POLICY=GLOBAL<br /><br />icl2       TYPE=OSITPX DOMAINID=icl2<br />aseries    TYPE=OSITPX  DOMAINID=&quot;aseries1&quot;<br /><br />*DM_OSITPX</pre></div><a name="wp1052395"> </a><div class="pPreformatted"><pre>dalnt8<br />           AET=&quot;{1.3.132.61.146},{3}&quot;<br />           TAILOR_PATH=&quot;d:\tuxedo\configs\tailor.txt&quot;<br />           NWADDR=&quot;//dalnt8:102&quot;<br />           DNS_RESOLUTION=STARTUP  # This is the default<br /><br /># Remote domain dal2200 supports security<br />dal2200<br />           AET=&quot;{1.3.132.61.47},{3}&quot;<br />           XATMI_ENCODING=&quot;OLTP_TM2200&quot;<br />           NWADDR=&quot;132.61.47.3&quot;<br />           T_SEL=&quot;OSITP&quot;<br />           OPTIONS=SECURITY_SUPPORTED</pre></div><a name="wp1056186"> </a><div class="pPreformatted"><pre># Remote domain openti supports security<br />openti<br />           AET=&quot;{1.3.122.62.103},{209}&quot;<br />           NWADDR=&quot;122.62.103.209:2001&quot;<br />           OPTIONS=SECURITY_SUPPORTED<br /><br /># Remote domain icl2 does not support security<br />icl2<br />           AET=&quot;{1.3.142.60.203},{4}&quot;<br />           NWADDR=&quot;142.60.203.4&quot;<br />           T_SEL=&quot;ICLTP&quot;<br />           S_SEL=&quot;SSEL&quot;<br />           P_SEL=&quot;PSEL&quot;<br /><br /># Remote domain aseries1 does not support security<br />aseries1<br />           AET=&quot;{1.3.123.55.222},{51}&quot;<br />           NWADDR=&quot;123.55.222.51&quot;<br />           XATMI_ENCODING=&quot;PRELIMINARY&quot;<br />           T_SEL=&quot;0X5453&quot;<br />           S_SEL=&quot;0X3F5C3F&quot;<br /><br />*DM_LOCAL_SERVICES<br />TOUPPERF<br />           INRECTYPE=&quot;VIEW:view10&quot;<br />           OUTBUFTYPE=&quot;FML:&quot;<br />           COUPLING=LOOSE<br /><br />TOUPPERF32<br />           INRECTYPE=&quot;VIEW:view10&quot;<br />           OUTBUFTYPE=&quot;fml32&quot;<br />           COUPLING=TIGHT<br /><br />TOUPPERV<br />           INBUFTYPE=&quot;X_C_TYPE:v10&quot;<br />           INRECTYPE=&quot;VIEW:upper&quot;<br />           COUPLING=LOOSE<br /><br />TOUPPERC<br />           INCRECTYPE=&quot;X_OCTET&quot;<br />           COUPLING=TIGHT<br /><br />TOUPPERS<br />           OUTRECTYPE=&quot;X_OCTET&quot;<br />           OUTBUFTYPE=&quot;STRING&quot;<br />           INRECTYPE=&quot;X_OCTET&quot;<br /><br />TOUPPERX<br />           OUTRECTYPE=&quot;STRING&quot;<br />           OUTBUFTYPE=&quot;STRING&quot;<br />           INRECTYPE=&quot;X_OCTET&quot;<br /><br />*DM_REMOTE_SERVICES<br />DEFAULT:  TRANTIME=300<br /><br />ECHOXOCT <br />           RNAME=&quot;ECHOSRVR&quot;<br />           OUTBUFTYPE=&quot;X_COMMON:ECHOVIOEW&quot;<br />           RDOM=dal2200<br />           LDOM=dalnt8<br /><br />ECHOXCOM <br />           RNAME=&quot;ECHOSRVR&quot;<br />           RDOM=openti<br />           LDOM=dalnt8<br />           AUTOPREPARE=Y<br /><br />ECHOTYPE<br />           RNAME=&quot;ECHOSRVR&quot;<br />           INBUFTYPE=&quot;X_C_TYPE:ECHOVIEW&quot;<br />           INRECTYPE=&quot;X_C_TYPE:ECHOVIEW&quot;<br />           OUTBUFTYPE=&quot;X_C_TYPE:ECHOVIEW&quot;<br />           OUTRECTYPE=&quot;X_C_TYPE:ECHOVIEW&quot;<br /><br />ECHOVIEW<br />           RNAME=&quot;ECHOSRVR&quot;<br />           INBUFTYPE=&quot;VIEW:ECHOVIEW&quot;<br />           INRECTYPE=&quot;X_COMMON:ECHOVIEW&quot;<br />           OUTBUFTYPE=&quot;VIEW:ECHOVIEW&quot;<br />           OUTRECTYPE=&quot;X_COMMON:ECHOVIEW&quot;<br />           RDOM=icl2<br />           LDOM=dalnt8<br />           TPSUT_TYPE=&quot;PRINTABLESTRING&quot;<br />           REM_TPSUT=&quot;tpmvs&quot;</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1051981"> </a>
Implementing Native-A Encoding
</h2><p class="pBody"><a name="wp1046592"> </a>
The Native-A encoding feature in TMA OSI TP converts Tuxedo views into a format that is native to Unisys MCP mainframe systems. This feature moves most of the encode/decode processing from the Unisys MCP mainframe systems to the Tuxedo system. 
</p>
<h3 class="pHeading2"><a name="wp1046804"> </a>
Using the XATMI_ENCODING Type
</h3>
<p class="pBody"><a name="wp1046821"> </a>
Currently, the type of XATMI encoding must be configured for each <code class="cCode">RDOM</code> using the <code class="cCode">XATMI_ENCODING</code> parameter in the <code class="cCode">DM_OSITPX</code> section of the <code class="cCode">DMCONFIG</code> file. An <code class="cCode">XATMI_ENCODING</code> keyword value of <code class="cCode">NATIVE_A_SERIES</code> is used to indicate that the Tuxedo system will handle the encode/decode of data into the Native MCP format, not the Unisys MCP machine.
</p>
<p class="pBody"><a name="wp1046831"> </a>
The following example is a *<code class="cCode">DM_OSITPX</code> section of the <code class="cCode">DMCOMFIG</code> file.
</p>
<a name="wp1056437"> </a><div class="pPreformatted"><pre>*DM_OSITPX<br />aseries1<br />       AET=&quot;{1.3.123.55.22},{51}&quot;<br />	NWADDR=&quot;123.55.22.51&quot;<br />	XATMI_ENCODING=&quot;NATIVE_A_SERIES&quot;<br />	T_SEL=&quot;0x5453&quot;<br />	S_SEL=&quot;0x3F5C3F&quot;</pre></div><h3 class="pHeading2"><a name="wp1046911"> </a>
Using the CODEPAGE Parameter
</h3>
<p class="pBody"><a name="wp1046926"> </a>
There is an optional <code class="cCode">CODEPAGE</code> parameter on the <code class="cCode">RDOM</code> statement in the <code class="cCode">DM_REMOTE_DOMAINS</code> section of the <code class="cCode">DMCONFIG</code> file. The <code class="cCode">CODEPAGE</code> parameter is configured to specify the pair of code sets involved when translating character strings between the Tuxedo system and the MCP (A-Series) system. If <code class="cCode">XATMI_ENCODING</code> is not set to <code class="cCode">NATIVE_A_SERIES</code>, then the <code class="cCode">CODEPAGE</code> parameter is ignored.
</p>
<p class="pBody"><a name="wp1046985"> </a>
The syntax is shown below:
</p>
<a name="wp1047018"> </a><div class="pPreformatted"><pre>*DM_REMOTE_DOMAINS<br />...<br /><code class="cCodeEmphasis">rdom</code> TYPE=OSITPX DOMAINID=&quot;<code class="cCodeEmphasis">domainid</code>&quot; CODEPAGE=&quot;<code class="cCodeEmphasis">cpname</code>&quot;</pre></div><p class="pBody"><a name="wp1047043"> </a>
Where <code class="cCodeEmphasis">cpname</code> is a case-insensitive keyword from the following table.
</p>
<p class="pGraphic"><a name="wp1060339"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp763905table1047068"><caption><a name="wp763905"> </a>
Table 4-2  cpname Keywords

</caption>

  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1047070"> </a>
cpname keyword
</div>
</td>
    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1047072"> </a>
ISO Character Set
</div>
</td>
    <td class="table" scope="row"><div class="pCellHeading"><a name="wp1047074"> </a>
MCP Character Set
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047076"> </a>
Tuxedo
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047078"> </a>
ASCII
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047080"> </a>
ASERIESEBCDIC
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047082"> </a>
88591xL1EBC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047084"> </a>
ISO 8859-1 (Latin-1)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047086"> </a>
Latin1EBCDIC
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047088"> </a>
88592xL2EBC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047090"> </a>
ISO 8859-2 (Latin-2)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047092"> </a>
Latin2EBCDIC
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047094"> </a>
88599xL5EBC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047096"> </a>
ISO 8859-9 (Latin-5)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047098"> </a>
Latin5EBCDIC
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047100"> </a>
885915xL9EBC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047102"> </a>
ISO 8859-15 (Latin-9)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047104"> </a>
Latin9EBCDIC
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047106"> </a>
88595xLCYEBC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047108"> </a>
ISO 8859-5 (Latin Cyrillic)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047110"> </a>
LatinCyrillicEBC
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047112"> </a>
88597xLGREBC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047114"> </a>
ISO 8859-7 (Latin Greek)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047116"> </a>
LatinGreekEBCDIC
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047118"> </a>
88591xIBMSEBC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047120"> </a>
ISO 8859-1 (Latin1)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047122"> </a>
IBMSwedenEBCDIC
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047124"> </a>
AR20xAR20EBC
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047126"> </a>
Arabic20ISO
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1047128"> </a>
Arabic20EBCDIC
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1048189"> </a>
Rules for Viewfile Character Types
</h3>
<p class="pBody"><a name="wp1048200"> </a>
If <code class="cCode">XATMI_ENCODING</code> is not set to <code class="cCode">NATIVE_A_SERIES</code>, then no conversion of character strings occurs. If <code class="cCode">XATMI_ENCODING</code> is set to <code class="cCode">NATIVE_A_SERIES</code>, then conversions occur according to the rules described in the following subsections.
</p>
<h4 class="pHeading3"><a name="wp1048228"> </a>
Rules for Type string
</h4>
<p class="pBody"><a name="wp1048229"> </a>
All view fields of type <code class="cCode">string</code> must be null-terminated on both the Tuxedo and NATIVE_A_SERIES encoding feature, <code class="cCode">string</code> fields may contain any non-zero bytes, followed by a zero byte as a null-terminator.
</p>
<p class="pBody"><a name="wp1048278"> </a>
All view fields of type <code class="cCode">string</code> are always translated from the ISO character set to the MCP character set (as specified by the <code class="cCode">CODEPAGE</code>  parameter) when passing from the Tuxedo system to the MCP system. The input string must be null-terminated; any bytes after the null-terminator are ignored. The resulting string on the Unisys MCP system is null-terminated; any remaining space in the field is also padded with zero bytes.
</p>
<p class="pBody"><a name="wp1048323"> </a>
Conversly, all view fields of type <code class="cCode">string</code> are translated from the MCP character set to the ISO character set (as specified by the <code class="cCode">CODEPAGE</code> parameter) when passing from the Unisys MCP system to the Tuxedo system. The input string must be null-terminated; any bytes after the null-terminator are ignored. The resulting string on the Tuxedo system is null-terminated; any remaining space in the field is also padded with zero bytes. 
</p>
<h4 class="pHeading3"><a name="wp1048382"> </a>
Rules for Type carray
</h4>
<p class="pBody"><a name="wp1048395"> </a>
View fields of type <code class="cCode">carray</code> need not be null-terminated. <code class="cCode">Carray</code> fields may contain any non-zero bytes; if a zero byte is detected, it is treated as a null-terminator and scanning stops.
</p>
<p class="pBody"><a name="wp1048420"> </a>
All view fields of type <code class="cCode">carray</code> are always translated from the ISO character set to the MCP character set (as specified by the <code class="cCode">CODEPAGE</code> parameter) when passing from the Tuxedo system to the Unisys MCP system. The input string may or may not be null-terminated; any bytes after a null-terminator are ignored. The resulting string on the MCP system is not null-terminated; any remaining space in the field is padded with EBCDIC space characters (0x40 bytes).
</p>
<p class="pBody"><a name="wp1048444"> </a>
Conversly, all view fields of type <code class="cCode">carray</code> are translated from the MCP character set to the ISO character set (as specified in the <code class="cCode">CODEPAGE</code> parameter) when passing from the Tuxedo system to the Unisys MCP system. The input string may or may not be null-terminated; any bytes after a null-terminator are ignored. If the input string is not null-terminated, then any trailing EBCDIC space characters (0x40 bytes) are discarded before translation starts. The resulting string on the Tuxedo system is null-terminated if there is room; any remaining space in the field is also padded with zero bytes.
</p>
<p class="pBody"><a name="wp1048540"> </a>
For existing users who plan to use the Native-A feature, it is important to note that fields of type <code class="cCode">carray</code> are always translated. If you wish to transmit binary data that should not be translated, then you must change your view field type from <code class="cCode">carray</code> to an array of type <code class="cCode">char</code>.
</p>
<h4 class="pHeading3"><a name="wp1048555"> </a>
Rules for Type char
</h4>
<p class="pBody"><a name="wp1048559"> </a>
View fields of type <code class="cCode">char</code> may contain any arbitrary binary data. View fields of type <code class="cCode">char</code> are never translated.
</p>
<p class="pBody"><a name="wp1048586"> </a>
For existing users who plan to use the Native-A feature, it is important to note that fields of type <code class="cCode">char</code> are never translated. If you want to have fields of type <code class="cCode">char</code> translated, you need to change your view field type from <code class="cCode">char</code> to <code class="cCode">carray</code>. See the following example.
</p>
<div class="pCodeTitle"><a name="wp1056610"> </a>
Listing&#160;4-12	   Example of char Field Changed to carray
</div> <a name="wp1056611"> </a><div class="pPreformatted"><pre>VIEW viewx<br />#<br />#type   cname       fbname  count  flag   size  null<br />#<br />int     accountNum   -      1      -      -     -<br />string  firstName    -      1      -      20    -<br /># Change middleInit from char to carray so it is translated<br /># char  middleInit   -      1      -      -     -<br />carray  middleInit   -      1      -      1     -<br />string  laststName   -      1      -      20    -<br />END</pre></div><p class="pBody"><a name="wp1048653"> </a>
Conversly, you may wish to change other data types (e.g., <code class="cCode">carray</code>) to type <code class="cCode">char</code> to prevent then from being translated. See the following example:
</p>
<div class="pCodeTitle"><a name="wp1048654"> </a>
Listing&#160;4-13	   Example of carray Field Changed to char
</div> <a name="wp1056626"> </a><div class="pPreformatted"><pre>VIEW viewy<br />#<br />#type   cname       fbname  count  flag   size  null<br />#<br />int     accountNum   -      1      -      -     -<br />string  name         -      1      -      50    -<br />#Change encryptKey from carray to char so it is not<br />#translated:<br />#carray encryptKey   -      1      -      15    -<br />char    encryptKey   -      15     -      -     -<br />END</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1046569"> </a>
Enabling Data Compression
</h2><p class="pBody"><a name="wp1059859"> </a>
TMA OSI TP can optionally send messages to a peer DTP system compressed if the peer also supports OSI TP data compression. For compression to occur, the messages must follow these requirements.
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1059935"> </a>message must contain repeating characters</li>
<li><a name="wp1059955"> </a>compression must result in at least a 10% size savings</li>
<li><a name="wp1059956"> </a>connection must use OSI TP multiplexing</li>
<li><a name="wp1059957"> </a>peer has data compression turned on</li>
</ul></div>
<p class="pBody"><a name="wp1059958"> </a>
To enable data compression, add the option &#8220;MULTIPLEXCOMPRESS=Y&#8221; to the EXTENSIONS parameter for the remote domain for which to send compressed data. A sample entry in the DMCONFIG file for data compression to occur would be as follows:
</p>
<a name="wp1059962"> </a><div class="pPreformatted"><pre>&#8220;MY-CLEARPATH&#8221;<br />	AET=&#8221;{1.3.192.33.322.12},{2476}<br />	NWADDR=&#8221;192.33.322.12:2476&#8221;<br />	EXTENSIONS=&#8221;MULTIPLEXCOMPRESS=Y&#8221;</pre></div><p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1059810"> </a>
Editing the DMCONFIG File
</h2><p class="pBody"><a name="wp1032592"> </a>
If you are upgrading from eLink OSI TP 1.3, it is recommended that you use the <code class="cCode">osiadmin</code> utility to update your <code class="cCode">DMCONFIG</code> file; however, you may edit the <code class="cCode">DMCONFIG</code> file manually. If you are upgrading from eLink OSI TP 4.0, you do not need to change your <code class="cCode">udmconfig</code> input file. You can use it as input to the TMA OSI TP 10<em class="cEmphasis">g </em>R3 <code class="cCode">dmloadcf</code> utility. Similarly, if you are upgrading from eLink OSI TP 4.1 or 4.2, you do not need to change your <code class="cCode">dmconfig</code> input file. You can use it as input to the TMA OSI TP 10<em class="cEmphasis">g </em>R3 <code class="cCode">dmloadcf</code> utility. Refer to <a href="using.html">Using the OSI&#160;TP Administration Utility,</a> for more information about the <code class="cCode">osiadmin</code> utility.
</p>
<p class="pBody"><a name="wp1032593"> </a>
To edit the <code class="cCode">DMCONFIG</code> file manually, perform the following steps:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1014221"> </a>Find the <code class="cCode">DMCONFIG</code> file in your installation directory and open it in any text editor.</li>
<li><a name="wp1014223"> </a>Edit the <code class="cCode">DMCONFIG</code> file as necessary. Refer to the parameter descriptions in this section for details about defining your&#160;TMA OSI TP configuration. </li>
<li><a name="wp1014227"> </a>When editing is complete, save the <code class="cCode">DMCONFIG</code> file. </li>
<a name="wp1029595"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>You may want to save the original <code class="cCode">DMCONFIG</code> file with a different name or in a different directory.</td>
</tr>
</table>

<li><a name="wp1029570"> </a>Process the <code class="cCode">DMCONFIG</code> file with the <code class="cCode">dmloadcf</code> utility. This parses the input and creates a binary file: the <code class="cCode">BDMCONFIG</code> file, which is used by <code class="cCode">GWOSITP</code>.Refer to <span class="cHyperlink">
Understanding the DMCONFIG File</span> for more detailed information about the parameters in the <code class="cCode">DMCONFIG</code> file.</li>
</ol></div>
<h3 class="pHeading2"><a name="wp1029908"> </a>
Steps for Modifying the DMCONFIG File Parameters
</h3>
<p class="pBody"><a name="wp1029913"> </a>
Perform the following steps to modify the <code class="cCode">DMCONFIG</code> file parameters:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1031408"> </a><a href="config.html#wp1029794">Step 1 - Define Local Domains</a></li>
<li><a name="wp1029738"> </a><a href="config.html#wp1029804">Step 2 - Define Remote Domains</a></li>
<li><a name="wp1029742"> </a><a href="config.html#wp1030526">Step 3 - Specify Addressing Information for OSI TP Domains</a></li>
<li><a name="wp1029746"> </a><a href="config.html#wp1029812">Step 4 - Specify Access Control for OSI TP Domains</a></li>
<li><a name="wp1029750"> </a><a href="config.html#wp1031016">Step 5 - Specify Available Local Tuxedo Services</a></li>
<li><a name="wp1029754"> </a><a href="config.html#wp1031020">Step 6 - Specify Available Remote Tuxedo Services</a></li>
<li><a name="wp1031425"> </a><a href="config.html#wp1030500">Step 7 - Specify Routing Information</a></li>
</ul></div>
<h4 class="pHeading3"><a name="wp1029794"> </a>
Step 1 - Define Local Domains
</h4>
<p class="pBody"><a name="wp1029795"> </a>
You must define the local domains that use the OSI TP server group you defined in your Tuxedo <code class="cCode">UBBCONFIG</code> file. Refer to <a href="config.html#wp1030229">Defining TMA OSI TP Servers for Oracle Tuxedo</a> for more information about the <code class="cCode">UBBCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1032772"> </a>
Perform the following steps to define a local domain in the <code class="cCode">DM_LOCAL_DOMAINS</code> section of the <code class="cCode">DMCONFIG</code> file:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1029796"> </a>Specify the local domain ID with the <code class="cCode">DOMAINID</code> parameter.</li>
<li><a name="wp1029797"> </a>Specify the gateway group you defined in the <code class="cCode">UBBCONFIG</code> file with the <code class="cCode">GWGRP</code> parameter.</li>
<li><a name="wp1029798"> </a>Specify the domain type of <code class="cCode">OSITPX</code> with the <code class="cCode">TYPE</code> parameter.</li>
<li><a name="wp1029799"> </a>Specify the size of the domain transaction log with the <code class="cCode">DMTLOGSIZE</code> parameter.</li>
<li><a name="wp1029800"> </a>Specify any of the optional <code class="cCode">DM_LOCAL_DOMAINS</code> parameters that you require: <code class="cCode">AUDITLOG</code>, <code class="cCode">BLOCKTIME</code>, <code class="cCode">DMTLOGDEV</code>, <code class="cCode">DMTLOGNAME</code>, <code class="cCode">MAXRDTRAN</code>, <code class="cCode">MAXTRAN</code>, and <code class="cCode">SECURITY</code>.</li>
<div class="pCodeTitle"><a name="wp1030680"> </a>
Listing&#160;4-14	   Example of DM_LOCAL_DOMAINS Section
</div> <a name="wp1030689"> </a><div class="pPreformatted"><pre>*DM_LOCAL_DOMAINS<br /><br />dalnt8 <br />GWGRP       = OSIGRP<br />TYPE        = OSITPX<br />DOMAINID    = &#8220;dalnt8&#8221;<br />BLOCKTIME   = 30<br />DMTLOGDEV   = &#8220;D:\tuxedo\log\DMLOG&#8221;<br />DMTLOGNAME  = &quot;DMLOG&quot;<br />SECURITY     = DM_PW  # turns link layer security on </pre></div></ol></div>
<p class="pBody"><a name="wp1033886"> </a>
Refer to Sample Configuration File for more detailed information.
</p>
<h4 class="pHeading3"><a name="wp1029804"> </a>
Step 2 - Define Remote Domains
</h4>
<p class="pBody"><a name="wp1029805"> </a>
It is recommended that you use the <code class="cCode">importcfg</code> command in the <code class="cCode">osiadmin</code> utility to update remote domains if you are upgrading from eLink OSI TP 1.3; however, you can manually define remote domains. Refer to <a href="using.html">Using the OSI&#160;TP Administration Utility</a> for more information about the <code class="cCode">osiadmin</code> utility.
</p>
<p class="pBody"><a name="wp1033560"> </a>
Perform the following steps to define remote domains in the <code class="cCode">DM_REMOTE_DOMAINS</code> section of the <code class="cCode">DMCONFIG</code> file:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1029806"> </a>Specify the remote domain ID with the <code class="cCode">DOMAINID</code> parameter.</li>
<li><a name="wp1029807"> </a>Specify the <code class="cCode">OSITPX</code> domain type with the <code class="cCode">TYPE</code> parameter.</li>
</ol></div>
<p class="pBody"><a name="wp1033302"> </a>
There are no optional parameters for the <code class="cCode">DM_REMOTE_DOMAINS</code> section.
</p>
<div class="pCodeTitle"><a name="wp1033933"> </a>
Listing&#160;4-15	   Example of DM_REMOTE_DOMAINS Section
</div> <a name="wp1034044"> </a><div class="pPreformatted"><pre>*DM_REMOTE_DOMAINS<br /><br />dal2200 TYPE=OSITPX DOMAINID=&quot;dal2200&quot;<br />openti  TYPE=OSITPX DOMAINID=&quot;openti&quot;<br />icl2    TYPE=OSITPX DOMAINID=&quot;icl2&quot;<br />aseries1 TYPE=OSITPX DOMAINID=&quot;aseries1&quot;</pre></div><p class="pBody"><a name="wp1030790"> </a>
Refer to DM_REMOTE_DOMAINS Section for more detailed information.
</p>
<h4 class="pHeading3"><a name="wp1030526"> </a>
Step 3 - Specify Addressing Information for OSI TP Domains
</h4>
<p class="pBody"><a name="wp1030802"> </a>
Perform the following steps to define addressing information for OSI TP domains in the <code class="cCode">DM_OSITPX</code> section of the <code class="cCode">DMCONFIG</code> file:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1030557"> </a>Specify the Application Entity Title for each local and remote OSI TP domain with the <code class="cCode">AET</code> parameter.</li>
<li><a name="wp1030810"> </a>Specify the IP address or DNS name and port number for each local and remote OSI TP domain with the <code class="cCode">NWADDR</code> parameter. If you are using multiple IP addresses, make sure to enter all the addresses on one line, and separate them with a semi-colon (;). Put double quotes around the entire address. </li>
<li><a name="wp1033069"> </a>Specify any of the optional <code class="cCode">DM_OSITPX</code> parameters that you require: <code class="cCode">DNS_RESOLUTION, P_SEL, S_SEL, T_SEL, OPTIONS, TAILOR_PATH, </code>and<code class="cCode"> XATMI_ENCODING</code>.</li>
<div class="pCodeTitle"><a name="wp1033958"> </a>
Listing&#160;4-16	   DM_OSITPX Section
</div> <a name="wp1054073"> </a><div class="pPreformatted"><pre>*DM_OSITPX<br /><br />dalnt8<br />               AET=&quot;{1.3.144.23.103},{208}&quot;<br />               TAILOR_PATH=&quot;d:\tuxedo\configs\tailor.txt&quot;<br />               NWADDR=&quot;//dalnt8:102&quot;<br />               DNS_RESOLUTION=STARTUP # this is the default<br />                <br />dal2200<br />               AET=&quot;{1.3.132.61.146},{3}&quot;<br />               XATMI_ENCODING=&quot;OLTP_TM2200&quot;<br />               NWADDR=&quot;132.61.146.3;132.61.147.1&quot;              <br />               T_SEL=&quot;OSITP&quot; <br /><br />openti<br />               AET=&quot;{1.3.122.62.103},{209}&quot;<br />               NWADDR=&quot;122.62.103.209&quot; <br /><br />icl2           <br />              AET=&quot;{1.3.142.60.203},{4}&quot;<br />              NWADDR=&quot;142.60.203.4&quot; <br />              T_SEL=&quot;ICLTP&quot; <br />              S_SEL=&quot;SSEL&quot;<br />              P_SEL=&quot;PSEL&quot;<br /><br /><br />aseries1<br />              AET=&quot;{1.3.123.55.222},{51}&quot;<br />              NWADDR=&quot;123.55.222.51&quot; <br />              XATMI_ENCODING=&quot;PRELIMINARY&quot;<br />              T_SEL=&quot;0x5453&quot;<br />              S_SEL=&quot;0x3F5C3F&quot;<br />              OPTIONS=SECURITY_SUPPORTED   </pre></div></ol></div>
<p class="pBody"><a name="wp1030876"> </a>
Refer to DM_OSITPX Section for more detailed information.
</p>
<h4 class="pHeading3"><a name="wp1029812"> </a>
Step 4 - Specify Access Control for OSI TP Domains
</h4>
<p class="pBody"><a name="wp1030937"> </a>
In the <code class="cCode">DM_ACCESS_CONTROL</code> section of the <code class="cCode">DMCONFIG</code> file, specify a list of all the  remote OSI TP domain IDs that can access the local domain with the <code class="cCode">ACLIST</code> parameter. This parameter is optional.
</p>
<div class="pCodeTitle"><a name="wp1033972"> </a>
Listing&#160;4-17	   Example of DM_ACCESS_CONTROL Section
</div> <a name="wp1034064"> </a><div class="pPreformatted"><pre>*DM_ACCESS_CONTROL<br />mylist  ACLIST = dalnt8, dal2200</pre></div><p class="pBody"><a name="wp1030916"> </a>
Refer to DM_ACCESS CONTROL Section for more detailed information.
</p>
<h4 class="pHeading3"><a name="wp1031016"> </a>
Step 5 - Specify Available Local Tuxedo Services
</h4>
<p class="pBody"><a name="wp1031017"> </a>
In the <code class="cCode">DM_LOCAL_SERVICES</code> section of the <code class="cCode">DMCONFIG</code> file, specify the Tuxedo services that will be made available to OSI TP applications and define their options with the <code class="cCode">ACL</code>, <code class="cCode">COUPLING</code>, <code class="cCode">INBUFTYPE</code>, <code class="cCode">INRECTYPE</code>, <code class="cCode">LDOM</code>, <code class="cCode">OUTBUFTYPE</code>, <code class="cCode">OUTRECTYPE</code>, and <code class="cCode">RNAME</code> parameters. If the local service supports transactions, make sure the group it belongs to contains a <code class="cCode">TMS</code> name. 
</p>
<p class="pBody"><a name="wp1033701"> </a>
These DM_LOCAL_SERVICES parameters are all optional.
</p>
<div class="pCodeTitle"><a name="wp1033987"> </a>
Listing&#160;4-18	   Example of DM_LOCAL_SERVICES Section
</div> <a name="wp1034069"> </a><div class="pPreformatted"><pre>*DM_LOCAL_SERVICES<br />TOUPPERF<br />  INRECTYPE=&quot;VIEW:view10&quot;<br />  OUTBUFTYPE=&quot;FML:&quot;<br />  COUPLING=LOOSE<br /><br />TOUPPERF32<br />  INRECTYPE=&quot;VIEW:view10a&quot;<br />  OUTBUFTYPE=&quot;FML32:&quot;<br />  COUPLING=TIGHT<br /><br /><br />TOUPPERV<br />  INBUFTYPE=&quot;X_C_TYPE:v10&quot;<br />  INRECTYPE=&quot;VIEW:upper&quot;<br />  COUPLING=LOOSE<br /><br />TOUPPERC OUTRECTYPE=&quot;X_OCTET&quot; OUTBUFTYPE=&quot;CARRAY&quot;<br />        INRECTYPE=&quot;X_OCTET&quot;<br />        COUPLING=TIGHT<br /><br />TOUPPERS  OUTRECTYPE=&quot;X_OCTET&quot; OUTBUFTYPE=&quot;STRING&quot;<br />        INRECTYPE=&quot;X_OCTET&quot; <br /><br />TOUPPERX  OUTRECTYPE=&quot;STRING&quot; OUTBUFTYPE=&quot;STRING&quot;<br />         INRECTYPE=&quot;X_OCTET&quot; </pre></div><p class="pBody"><a name="wp1031045"> </a>
Refer to DM_LOCAL_SERVICES Section for more detailed information.
</p>
<h4 class="pHeading3"><a name="wp1031020"> </a>
Step 6 - Specify Available Remote Tuxedo Services
</h4>
<p class="pBody"><a name="wp1031150"> </a>
In the <code class="cCode">DM_REMOTE_SERVICES</code> section of the <code class="cCode">DMCONFIG</code> file, specify the remote services that can be requested by Tuxedo applications and define their options with the <code class="cCode">AUTOPREPARE</code>, <code class="cCode">CODEPAGE</code>, <code class="cCode">CONV</code>, <code class="cCode">INBUFTYPE</code>, <code class="cCode">INRECTYPE</code>, <code class="cCode">LDOM</code>, <code class="cCode">OUTBUFTYPE, OUTRECTYPE</code>, <code class="cCode">RDOM</code>, <code class="cCode">RNAME</code>, <code class="cCode">ROUTING</code>, and <code class="cCode">TRANTIME</code> parameters. These parameters are all optional.
</p>
<div class="pCodeTitle"><a name="wp1033996"> </a>
Listing&#160;4-19	   Example of DM_REMOTE_SERVICES Section
</div> <a name="wp1034099"> </a><div class="pPreformatted"><pre>*DM_REMOTE_SERVICES<br />DEFAULT: TRANTIME=300<br /><br />ECHOXOCT RNAME=&quot;ECHOSRVR&quot; OUTBUFTYPE=&quot;X_COMMON:ECHOVIEW&quot; RDOM=dal2200 LDOM=dalnt8<br />ECHOXCOM RNAME=&quot;ECHOSRVR&quot; RDOM=openti LDOM=dalnt8 AUTOPREPARE=Y<br /><br />ECHOXCTYPE RNAME=&quot;ECHOSRVR&quot;<br />         INBUFTYPE=&quot;X_C_TYPE:ECHOVIEW&quot; <br />         INRECTYPE=&quot;X_COMMON:ECHOVIEW&quot;<br />         OUTBUFTYPE=&quot;X_C_TYPE:ECHOVIEW&quot; <br />         OUTRECTYPE=&quot;X_COMMON:ECHOVIEW&quot;  			<br />         RDOM=aseries1<br />         LDOM=dalnt8<br />         CONV=Y<br />ECHOVIEW RNAME=&quot;ECHOSRVR&quot;<br />         INBUFTYPE=&quot;VIEW:ECHOVIEW&quot; <br />         INRECTYPE=&quot;X_COMMON:ECHOVIEW&quot;<br />         OUTBUFTYPE=&quot;VIEW:ECHOVIEW&quot; <br />         OUTRECTYPE=&quot;X_COMMON:ECHOVIEW&quot;<br />         RDOM=icl2<br />         LDOM=dalnt8<br />	  TPSUT_TYPE=&quot;PRINTABLESTRING&quot;<br />         REM_TPSUT=&quot;tpmvs&quot;</pre></div><p class="pBody"><a name="wp1031155"> </a>
Refer to DM_REMOTE_SERVICES Section for more detailed information.
</p>
<h4 class="pHeading3"><a name="wp1030500"> </a>
Step 7 - Specify Routing Information
</h4>
<p class="pBody"><a name="wp1031294"> </a>
Perform the following steps to define routing information for service requests in the <code class="cCode">DM_ROUTING</code> section of the <code class="cCode">DMCONFIG</code> file:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<li><a name="wp1031295"> </a>Specify the name of the routing field with the <code class="cCode">FIELD</code> parameter.</li>
<li><a name="wp1031296"> </a>Specify the data buffer type and subtype for which the routing entry is valid with the <code class="cCode">BUFTYPE</code> parameter.</li>
<li><a name="wp1031297"> </a>Specify the ranges and associated remote domain names for the routing field with the <code class="cCode">RANGES</code> parameter.</li>
<div class="pCodeTitle"><a name="wp1034018"> </a>
Listing&#160;4-20	   Example of DM_ROUTING Section
</div> <a name="wp1037086"> </a><div class="pPreformatted"><pre>*DM_ROUTING<br />ACCOUNT FIELD = branchid BUFTYPE = &quot;View:account&quot;<br />        RANGE = &quot;MIN - 1000:aseries1, 1001-3000:openti, *:dal2200&quot;</pre></div></ol></div>
<p class="pBody"><a name="wp1031303"> </a>
Refer to DM_ROUTING Section for more detailed information.
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1026355"> </a>
Processing a Configuration File with the dmloadcf Utility
</h2><p class="pBody"><a name="wp1024778"> </a>
The <code class="cCode">dmloadcf</code> utility compiles the <code class="cCode">DMCONFIG</code> file and creates a binary configuration file, <code class="cCode">BDMCONFIG</code>, which is used by the <code class="cCode">DMADM</code> server to control the run-time environment.
</p>
<p class="pBody"><a name="wp1033440"> </a>
<a href="config.html#wp1033441"><span class="cHyperlink">
Figure&#160;4-3</span></a> shows how the <code class="cCode">dmloadcf</code> utility processes the configuration file. A description of the process follows the figure.
</p>
<div class="pFigureTitle"><a name="wp1033441"> </a>
Figure&#160;4-3  dmloadcf Process
</div>

 
 <p class="pGraphic"><a name="wp1033453"> </a>
</p>
<div class="figure" align="left"><img src="wwimages/ositpug-4-1-3.gif" height="157" width="289" alt="dmloadcf Process" id="wp1033482"/></div><p class="pGraphic">

</p>
<h3 class="pHeading2"><a name="wp1024718"> </a>
Invoking the dmloadcf Utility
</h3>
<p class="pBody"><a name="wp1024751"> </a>
The <code class="cCode">dmloadcf</code> utility is invoked from a command line with the following syntax:
</p>
<a name="wp1024791"> </a><div class="pPreformatted"><pre>dmloadcf [-c] [-n] [-y] [-b <code class="cCodeEmphasis">blocks</code>] [-k] <em class="cEmphasis">DMCONFIG</em><code class="cCodeEmphasis">_file</code></pre></div><p class="pBody"><a name="wp1024789"> </a>
where the following options are valid:
</p>
<h4 class="pDefTerm"><a name="wp1024843"> </a>
-c 
</h4><div class="pDefPara"><a name="wp1024861"> </a>
Prints minimum IPC resources needed for each local domain (gateway group) in this configuration. The <code class="cCode">BDMCONFIG</code> file is not updated. 
</div>
<h4 class="pDefTerm"><a name="wp1024866"> </a>
-n 
</h4><div class="pDefPara"><a name="wp1024869"> </a>
Checks only the syntax of the ASCII <code class="cCode">DMCONFIG</code> file without actually updating the <code class="cCode">BDMCONFIG</code> file. 
</div>
<h4 class="pDefTerm"><a name="wp1024968"> </a>
-y
</h4><div class="pDefPara"><a name="wp1024969"> </a>
Suppresses a prompt to create and initialize the <code class="cCode">BDMCONFIG</code> file. This parameter <b class="cBold">must</b> be entered before the <code class="cCode">DMCONFIG</code> file name.
</div>
<h4 class="pDefTerm"><a name="wp1024970"> </a>
-b blocks
</h4><div class="pDefPara"><a name="wp1025379"> </a>
Indicates the number of blocks the device should use to create the Tuxedo file system. If the value of the <code class="cCode">-b</code> option is large enough to hold the new <code class="cCode">BDMCONFIG</code> tables, <code class="cCode">dmloadcf</code> uses the specified value to create the new file system; otherwise, <code class="cCode">dmloadcf</code> prints an error message and exits. If the <code class="cCode">-b</code> option is not specified, <code class="cCode">dmloadcf</code> creates a new file system large enough to hold the <code class="cCode">BDMCONFIG</code> tables. The <code class="cCode">-b</code> option is ignored if the file system already exists. The <code class="cCode">-b</code> option is highly recommended if <code class="cCode">BDMCONFIG</code> is a raw device (that has not been initialized) and should be set to the number of blocks on the raw device. 
</div>
<h4 class="pDefTerm"><a name="wp1024904"> </a>
dmconfig_file 
</h4><div class="pDefPara"><a name="wp1025440"> </a>
Specifies the name of the input configuration file to <code class="cCode">dmloadcf</code>. 
</div>
<h3 class="pHeading2"><a name="wp1024752"> </a>
How the dmloadcf Utility Works
</h3>
<p class="pBody"><a name="wp1024727"> </a>
The <code class="cCode">dmloadcf</code> utility prints an error message if any required section of the <code class="cCode">DMCONFIG</code> file is missing. If a syntax error is found while parsing the input file, <code class="cCode">dmloadcf</code> exits without performing any updates to the <code class="cCode">BDMCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1024693"> </a>
A Tuxedo <code class="cCode">DMTYPE</code> file is required to define the valid domain types. If this file does not exist, <code class="cCodeEmphasis">dmloadcf</code> exits without performing any updates to the <code class="cCode">BDMCONFIG</code> file. 
</p>
<p class="pBody"><a name="wp1024411"> </a>
The effective user ID of the person running <code class="cCode">dmloadcf</code> must match the <code class="cCode">UID</code> in the <code class="cCode">RESOURCES</code> section of the <code class="cCode">TUXCONFIG</code> file.
</p>
<p class="pBody"><a name="wp1024414"> </a>
After syntax checking, <code class="cCode">dmloadcf</code> verifies that the file pointed to by <code class="cCode">BDMCONFIG</code> exists, is a valid Tuxedo System file system, and contains <code class="cCode">BDMCONFIG</code> tables. If these conditions are not true and the <code class="cCode">-y</code> option was not entered on the command line, the user is prompted to create and initialize the file with 
</p>
<a name="wp1024415"> </a><div class="pPreformatted"><pre>Initialize BDMCONFIG file: <code class="cCodeEmphasis">path</code> {y, q}?</pre></div><p class="pBody"><a name="wp1024416"> </a>
where <code class="cCodeEmphasis">path</code> is the complete file name of the <code class="cCode">BDMCONFIG</code> file and &#8220;<code class="cCode">Y</code>&#8221; indicates that the configuration file should be created. 
</p>
<p class="pBody"><a name="wp1025449"> </a>
If the <code class="cCode">BDMCONFIG</code> file is determined to already have been initialized, <code class="cCode">dmloadcf</code> ensures that the local domain described by that <code class="cCode">BDMCONFIG</code> file is not running. If a local domain is running, <code class="cCode">dmloadcf</code> prints an error message and exits. Otherwise, <code class="cCode">dmloadcf</code> confirms that the file should be overwritten by prompting the user with: 
</p>
<a name="wp1025517"> </a><div class="pPreformatted"><pre>&#8220;Really overwrite BDMCONFIG file {y, q}?&#8221;</pre></div><p class="pBody"><a name="wp1025523"> </a>
Prompting is suppressed if the standard input or output are not terminals. Any response other than &#8220;<code class="cCode">y</code>&#8221; or &#8220;<code class="cCode">Y</code>&#8221; causes <code class="cCode">dmloadcf</code> to exit without creating the configuration file. If the <code class="cCode">BDMCONFIG</code> file is not properly initialized and the user has responded with &#8220;<code class="cCode">Y</code>&#8221;, <code class="cCode">dmloadcf</code> creates the Tuxedo file system and then creates the <code class="cCode">BDMCONFIG</code> tables. 
</p>
<p class="pBody"><a name="wp1025519"> </a>
If the <code class="cCode">SECURITY</code> parameter is specified in the <code class="cCode">RESOURCES</code> section of the <code class="cCode">TUXCONFIG</code> file, then <code class="cCode">dmloadcf</code> flushes the standard input, turns off terminal echo, and prompts the user for an application password. 
</p>
<p class="pBody"><a name="wp1024424"> </a>
Assuming no errors, and if all checks have passed, <code class="cCode">dmloadcf</code> loads the <code class="cCode">DMCONFIG</code> file into the <code class="cCode">BDMCONFIG</code> file and overwrites all existing information found in the <code class="cCode">BDMCONFIG</code> tables. 
</p>
<p class="pBody"><a name="wp1025847"> </a>
The following example shows how a binary configuration file is loaded from the <code class="cCode">bank.DMCONFIG</code> ASCII file. The <code class="cCode">BDMCONFIG</code> device is created (or reinitialized) with 2000 blocks: 
</p>
<a name="wp1025848"> </a><div class="pPreformatted"><pre>dmloadcf -b 2000 -y bank.dmconfig</pre></div><h4 class="pHeading3"><a name="wp1024433"> </a>
Diagnostics
</h4>
<p class="pBody"><a name="wp1024434"> </a>
If an error is detected in the input, the erroneous line is printed to the standard error log along with a message indicating the problem. If a syntax error is found in the <code class="cCode">DMCONFIG</code> file or the system is currently running, no information is updated in the <code class="cCode">BDMCONFIG</code> file and <code class="cCode">dmloadcf</code> exits. 
</p>
<p class="pBody"><a name="wp1024435"> </a>
If <code class="cCode">dmloadcf</code> is run on an active node, the following error message is displayed: 
</p>
<a name="wp1024436"> </a><div class="pPreformatted"><pre>*** dmloadcf cannot run on an active node ***</pre></div><p class="pBody"><a name="wp1024437"> </a>
If <code class="cCode">dmloadcf</code> is run by a person whose effective user ID doesn&#8217;t match the <code class="cCode">UID</code> specified in the <code class="cCode">TUXCONFIG</code> file, the following error message is displayed: 
</p>
<a name="wp1024438"> </a><div class="pPreformatted"><pre>*** UID is not effective user ID ***</pre></div><p class="pBody"><a name="wp1026127"> </a>
Upon successful completion, <code class="cCode">dmloadcf</code> exits. If the <code class="cCode">BDMCONFIG</code> file is updated, a <code class="cCode">userlog</code> message is generated to record this event. 
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1014345"> </a>
Tuning OSI TP-Specific Tables with the TAILOR File
</h2><p class="pBody"><a name="wp1027431"> </a>
The OSI TP <code class="cCode">TAILOR</code> file is external to the <code class="cCode">DMCONFIG</code> and is used for tuning OSI TP- specific tables. All parameters in the <code class="cCode">TAILOR</code> file are optional with preset defaults.
</p>
<p class="pBody"><a name="wp1027521"> </a>
Following is a list of valid <code class="cCode">TAILOR</code> parameters:
</p>
<p class="pGraphic"><a name="wp1027541"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp763771table1027522"><caption><a name="wp763771"> </a>
Table 4-3  Parameters for OSI TP TAILOR FIle

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1027524"> </a>
Parameter 
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1027526"> </a>
Default
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1027528"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032399"> </a>
<code class="cCode">* FreeOldRetryTime</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032401"> </a>
600 seconds
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032403"> </a>
Time in seconds between automatic terminations of old connections
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032415"> </a>
<code class="cCode">MaxConnections</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032417"> </a>
500
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032419"> </a>
Maximum size of various internal tables
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057317"> </a>
<code class="cCode">** KeepAliveCheck</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057319"> </a>
60
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057321"> </a>
Time in seconds of connection inactivity before a keepalive packet is sent on the connection.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057311"> </a>
** KeepAliveTimeout
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057313"> </a>
10
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057315"> </a>
Time in seconds to wait for an acknowledgement message when a keepalive packet is sent. If this timeout is exceeded, then the connection is re-established.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032409"> </a>
<code class="cCode">MaxRemoteNodes</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032411"> </a>
1000
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032413"> </a>
Maximum number of total remote domains
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032421"> </a>
<code class="cCode">* OldAssocTimeout</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032423"> </a>
3600 seconds
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032425"> </a>
Time in seconds denoting an &#8220;old&#8221; connection (association)
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048795"> </a>
* RdomAssocRetry
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048797"> </a>
60 seconds
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1048799"> </a>
Time in seconds between automatic retries of associations to unavailable RDOMS.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032445"> </a>
<code class="cCode">* TCPSocketsKeepAlives</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032447"> </a>
N
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032449"> </a>
Toggle for TCP keepalive packets 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057333"> </a>
<code class="cCode">** StartFlowControlThreshold</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057335"> </a>
1,048,576
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057337"> </a>
Number of bytes of data which may be buffered to a particular RDOM before flow control is started. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057327"> </a>
** StopFlowControlThreshold
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057329"> </a>
102,400
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1057331"> </a>
Number of bytes that the data buffered to the RDOM must fall below before flow control is relieved (when flow control is in effect.) 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032439"> </a>
<code class="cCode">TCPSocketsLinger</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032441"> </a>
-1
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032443"> </a>
Amount of time TCP/IP socket connection stays open
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032433"> </a>
<code class="cCode">TCPSocketsListenQueueDepth</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032435"> </a>
5
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032437"> </a>
Number of held TCP/IP connections waiting to be accepted by TMA OSI TP
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032427"> </a>
<code class="cCode">TCPSocketsNoDelay</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032429"> </a>
N
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1032431"> </a>
Toggle to delay sends of TCP/IP packets until an <code class="cCode">ACK</code> is received from remote machine
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043959"> </a>
TraceIpcKey
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043961"> </a>
32800
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1043963"> </a>
IPC key value for the OSI TP log and trace shared memory section
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<a name="wp1027544"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>The parameters in the previous table with an asterisk (*) are valid for non-multiplexed connections only.</td>
</tr>
</table>

<a name="wp1057197"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>The parameters with double asterisks (**) apply only if you are using the multiplexing protocol.</td>
</tr>
</table>
<p class="pBody"><a name="wp1057075"> </a>
Following is more detailed information about each of the <code class="cCode">TAILOR</code> file parameters:
</p>
<h4 class="pDefTerm"><a name="wp1027433"> </a>
FreeOldRetryTimer = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1027434"> </a>
Specifies the time in seconds between automatic terminations of old connections (associations). OSI TP reuses established socket connections to a remote domain. The default value is 600 seconds.
<a name="wp1057091"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This parameter is valid for non-multiplexed connections only.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1057208"> </a>
KeepAliveCheck = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1057209"> </a>
Specifies the time in seconds of connection inactivity before a keepalive packet is sent on the connection. The default value is 60 seconds. 
<a name="wp1057210"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This parameter is only valid when using the multiplexing protocol.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1057211"> </a>
KeepAliveTimeout = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1057212"> </a>
Specifies the amount of time in seconds to wait for an acknowledgement message when a keepalive packet is sent. If this timeout is exceeded, then the connection is re-established. The default is 10 seconds.
<a name="wp1057227"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This parameter is only valid when using the multiplexing protocol.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1027440"> </a>
MaxConnections = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1027441"> </a>
Specifies the size of various internal tables. This value should be at least as large as the maximum number of total remote domains, including those added dynamically. The default value is 1000.
</div>
<h4 class="pDefTerm"><a name="wp1027446"> </a>
MaxRemoteNodes = <code class="cCode">numeric</code>
</h4><div class="pDefPara"><a name="wp1027447"> </a>
Specifies the maximum number of total remote domains, including those added dynamically. The default value is 1000.
</div>
<h4 class="pDefTerm"><a name="wp1032476"> </a>
OldAssocTimeout = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1032477"> </a>
Specifies the time in seconds denoting an &#8220;old&#8221; connection (association). Any connection to a remote domain that remains unused by a<code class="cCode"> tpcall()</code> for this amount of time is subject to automatic termination. This default value is 3600 seconds.
<a name="wp1057122"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This parameter is valid for non-multiplexed connections only.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1048806"> </a>
RdomAssocRetry = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1048807"> </a>
Specifies the time in seconds between automatic retries of associations to unavailable RDOMs. This value must be greater than zero. The default value is 60. This value may be overridden on each RDOM with the <code class="cCode">EXTENSION</code> parameter and the <code class="cCode">RdomAssocRetry</code> keyword. 
<a name="wp1057129"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This parameter is valid for non-multiplexed connections only.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1057245"> </a>
StartFlowControlThreshold = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1057246"> </a>
Specifies the number of bytes of data which may be buffered to a particular RDOM before flow control is started. When the data buffered to one particular RDOM exceeds this value, the services advertised for that RDOM/LDOM combination are suspended. The default value is 1,048,576 bytes.
<a name="wp1057247"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This parameter is only valid when using the multiplexing protocol.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1057248"> </a>
StopFlowControlThreshold = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1057249"> </a>
Specifies the number of bytes that the data buffered to the RDOM must fall below before flow control is relieved (when flow control is in effect.) When buffering drops below this value for one particular RDOM, the services for that RDOM/LDOM combination are advertised again. The default value is 102,400 bytes.
<a name="wp1057250"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This parameter is only valid when using the multiplexing protocol.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1027452"> </a>
TCPSocketsKeepAlives = {Y | N}
</h4><div class="pDefPara"><a name="wp1027453"> </a>
Specifies whether the TCP keepalive packets are sent. This is useful to insure the integrity of the TCP connection. If <code class="cCode">Y</code> is specified the TCP/IP packets are sent out in a time period specified by the operating system. Most operating systems use a 2 hour time period. The default is <code class="cCode">N</code>. 
<a name="wp1057136"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>This parameter is valid for non-multiplexed connections only.</td>
</tr>
</table>

</div>
<h4 class="pDefTerm"><a name="wp1027455"> </a>
TCPSocketsLinger = {-1 | 0 | <em class="cEmphasis">numeric</em>}
</h4><div class="pDefPara"><a name="wp1027456"> </a>
Specifies the amount of the time that the TCP/IP socket connection will stay open. This can be used to timeout hung connections. 
</div>
<div class="pDefParaCont"><a name="wp1028188"> </a>
Possible values are:
<p class="pGraphic"><a name="wp1028000"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1028006table1028004">
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028006"> </a>
<code class="cCode">-1</code> (default)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028008"> </a>
Time that a TCP/IP socket connection stays in the <code class="cCode">TIME_WAIT</code> state is determined by the operating system.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028010"> </a>
<code class="cCode">0</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028012"> </a>
TCP/IP connection is closed immediately.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028014"> </a>
<code class="cCode">n</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028016"> </a>
TCP/IP connection stays in the <code class="cCode">TIME_WAIT</code> state for <code class="cCode">n</code> seconds before closing. 
</div>
</td>
</tr>
</table>
</div>

</p>
</div>
<h4 class="pDefTerm"><a name="wp1027461"> </a>
TCPSocketsListenQueueDepth = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1027462"> </a>
Specifies the number of held TCP/IP connections waiting to be accepted by TMA OSI TP. 
</div>
<div class="pDefParaCont"><a name="wp1028189"> </a>
Possible values are:
<p class="pGraphic"><a name="wp1028237"> </a>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1028230table1028228">
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028230"> </a>
<code class="cCode">5</code> (default)
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028245"> </a>
A minimum of 5 incoming TCP/IP connections are held. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028234"> </a>
<code class="cCode">&gt;5</code>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1028236"> </a>
More than 5 incoming TCP/IP connections are held. The operating system may only supports a number up to a &#8220;reasonable value&#8221;.
</div>
</td>
</tr>
</table>
</div>

</p>
</div>
<h4 class="pDefTerm"><a name="wp1028240"> </a>
TCPSocketsNoDelay = {Y | N}
</h4><div class="pDefPara"><a name="wp1027467"> </a>
Specifies if subsequent sends of TCP/IP packets are held until an <code class="cCode">ACK</code> is received from a remote machine. The default is <code class="cCode">N</code>, the subsequent sends of TCP/IP packets may be held until an <code class="cCode">ACK</code> is received. If <code class="cCode">Y</code> is specified, the TCP/IP packets are sent immediately without waiting for an <code class="cCode">ACK</code> of the previous send.
</div>
<h4 class="pDefTerm"><a name="wp1043934"> </a>
TraceIpcKey = <em class="cEmphasis">numeric</em>
</h4><div class="pDefPara"><a name="wp1043935"> </a>
For UNIX systems, specifies the IPC key value for the OSI TP log and trace shared memory segment. If there are multiple local domains, then each domain must have a unique IPC key value. On Windows NT systems, this value is ignored. The default is 32800.
</div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h2 class="pHeading1"><a name="wp1054764"> </a>
Enabling Automatic Suspension of Remote Services
</h2><p class="pBody"><a name="wp1054765"> </a>
The Oracle TMA OSI TP service suspend feature provides greater reliability for remote services by automatically suspending services for a remote domain that is unreachable. Automatic suspension prevents repeated calls to remote services that are no longer available. This feature is especially critical when load balancing between remote domains.
</p>
<p class="pBody"><a name="wp1054766"> </a>
TMA OSI TP provides this service suspend feature by maintaining at least one association to every remote RDOM to determine its availability. If an association cannot be established, the services associated with that RDOM will immediately fail. Redundantly defined services will not attempt to use the unavailable <code class="cCode">RDOM</code> and are diverted. 
</p>
<p class="pBody"><a name="wp1055225"> </a>
By default, TMA OSI TP will retry connections to an RDOM that has failed every 60 seconds. This delay may be overridden with the <code class="cCode">RdomAssocRetry</code> tailor parameter described in the <a href="config.html#wp1014345"><span class="cHyperlink">
Tuning OSI TP-Specific Tables with the TAILOR File</span></a> section. It may also be overridden for specific RDOMs using the <code class="cCode">EXTENSIONS=&quot;RdomAssocRetry=</code><code class="cCodeEmphasis">n</code>&quot; parameter in the <code class="cCode">DM_OSITPX</code> section, where <code class="cCodeEmphasis">n</code> is the number of seconds to wait between retries. The value specified on the <code class="cCode">EXTENSIONS</code> parameter overrides the corresponding tailor parameter. Refer to <a href="underst.html#wp1045998"><span class="cHyperlink">
DM_OSITPX Section</span></a> for more information.
</p>
<p class="pBody"><a name="wp1055287"> </a>
In test environments, RDOMs may be configured that are unavailable and are considered offline. TMA OSI TP continually tries to connect to these systems. To disable the RDOMs and the remote services configured to them, specify <code class="cCode">EXTENSIONS=&quot;ONLINE=N&quot;</code> on each offline RDOM in the <code class="cCode">DM_OSITPX</code> section of the <code class="cCode">DMCONFIG</code> file. At run-time, these RDOMs can be brought online using the <code class="cCode">ONLINE osiadmin </code>command described in <a href="using.html#wp1025459"><span class="cHyperlink">
Using osiadmin Commands</span></a>.
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="config.html"><img id="LongDescNotReq8" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="underst.html"><img id="LongDescNotReq9" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="using.html"><img id="LongDescNotReq10" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
