<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/27/12 02:35:27" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Oracle Tuxedo Message Queue Command Reference</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Reference Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="functions.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="ubb.html"><img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next.gif" border="0" alt="Next" /></a>&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/ref.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1074157"> </a>
Oracle Tuxedo Message Queue Command Reference
</h1>
<p class="pGraphic"><a name="wp1075180"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1075242table1075237"><caption><a name="wp1075242"> </a>
Table&#160;1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Oracle Tuxedo Message Queue UBB Commands</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1075246"> </a>
Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1075248"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1111407"> </a>
<a href="comands.html#wp1075755"><code class="cCode">buildqclient</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1111409"> </a>
Used to construct an OTMQ client module.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1075260"> </a>
<a href="comands.html#wp1111443"><code class="cCode">buildqserver</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1075262"> </a>
Used to construct an OTMQ load module which can run as an Oracle Tuxedo application server.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1112905"> </a>
<a href="comands.html#wp1112941">ConvertQSPACE</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1112907"> </a>
Utility used to upgrade/migrate existing /Q Qspace to OTMQ Qspace.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1075267"> </a>
<a href="comands.html#wp1113055"><code class="cCode">tmqadmin</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1077580"> </a>
Queue manager administration program
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1075755"> </a>
buildqclient
</h3>
<h4 class="pHeading3"><a name="wp1076360"> </a>
Name
</h4>
<p class="pBody"><a name="wp1076361"> </a>
<code class="cCode">buildqclient</code>&#8212;Used to construct an OTMQ client module.
</p>
<h4 class="pHeading3"><a name="wp1076362"> </a>
Synopsis
</h4>
<a name="wp1076363"> </a><div class="pPreformatted"><pre>buildqclient [ -v ] [ {-r rmname | -w } ] [ -o name] [ -f firstfiles] [ -l lastfiles]</pre></div><h4 class="pHeading3"><a name="wp1076364"> </a>
Description
</h4>
<p class="pBody"><a name="wp1080581"> </a>
buildqclient is used to construct an OTMQ client module. The command combines the files supplied by the -f and -l options with the standard Oracle Tuxedo ATMI libraries to form a load module. The load module is built by buildqclient using the default C language compilation command defined for the operating system in use. The default C language compilation command for the UNIX system is the cc command described in UNIX system reference manuals.
</p>
<p class="pBody"><a name="wp1111206"> </a>
It takes the following options:
</p>
<h4 class="pDefTerm"><a name="wp1111209"> </a>
<code class="cCodeBold">-v</code>
</h4><div class="pDefPara"><a name="wp1111210"> </a>
Specifies that buildqclient should work in verbose mode. In particular, it writes the compilation command to its standard output.
</div>
<h4 class="pDefTerm"><a name="wp1111211"> </a>
<code class="cCodeBold">-w</code>
</h4><div class="pDefPara"><a name="wp1111212"> </a>
Specifies that the client is to be built using the workstation libraries. The default is to build a native client if both native mode and workstation mode libraries are available. This option cannot be used with the -r option.
</div>
<h4 class="pDefTerm"><a name="wp1111213"> </a>
<code class="cCodeBold">-r rmname</code>
</h4><div class="pDefPara"><a name="wp1111214"> </a>
Specifies the resource manager associated with this client. The value rmname must appear in the resource manager table located in $TUXDIR/udataobj/RM. Each line in this file is of the form:
<a name="wp1111215"> </a>
<code class="cCode">rmname:rmstructure_name:library_names.</code>
</div>
<div class="pDefParaCont"><a name="wp1111216"> </a>
Using the rmname value, the entry in $TUXDIR/udataobj/RM is used to include the associated libraries for the resource manager automatically and to set up the interface between the transaction manager and resource manager properly. Other values can be specified as they are added to the resource manager table. If the -r option is not specified, the default is that the client is not associated with a resource manager.
</div>
<h4 class="pDefTerm"><a name="wp1111217"> </a>
<code class="cCodeBold">-o name</code>
</h4><div class="pDefPara"><a name="wp1111218"> </a>
Specifies the filename of the output load module. If not supplied, the load module is named a.out.
</div>
<h4 class="pDefTerm"><a name="wp1111219"> </a>
<code class="cCodeBold">-f firstfiles</code>
</h4><div class="pDefPara"><a name="wp1111531"> </a>
Specifies one or more user files to be included in the compilation and link edit phases of buildqclient first, before the Oracle Tuxedo ATMI libraries and OTMQ libraries. If more than one file is specified, filenames must be separated by white space and the entire list must be enclosed in quotation marks. This option may be specified multiple times. The CFLAGS environment variable, described below, should be used to include any compiler options and their arguments.
</div>
<h4 class="pDefTerm"><a name="wp1111532"> </a>
<code class="cCodeBold">-l lastfiles</code>
</h4><div class="pDefPara"><a name="wp1111533"> </a>
Specifies one or more user files to be included in the compilation and link edit phases of buildqclient last, after the Oracle Tuxedo ATMI libraries and OTMQ libraries. If more than one file is specified, filenames must be separated by white space and the entire list must be enclosed in quotation marks. This option may be specified multiple times.
</div>
<h4 class="pHeading3"><a name="wp1078407"> </a>
Environment Variables
</h4>
<h4 class="pDefTerm"><a name="wp1111310"> </a>
<code class="cCodeBold">TUXDIR</code> 
</h4><div class="pDefPara"><a name="wp1111311"> </a>
buildclient uses the environment variable TUXDIR to find the Oracle Tuxedo ATMI libraries and include files to use during compilation of the client process. 
</div>
<h4 class="pDefTerm"><a name="wp1111312"> </a>
<code class="cCodeBold">CC </code>
</h4><div class="pDefPara"><a name="wp1111313"> </a>
buildqclient normally uses the default C language compilation command to produce the client executable. The default C language compilation command is defined for each supported operating system platform and is defined as cc(1) for UNIX system. In order to allow for the specification of an alternate compiler, buildqclient checks for the existence of an environment variable named CC. If CC does not exist in the buildqclient environment, or if it is the string &quot;&quot;, buildqclient will use the default C language compiler. If CC does exist in the environment, its value is taken to be the name of the compiler to be executed. 
</div>
<h4 class="pDefTerm"><a name="wp1111314"> </a>
<code class="cCodeBold">CFLAGS</code> 
</h4><div class="pDefPara"><a name="wp1111315"> </a>
The environment variable CFLAGS is taken to contain a set of arguments to be passed as part of the compiler command line. This is in addition to the command line option &quot;-I${TUXDIR}/include&quot; passed automatically by buildqclient. If CFLAGS does not exist in buildqclient&#39;s environment, or if it is the string &quot;&quot;, no compiler command line arguments are added by buildqclient. 
</div>
<h4 class="pDefTerm"><a name="wp1111316"> </a>
<code class="cCodeBold">LD_LIBRARY_PATH</code> (UNIX systems) 
</h4><div class="pDefPara"><a name="wp1111317"> </a>
The environment variable LD_LIBRARY_PATH indicates which directories contain shared objects in addition to the Oracle Tuxedo system shared objects. Some UNIX systems require different environment variables: for HP-UX systems, use the SHLIB_PATH environment variable; for AIX, use LIBPATH.
</div>
<h4 class="pDefTerm"><a name="wp1111318"> </a>
<code class="cCodeBold">LIB</code> (Windows NT systems) 
</h4><div class="pDefPara"><a name="wp1111319"> </a>
Indicates a list of directories within which to find libraries. A semicolon (;) is used to separate the list of directories. 
</div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1111443"> </a>
buildqserver
</h3>
<h4 class="pHeading3"><a name="wp1111444"> </a>
Name
</h4>
<p class="pBody"><a name="wp1111445"> </a>
<code class="cCode">buildqserver</code>&#8212;Used to construct an OTMQ load module which can run as a Tuxedo application server.
</p>
<h4 class="pHeading3"><a name="wp1111446"> </a>
Synopsis
</h4>
<a name="wp1111447"> </a><div class="pPreformatted"><pre>buildqserver [-s { @filename | service[,service . . . ] [:func]| :func } ] [-v] [-o outfile] [-f firstfiles] [-l lastfiles] [-r rmname] [-t]</pre></div><h4 class="pHeading3"><a name="wp1111448"> </a>
Description
</h4>
<p class="pBody"><a name="wp1111449"> </a>
buildqserver is used to construct an OTMQ load module which can run as a Tuxedo application server. The command combines the files supplied by the -f and -l options with the standard server main routine and the standard OTMQ libraries to form a load module. The load module is built by the cc command, which buildqserver invokes.
</p>
<p class="pBody"><a name="wp1111450"> </a>
It takes the following options:
</p>
<h4 class="pDefTerm"><a name="wp1111451"> </a>
<code class="cCodeBold">-v</code>
</h4><div class="pDefPara"><a name="wp1111452"> </a>
Specifies that buildqserver should work in verbose mode. In particular, it writes the compilation command to its standard output.t.
</div>
<h4 class="pDefTerm"><a name="wp1111453"> </a>
<code class="cCodeBold">-o outfile</code>
</h4><div class="pDefPara"><a name="wp1111454"> </a>
Specifies the name of the file the output load module is to have. If not supplied, the load module is named SERVER.
</div>
<h4 class="pDefTerm"><a name="wp1111461"> </a>
<code class="cCodeBold">-f firstfiles</code>
</h4><div class="pDefPara"><a name="wp1111462"> </a>
Specifies one or more user files to be included in the compilation and link edit phases of buildqserver first, before the Oracle Tuxedo ATMI libraries and OTMQ libraries. If more than one file is specified, filenames must be separated by white space and the entire list must be enclosed in quotation marks. This option may be specified multiple times. The CFLAGS environment variable, described below, should be used to include any compiler options and their arguments.
</div>
<h4 class="pDefTerm"><a name="wp1111463"> </a>
<code class="cCodeBold">-l lastfiles</code>
</h4><div class="pDefPara"><a name="wp1111464"> </a>
Specifies one or more user files to be included in the compilation and link edit phases of buildqserver last, after the Oracle Tuxedo ATMI libraries and OTMQ libraries. If more than one file is specified, filenames must be separated by white space and the entire list must be enclosed in quotation marks. This option may be specified multiple times.
</div>
<h4 class="pDefTerm"><a name="wp1111595"> </a>
<code class="cCodeBold">-r rmname</code>
</h4><div class="pDefPara"><a name="wp1111609"> </a>
Specifies the resource manager associated with this server. The value rmname must appear in the resource manager table located in $TUXDIR/udataobj/RM. Each line in this file is of the form:
</div>
<div class="pDefParaCont"><a name="wp1111610"> </a>
<code class="cCode">rmname:rmstructure_name:library_names.</code>
<a name="wp1111611"> </a>
Using the rmname value, the entry in $TUXDIR/udataobj/RM is used to include the associated libraries for the resource manager automatically and to set up the interface between the transaction manager and resource manager properly. Other values can be specified as they are added to the resource manager table. If the -r option is not specified, the default is to use the null resource manager.
</div>
<h4 class="pDefTerm"><a name="wp1111600"> </a>
<code class="cCodeBold">-s { @filename | service[,service...][:func] | :func }</code>
</h4><div class="pDefPara"><a name="wp1111631"> </a>
Specifies the names of services that can be advertised when the server is booted. Service names (and implicit function names) must be less than or equal to 127 characters in length. An explicit function name (that is, a name specified after a colon) can be up to 128 characters in length. Names longer than these limits are truncated with a warning message. When retrieved by tmadmin or TM_MIB, only the first 15 characters of a name are displayed. All functions that can be associated with a service must be specified with this option. In the most common case, a service is performed by a function that carries the same name; that is, the x service is performed by function x. For example, the following specification builds the associated server with services x, y, and z, each to be processed by a function of the same name: &quot;-s x,y,z&quot;.
</div>
<div class="pDefParaCont"><a name="wp1111632"> </a>
In other cases, a service (or several services) may be performed by a function of a different name. The following specification builds the associated server with services x, y, and z, each to be processed by the function abc: &quot;-s x,y,z:abc&quot;. Spaces are not allowed between commas. Function name is preceded by a colon. In another case, the service name may not be known until run time. Any function that can have a service associated with it must be specified to buildqserver. To specify a function that can have a service name mapped to it, put a colon in front of the function name. For example, the following specification builds the server with a function pqr, which can have a service association. tpadvertise could be used to map a service name to the pqr function. &quot;-s :pqr&quot;. A filename can be specified with the -s option by prefacing the filename with the &#39;@&#39; character. Each line of this file is treated as an argument to the -s option. You may put comments in this file. All comments must start with the &#39;#&#39; character. This file can be used to specify all the functions in the server that may have services mapped to them. The -s option may appear several times. Note that services beginning with the &#39;.&#39; character are reserved for system use, and buildqserver will fail if the -s option is used to include such a service in the server.
</div>
<h4 class="pDefTerm"><a name="wp1111644"> </a>
<code class="cCodeBold">-t </code>
</h4><div class="pDefPara"><a name="wp1111653"> </a>
Specifies multithreading. If you want your servers to be multithreaded, this option is mandatory. If this option is not specified and you try to boot a server with a configuration file in which the value of MAXDISPATCHTRHREADS is greater than 1, a warning message is printed in the user log and the server reverts to single-threaded operation.
</div>
<div class="pDefParaCont"><a name="wp1111654"> </a>
The purpose of this option is to prevent an administrator from trying to boot, as a multithreaded server, a server that is not programmed in a thread-safe manner.
</div>
<h4 class="pHeading3"><a name="wp1111465"> </a>
Environment Variables
</h4>
<h4 class="pDefTerm"><a name="wp1111467"> </a>
<code class="cCodeBold">TUXDIR</code> 
</h4><div class="pDefPara"><a name="wp1111468"> </a>
buildclient uses the environment variable TUXDIR to find the Oracle Tuxedo ATMI libraries and include files to use during compilation of the client process. 
</div>
<h4 class="pDefTerm"><a name="wp1111469"> </a>
<code class="cCodeBold">CC </code>
</h4><div class="pDefPara"><a name="wp1111470"> </a>
buildqclient normally uses the default C language compilation command to produce the client executable. The default C language compilation command is defined for each supported operating system platform and is defined as cc(1) for UNIX system. In order to allow for the specification of an alternate compiler, buildqclient checks for the existence of an environment variable named CC. If CC does not exist in thr buildqclient environment, or if it is the string &quot;&quot;, buildqclient will use the default C language compiler. If CC does exist in the environment, its value is taken to be the name of the compiler to be executed. 
</div>
<h4 class="pDefTerm"><a name="wp1111471"> </a>
<code class="cCodeBold">CFLAGS</code> 
</h4><div class="pDefPara"><a name="wp1111472"> </a>
The environment variable CFLAGS is taken to contain a set of arguments to be passed as part of the compiler command line. This is in addition to the command line option &quot;-I${TUXDIR}/include&quot; passed automatically by buildqclient. If CFLAGS does not exist in buildqclient&#39;s environment, or if it is the string &quot;&quot;, no compiler command line arguments are added by buildqclient. 
</div>
<h4 class="pDefTerm"><a name="wp1111473"> </a>
<code class="cCodeBold">LD_LIBRARY_PATH</code> (UNIX systems) 
</h4><div class="pDefPara"><a name="wp1111474"> </a>
The environment variable LD_LIBRARY_PATH indicates which directories contain shared objects in addition to the Oracle Tuxedo system shared objects. Some UNIX systems require different environment variables: for HP-UX systems, use the SHLIB_PATH environment variable; for AIX, use LIBPATH.
</div>
<h4 class="pDefTerm"><a name="wp1111475"> </a>
<code class="cCodeBold">LIB</code> (Windows NT systems) 
</h4><div class="pDefParaCont"><a name="wp1111440"> </a>
Indicates a list of directories within which to find libraries. A semicolon (;) is used to separate the list of directories.
</div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1112941"> </a>
ConvertQSPACE
</h3>
<h4 class="pHeading3"><a name="wp1112972"> </a>
Name
</h4>
<p class="pBody"><a name="wp1112973"> </a>
<code class="cCode">ConvertQSPACE</code>&#8212;Queue manager administration program.
</p>
<h4 class="pHeading3"><a name="wp1112974"> </a>
Synopsis
</h4>
<a name="wp1112975"> </a><div class="pPreformatted"><pre>ConvertQSPACE -d device -s qspace -i ipckey -h</pre></div><h4 class="pHeading3"><a name="wp1112946"> </a>
Description
</h4>
<p class="pBody"><a name="wp1113053"> </a>
Upgrade to OTMQ to have many new benefits, saying faster enque/deque speed, asynch communication, recovery message storage, online and/or offline trade, pub/sub mode, auto failed message handling, and so on.
</p>
<p class="pBody"><a name="wp1113058"> </a>
This utility allows you toupgrade existed /Q Qspace to OTMQ Qspace, so that the data can be migrated smoothly too.
</p>
<a name="wp1113178"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>Pay close attention to the following:</td></tr>
</table>

<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1113200"> </a>The QMCONFIG environment variable must be configured as /Q device.</li>
<li><a name="wp1113179"> </a>The given /Q and OTMQ devices must not be used by other processes at the same time</li>
<li><a name="wp1113180"> </a>The conversion is read-only for /Q device. So if the process is interrupted unexpectedly, the user can re-do it until success.</li>
<li><a name="wp1113181"> </a>The transaction cannot be migrated since the TMS server is changed.</li>
</ul></div>
<p class="pBody"><a name="wp1113075"> </a>
It takes the following options:
</p>
<h4 class="pDefTerm"><a name="wp1113078"> </a>
-d device
</h4><div class="pDefPara"><a name="wp1113087"> </a>
Specifies the name of new OTMQ device. If existed, we will try to reuse it unless it has been already opened
</div>
<h4 class="pDefTerm"><a name="wp1113079"> </a>
-s qspace
</h4><div class="pDefPara"><a name="wp1113094"> </a>
Specifies the name of the /Q Qspace to be converted to OTMQ Qspace.
</div>
<h4 class="pDefTerm"><a name="wp1113080"> </a>
-i ipckey
</h4><div class="pDefPara"><a name="wp1113121"> </a>
Specifies the ipc key for the new OTMQ Qspace, which cannot be the same as the original /Q Qspace ipc key.
</div>
<h4 class="pDefTerm"><a name="wp1113081"> </a>
-h
</h4><div class="pDefPara"><a name="wp1113149"> </a>
Prints this usage
</div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1113055"> </a>
tmqadmin
</h3>
<h4 class="pHeading3"><a name="wp1111673"> </a>
Name
</h4>
<p class="pBody"><a name="wp1111674"> </a>
<code class="cCode">tmqadmin</code>&#8212;Queue manager administration program.
</p>
<h4 class="pHeading3"><a name="wp1111675"> </a>
Synopsis
</h4>
<a name="wp1111676"> </a><div class="pPreformatted"><pre>[QMCONFIG=&lt;device&gt;] tmqadmin [&lt;device&gt;]</pre></div><h4 class="pHeading3"><a name="wp1111677"> </a>
Description
</h4>
<p class="pBody"><a name="wp1111756"> </a>
With the commands listed in this entry, tmqadmin supports the creation, inspection, and modification of message queues. The universal device list (UDL) maps the physical storage space on a machine on which the Oracle Tuxedo ATMI system is run. An entry in the UDL points to the disk space in which the queues and messages of a queue space are stored. The name of the device (file) on which the UDL resides (or will reside) for the queue space may be specified either as a command line argument or via the environment variable QMCONFIG. If both are specified, the command option is used. 
</p>
<p class="pBody"><a name="wp1111757"> </a>
As a system-provided command, tmqadmin does not undergo normal initialization, so it does not pick up the value of ULOGPFX from the UBBCONFIG file. As a result, any log entries generated by tmqadmin commands are written to the current working directory. This is corrected by setting and exporting the ULOGPFX environment variable to the pathname of the directory in which the userlog is located. 
</p>
<p class="pBody"><a name="wp1111758"> </a>
tmqadmin uses the greater than sign (&gt;) as a prompt. Arguments are entered separated by white space (tabs and/or spaces). Arguments that contain white space may be enclosed within double quotes; if an argument enclosed within double quotes contains a double quote, the internal double quote must be preceded with a backslash. Commands prompt for required information if it is not given on the command line. A warning message is displayed and the prompt shown again, if a required argument is not entered. Commands do not prompt for information on optional parameters. 
</p>
<p class="pBody"><a name="wp1111759"> </a>
A user can exit the program by entering q or &lt;CTRL-d&gt; when prompted for a command. Output from a command may be terminated by pressing BREAK; the program then prompts for the next command. Hitting return when prompted for a command repeats the previously executed command, except after a break. 
</p>
<p class="pBody"><a name="wp1111760"> </a>
Note that there is no way to effectively cancel a command once you press RETURN; hitting BREAK only terminates output from the command, if any. Therefore, be sure that you type a command exactly as you intended before pressing RETURN. 
</p>
<p class="pBody"><a name="wp1111761"> </a>
Output from tmqadmin commands is paginated according to the pagination command in use (see the paginate subcommand below). 
</p>
<p class="pBody"><a name="wp1111762"> </a>
When tmqadmin is initially entered, no queue space is opened. To create a queue space, run qspacecreate; to open it, run qopen. The qaborttrans, qclear, qclose, qchangeprio, qchangequeue, qchangetime, qchangeexptime, qcommittrans, qchange, qcreate, qdeletemsg, qinfo, qlist, qprinttrans and qset commands can be executed only when a queue space is open.
</p>
<p class="pBody"><a name="wp1111777"> </a>
It takes the following commands:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1112670"> </a><a href="comands.html#wp1111800">General Commands</a></li>
<li><a name="wp1112675"> </a><a href="comands.html#wp1111782">Queue Space Commands</a></li>
<li><a name="wp1112680"> </a><a href="comands.html#wp1112269">Queue Commands</a></li>
<li><a name="wp1112685"> </a><a href="comands.html#wp1112277">Message Commands</a></li>
<li><a name="wp1112690"> </a><a href="comands.html#wp1112482">Transaction Commands</a></li>
</ul></div>
<h4 class="pDefTerm"><a name="wp1111800"> </a>
General Commands
</h4><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111944"> </a>
<code class="cCodeBold">! shellcommand </code>
</h4></div>
<div class="pDefPara2"><a name="wp1111945"> </a>
Escapes to shell and execute shellcommand. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111946"> </a>
<code class="cCodeBold">!!</code>
</h4></div>
<div class="pDefPara2"><a name="wp1111947"> </a>
Repeats previous shell command. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111836"> </a>
<code class="cCodeBold"># [text] </code>
</h4></div>
<div class="pDefPara2"><a name="wp1111961"> </a>
Lines beginning with # are comment lines and are ignored.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111807"> </a>
<code class="cCodeBold">&lt;CR&gt;</code>
</h4></div>
<div class="pDefPara2"><a name="wp1111840"> </a>
Repeats the last command. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111841"> </a>
<code class="cCodeBold">echo (e) [{off | on}] </code>
</h4></div>
<div class="pDefPara2"><a name="wp1111825"> </a>
Echoes input command lines when set to on. If no option is given, the current setting is toggled, and the new setting is printed. The initial setting is off. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111802"> </a>
<code class="cCodeBold">help (h) [{command | all}]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1111859"> </a>
Prints help messages. If a command is specified, the abbreviation, arguments, and description for that command are printed. The all argument causes a description of all commands to be displayed. 
</div><div class="pDefPara2"><a name="wp1111860"> </a>
If no arguments are specified on the command line, the syntax of all commands is displayed. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111789"> </a>
<code class="cCodeBold">paginate (page) [{off|on}]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1111875"> </a>
Paginates output. If no option is given, the current setting is toggled, and the new setting is printed. The initial setting is on, unless either standard input or standard output is a non-terminal device. Pagination may be turned on only when both standard input and standard output are terminal devices. 
</div><div class="pDefPara2"><a name="wp1111876"> </a>
The default paging command is the pager indigenous to the native operating system environment. The command pg, for example, is the default command on the UNIX operating system. The shell environment variable PAGER may be used to override the default command used for paging output. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111790"> </a>
<code class="cCodeBold">quit (q) </code>
</h4></div>
<div class="pDefPara2"><a name="wp1111828"> </a>
Terminates the session. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1111791"> </a>
<code class="cCodeBold">verbose (v) [{off | on}] </code>
</h4></div>
<div class="pDefPara2"><a name="wp1111918"> </a>
Produces output in verbose mode. If no option is given, the current setting is toggled, and the new setting is printed. The initial setting is off. 
</div><h4 class="pDefTerm"><a name="wp1111782"> </a>
Queue Space Commands
</h4><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112012"> </a>
<code class="cCodeBold">chdl [dlindex [newdevice]]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112057"> </a>
Changes the name for a universal device list entry. The first argument is the index of the device on the universal device list that is to be changed (device indexes are returned by lidl). The program prompts for it if it is not provided on the command line. 
</div><div class="pDefPara2"><a name="wp1112058"> </a>
The second argument is the new device name. If a device name is not provided on the command line, the program prints the current device name and then prompts for a new one. The name is limited to 64 characters in length. Use this command cautiously; files and data are not accessible via the old name after the device name is changed. For more information about printing the Universal Device List (UDL) and Volume Table of Contents (VTOC), see Administering an Oracle Tuxedo Application at Run Time. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112013"> </a>
<code class="cCodeBold">crdl [device [offset [size]]]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112070"> </a>
Creates an entry in the universal device list. Note: The first entry in the device list must correspond to the device that is referenced by QMCONFIG and must have an offset of 0. If arguments are not provided on the command line, the program prompts for them. 
</div><div class="pDefPara2"><a name="wp1112071"> </a>
The arguments are the device name, the block number at which space may begin to be allocated, and the number of physical pages (disk sectors) to be allocated. More than one extent can be allocated to a given file. You can, for example, allocate /app/queues/myspace 0 500, and then allocate /app/queues/myspace 1000 500, for a total of 1000 blocks allocated with blocks 500 through 999 not being used. Several blocks from the first device entry are used by the device list and table of contents. Up to 25 entries may be created on the device list. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112014"> </a>
<code class="cCodeBold">dsdl [-y] [dlindex]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112038"> </a>
Destroys an entry found in the universal device list. The dlindex argument is the index on the universal device list of the device that is to be removed from the device list. If it is not provided on the command line, the program prompts for it. Entry 0 cannot be removed until all VTOC files and other device list entries are destroyed. (Because entry 0 contains the device that holds the device list and table of contents, destroying it also destroys these two tables.) VTOC files can be removed only by removing the associated entities (for example, by destroying a queue space that resides on the device). The program prompts for confirmation unless -y is specified. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112015"> </a>
<code class="cCodeBold">ipcrm [-f] [-y] [queue_space_name]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112039"> </a>
Removes the IPC data structures used for the specified queue space. If a queue space name is not provided on the command line, the program prompts for one. If the specified queue space is open in tmqadmin, it will be closed. ipcrm knows all IPC resources used by the queue space and is the only way that the IPC resources should be removed. 
</div><div class="pDefPara2"><a name="wp1112096"> </a>
tmqadmin ensures that no other processes are attached to the queue space before removing the IPC resources. The -f option can be specified to force removal of IPC resources even if other processes are attached. This command prompts for confirmation before execution if the -f option is specified, unless the -y option is specified. All non-persistent messages in the specified queue space are permanently lost when this command completes successfully. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112016"> </a>
<code class="cCodeBold">ipcs [queue_space_name] </code>
</h4></div>
<div class="pDefPara2"><a name="wp1112040"> </a>
Lists the IPC data structures used for a queue space, if any (none may be used if the queue space is not opened by any process). If a queue space name is not provided on the command line, the program prompts for one. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112017"> </a>
<code class="cCodeBold">lidl [dlindex]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112041"> </a>
Prints the universal device list. For each device the following is listed: the index, the name, the starting block, and the number of blocks on the device. In verbose mode, a map is printed that shows free space (starting address and size of free space). If dlindex is specified, only the information for that device list entry is printed. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112018"> </a>
<code class="cCodeBold">livtoc</code>
</h4></div>
<div class="pDefPara2"><a name="wp1112042"> </a>
Prints information for all VTOC table entries. The information printed for each entry includes the name of the VTOC table, the device on which it is found, the offset of the VTOC table from the beginning of the device and the number of pages allocated for that table. There are a maximum of 100 entries in the VTOC. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112019"> </a>
<code class="cCodeBold">qaddext [queue_space_name [pages]]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112043"> </a>
Adds an extent to the queue space. The queue space must not be active (no processes can be attached to the queue space). If a queue space name and the number of additional physical pages to allocate for the queue space are not specified on the command line, the program prompts for them. If the specified queue space is open in tmqadmin, it will be closed. The number of physical pages is rounded down to the nearest multiple of four pages (see qspacecreate for clarification and examples). Space is allocated from extents defined in the UDL associated with the QMCONFIG device. Each new queue space extent uses an additional entry in the VTOC (a maximum of 100 entries are available). The queue manager names the extents such that they can be identified quickly and associated with the queue space. All non-persistent messages in the specified queue space are permanently lost when this command completes successfully. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112020"> </a>
<code class="cCodeBold">qclose</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112044"> </a>
Closes the currently open queue space. All non-persistent messages in the specified queue space are permanently lost when this command completes successfully. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112021"> </a>
<code class="cCodeBold">qopen [queue_space_name] </code>
</h4></div>
<div class="pDefPara2"><a name="wp1112045"> </a>
Opens and initializes the internal structures for the specified queue space. If a queue space is not specified on the command line, the program prompts for it. If a queue space is already open in tmqadmin, it is closed. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112140"> </a>
<code class="cCodeBold">qsize [-A actions] [-H handles] [-C cursors] [ -O owners] [-Q tmp_queues] [-f filter_memory] [-n nonpersistent_msg_memory[b,B]] [-o overflow_memory][pages [queues [transactions [processes [messages]]]]] </code>
</h4></div>
<div class="pDefPara2"><a name="wp1113265"> </a>
Computes the size of shared memory needed for a queue space with the specified size in pages, queues, (concurrent) transactions, processes, and (queued) messages. If the values are not provided on the command line, the program prompts for them. The number of system semaphores needed is also printed. Valid values for the remaining options are described in the qspacecreate option. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1113271"> </a>
<code style="font-weight: bold" class="cCodeBold">qspacechange (qspch)</code><span style="font-weight: bold"> [-A actions] [-C cursors] [-H handles] [-O owners] [-Q temp_queues] [-f filter_memory] [-T first_temp_queue_No.] [-N queue_alias_file ] [-n nonpersistent_msg_memory[b,B]] [-o overflow_memory] [queue_space_name [ipckey [trans [ procs [ messages [errorq [inityn [blocking]]]]]]]</span>
</h4></div>
<div class="pDefPara2"><a name="wp1113267"> </a>
Changes the parameters for a queue space. The queue space must not be active (that is, no processes can be attached to it). If the required information is not provided on the command line, the program prompts for it. Valid values are described in the qspacecreate section of this page. If the specified queue space is open in tmqadmin, it is closed. To add new extents, qaddext must be used. The number of queues cannot be modified. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112183"> </a>
<code class="cCodeBold">qspacecreate (qspc) [-A actions] [-n nonpersistent_msg_memory[b,B]] [-o overflow_memory][-C max cusor][-O max owner][-f maximum filter memory size ][-H max handle] [-Q qNum] [-T first temp queue] [-L max linkdriver table][-R max linkdirver route table][-N alias file][queue_space_name [ipckey [pages [queues [trans [procs [messages [errorq [inityn [blocking]]]]]]]]]</code>]
</h4></div>
<div class="pDefPara2"><a name="wp1112048"> </a>
Creates a queue space for queued messages. If not provided on the command line, the program prompts for the following information: the queue space name, the ipckey for the shared memory segment and semaphore; number of physical pages to allocate for the queue space; the number of queues; the number of concurrent transactions; the number of processes concurrently attached to the queue space; the number of messages that may be queued at one time; the name of an error queue for the queue space; whether or not to initialize pages on new extents for the queue space; and the blocking factor for doing queue space initialization and warm start disk input/output. 
</div><div class="pDefPara2"><a name="wp1112202"> </a>
The number of physical pages requested is rounded down to the nearest multiple of four pages. For example, a request of 50 pages results in a memory allocation of 48 pages, and a request of 52 pages results in a memory allocation of 52 pages. The error queue is used to hold messages that have reached the maximum number of retries (they are moved from their original queue to the error queue). The administrator is responsible for ensuring that this queue is drained. 
</div><div class="pDefPara2"><a name="wp1113374"> </a>
The number of physical pages allocated must be large enough to hold the overhead for the queue space (one page plus one page per queue). If the initialization option is specified as &#39;y&#39; or &#39;Y,&#39; the space used to hold the queue space is initialized and this command may run for a while. In verbose mode, a period (.) is printed to the standard output after completing initialization of each 5% of the queue space. 
</div><div class="pDefPara2"><a name="wp1113375"> </a>
If the initialization option is not turned on but the underlying device is not a character special device, the file will be initialized if it is not already the size specified for the extent (that is, the file will be grown to allocate the specified space). When reading and writing blocks during creation of the queue space and during warm start (restart of the queue space), the size of input and output operations will be calculated as a multiple of the disk page size as specified by the blocking factor. The - A actions option specifies the number of additional actions that the Queuing Services component can handle concurrently. 
</div><div class="pDefPara2"><a name="wp1113376"> </a>
When a blocking operation is encountered and additional actions are available, the blocking operation is set aside until it can be satisfied. After setting aside the blocking operation, another operation request can be handled. When the blocking operation completes, the action associated with the operation is made available for a subsequent operation. An operation fails if a blocking operation is requested and cannot be immediately satisfied and there are no actions available. 
</div><div class="pDefPara2"><a name="wp1113366"> </a>
The system reserves actions equivalent to the number of processes that can attach to a queue space so that each queue manager process may have at least one blocking action. Beyond the system-reserved number of blocking actions, the administrator may configure the system to be able to accommodate additional blocking actions beyond the reserve. 
</div><div class="pDefPara2"><a name="wp1113367"> </a>
If the - A actions option is not specified, the default is zero. If the - A option is not specified, the program does not prompt for it. The -n nonpersistent_msg_memory option specifies the size of the area to reserve in shared memory for non-persistent messages for all queues in the queue space. The size may be specified in bytes (b) or blocks (B), where the block size is equivalent to the disk block size. The [bB] suffix is optional and, if not specified, the default is blocks. If the -n option is not specified, the memory size defaults to zero (0). 
</div><div class="pDefPara2"><a name="wp1113368"> </a>
Also, if the -n option is not specified, the program does not prompt for it. If the value is specified in bytes (b) for nonpersistent_msg_memory, the system divides the specified value by the number of bytes per page (page size is equivalent to the disk page size), rounds down the result to the nearest integer, and allocates that number of pages of memory. For example, assuming a page size of 1024 bytes (1KB), a requested value of 2000b results in a memory allocation of 1 page (1024 bytes), and a requested value of 2048b results in a memory allocation of 2 pages (2048 bytes). 
</div><div class="pDefPara2"><a name="wp1113369"> </a>
Requesting a value less than the number of bytes per page results in an allocation of 0 pages (0 bytes). If the value is specified in blocks (B) for nonpersistent_msg_memory and assuming that one block of memory is equivalent to one page of memory, the system allocates the same value of pages. For example, a requested value of 50B results in a memory allocation of 50 pages. If the nonpersistent_msg_memory for a queue space is zero (0), no space is reserved for non-persistent messages.
</div><div class="pDefPara2"><a name="wp1113370"> </a>
In this case, attempts to enqueue a non-persistent message fail. Persistent and non-persistent storage are not interchangeable. If a non-persistent message cannot be enqueued due to an exhausted or fragmented memory area, the enqueuing operation fails, even if there is sufficient persistent storage for the message. If a persistent message cannot be enqueued due to an exhausted or fragmented disk, the enqueuing operation fails, even if there is sufficient non-persistent storage for the message. The - o overflow_memory option specifies the size of the memory area to reserve in shared memory to accommodate peek load situations where some or all of the allocated shared memory resources are exhausted. The memory size is specified in bytes. Additional objects will be allocated from this additional memory on a first-come-first-served basis. 
</div><div class="pDefPara2"><a name="wp1113372"> </a>
When an object created in the additional memory is closed or destroyed, the memory is released for subsequent overflow situations. If the - o overflow_memory option is not specified, the default is zero. If the - o option is not specified, the program does not prompt for it. This additional memory space may yield more objects than the configured number, but there is no guarantee that additional memory is available for any particular object at any given point in time. 
</div><div class="pDefPara2"><a name="wp1113373"> </a>
Currently, only actions, handles, cursors, owners, temporary queues, timers, and filters use the overflow memory. 
</div><div class="pDefPara2"><a name="wp1112203"> </a>
If the -C option is specified, will specific the maximum cusor.
</div><div class="pDefPara2"><a name="wp1112204"> </a>
If the -O option is specified, will specific the maximum filter memory size.
</div><div class="pDefPara2"><a name="wp1112205"> </a>
If the -H option is specified, will specific the maximum handle.
</div><div class="pDefPara2"><a name="wp1112206"> </a>
If the -Q option is specified, will specific the maximum temporary queues.
</div><div class="pDefPara2"><a name="wp1112207"> </a>
If the -T option is specified, will specific the first temporary queue.
</div><div class="pDefPara2"><a name="wp1112208"> </a>
If the -L option is specified, will specific the maximum linkdriver table..
</div><div class="pDefPara2"><a name="wp1112209"> </a>
If the -R option is specified, will specific the maximum linkdriver route table.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112025"> </a>
<code class="cCodeBold">qspacedestroy (qspds) [-f] [-y] [queue_space_name</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112258"> </a>
Destroys the named queue space. If not provided on the command line, the program will prompt for it. If the specified queue space is open in tmqadmin, it will be closed. By default, an error is returned if processes are attached to the queue space or if requests exist on any queues in the queue space. See the qdestroy command for destroying queues that contain requests. The -f option can be specified to &quot;force&quot; deletion of all queues, even if they may have messages or processes are attached to the queue space. This command prompts for confirmation before proceeding unless the -y option is specified. All non-persistent messages in the specified queue space are lost when this command completes successfully
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112259"> </a>
<code class="cCodeBold">qspacelist [queue_space_name]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112260"> </a>
Lists the creation parameters for the queue space. If it is not specified on the command line, the program will prompt for it. If a queue space name is not entered, the parameters for the currently open queue space are printed. (An error occurs if a queue space is not open and a value is not entered.) In addition to printing the values for the queue space (as set when creating the queue space with qspacecreate or when they were last changed with qspacechange), this command shows the sizes for all queue space extents. It also shows the amount of system-reserved memory as well as the total amount of configured shared memory. The amount of memory allocated for shared memory resources may not match the amount requested when the amount of memory is requested in bytes (b); see the -n nonpersistent_msg_memory option in qspacecreate for clarification and examples. 
</div><h4 class="pDefTerm"><a name="wp1112269"> </a>
Queue Commands
</h4><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112297"> </a>
<code class="cCodeBold">qchange [-d default_delivery_policy] [-n mhigh,mlow,mcmd][-e default_relative_expiration_time][-t default_queue_property] [-o owner] [-a PERM_ACTIVE] [-c confirm_style] [-f][queue_name [qorder [out-of-order [retries [delay [high [low [cmd]]]]]]]]</code>
</h4></div>
<div class="pDefPara2"><a name="wp1112304"> </a>
Modifies a queue in the currently open queue space. The required arguments may be given on the command line or the program will prompt for them. These are the queue name, whether out-of-order enqueuing is allowed (not allowed, top of queue, or before a specified msgid); the number of retries and delay time in seconds between retries; and the high and low limits for execution of a threshold command and the threshold command itself for persistent messaging.
</div><div class="pDefPara2"><a name="wp1112315"> </a>
The out-of-order values are none, top, and msgid. Both top and msgid may be specified, separated by a comma. The threshold values are used to allow for automatic execution of a command when a threshold is reached for persistent messages. 
</div><div class="pDefPara2"><a name="wp1113388"> </a>
The high limit specifies when the command is executed. The low limit must be reached before the command is executed again when the high limit is reached. For example, if the limits are 100 and 50 messages, the command is executed when 100 messages are on the queue, and it is not executed again until the queue is drained down to 50 messages and is filled again to 100 messages. The queue capacity can be specified in bytes or blocks used by the queue (number followed by a b or B suffix), percentage of the queue space used by the queue (number followed by a %), or total number of messages on the queue (number followed by an m). The threshold type for the high and low threshold values must be the same. It is optional whether or not the type is specified on the low value, but if specified, it must match the high value type. 
</div><div class="pDefPara2"><a name="wp1113389"> </a>
The message (m) suffix spans both persistent and non-persistent messages. The other threshold suffixes apply only to persistent messages. Use the -n option to specify threshold values for non-persistent messages. When specified on the command line, the threshold command should be enclosed in double quotation marks if it contains white space.
</div><div class="pDefPara2"><a name="wp1112349"> </a>
The retry count indicates how many times a message can be dequeued and the transaction rolled back, causing the message to be put back on the queue. A delay between retries can also be specified. When the retry count is reached, the message is moved to the error queue defined for the queue space. If no error queue has been defined, the message is dropped. 
</div><div class="pDefPara2"><a name="wp1113390"> </a>
The queue ordering values for the queue cannot be changed. Low-priority messages are dequeued after every ten messages, even if the queue still contains high-priority messages. The -d option specifies the default delivery policy for the queue. The valid values for the -d option are persist and nonpersist. When the default delivery policy is persist, enqueued messages with no explicitly specified delivery mode are delivered using the persistent (disk-based) delivery method. When the policy is nonpersist, enqueued messages with no explicitly specified delivery mode are delivered using the non-persistent (in memory) delivery method. 
</div><div class="pDefPara2"><a name="wp1113391"> </a>
If the -d option is not specified, the system does not prompt for information and the default delivery policy is unchanged. When the default delivery policy is modified, the delivery quality of service is not changed for messages already in the queue. If the queue being modified is the reply queue named for any messages currently in the queue space, the reply quality of service is not changed for those messages as a result of changing the default delivery policy of the queue. If a non-persistent message cannot be enqueued due to an exhausted or fragmented memory area, the enqueuing operation fails, even if there is sufficient persistent storage for the message. 
</div><div class="pDefPara2"><a name="wp1113392"> </a>
If a persistent message cannot be enqueued due to an exhausted or fragmented disk, the enqueuing operation fails, even if there is sufficient non-persistent storage for the message. If the amount of memory reserved for non-persistent messages in a queue space is zero (0), no space is reserved for non-persistent messages. (See qspacecreate and qspacechange for information on specifying the non-persistent message memory area.) In this case, attempts to enqueue a non-persistent message fail. This includes messages with no specified delivery quality of service for which the target queue has a default delivery policy of nonpersist. 
</div><div class="pDefPara2"><a name="wp1113393"> </a>
The -n option specifies the threshold values used for automatic execution of a command when a non-persistent storage area threshold is reached. The nhigh limit specifies when the command ncmd is executed. The nlow limit must be reached before the command will be executed again when the nhigh limit is reached. If the -n option is specified, the nhigh, nlow, and ncmd values must all be supplied, or the command fails. The ncmd value may be specified as an empty string. If the -n option is not specified, the program does not prompt for information. 
</div><div class="pDefPara2"><a name="wp1113394"> </a>
The memory capacity (amount of non-persistent data in the queue) can be specified as one of the following threshold types: bytes (b), blocks (B), or percentage (number followed by %). The threshold type for the nhigh and nlow values must be the same. For example, if nhigh is set to 100%, then nlow, if specified, must also be specified as a percentage. The threshold type of the nlow value is optional. If the -n option is not specified, the default threshold values for non-persistent messaging are unchanged. If ncmd contains white space, it must be enclosed in double quotation marks. The m suffix of the [ . . . [high[low[cmd]]] . . . ] thresholds applies to all messages in a queue, including both persistent and non-persistent messages, and therefore is not available with nhigh and nlow. The [ . . . [high[low[cmd]]] . . . ] thresholds specified without the -m suffix apply to persistent (disk-based) messages only. 
</div><div class="pDefPara2"><a name="wp1113395"> </a>
The -e default_relative_expiration_time option sets an expiration time for all messages enqueued to the queue that do not have an explicitly specified expiration time. The expiration time may be either a relative expiration time or none. When the expiration time is reached and the message has not been dequeued or administratively deleted, the message is removed from the queue, all resources associated with the message are reclaimed by the system, and statistics are updated. 
</div><div class="pDefPara2"><a name="wp1113396"> </a>
If the expiration time is before the message availability time, the message is not available for dequeuing unless either the availability or expiration time is changed so that the availability time is before the expiration time. In addition, these messages are removed from the queue at expiration time even if they were never available for dequeuing. 
</div><div class="pDefPara2"><a name="wp1113397"> </a>
If a message expires during a transaction, the expiration does not cause the transaction to fail. Messages that expire while being enqueued or dequeued within a transaction are removed from the queue when the transaction ends. There is no notification when a message has expired. 
</div><div class="pDefPara2"><a name="wp1113398"> </a>
If the -e option is not specified, the default expiration time of the queue is not changed. When the queue&#39;s expiration time is modified using qchange, the expiration times for messages already in the queues are not modified. If the -e option is not specified, the program does not prompt for it. The format of a relative default_relative_expiration_time is +seconds where seconds is the number of seconds from the time that the queue manager successfully completes the operation to the time that the message expires. A value of zero (0) indicates immediate expiration.
</div><div class="pDefPara2"><a name="wp1113399"> </a>
The value of default_relative_expiration_time may also be set to the string none. The none string indicates that messages that are enqueued with no explicit expiration time will not expire unless an expiration time is explicitly assigned to them. 
</div><div class="pDefPara2"><a name="wp1112316"> </a>
The valid values for the -t &quot;type&quot; option are &quot;PQ&quot;, &quot;SQ&quot; and &quot;MRQ&quot;. The default value is &quot;PQ&quot;.
</div><div class="pDefPara2"><a name="wp1112339"> </a>
The -o &quot;owner&quot; option is used for secondary queues. And defines the primary queue with which this queue is to be associated. The valid valus for it is primary queue&#39;s name. 
</div><div class="pDefPara2"><a name="wp1112340"> </a>
The valid values for the -a &quot;active&quot; option are &quot;Y&quot; or &quot;N&quot;. The default value is &quot;N&quot;. This is to define if the queue is permanent active. If  yes, then the queue always can receive and store message unless the quota is exceeded. If not, the queue cannot receive and store message before it is attached, and will report invalid queue in the sender side. This feature doesn&#39;t make impact for MRQ and unlimited queue(inherited from /Q).
</div><div class="pDefPara2"><a name="wp1112324"> </a>
<code class="cCodeBold">-c [confirm style]</code>
</div><div class="pDefPara2"><a name="wp1112325"> </a>
Set queue property of confirm style, the valid values for -c &quot;confirm style&quot; option are &quot;EO&quot;,&quot;EI&quot;,&quot;II&quot;, &quot;EO&quot; means confirm un-order,&quot;EI&quot; means confirm by order, &quot;II&quot; means implicit confirm.
</div><div class="pDefPara2"><a name="wp1112326"> </a>
<code class="cCodeBold">-f:</code>
</div><div class="pDefPara2"><a name="wp1112327"> </a>
Some queue name are reserved for internal use, which will be prevented by qcreate: 74-76,90-100,150-199,4000-6000, unless -f parameter is specified.
</div><div class="pDefPara2"><a name="wp1112328"> </a>
When create these internal queue name by qcreate -f or MIB, warning will be given in ULOG.
</div><div class="pDefPara2"><a name="wp1112329"> </a>
<code class="cCodeBold">-e[exptime]</code>
</div><div class="pDefPara2"><a name="wp1112330"> </a>
The default expiration time specified by -e option does not take effect for recoverable message (SAF/DQF/CONF). Instead, the default expiration time of SAF/DQF queue (none by default) will take effect.
</div><div class="pDefPara2"><a name="wp1112332"> </a>
<code class="cCodeBold">-q [nhigh[m/b/a/n],nlow,ncmd]</code>
</div><div class="pDefPara2"><a name="wp1112333"> </a>
If the -q option is specified, the nhigh, nlow, and ncmd values must all be supplied, or the command fails. The ncmd value may be specified as an empty string.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112283"> </a>
<code class="cCodeBold">qclear [-y]</code>
</h4></div>
<div class="pDefPara2"><a name="wp1112374"> </a>
Clears attached client information on a queue and resets the queue to unattached status. The queue is specified using the qset command. 
</div><div class="pDefPara2"><a name="wp1113414"> </a>
This command prompts for confirmation unless the &#39;-y&#39; option is specified.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1113415"> </a>
<code class="cCodeBold">qcreate (qcr) [-d default_delivery_policy] [-n mhigh,mlow,mcmd][-e default_relative_expiration_time][-t default_queue_property] [-o owner] [-a PERM_ACTIVE] [-c confirm_style] [-f][queue_name [qorder [out-of-order [retries [delay [ high [ low [ cmd]]]]]]]]</code>
</h4></div>
<div class="pDefPara2"><a name="wp1113416"> </a>
Creates a queue in the currently open queue space. The required arguments may be given on the command line or the program will prompt for them. These are the queue name, the queue ordering (fifo or lifo, by expiration time, by priority, by time); whether out-of-order enqueuing is allowed (not allowed, top of queue, before a specified msgid); the number of retries and delay time in seconds between retries; the high and low limits for execution of a threshold command; and the threshold command itself for persistent messages.
</div><div class="pDefPara2"><a name="wp1112408"> </a>
The queue ordering values are fifo, lifo, priority, expiration, and time. When specifying the queue ordering, the most significant sort value must be specified first, followed by the next most significant sort value, and so on; fifo or lifo can be specified only as the least significant (or only) sort value. 
</div><div class="pDefPara2"><a name="wp1113436"> </a>
If neither fifo or lifo is specified, the default is fifo within whatever other sort criteria are specified. If expiration is specified, messages with no expiration time are dequeued after all messages with an expiration time. Multiple sort values may be specified separated by commas. The out-of-order values are none, top, or msgid. Both top and msgid may be specified, separated by a comma. The threshold values are used to allow for automatic execution of a command when a threshold is reached for persistent messages. The high limit specifies when the command is executed. 
</div><div class="pDefPara2"><a name="wp1113437"> </a>
The low limit must be reached before the command will be executed again when the high limit is reached. For example, if the limits are 100 and 50 messages, the command will be executed when 100 messages are on the queue, and will not be executed again until the queue has been drained below 50 messages and has filled again to 100 messages. The queue capacity can be specified in bytes or blocks used by the queue (number followed by a b or B suffix), percentage of the queue space used by the queue (number followed by a %), or total number of messages on the queue (number followed by an m). 
</div><div class="pDefPara2"><a name="wp1113438"> </a>
The threshold type for the high and low threshold values must be the same. The message (m) suffix spans both persistent and non-persistent messages. The other threshold suffixes apply only to persistent messages. Use the -n option to specify threshold values for non-persistent messages. It is optional whether or not the type is specified on the low value, but if specified, it must match the high value type. When specified on the command line, the threshold command should be enclosed in double quotation marks if it contains white space. 
</div><div class="pDefPara2"><a name="wp1113439"> </a>
The retry count indicates how many times a message can be dequeued and the transaction rolled back, causing the message to be put back on the queue. A delay between retries can also be specified. When the retry count is reached, the message is moved to the error queue defined for the queue space. If an error queue has not been defined, the message is dropped. Low-priority messages are dequeued after every ten messages, even if the queue still contains high-priority messages. 
</div><div class="pDefPara2"><a name="wp1113440"> </a>
The -d option specifies the default delivery policy for the queue. The valid values for the -d option are persist and nonpersist. When the default delivery policy is persist, enqueued messages with no explicitly specified delivery mode are delivered using the persistent (disk-based) delivery method. When the policy is nonpersist, enqueued messages with no explicitly specified delivery mode are delivered using the non-persistent (in memory) delivery method. If the -d option is not specified, the system does not prompt for information and the default delivery policy for the queue is persist. 
</div><div class="pDefPara2"><a name="wp1113441"> </a>
When the default delivery policy is modified, the delivery quality of service is not changed for messages already in the queue. If a non-persistent message cannot be enqueued due to an exhausted or fragmented memory area, the enqueuing operation fails, even if there is sufficient persistent storage for the message. If a persistent message cannot be enqueued due to an exhausted or fragmented disk, the enqueuing operation fails, even if there is sufficient non-persistent storage for the message. 
</div><div class="pDefPara2"><a name="wp1113442"> </a>
If the amount of memory reserved for non-persistent messages in a queue space is zero (0), no space is reserved for non-persistent messages. (See qspacecreate and qspacechange for information on specifying the non-persistent message memory area.) In this case, attempts to enqueue a non-persistent message fail. This includes messages with no specified delivery quality of service for which the target queue has a default delivery policy of nonpersist. 
</div><div class="pDefPara2"><a name="wp1113443"> </a>
The -n option specifies the threshold values used for automatic execution of a command when a non-persistent storage area threshold is reached. The nhigh limit specifies when the command ncmd is executed. The nlow limit must be reached before the command will be executed again when the nhigh limit is reached. If the -n option is specified, the nhigh, nlow, and ncmd values must all be supplied, or the command fails. The ncmd value may be specified as an empty string. If the -n option is not specified, the program does not prompt for information. 
</div><div class="pDefPara2"><a name="wp1113444"> </a>
The memory capacity (amount of non-persistent data in the queue) can be specified as one of the following threshold types: bytes (b), blocks (B), or percentage (number followed by %). The threshold type for the nhigh and nlow values must be the same. For example, if nhigh is set to 100%, then nlow, if specified, must also be specified as a percentage. The threshold type of the nlow value is optional. If the -n option is not specified, the default threshold values are used (100% for nhigh and 0% for nlow) and ncmd is set to &quot; &quot;. 
</div><div class="pDefPara2"><a name="wp1113445"> </a>
If ncmd contains white space, it must be enclosed in double quotation marks. The m suffix of the [ . . . [high[low[cmd]]] . . . ] thresholds applies to all messages in a queue, including both persistent and non-persistent messages, and therefore is not available with nhigh and nlow. The [ . . . [high[low[cmd]]] . . . ] thresholds specified without the -m suffix apply to persistent (disk-based) messages only. 
</div><div class="pDefPara2"><a name="wp1113446"> </a>
The -e default_relative_expiration_time option sets an expiration time for all messages enqueued to the queue that do not have an explicitly specified expiration time. The expiration time may be either a relative expiration time or none. When the expiration time is reached and the message has not been dequeued or administratively deleted, the message is removed from the queue, all resources associated with the message are reclaimed by the system, and statistics are updated. 
</div><div class="pDefPara2"><a name="wp1113447"> </a>
If the expiration time is before the message availability time, the message is not available for dequeuing unless either the availability or expiration time is changed so that the availability time is before the expiration time. In addition, these messages are removed from the queue at expiration time even if they were never available for dequeuing. If a message expires during a transaction, the expiration does not cause the transaction to fail. Messages that expire while being enqueued or dequeued within a transaction are removed from the queue when the transaction ends. There is no notification when a message has expired.
</div><div class="pDefPara2"><a name="wp1113448"> </a>
If the -e option is not specified, the default expiration time of the queue is set to none. When the queue&#39;s expiration time is modified using qchange, the expiration times for messages already in the queues are not modified. If the -e option is not specified, the program does not prompt for it. The format of a relative default_relative_expiration_time is +seconds where seconds is the number of seconds from the time that the queue manager successfully completes the operation to the time that the message expires. A value of zero (0) indicates immediate expiration.The value of default_relative_expiration_time may also be set to the string none. The none string indicates that messages that are enqueued with no explicit expiration time will not expire unless an expiration time is explicitly assigned to them. 
</div><div class="pDefPara2"><a name="wp1112413"> </a>
The valid values for the -t &quot;type&quot; option are &quot;PQ&quot;, &quot;SQ&quot; and &quot;MRQ&quot;. The default value is &quot;PQ&quot;.
</div><div class="pDefPara2"><a name="wp1112420"> </a>
The -o &quot;owner&quot; option is used for secondary queues. And defines the primary queue with which this queue is to be associated. The valid values for it is primary queue&#39;s name. 
</div><div class="pDefPara2"><a name="wp1112421"> </a>
The valid values for the -a &quot;active&quot; option are &quot;Y&quot; or &quot;N&quot;. The default value is &quot;N&quot;. This is to define if the queue is permanent active. If yes, then the queue always can receive and store message unless the quota is exceeded. If not, the queue cannot receive and store message before it is attached, and will report invalid queue in the sender side. This feature doesn&#39;t make impact for MRQ and unlimited queue(inherited from /Q).
</div><div class="pDefPara2"><a name="wp1112426"> </a>
<code class="cCodeBold">c [confirm style]</code>
</div><div class="pDefPara2"><a name="wp1112427"> </a>
Set queue property of confirm style, the valid values for -c &quot;confirm style&quot; option are &quot;EO&quot;,&quot;EI&quot;,&quot;II&quot;, &quot;EO&quot; means confirm un-order,&quot;EI&quot; means confirm by order, &quot;II&quot; means implicit confirm.
</div><div class="pDefPara2"><a name="wp1112428"> </a>
<code class="cCodeBold">-f:</code>
</div><div class="pDefPara2"><a name="wp1112429"> </a>
Some queue name are reserved for internal use, which will be prevented by qcreate: 74-76,90-100,150-199,4000-6000, unless -f parameter is specified.
</div><div class="pDefPara2"><a name="wp1112430"> </a>
When create these internal queue name by qcreate -f or MIB, warning will be given in ULOG.
</div><div class="pDefPara2"><a name="wp1112431"> </a>
<code class="cCodeBold">-e[exptime]</code>
</div><div class="pDefPara2"><a name="wp1112432"> </a>
The default expiration time specified by -e option does not take effect for recoverable message (SAF/DQF/CONF). Instead, the default expiration time of SAF/DQF queue (none by default) will take effect.
</div><div class="pDefPara2"><a name="wp1112434"> </a>
<code class="cCodeBold">-q [nhigh[m/b/a/n],nlow,ncmd]</code>
</div><div class="pDefPara2"><a name="wp1112435"> </a>
If the -q option is specified, the nhigh, nlow, and ncmd values must all be supplied, or the command fails. The ncmd value may be specified as an empty string.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112285"> </a>
<code class="cCodeBold">qdestroy (qds) [{ -p | -f }] [-y] [queue_name] </code>
</h4></div>
<div class="pDefPara2"><a name="wp1112459"> </a>
Destroys the named queue. By default, an error is returned if requests exist on the queue or a process is attached to the queue space. The -p option can be specified to &quot;purge&quot; any messages from the queue and destroy it, if no processes are attached to the queue space. The -f option can be specified to &quot;force&quot; deletion of a queue, even if messages or processes are attached to the queue space; if a message is currently involved in a transaction the command fails and an error is written to the userlog. This command prompts for confirmation before proceeding unless the -y option is specified.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112286"> </a>
<code class="cCodeBold">qinfo [queue_name]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112295"> </a>
Lists information for associated queue or for all queues. This command lists the following: the number of messages on the specified queue (or all queues if no argument is given); the amount of space used by the messages associated with the queue (both persistent and non-persistent); the number of messages being delivered persistently and non-persistently; the total number of messages in the specified queues, and the amount of space used by the persistent and non-persistent messages. In verbose mode, this command also lists the queue creation parameters for each queue, the default expiration for the queue (if any), the sort criteria, and the default delivery policy for the queue. 
</div><h4 class="pDefTerm"><a name="wp1112277"> </a>
Message Commands
</h4><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112487"> </a>
<code class="cCodeBold">qchangeexp (qce) -y [newtime]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112512"> </a>
Changes the expiration time for messages on a queue. When a message expires, it is removed from the queue, all resources used by the message are reclaimed by the system, and the relevant statistics are updated. If the expiration time is before the message availability time, the message is not available for dequeuing unless either the availability or expiration time is changed so that the availability time is before the expiration time. In addition, these messages are removed from the queue at expiration time even if they were never available for dequeuing. If a message expires during a transaction, the expiration does not cause the transaction to fail. Messages that expire while being enqueued or dequeued within a transaction are removed from the queue when the transaction ends. There is no notification when a message has expired. 
</div><div class="pDefPara2"><a name="wp1112513"> </a>
The queue for which an expiration time is set is selected using the qset command. Selection criteria for limiting the messages to be updated are set with the qscan command. If no selection criterion is set, all messages on the queue are changed. By default, a confirmation is requested before the expiration time is set. The -y option specifies no prompt for confirmation. The newtime value can be relative to either the current time, an absolute value, or none. If the newtime value is not provided on the command line, the program prompts for it. Messages enqueued by versions of the Oracle Tuxedo ATMI system that do not support message expiration cannot be modified to have an expiration time even when the queue manager responsible for changing the value supports message expiration. If messages affected by qchangeexp have been enqueued by one of these versions of the Oracle Tuxedo ATMI system, an error message indicates that some of the selected messages were not modified due to this limitation. A relative expiration time is relative to when the request arrives at the queue manager process. The format of a relative newtime is +seconds where seconds is the number of seconds from the time that the queue manager successfully completes the operation to the time that the message expires. If seconds is set to zero (0), messages expire immediately. An absolute expiration time is determined by the clock on the machine where the queue manager process resides. The format of an absolute newtime is YY[MM[DD[HH[MM[SS]]]]] as described in qscan. The value of newtime may also be set to the string none, which indicates that affected messages never expire. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112488"> </a>
<code class="cCodeBold">qchangeprio (qcp) [-y] [newpriority]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112527"> </a>
Changes the priority for messages on a queue. The queue that is affected is set using the qset command and the selection criteria for limiting the messages to be updated are set using the qscan command. 
</div><div class="pDefPara2"><a name="wp1112534"> </a>
If no selection criteria are set, all messages on the queue are changed: confirmation is requested before this is done unless the -y option is specified. It is recommended that the qlist command be executed to see what messages will be modified (this reduces typographical errors). The newpriority value specifies the new priority which will be used when the message(s) are forwarded for processing. It must be in the range 1 to 100, inclusive. If not provided on the command line, the program will prompt for it. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112489"> </a>
<code class="cCodeBold">qchangequeue (qcq) [-y] [newqueue]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112542"> </a>
Moves messages to a different queue within the same queue space. The queue from which messages are moved is set using the qset command and the selection criteria for limiting the messages to be moved are set using the qscan command. If no selection criteria are set, all messages on the queue are moved: confirmation is requested before this is done unless the -y option is specified. It is recommended that the qlist command be executed to see what messages will be moved (this reduces typographical errors). The newqueue value specifies the name of the queue to which messages will be moved. If newqueue is not specified on the command line, the program prompts for it. The delivery quality of service of a message is not changed to match the default delivery policy of newqueue. 
</div><div class="pDefPara2"><a name="wp1112543"> </a>
When messages with an expiration time are moved, the expiration time is considered an absolute expiration time in the new queue, even if it was previously specified as a relative expiration time.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112490"> </a>
<code class="cCodeBold">qchangetime (qct) [-y] [newtime]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112558"> </a>
Changes the message availability time for messages on a queue. The queue is specified using the qset command. The selection criteria for limiting the messages to be updated are set using the qscan command. 
</div><div class="pDefPara2"><a name="wp1112565"> </a>
If no selection criteria are set, all messages on the queue are changed: confirmation is requested before this is done unless the -y option is specified. It is recommended that the qlist command be executed to see what messages will be modified (this reduces typographical errors). The newtime value can be either relative to the current time or an absolute value. If not provided on the command line, the program will prompt for it. The format of a relative onetime is +seconds where seconds is the number of seconds from now that the message is to be executed (0 implies immediately). The format of an absolute newtime is YY[MM[DD[HH[MM[SS]]]]], as described in qscan.
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112491"> </a>
<code class="cCodeBold">qdeletemsg (qdltm) [-y]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112502"> </a>
selection criteria for limiting the messages to be deleted are set using the qscan command. If no selection criteria are set, all messages on the queue are deleted: confirmation is requested before this is done. It is recommended that the qlist command be executed to see what messages will be deleted (this reduces typographical errors). This command prompts for confirmation unless the -y option is specified. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112492"> </a>
<code class="cCodeBold">qlist (ql)</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112582"> </a>
Lists messages on a queue. The queue is specified using the qset command. The selection criteria for limiting the messages to be listed are set using the qscan command. If no selection criteria are set, all messages on the queue will be listed.
</div><div class="pDefPara2"><a name="wp1112589"> </a>
For each message selected, the message identifier is printed along with the message priority, the number of retries already attempted, message length, delivery quality of service, the quality of service for any replies, and the expiration time (if any). The message availability time is printed if one is associated with the message, or for messages that have a scheduled retry time (due to rollback of a transaction). The correlation identifier is printed if present and verbose mode is on. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112593"> </a>
<code class="cCodeBold">qscan [{ [-t time1[-time2]] [-p priority1[-priority2]] [-m msgid] [-i corrid][-d delivery_mode] [-e time1[-time2]] | none }]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112603"> </a>
Sets the selection criteria used for the qchangeprio, qchangequeue, qchangetime, qdeletemsg, and qlist commands. An argument of none indicates no selection criteria; all messages on the queue will be affected. Executing this command with no argument prints the current selection criteria values. 
</div><div class="pDefPara2"><a name="wp1113936"> </a>
When command line options give a value range (for example, -t, -e, or -p) the value range may not contain white space. The -t option can be used to indicate a time value or a time range. The format of time1 and time2 is: YY[MM[DD[HH[MM[SS]]]]] specifying the year, month, day, hour, minute, and second. Units omitted from the date-time value default to their minimum possible values. For example, &quot;7502&quot; is equivalent to &quot;750201000000.&quot; The years 00-37 are treated as 2000-2037, years 70-99 are treated as 1970-1999, and 38-69 are invalid. The -p option can be used to indicate a priority value or a priority range. Priority values are in the range 1 to 100, inclusive. 
</div><div class="pDefPara2"><a name="wp1113937"> </a>
The -m option can be used to indicate a message identifier value, assigned to a message by the system when it is enqueued. The message identifier is unique within a queue and its value may be up to 32 characters in length. Values that are shorter than 32 characters are padded on the right with nulls (0x0). Backslash and non-printable characters (including white space characters such as space, newline, and tab) must be entered with a backslash followed by a two-character hexadecimal value for the character (for example, space is \20, as in &quot;hello\20world&quot;). 
</div><div class="pDefPara2"><a name="wp1113938"> </a>
The -i option can be used to indicate an correlation identifier value associated with a message. The identifier value is assigned by the application, stored with the enqueued message, and passed on to be stored with any reply or error message response such that the application can identify responses to particular requests. The value may be up to 32 characters in length. Values that are shorter than 32 characters are padded on the right with nulls (0x0). Backslash and non-printable characters (including white space characters such as space, newline, and tab) must be entered with a backslash followed by a two-character hexadecimal value for the character (for example, space is \20, as in my\20ID\20value). 
</div><div class="pDefPara2"><a name="wp1112610"> </a>
The valid values for the -d delivery_mode option are persist and nonpersist. This option specifies the delivery mode of messages selected by qscan so that an operator can take action based on the delivery method. The -e option can be used to indicate an expiration time or an expiration time range. The format of time1 and time2 is the same as time1 and time2 for the -t option. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112494"> </a>
<code class="cCodeBold">qset [queue_name] </code>
</h4></div>
<div class="pDefPara2"><a name="wp1112505"> </a>
Sets the queue name that is used for the qchangeprio, qchangequeue, qchangetime, qdeletemsg, and qlist commands. Executing this command with no argument prints the current queue name. 
</div><h4 class="pDefTerm"><a name="wp1112482"> </a>
Transaction Commands
</h4><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112633"> </a>
<code class="cCodeBold">qaborttrans (qabort) [-y] [tranindex]</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112639"> </a>
Heuristically aborts the precommitted transaction associated with the specified transaction index, tranindex. If the transaction index is not specified on the command line, the program prompts for it. If the transaction is known to be decided and the decision was to commit, qaborttrans fails. 
</div><div class="pDefPara2"><a name="wp1112650"> </a>
The index is taken from the previous execution of the qprinttrans command. Confirmation is requested unless the -y option is specified. This command should be used with care. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112634"> </a>
<code class="cCodeBold">qcommittrans (qcommit) [-y] [tranindex]</code>
</h4></div>
<div class="pDefPara2"><a name="wp1112640"> </a>
Heuristically commits the precommitted transaction associated with the specified transaction index tranindex. The program will prompt for the transaction index if not specified on the command line. If the transaction is known to be decided and the decision was to abort, qcommittrans will fail. The index is taken from the previous execution of the qprinttrans command. Confirmation is requested unless the -y option is specified. This command should be used with care. 
</div><div class="pDefTerm2"><h4 class="pDefTerm2"><a name="wp1112635"> </a>
<code class="cCodeBold">qprinttrans (qpt)</code> 
</h4></div>
<div class="pDefPara2"><a name="wp1112641"> </a>
Prints transaction table information for currently outstanding transactions. The information includes the transaction identifier, an index used for aborting or committing transactions with qaborttrans or qcommittrans, and the transaction status. 
</div>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="comands.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="functions.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<a accesskey="5" href="ubb.html"><img id="LongDescNotReq9" src="/global_resources/images/nexttop.gif" border="0" alt="Next" /></a>
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
