<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>

<!-- LOCALIZATION RELATED INFORMATION -->
<meta name="LOC_PROJ_ID" content="WLPF8.1" />
<meta name="LOC_OWNER" content="BEAJ" />
<meta name="LOC_STATUS" content="READY!" />
<meta name="LOC_COMMENT" content="LOC_COMMENT" />
<meta name="LOC_US_REV" content="" />
<meta name="LOC_US_CHANGE" content="" />
<meta name="LOC_US_SRCFILE" content="" />
<!-- LOCALIZATION RELATED INFORMATION -->

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition for FrameMaker 8.6.6577.0" />
    <meta name="TEMPLATEBASE" content="BEA_WFP_Template_V1.04" />
    <meta name="LASTUPDATED" content="06/27/12 02:35:27" />
    <link rel="StyleSheet" href="/global_resources/edocs.css" type="text/css" media="all" />

<title>Oracle Tuxedo Message Queue <br />UBB Server Reference</title>

<!-- BEA scripts begin -->

<script language="Javascript" src="/global_resources/js/banner.js" type="text/javascript"></script>
<!-- This script outputs the banner required for edocs documentation. -->

<script language="Javascript" src="floatwin.js" type="text/javascript"></script>
<!-- This script opens a new small floating window and puts TOC<i>&lt;name&gt;</i>.html and IX<i>&lt;name&gt;</i>.html files in it and sets a generic popup window code to enable the display of some viewlets in the WebLogic Platform Tour. -->

<script language="Javascript1.1" src="/global_resources/js/footer.js" type="text/javascript"></script>
<!-- This script outputs the footer with the correct copyright date and link to copyright page.-->

<script language="Javascript1.1" src="/global_resources/js/googlesearch4.js" type="text/javascript"></script>
<!-- This script outputs the google search form. -->

<script language="Javascript1.1" src="/global_resources/js/note.js" type="text/javascript"></script>
<!-- This script outputs a note such as a BETA note. -->

<script language="JavaScript1.1" src="/global_resources/js/search.js" type="text/javascript"></script>
<!-- This script is not for online documents. It is only used by the QuestAgent Java Applet for CD search indexes. -->

<!-- BEA scripts end -->

  </head>

  <body>


<script language="Javascript1.1" type="text/javascript">
GoogleURL();
</script><noscript>This script outputs the google search URL required for search on edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
Banner();
</script><noscript>This script outputs the banner required for edocs documentation.</noscript>

<script language="Javascript1.1" type="text/javascript">
GoogleSearchCollection();
</script><noscript>This script outputs the google search parameters required for search on edocs documentation.</noscript>

<!-- page title -->
<h1 class="booktitle">Reference Guide
</h1>
<!-- page title end -->

    <table id="SummaryNotReq1" width="100%" border="0" align="left" cellpadding="2%" cellspacing="0">
      <tr> 
        <td>
&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="comands.html"><img id="LongDescNotReq1" src="/global_resources/images/doc_nav_prev.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq2" src="/global_resources/images/doc_nav_next_grey1.gif" border="0" alt="Next" />&nbsp;
<img id="LongDescNotReq3" src="/global_resources/images/doc_nav_dots.gif" border="0" alt="" />&nbsp;
<a accesskey="1" href="javascript:OpenWindowToc();" onmouseover="window.status='Table of Contents'; return true" onfocus="window.status='Table of Contents'; return true" onmouseout="window.status=''; return true" onblur="window.status=''; return true" title="Open TOC in new window">      <img id="LongDescNotReq4" src="/global_resources/images/doc_nav_contents.gif" alt="Open TOC in new window" border="0" /></a>&nbsp;
&nbsp;
<a href="../pdf/ref.pdf" target="pdf"><img id="LongDescNotReq5" src="/global_resources/images/doc_nav_pdf.gif" width="59" height="44" alt="View as PDF - New Window" title="View as PDF - New Window" border="0" /></a>&nbsp;
<a href="http://www.adobe.com/products/acrobat/alternate.html" target="_blank"><img id="LongDescNotReq6" src="/global_resources/images/get_reader.gif" width="52" height="44" alt="Get Adobe Reader - New Window" title="Get Adobe Reader - New Window" border="0" /></a>
<a name="link_group_0"></a>
	</td>
      </tr>
    </table>

<a name="skipnav" title="Content starts here"><img src="/global_resources/images/_.gif" alt="Content starts here" border="0" height="1" width="1" /></a>



<h1 class="pChapHead"><a name="wp1074157"> </a>
Oracle Tuxedo Message Queue <br />UBB Server Reference
</h1>
<p class="pGraphic"><a name="wp1075180"> </a>
</p>
<div align="left">
<table class="table" cellpadding="3" cellspacing="0" id="wp1075242table1075237"><caption><a name="wp1075242"> </a>
Table&#160;1  <span style="font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">Oracle Tuxedo Message Queue UBB Servers</span>

</caption>

  <tr bgcolor="#CCCCCC" align="center" valign="top">    <th scope="col"><div class="pCellHeading"><a name="wp1075246"> </a>
Name
</div>
</th>
    <th scope="col"><div class="pCellHeading"><a name="wp1075248"> </a>
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1117771"> </a>
<a href="ubb.html#wp1075755">TuxMsgQLD</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1117773"> </a>
TMQ Link Driver Server.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1111407"> </a>
<a href="ubb.html#wp1117961"><code class="cCode">TuxMsgQ</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1111409"> </a>
Message Queue Manager.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1075260"> </a>
<a href="ubb.html#wp1113637"><code class="cCode">TuxMQFWD</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1075262"> </a>
Message Queue Off-line trade driver.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1112905"> </a>
<a href="ubb.html#wp1113659">TMQ_NA</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1112907"> </a>
Message Queue Naming Server.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1075267"> </a>
<a href="ubb.html#wp1113686"><code class="cCode">TMS_TMQM</code></a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1077580"> </a>
TMS server for OTMQ resource manager.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1116471"> </a>
<a href="ubb.html#wp1113710">TMQ_EVT</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1116473"> </a>
TMQ event reporting process.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td class="table" scope="row"><div class="pCellBody"><a name="wp1116475"> </a>
<a href="ubb.html#wp1113734">TMQFORWARDPLUS</a>
</div>
</td>
    <td class="table" scope="row"><div class="pCellBody"><a name="wp1116477"> </a>
Message Forwarding server.
</div>
</td>
</tr>
</table>
</div>
<p class="pGraphic">

</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1075755"> </a>
TuxMsgQLD
</h3>
<p class="pBody"><a name="wp1117837"> </a>
<code class="cCode">TuxMsgQLD</code>&#8212;TMQ Link Driver Server
</p>
<h4 class="pHeading3"><a name="wp1117958"> </a>
Synopsis
</h4>
<a name="wp1118051"> </a><div class="pPreformatted"><pre>TuxMsgQLD SRVGRP=&quot;identifier&quot; SRVID=&quot;number&quot; <br />[CLOPT=&quot;[-A] [servopts options]<br />[-g grp_id][ -l //hostname:port][ -f config_filename]&quot;]</pre></div><h4 class="pHeading3"><a name="wp1118135"> </a>
Description
</h4>
<p class="pBody"><a name="wp1118151"> </a>
The TuxMsgQLD (Link Driver Server) of OTMQ is ported from traditional OMQ Link Driver to achieve message level compatibilities between OTMQ and OMQ applications.
</p>
<p class="pBody"><a name="wp1118152"> </a>
Also the OTMQ Link Driver Server provides the routing functionality like traditional OMQ but with limitations.
</p>
<p class="pBody"><a name="wp1118221"> </a>
Configuration File
</p>
<p class="pBody"><a name="wp1118154"> </a>
To configure this Link Driver Server, a new configuration file should be created. This configuration file should be under APPDIR. The configuration file is ported from %XGROUP and %ROUTE section of traditional OMQ configuration file. 
</p>
<p class="pBody"><a name="wp1118155"> </a>
For OTMQ group that transfer from original OMQ group using Converter tool, this configuration file will be created by Converter tool according to the parameter specified in command line. For any future XGROUP configuration updated, this configuration file should be manually updated.
</p>
<p class="pBody"><a name="wp1118156"> </a>
<a href="ubb.html#wp1118239">Listing&#160;3-1</a> an example of the Link Driver Server configuration file:
</p>
<div class="pCodeTitle"><a name="wp1118239"> </a>
Listing&#160;3-1	   Link Driver Server Configuration File:
</div> <a name="wp1118245"> </a><div class="pPreformatted"><pre># Define cross-group connections with remote OMQ, </pre></div><a name="wp1118246"> </a><div class="pPreformatted"><pre># only the remove OMQ group info should be list here</pre></div><a name="wp1118247"> </a><div class="pPreformatted"><pre>%XGROUP	</pre></div><a name="wp1118248"> </a><div class="pPreformatted"><pre># Group&#160;&#160;&#160;Group&#160;&#160;&#160;Node/&#160;&#160;&#160;Init-&#160;&#160;&#160;Thresh&#160;&#160;&#160;Buffer&#160;&#160;&#160;Recon-&#160;&#160;&#160;Window&#160;&#160;&#160;Trans-&#160;&#160;&#160;End-</pre></div><a name="wp1118249"> </a><div class="pPreformatted"><pre># Name&#160;&#160;&#160;&#160;&#160;Number&#160;&#160;Host&#160;&#160;&#160;&#160;&#160;&#160;iate&#160;&#160;&#160;&#160;&#160;old&#160;&#160;&#160;&#160;&#160;Pool&#160;&#160;&#160;&#160;&#160;&#160;nect&#160;&#160;&#160;&#160;&#160;Delay&#160;&#160;Size (Kb)&#160;&#160;port&#160;&#160;point</pre></div><a name="wp1118250"> </a><div class="pPreformatted"><pre>GRP_11&#160;&#160;&#160;&#160;&#160;&#160;11&#160;&#160;host1.abc.com&#160;&#160;Y &#160;&#160;&#160;&#160;&#160;&#160;- &#160;&#160;&#160;&#160;&#160;&#160;- &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;30&#160;&#160;&#160;&#160;&#160;&#160;&#160;10&#160;&#160;&#160;&#160;&#160;&#160;250&#160;&#160;&#160;&#160;&#160;TCPIP&#160;&#160;&#160;10001</pre></div><a name="wp1118251"> </a><div class="pPreformatted"><pre>GRP_12 &#160;&#160;&#160;&#160;&#160;12&#160;&#160;&#160;host2.abc.com&#160;Y&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;-&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;30&#160;&#160;&#160;&#160;&#160;&#160;&#160;10&#160;&#160;&#160;&#160;&#160;&#160;250&#160;&#160;&#160;&#160;&#160;TCPIP&#160;&#160;&#160;10002</pre></div><a name="wp1119130"> </a><div class="pPreformatted"><pre>%EOS</pre></div><a name="wp1119032"> </a><div class="pPreformatted"><pre>%ROUTE</pre></div><a name="wp1119033"> </a><div class="pPreformatted"><pre>#----------------------------------</pre></div><a name="wp1119034"> </a><div class="pPreformatted"><pre>#  Target    Route-through</pre></div><a name="wp1119035"> </a><div class="pPreformatted"><pre>#  Group     Group</pre></div><a name="wp1119036"> </a><div class="pPreformatted"><pre>#----------------------------------</pre></div><a name="wp1119037"> </a><div class="pPreformatted"><pre>     2           11</pre></div><a name="wp1119038"> </a><div class="pPreformatted"><pre>     3           12</pre></div><a name="wp1119039"> </a><div class="pPreformatted"><pre>%EOS</pre></div><a name="wp1119040"> </a><div class="pPreformatted"><pre>%END</pre></div><h4 class="pDefTerm"><a name="wp1119152"> </a>
%XGROUP Section
</h4><div class="pDefPara"><a name="wp1119319"> </a>
Following configuration attributes are mandatory for OTMQ to setup XGROUP connection to the remote OMQ group:
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1119320"> </a>&quot;Group Name -- Remote OMQ group name by which the remote OMQ group is known to the local OTMQ group</li>
<li><a name="wp1119336"> </a>&quot;Group Number -- Remote OMQ group number</li>
<li><a name="wp1119337"> </a>&quot;Node/Host -- Network address of remote OMQ group</li>
<li><a name="wp1119338"> </a>&quot;Endpoint -- The internet port number of the remote OMQ link listener process</li>
</ul></div>
</div>
<div class="pDefParaCont"><a name="wp1119329"> </a>
Following attributes are optional. If not set, default values will be used:
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1119345"> </a>&quot;Initiate -- &quot;Y&quot;, &quot;N&quot; or &quot;D&quot;.  indicating whether connections to this node should be initiated (connect when local group startup) or whether connections to this node is enabled. Default is &quot;N&quot;.</li>
<li><a name="wp1119346"> </a>&quot;Reconnect -- Interval, in seconds, between reconnect attempts when this cross-group link is not connected. Default is 60.</li>
<li><a name="wp1119161"> </a>&quot;Window Delay -- Delay, in seconds, that a sender must wait before using a new window when the receiver is congested. Default is 10.</li>
<li><a name="wp1119162"> </a>&quot;Windows Size -- Maximum number of messages a group can send to another group before requesting permission to send more. Default is 250.</li>
<li><a name="wp1119163"> </a>&quot;Transport: Network protocol stack used. Only &quot;TCPIP&quot; is supported.</li>
</ul></div>
<a name="wp1119164"> </a>
Following attributes are not supported by OTMQ Link Driver Server, but to keep align with traditional OMQ XGROUP settings, just keep them here:
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1119165"> </a>&quot;Buffer Pool -- Not supported by OTMQ for now.</li>
<li><a name="wp1119166"> </a>&quot;Threshold --  Not supported by OTMQ for now.</li>
</ul></div>
</div>
<h4 class="pDefTerm"><a name="wp1119167"> </a>
%ROUTE
</h4><div class="pDefPara"><a name="wp1119168"> </a>
Following configuration attributes are mandatory for OTMQ to setup ROUTE info for the remote OMQ/OTMQ groups that can&#39;t be connected directly:
<div class="pSmartList1NoteBullet"><ul>
<li><a name="wp1119169"> </a>&quot;Target Group -- OMQ/OTMQ group for which traffic is being routed to.</li>
<li><a name="wp1119170"> </a>&quot;Route-through Group -- OMQ group to which traffic for the target group will be routed through.</li>
<a name="wp1119488"> </a><table class="ListNote">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>Route-through Groups should be the OMQ groups that this OTMQ group has direct connection to (i.e. defined in the %XGROUP section).<br /><br />Cannot define multiple routing entry for the same Target Group.</td>
</tr>
</table>

</ul></div>
</div>
<h4 class="pHeading3"><a name="wp1119638"> </a>
Limitations
</h4>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1119774"> </a>Direct connection between OTMQ and OMQ, WF, AK and NN mode are supported.</li>
<li><a name="wp1119776"> </a>The uma DISC is supported.</li>
</ul></div>
<p class="pBody"><a name="wp1119777"> </a>
Routing
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1119778"> </a>Only AK and NN mode are supported.</li>
<li><a name="wp1119779"> </a>The uma DISC is supported.</li>
<li><a name="wp1119780"> </a>The following DIPs are supported if protocol exchange is involved more than once, such as sending message from OMQ to OMQ through OTMQ or from OTMQ to OTMQ through OMQ:</li>
<li><a name="wp1119781"> </a>MEM</li>
<li><a name="wp1119782"> </a>DEQ</li>
<li><a name="wp1119783"> </a>ACK</li>
</ul></div>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1117961"> </a>
TuxMsgQ
</h3>
<p class="pBody"><a name="wp1076360"> </a>
<code class="cCode">TuxMsgQ</code>&#8212;Message Queue Manager.
</p>
<h4 class="pHeading3"><a name="wp1076362"> </a>
Synopsis
</h4>
<a name="wp1113862"> </a><div class="pPreformatted"><pre>TuxMsgQ </pre></div><a name="wp1113863"> </a><div class="pPreformatted"><pre>SRVGRP=&quot;identifier&quot; </pre></div><a name="wp1113864"> </a><div class="pPreformatted"><pre>SRVID=&quot;number&quot; CLOPT=&quot; [-A][servopts options] -- [-t timeout][-i sanity scan interval]&quot;</pre></div><h4 class="pHeading3"><a name="wp1076364"> </a>
Description
</h4>
<p class="pBody"><a name="wp1113931"> </a>
The message queue manager is an Oracle Tuxedo system-supplied server that enqueues and dequeues messages on behalf of programs calling tpenqueue() and tpdequeue(), respectively. The application administrator enables message enqueuing and dequeuing for the application by specifying this server as an application server in the SERVERS section.
</p>
<p class="pBody"><a name="wp1113932"> </a>
The location, server group, server identifier and other generic server related parameters are associated with the server using the already defined configuration file mechanisms for servers. The following additional command-line option is available for customization.
</p>
<p class="pBody"><a name="wp1113933"> </a>
To configure default attach timeout for a Qspace, set BLOCKTIME property in SERVICES section for the service named TuxMQATH[qspace], where [qspace] is the service name that TuxMsgQ advertised with routine TuxMsgQ.
</p>
<p class="pBody"><a name="wp1114029"> </a>
It takes the following options:
</p>
<h4 class="pDefTerm"><a name="wp1114030"> </a>
<code class="cCodeBold">-t timeout</code>
</h4><div class="pDefPara"><a name="wp1114031"> </a>
Used to indicate the timeout to be used for queuing operations when not in transaction mode (for example, tpenqueue() /tpenqplus() or tpdequeue()/tpdeqplus()  are called when the caller is not in transaction mode or with the TPNOTRAN flag). This value also has an impact on dequeue requests with the TPQWAIT option since the operation will timeout and an error will be sent back to the requester based on this value. If not specified, the default is 30 seconds.
</div>
<div class="pDefParaCont"><a name="wp1113973"> </a>
A TuxMsgQ server is booted as part of an application to facilitate application access to its associated queue space; a queue space is a collection of queues.
<a name="wp1113974"> </a>
Any configuration condition that prevents the TuxMsgQ from enqueuing or dequeuing messages will cause the TuxMsgQ to fail at boot time. The SRVGRP must have TMSNAME set to TMS_QM, and must have OPENINFO set to indicate the associated device and queue space name.
</div>
<h4 class="pDefTerm"><a name="wp1113961"> </a>
<code class="cCodeBold">-i sanity scan interval</code>
</h4><div class="pDefPara"><a name="wp1114216"> </a>
To configure the sanity check interval in TuxMsgQ server, set &quot;-i [interval]&quot; in CLOPT. The &quot;interval&quot; number means the TuxMsgQ server will do sanity check per receiving this number of messages.
</div>
<h5 class="pHeading4"><a name="wp1114306"> </a>
Queue Name for Message Submission
</h5>
<p class="pBody"><a name="wp1114532"> </a>
The tpenqueue() and tpdequeue() functions take a queue space name as their first argument. This name must be the name of a service advertised by TuxMsgQ. By default, TuxMsgQ only offers the service &quot;TuxMsgQ&quot;. While this may be sufficient for applications with only a single queue space, applications with multiple queue spaces may need to have different queue space names. Additionally, applications may wish to provide more descriptive service names that match the queue space names. Advertising additional service names can be done using the standard server command line option, -s, as shown below in EXAMPLES. An alternative is to hard-code the service when generating a custom TuxMsgQ program, as discussed in the following section.
</p>
<p class="pBody"><a name="wp1114533"> </a>
While these methods (the server command line option or a customized server) may be used for static routing of messages to a queue space, dynamic routing may be accomplished using data-dependent routing. In this case, each TUXMSGQserver would advertise the same service name(s) but a ROUTING field in the configuration file would be used to specify routing criteria based on the application data in the queued message. The routing function returns a GROUP based on the service name and application typed buffer data, which is used to direct the message to the service at the specified group (note that there can be only one queue space per GROUP, based on the OPENINFO string).
</p>
<h5 class="pHeading4"><a name="wp1114514"> </a>
Handling Application Buffer Types
</h5>
<p class="pBody"><a name="wp1114601"> </a>
As delivered, TuxMsgQ handles the standard buffer types provided with Oracle Tuxedo system. If additional application buffer types are needed, a customized version of TuxMsgQ needs to be built using buildserver(1). See the description inUsing the ATMI /Q Component.
</p>
<p class="pBody"><a name="wp1114602"> </a>
The customization described in buildserver can also be used to hard-code service names for the server.
</p>
<p class="pBody"><a name="wp1114603"> </a>
The files included by the caller should include only the application buffer type switch and any required supporting routines. buildserver is used to combine the server object file, $TUXDIR/lib/TuxMsgQ.o, with the application type switch file(s), and link it with the needed Oracle Tuxedo system libraries. The following example provides a sample for further discussion.
</p>
<a name="wp1114604"> </a><div class="pPreformatted"><pre>buildserver -v -o TuxMsgQ -s qspacename:TuxMsgQ -r TUXEDO/QM \<br />-f ${TUXDIR}/lib/TuxMsgQ.o -f apptypsw.o</pre></div><p class="pBody"><a name="wp1114591"> </a>
The buildserver options are as follows:
</p>
<h4 class="pDefTerm"><a name="wp1114725"> </a>
<code class="cCodeBold">-v</code>
</h4><div class="pDefPara"><a name="wp1114726"> </a>
Specifies that buildserver should work in verbose mode. In particular, it writes the cc command to its standard output.
</div>
<h4 class="pDefTerm"><a name="wp1114727"> </a>
<code class="cCodeBold">-o name</code>
</h4><div class="pDefPara"><a name="wp1114728"> </a>
Specifies the filename of the output load module. The name specified here must also be specified in the SERVERS section of the configuration file. It is recommended that TuxMsgQ be used for consistency.
</div>
<h4 class="pDefTerm"><a name="wp1114729"> </a>
<code class="cCodeBold">-s qspacename,qspacename :TuxMsgQ</code>
</h4><div class="pDefPara"><a name="wp1114730"> </a>
Specifies the names of services that can be advertised when the server is booted (see servopts(5)). For this server, they will be used as the aliases for the queue space name to which requests may be submitted. Spaces are not allowed between commas. The function name, TuxMsgQ, is preceded by a colon. The -s option may appear several times.
</div>
<h4 class="pDefTerm"><a name="wp1114731"> </a>
<code class="cCodeBold">-r TUXEDO/QM</code>
</h4><div class="pDefPara"><a name="wp1114732"> </a>
Specifies the resource manager associated with this server. The value TUXEDO/QM appears in the resource manager table located in $TUXDIR/udataobj/RM and includes the library for the Oracle Tuxedo system queue manager.
</div>
<h4 class="pDefTerm"><a name="wp1114733"> </a>
<code class="cCodeBold">-f $TUXDIR/lib/TuxMsgQ.o</code>
</h4><div class="pDefPara"><a name="wp1114734"> </a>
Specifies the object file that contains the TuxMsgQ service and should be specified as the first argument to the -f option.
</div>
<h4 class="pDefTerm"><a name="wp1114735"> </a>
<code class="cCodeBold">-f firstfile</code>s
</h4><div class="pDefPara"><a name="wp1114736"> </a>
Specifies one or more user files to be included in the compilation and/or link edit phases of buildserver. Source files are compiled using the either the cc command or the compilation command specified through the CC environment variable. These files must be specified after including the TuxMsgQ.o object file. If more than one file is specified, filenames must be separated by white space (space or tab) and the entire list must be enclosed in quotation marks. This option can be specified multiple times.
</div>
<h4 class="pHeading3"><a name="wp1078407"> </a>
Example(s)
</h4>
<p class="pBody"><a name="wp1113583"> </a>
In this example, two queues spaces are available. Both TuxMsgQ servers offer the same services and routing is done via the ACCOUNT field in the application typed buffer.
</p>
<div class="pCodeTitle"><a name="wp1115028"> </a>
Listing&#160;3-2	   TuxMsgQ Example
</div> <a name="wp1115063"> </a><div class="pPreformatted"><pre>*GROUPS <br /># For Windows, :myqueue becomes ;myqueue <br />TUXMSGQGRP1 GRPNO=1 TMSNAME=TMS_TMQM<br />&#160;&#160;&#160;OPENINFO=&quot;TUXEDO/TMQM:/dev/device1:myqueue&quot; <br /># For Windows, :myqueue becomes ;myqueue <br />TUXMSGQGRP2 GRPNO=2 TMSNAME=TMS_TMQM<br />&#160;&#160;&#160;OPENINFO=&quot;TUXEDO/TMQM:/dev/device2:myqueue&quot;<br /><br />*SERVERS <br /># The queue space name, myqueue, is aliased as ACCOUNTING in this example<br />TuxMsgQ SRVGRP=&quot;TUXMSGQGRP1&quot; SRVID=1000 RESTART=Y GRACE=0<br />&#160;&#160;&#160;CLOPT=&quot;-s ACCOUNTING:TuxMsgQ&quot; <br />TuxMsgQ SRVGRP=&quot;TUXMSGQGRP2&quot; SRVID=1000 RESTART=Y GRACE=0 <br />&#160;&#160;&#160;CLOPT=&quot;-s ACCOUNTING:TuxMsgQ&quot; <br />TMQFORWARD SRVGRP=&quot;TUXMSGQGRP1&quot; SRVID=1001 RESTART=Y GRACE=0 REPLYQ=N<br />&#160;&#160;&#160;CLOPT=&quot; -- -qservice1&quot; <br />TMQFORWARD SRVGRP=&quot;TUXMSGQGRP2&quot; SRVID=1001 RESTART=Y GRACE=0 REPLYQ=N <br />&#160;&#160;&#160;CLOPT=&quot; -- -qservice1&quot; <br /><br />*SERVICES <br />ACCOUNTING ROUTING=&quot;MYROUTING&quot;<br />*ROUTING <br />MYROUTING FIELD=ACCOUNT BUFTYPE=&quot;FML&quot; <br />RANGES=&quot;MIN - 60000:TUXMSGQGRP1,60001-MAX:TUXMSGQGRP2&quot;</pre></div><h4 class="pHeading3"><a name="wp1113590"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1115376"> </a>
buildserver(1), tpdequeue(3c), tpenqueue(3c), servopts(5), TMQFORWARD(5), UBBCONFIG(5)
</p>
<p class="pBody"><a name="wp1115377"> </a>
Setting Up an Oracle Tuxedo Application
</p>
<p class="pBody"><a name="wp1115378"> </a>
Administering an Oracle Tuxedo Application at Run Time
</p>
<p class="pBody"><a name="wp1115379"> </a>
Programming an Oracle Tuxedo ATMI Application Using C
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1113637"> </a>
TuxMQFWD
</h3>
<h4 class="pHeading3"><a name="wp1115453"> </a>
Name
</h4>
<p class="pBody"><a name="wp1115454"> </a>
TuxMQFWD&#8212;Message Queue Off-line trade driver.
</p>
<h4 class="pHeading3"><a name="wp1115455"> </a>
Synopsis
</h4>
<a name="wp1115496"> </a><div class="pPreformatted"><pre>TuxMQFWD<br />SRVGRP=&quot;identifier&quot; <br />SRVID=&quot;number&quot; CLOPT=&quot; [-A][servopts options] -- [-f delay time][-t timeout][-i idle time]&quot;</pre></div><h4 class="pHeading3"><a name="wp1113642"> </a>
Description
</h4>
<p class="pBody"><a name="wp1115580"> </a>
The message queue off-line trade driver is an Oracle Tuxedo system-supplied server.
</p>
<p class="pBody"><a name="wp1115581"> </a>
The location, server group, server identifier and other generic server related parameters are associated with the server using the already defined configuration file mechanisms for servers. It takes the following options:
</p>
<h4 class="pDefTerm"><a name="wp1115583"> </a>
<code class="cCodeBold">-f delay time</code>
</h4><div class="pDefPara"><a name="wp1117572"> </a>
Parameter used to indicate the amount of time (in seconds) when off-line trade driver try again after the last time failure
</div>
<h4 class="pDefTerm"><a name="wp1117556"> </a>
<code class="cCodeBold">-i idletime</code>
</h4><div class="pDefPara"><a name="wp1115584"> </a>
Parameter used to indicate the amount of time (in seconds) that the server remains idle after draining the queue(s) that it is reading. A negative value indicates an amount of time in milliseconds. For example if you specify -i -10, the idle time will be 10 milliseconds.
</div>
<div class="pDefParaCont"><a name="wp1115585"> </a>
If a value of zero is specified, the value 1 second will be used, the server will read the queue(s) continually, which can be inefficient if the queues do not continually have messages. If no value is specified, the default is 30 seconds.
</div>
<h4 class="pDefTerm"><a name="wp1115586"> </a>
<code class="cCodeBold">-t timeout</code>
</h4><div class="pDefPara"><a name="wp1115587"> </a>
Parameter used to indicate the transaction timeout value (in seconds) used on tpbegin() for transactions that dequeue messages and forward them to application servers. If not specified, the default is 60 seconds. 
</div>
<p class="pBody"><a name="wp1115588"> </a>
Any configuration condition that prevents TuxMQFWD from dequeuing or forwarding messages will cause the server to fail to boot. These conditions include the following: 
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1115756"> </a>The SRVGRP must have TMSNAME set to TMS_TMQM.</li>
<li><a name="wp1115757"> </a>OPENINFO must be set to indicate the associated device and queue name.</li>
<li><a name="wp1115758"> </a>The SERVER entry must not be part of an MSSQ set.</li>
<li><a name="wp1115759"> </a>REPLYQ must be set to N. </li>
<li><a name="wp1115760"> </a>The server must not advertise any services (TuxMQFWD is built out without any service, so -s option will be ignored).</li>
</ul></div>
<p class="pBody"><a name="wp1115840"> </a>
You cannot configure more than one TuxMQFWD process in a group.
</p>
<h4 class="pHeading3"><a name="wp1113644"> </a>
Example(s)
</h4>
<a name="wp1115920"> </a><div class="pPreformatted"><pre>TuxMQFWD<br />SRVGRP=QGRP1 SRVID=51 GRACE=0 RESTART=Y CONV=N MAXGEN=10<br />CLOPT=&quot;-- -i 1&quot;</pre></div><h4 class="pHeading3"><a name="wp1113646"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1115992"> </a>
buildserver(1), tpdequeue(3c), tpenqueue(3c), servopts(5), TMQFORWARD(5), UBBCONFIG(5)
</p>
<p class="pBody"><a name="wp1115993"> </a>
Setting Up an Oracle Tuxedo Application
</p>
<p class="pBody"><a name="wp1115994"> </a>
Administering an Oracle Tuxedo Application at Run Time
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1113659"> </a>
TMQ_NA
</h3>
<h4 class="pHeading3"><a name="wp1113660"> </a>
Name
</h4>
<p class="pBody"><a name="wp1113661"> </a>
<code class="cCode">TMQ_NA</code>&#8212;Message Queue Naming Server
</p>
<h4 class="pHeading3"><a name="wp1113662"> </a>
Synopsis
</h4>
<a name="wp1116044"> </a><div class="pPreformatted"><pre>TMQ_NA<br />SRVGRP=&quot;identifier&quot;<br />SRVID=&quot;number&quot; CLOPT=&quot; [-A][servopts options] -- [-g OTMQ group] [-r OMQ group]&quot;</pre></div><h4 class="pHeading3"><a name="wp1113664"> </a>
Description
</h4>
<p class="pBody"><a name="wp1116084"> </a>
TMQ_NA is an OTMQ system server. It can provide naming and runtime binding of queue names to queue names. It supports the following options:
</p>
<h4 class="pDefTerm"><a name="wp1116085"> </a>
<code class="cCodeBold">-g OTMQ_group_xxx</code>
</h4><div class="pDefPara"><a name="wp1116086"> </a>
Parameter used to indicate this naming service is provided by OTMQ group xxx.
</div>
<h4 class="pDefTerm"><a name="wp1116087"> </a>
<code class="cCodeBold">-r OMQ_group_yyy</code>
</h4><div class="pDefPara"><a name="wp1116088"> </a>
Parameter used to indicate this naming service is provided by OMQ group yyy
</div>
<a name="wp1116089"> </a><table class="Note">
<tr>
<td valign="top"><strong>Note:</strong></td>
<td>the sequence of parameters determines which Naming server is primary and which one is backup, </td>
</tr>
</table>

<h4 class="pHeading3"><a name="wp1113666"> </a>
Example(s)
</h4>
<p class="pBody"><a name="wp1116259"> </a>
<code class="cCode">TMQ_NA<br />SRVGRP=QGRP1 SRVID=51 GRACE=0 RESTART=Y CONV=N MAXGEN=10<br />CLOPT=&quot; -- -g 1 &quot;</code>
</p>
<h4 class="pHeading3"><a name="wp1113668"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1116345"> </a>
buildserver(1), tpdequeue(3c), tpenqueue(3c), servopts(5), TMQFORWARD(5), UBBCONFIG(5)
</p>
<p class="pBody"><a name="wp1116346"> </a>
Setting Up an Oracle Tuxedo Application
</p>
<p class="pBody"><a name="wp1116347"> </a>
Administering an Oracle Tuxedo Application at Run Time
</p>
<p class="pBody"><a name="wp1116348"> </a>
Programming an Oracle Tuxedo ATMI Application Using C
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1113686"> </a>
TMS_TMQM
</h3>
<h4 class="pHeading3"><a name="wp1116404"> </a>
Name
</h4>
<p class="pBody"><a name="wp1116405"> </a>
TMS_TMQM&#8212;TMS server for OTMQ resource manager.
</p>
<h4 class="pHeading3"><a name="wp1116406"> </a>
Synopsis
</h4>
<h4 class="pHeading3"><a name="wp1113691"> </a>
Description
</h4>
<p class="pBody"><a name="wp1113692"> </a>
OTMQ also provides a separate Tuxedo Transaction Management Server (TMS). TMS_TMQM should be configured in the TuxMsgQ and/or TuxMQFWD group.
</p>
<h4 class="pHeading3"><a name="wp1113693"> </a>
Example(s)
</h4>
<a name="wp1116525"> </a><div class="pPreformatted"><pre>*GROUPS<br />QGRP1<br />&#160;&#160;&#160;&#160;LMID=L1 GRPNO=1 TMSNAME=TMS_TMQM TMSCOUNT=2<br />&#160;&#160;&#160;&#160;OPENINFO=&quot;TUXEDO/TMQM:/dev/device2:myqueue&quot;</pre></div><h4 class="pHeading3"><a name="wp1113695"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1116582"> </a>
buildserver(1), tpdequeue(3c), tpenqueue(3c), servopts(5), TMQFORWARD(5), UBBCONFIG(5)
</p>
<p class="pBody"><a name="wp1116583"> </a>
Setting Up an Oracle Tuxedo Application
</p>
<p class="pBody"><a name="wp1116584"> </a>
Administering an Oracle Tuxedo Application at Run Time
</p>
<p class="pBody"><a name="wp1116585"> </a>
Programming an Oracle Tuxedo ATMI Application Using C
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1113710"> </a>
TMQ_EVT
</h3>
<h4 class="pHeading3"><a name="wp1113711"> </a>
Name
</h4>
<p class="pBody"><a name="wp1113712"> </a>
<code class="cCode">TMQ_EVT</code>&#8212;TMQ event reporting process.
</p>
<h4 class="pHeading3"><a name="wp1113713"> </a>
Synopsis
</h4>
<a name="wp1116651"> </a><div class="pPreformatted"><pre>TMQ_EVT SRVGRP=&quot;identifier&quot; SRVID=&quot;number&quot; <br />&#160;&#160;[CLOPT=&quot;[-A] [servopts options] <br />&#160;&#160;[-- [-S] [-p poll-seconds] [-f control-file]]&quot;]</pre></div><h4 class="pHeading3"><a name="wp1113715"> </a>
Description
</h4>
<p class="pBody"><a name="wp1116677"> </a>
TMQ_EVT is an Oracle Tuxedo system provided server that processes event report message buffers from tpqpublish, and acts as an EventBroker to filter and distribute them.
</p>
<p class="pBody"><a name="wp1116678"> </a>
Filtering and notification rules are stored in control-file, which defaults to ${APPDIR}/tmusrevt.dat. Control file syntax is defined in EVENT_MIB(5); specifically, the attributes of the classes in EVENT_MIB can be set to activate subscriptions under the full range of notification rules.
</p>
<p class="pBody"><a name="wp1116679"> </a>
It is possible to boot one or more secondary TMQ_EVT processes for increased availability. Additional servers must be booted with the -S command-line option, which indicates a &quot;secondary&quot; server.
</p>
<p class="pBody"><a name="wp1116680"> </a>
When the EVENT_MIB(5) configuration is updated, the primary TMQ_EVT server writes to its control file. Secondary servers poll the primary server for changes and update their local control file if necessary. The polling interval is controlled by the -p option, and is 30 seconds by default.
</p>
<a name="wp1116706"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>If you are setting up an MP configuration that includes more than one release of the Oracle Tuxedo system and you want to run the TMQ_EVT and/or TMSYSEVT server, you must run these servers on the node with the highest available release of the system.</td></tr>
</table>

<p class="pBodyRelative"><a name="wp1116707"> </a>
TMQ_EVT must not delopoy with the same group of TMS_TMQM.
</p>
<p class="pBodyRelative"><a name="wp1116770"> </a>
TMQ_EVT must run on an Oracle Tuxedo release 6.0 or later machine.
</p>
<p class="pBody"><a name="wp1116806"> </a>
To migrate the primary TMQ_EVT server to another machine, the system administrator must provide a current copy of control-file. Each secondary TMQ_EVT server automatically maintains a recent copy.
</p>
<p class="pBody"><a name="wp1116807"> </a>
If tppost() will be called in transaction mode, all TMQ_EVT server groups must have transactional capability (a TMS process).
</p>
<p class="pBody"><a name="wp1116808"> </a>
The TMQ_EVT server&#39;s environment variables must be set so that FML field tables and viewfiles needed for message filtering and formatting are available. They could be set in the machine&#39;s or server&#39;s environment file.
</p>
<h4 class="pHeading3"><a name="wp1113717"> </a>
Example(s)
</h4>
<a name="wp1116822"> </a><div class="pPreformatted"><pre>*SERVERS <br />TMQ_EVT SRVGRP=ADMIN1 SRVID=100 RESTART=Y MAXGEN=5 GRACE=3600<br />CLOPT=&quot;-A --&quot; <br />TMQ_EVT SRVGRP=ADMIN2 SRVID=100 RESTART=Y MAXGEN=5 GRACE=3600 <br />CLOPT=&quot;-A -- -S -p 120&quot;</pre></div><h4 class="pHeading3"><a name="wp1113719"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1113720"> </a>
tpqpublish, tpqsubscribe, EVENTS(5), EVENT_MIB(5), TMSYSEVT(5)
</p>
<p>&nbsp;</p>
<hr noshade="noshade"/>
<h3 class="pRefObject"><a name="wp1113734"> </a>
TMQFORWARDPLUS
</h3>
<h4 class="pHeading3"><a name="wp1113735"> </a>
Name
</h4>
<p class="pBody"><a name="wp1113736"> </a>
<code class="cCode">TMQFORWARDPLUS</code>&#8212;Message Forwarding server.
</p>
<h4 class="pHeading3"><a name="wp1113737"> </a>
Synopsis
</h4>
<a name="wp1116855"> </a><div class="pPreformatted"><pre>TMQFORWARDPLUS SRVGRP=&quot;identifier&quot; SRVID=&quot;number&quot; REPLYQ=N CLOPT=&quot; <br />[-A] [servopts options] -- -q queuename[,queuename...] <br />[-t trantime ] [-i idletime] [-b timeout] [-e] [-d] [-n] [-f delay] &quot;</pre></div><h4 class="pHeading3"><a name="wp1113739"> </a>
Description
</h4>
<p class="pBody"><a name="wp1116867"> </a>
The message forwarding server is an Oracle Tuxedo system-supplied server that forwards messages that have been stored using tpenqueue() for later processing. The application administrator enables automated message processing for the application servers by specifying this server as an application server in the SERVERS section.
</p>
<p class="pBody"><a name="wp1116868"> </a>
The location, server group, server identifier and other generic server related parameters are associated with the server using the already defined configuration file mechanisms for servers. It supports the following options:
</p>
<h4 class="pDefTerm"><a name="wp1116896"> </a>
<code class="cCodeBold">-q queuename[,queuename...]</code>
</h4><div class="pDefPara"><a name="wp1116897"> </a>
Used to specify the names of one or more queues/services for which this server forwards messages. Queue and service names are strings limited to 15 characters. This option is required.
</div>
<h4 class="pDefTerm"><a name="wp1116898"> </a>
-<code class="cCodeBold">t trantime</code>
</h4><div class="pDefPara"><a name="wp1116899"> </a>
Used to indicate the transaction timeout value used on tpbegin() for transactions that dequeue messages and forward them to application servers. If not specified, the default is 60 seconds.
</div>
<h4 class="pDefTerm"><a name="wp1116900"> </a>
<code class="cCodeBold">-i idletime</code>
</h4><div class="pDefPara"><a name="wp1116901"> </a>
Used to indicate the amount of time (in seconds) that the server remains idle after draining the queue(s) that it is reading. A negative value indicates an amount of time in milliseconds. For example if you specify -i -10, the idle time will be 10 milliseconds.
</div>
<div class="pDefParaCont"><a name="wp1116902"> </a>
If a value of zero is specified, the server will read the queue(s) continually, which can be inefficient if the queues do not continually have messages. If no value is specified, the default is 30 seconds.
</div>
<h4 class="pDefTerm"><a name="wp1116903"> </a>
<code class="cCodeBold">-b timeout</code>
</h4><div class="pDefPara"><a name="wp1116904"> </a>
Used to limit nontransaction block waiting time, in seconds, for a forwarded service to complete. The -b option can only be used with the -f option.
</div>
<h4 class="pDefTerm"><a name="wp1116905"> </a>
<code class="cCodeBold">-e</code>
</h4><div class="pDefPara"><a name="wp1116906"> </a>
Used to cause the server to exit if it finds no messages on the queue(s). This, combined with the threshold command associated with the queue(s), can be used to start and stop the TMQFORWARDPLUS server in response to fluctuations of messages that are enqueued.
</div>
<h4 class="pDefTerm"><a name="wp1116907"> </a>
<code class="cCodeBold">-d</code>
</h4><div class="pDefPara"><a name="wp1116908"> </a>
Used to cause messages that result in service failure and have a reply message (non-zero in length) to be deleted from the queue after the transaction is rolled back. That is, the original request message is deleted from the queue-not put back on the queue-if the service fails and a reply message (non-zero in length) is received from the server.
</div>
<div class="pDefParaCont"><a name="wp1116909"> </a>
The reply message is enqueued to the failure queue, if one is associated with the message and the queue exists. If the message is to be deleted at the same time as the retry limit configured for the queue is reached, the original request message is put into the error queue.
</div>
<h4 class="pDefTerm"><a name="wp1116910"> </a>
<code class="cCodeBold">-n</code>
</h4><div class="pDefPara"><a name="wp1116911"> </a>
Used to cause messages to be sent using the TPNOTRAN flag. This flag allows for forwarding to server groups that are not associated with a resource manager.
</div>
<h4 class="pDefTerm"><a name="wp1117015"> </a>
<code class="cCodeBold">-f delay</code>
</h4><div class="pDefPara"><a name="wp1117016"> </a>
Used to cause the server to forward the message to the service instead of using tpcall. The message is sent such that a reply is not expected from the service. The TMQFORWARDPLUS server does not block waiting for the reply from the service and can continue processing the next message from the queue. To throttle the system such that TMQFORWARDPLUS does not flood the system with requests, the delay numeric value can be used to indicate a delay, in seconds, between processing requests; use zero for no delay.
</div>
<p class="pBody"><a name="wp1117030"> </a>
Messages are sent to a server providing a service whose name matches the queue name from which the message is read. The message priority is the priority specified when the message is enqueued, if set. Otherwise, the priority is the priority for the service, as defined in the configuration file, or the default (50).
</p>
<p class="pBody"><a name="wp1117031"> </a>
Messages are dequeued and sent to the server within a transaction. If the service succeeds, the transaction is committed and the message is deleted from the queue. If the message is associated with a reply queue, any reply from the service is enqueued to the reply queue, along with the returned tpurcode. If the reply queue does not exist, the reply is dropped.
</p>
<p class="pBody"><a name="wp1117032"> </a>
An application may be able to specify the quality of service for a reply to a message when the original message is enqueued. If a reply quality of service is not specified, the default delivery policy specified for the reply queue is used. Note that the default delivery policy is determined when the reply to a message is enqueued. That is, if the default delivery policy of the reply queue is modified between the time that the original message is enqueued and the reply to the message is enqueued, the policy used is the one in effect when the reply is finally enqueued.
</p>
<p class="pBody"><a name="wp1117033"> </a>
If the service fails, the transaction is rolled back and the message is put back on the queue, up to the number of times specified by the retry limit configured for the queue. When a message is put back on the queue, the rules for ordering and dequeuing that applied when it was first put on the queue are (in effect) suspended for delay seconds; this opens up the possibility, for example, that a message of a lower priority may be dequeued ahead of the restored message on a queue ordered by priority.
</p>
<p class="pBody"><a name="wp1117034"> </a>
If the -d option is specified, the message is deleted from the queue if the service fails and a reply message is received from the server, and the reply message (and associated tpurcode) are enqueued to the failure queue, if one is associated with the message and the queue exists. If the message is to be deleted at the same time as the retry limit for the queue is reached, the original request message is put into the error queue.
</p>
<p class="pBody"><a name="wp1117035"> </a>
Any configuration condition that prevents TMQFORWARDPLUS from dequeuing or forwarding messages will cause the server to fail to boot. These conditions include the following:
</p>
<div class="pSmartList1Bullet"><ul>
<li><a name="wp1117036"> </a>The SRVGRP must have TMSNAME set to TMS_TMQM.</li>
<li><a name="wp1117037"> </a>OPENINFO must be set to indicate the associated device and queue name.</li>
<li><a name="wp1117038"> </a>The SERVER entry must not be part of an MSSQ set.</li>
<li><a name="wp1117039"> </a>REPLYQ must be set to N.</li>
<li><a name="wp1117040"> </a>The -q option must be specified in the command-line options.</li>
<li><a name="wp1117041"> </a>The server must not advertise any services (that is, the -s option must not be specified).</li>
</ul></div>
<h5 class="pHeading4"><a name="wp1117064"> </a>
Handling Application Buffer Types
</h5>
<p class="pBody"><a name="wp1117077"> </a>
As delivered, TMQFORWARDPLUS handles the standard buffer types provided with the Oracle Tuxedo system. If additional application buffer types are needed, a customized version of TMQFORWARDPLUS needs to be built using buildserver(1) with a customized type switch. See the description in Using the ATMI /Q Component.
</p>
<p class="pBody"><a name="wp1117078"> </a>
The files included by the caller should include only the application buffer type switch and any required supporting routines. buildserver is used to combine the server object file, $TUXDIR/lib/TMQFORWARDPLUS.o, with the application type switch file(s), and link it with the needed Oracle Tuxedo system libraries. The following example provides a sample for further discussion.
</p>
<p class="pBody"><a name="wp1117079"> </a>
<code class="cCode">buildserver -v -o TMQFORWARDPLUS -r TUXEDO/QM -f ${TUXDIR}/lib/TMQFORWARDPLUS.o -f apptypsw.o</code>
</p>
<p class="pBody"><a name="wp1117080"> </a>
The buildserver options are as follows:
</p>
<h4 class="pDefTerm"><a name="wp1117088"> </a>
<code class="cCodeBold">-v</code>
</h4><div class="pDefPara"><a name="wp1117089"> </a>
Specifies that buildserver should work in verbose mode. In particular, it writes the cc command to its standard output.
</div>
<h4 class="pDefTerm"><a name="wp1117090"> </a>
<code class="cCodeBold">-o name</code>
</h4><div class="pDefPara"><a name="wp1117091"> </a>
Specifies the filename of the output load module. The name specified here must also be specified in the SERVERS section of the configuration file. It is recommended that the name TMQFORWARDPLUS be used for consistency. The application specific version of the command can be installed in $APPDIR it is booted instead of the version in $TUXDIR/bin.
</div>
<h4 class="pDefTerm"><a name="wp1117092"> </a>
<code class="cCodeBold">-r TUXEDO/TMQM</code>
</h4><div class="pDefPara"><a name="wp1117196"> </a>
Specifies the resource manager associated with this server. The value TUXEDO/QM appears in the resource manager table located in $TUXDIR/udataobj/RM and includes the library for the Oracle Tuxedo system queue manager.
</div>
<h4 class="pDefTerm"><a name="wp1117197"> </a>
<code class="cCodeBold">-f $TUXDIR/lib/TMQFORWARDPLUS.o</code>
</h4><div class="pDefPara"><a name="wp1117198"> </a>
Specifies the object file that contains the TMQFORWARDPLUS service and should be specified as the first argument to the -f option.
</div>
<h4 class="pDefTerm"><a name="wp1117096"> </a>
<code class="cCodeBold">-f firstfiles</code>
</h4><div class="pDefPara"><a name="wp1117097"> </a>
Specifies one or more user files to be included in the compilation and/or link edit phases of buildserver. Source files are compiled using the either the cc command or the compilation command specified through the CC environment variable. These files must be specified after including the TMQFORWARDPLUS.o object file. If more than one file is specified, filenames must be separated by white space (space or tab) and the entire list must be enclosed in quotation marks. This option can be specified multiple times.
</div>
<div class="pDefParaCont"><a name="wp1117098"> </a>
The -s option must not be specified to advertise services.
</div>
<a name="wp1117145"> </a><table class="Note">
<tr>
<td valign="top"><strong>Notes:</strong></td>
<td>TMQFORWARDPLUS is supported as an Oracle Tuxedo system-supplied server on all supported server platforms.</td></tr>
</table>

<a name="wp1117153"> </a><table class="Note">
<tr>
<td valign="top"><b class="texthide">Note:</b></td>
<td>TMQFORWARDPLUS may be run in an interoperating application, but it must run on an Oracle Tuxedo release 4.2 or later node.</td>
</tr>
</table>
<h4 class="pHeading3"><a name="wp1113741"> </a>
Example(s)
</h4>
<div class="pCodeTitle"><a name="wp1117159"> </a>
Listing&#160;3-3	   TMQFORWARDPLUS Example
</div> <a name="wp1117182"> </a><div class="pPreformatted"><pre>*GROUPS # For Windows, :myqueue becomes ;myqueue <br />TMQUEUEGRP LMID=lmid GRPNO=1 TMSNAME=TMS_TMQM <br />OPENINFO=&quot;TUXEDO/TMQM:/dev/device:myqueue&quot;<br /># no CLOSEINFO is required <br /><br />*SERVERS # recommended values RESTART=Y GRACE=0 <br />TMQFORWARDPLUS SRVGRP=&quot;TMQUEUEGRP&quot; SRVID=1001 RESTART=Y GRACE=0<br />CLOPT=&quot; -- -qservice1,service2&quot; REPLYQ=N <br />TMQUEUE SRVGRP=&quot;TMQUEUEGRP&quot; SRVID=1000 RESTART=Y GRACE=0 <br />CLOPT=&quot;-s ACCOUNTING:TMQUEUE&quot;</pre></div><h4 class="pHeading3"><a name="wp1113743"> </a>
See Also
</h4>
<p class="pBody"><a name="wp1113744"> </a>
buildserver(1), tpdequeue(3c), tpenqueue(3c), servopts(5), TMQUEUE(5), UBBCONFIG(5)
</p>
 
<br/>
    <table id="SummaryNotReq2" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td>
&nbsp;
<a href="ubb.html"><img id="LongDescNotReq7" src="/global_resources/images/backtop.gif" width="90" height="25" alt="Back to Top" title="Back to Top" border="0" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a accesskey="4" href="comands.html"><img id="LongDescNotReq8" src="/global_resources/images/prevtop.gif" border="0" alt="Previous" /></a>&nbsp;
<img id="LongDescNotReq9" src="/global_resources/images/nexttop_disabled.gif" border="0" alt="Next" />
<script language="Javascript1.1" type="text/javascript">
Copyright();
</script>
<noscript><a href="http://edocs.bea.com/copyright.html">&copy; BEA Systems</a></noscript>
        </td>
      </tr>
    </table>

<!-- WebAnalytics BEGIN -->

<!--#include virtual="/global_resources/edocs_wt.html"-->
      
<!-- WebAnalytics END -->

  </body>
</html>
